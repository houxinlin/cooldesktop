var Tt=Object.defineProperty;var He=Object.getOwnPropertySymbols;var Wt=Object.prototype.hasOwnProperty,Rt=Object.prototype.propertyIsEnumerable;var xe=(t,e,n)=>e in t?Tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,te=(t,e)=>{for(var n in e||(e={}))Wt.call(e,n)&&xe(t,n,e[n]);if(He)for(var n of He(e))Rt.call(e,n)&&xe(t,n,e[n]);return t};var C=(t,e,n)=>(xe(t,typeof e!="symbol"?e+"":e,n),n);import{e as L,f as $t,g as Xe,o as b,h as S,u,n as Ce,i as B,j as l,k as I,F as J,l as ne,t as z,w as Ye,c as re}from"./vendor.15ccff9d.js";var Qe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAZZJREFUaEPtmj1LQnEYxc+T5WAIRZBEL9AWBS2F0BKpQ9De0BBIH6ChOahv0NDYcBX6Dk2lU0MvS1NENBi0FklDoP6DwOB6Ee/1+Dfv5XF+znmec34XBVUQ8peE/H5EL4BxsA3BIYDljnQayMkerjrOWRxwETAOjiE4CrDvFTFkZRfPATQ9HXUHKOAOwEqgDQbXSCErW/gOpOvRcGsA06VvuUtdENkNYjhrpd2rAEEOYWdXJY/7pkkYA5xIHgdhDlCWPDLtA+y8A/ExFrM9fVE0gL12/ThHm0BpzmA04aeH/52pIyNrj7+fPe63UQ3QJzBKoE9Ft12jBJQA2YA+QmSBtFwJ0BWSBkqALJCWKwG6QtJACZAF0nIlQFdIGigBskBargToCkkDJUAWSMujS+By2iCZpAuyb9BIS/rp1vvV4kWqgonxWfsHEBtqtQ9UEzOy+fDlDeBgA0sLJcLevrT6uS+5t9PmIs8v9eYci5icKiI+Mg8Zitm/yOeGev0Fw1KQ9crf8R4CPq0Gaix6/5UYqHp9HPMDnUf6MVvoPrUAAAAASUVORK5CYII=",Nt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAf1JREFUaEPtWj1LA0EQneE2d6QRISHhogEL02gjNiJYxMp/IJb+M1v/gpWp/EBsxNgoJJB4CyFnIyQc2bAyEkGPVefwgoKz9duXvfnYe28uGEXRKQA0gbEQ8RIADsIw7KbhWusja+0hg4YgV4i4n+bRWq8AwLG1dovJ08IoiiwT/AqbTqe79Xq9ld6TB0+v12t6nkcBZS95gLdQSQYAQEqI0znSxLMouQIhJSQlxIlA3iWktb7I8OoGpVSjUqk8ON7EbElCe108g8Fg1Rhzz40DSRsk/WGMIQ3y7VJKDcIwvHMBO53OolJq41sSAPA877lWq127sFrrNWNMhcOjlOoiB/iXMfIAv50dycCvZ0Ac2SwF4gfEDzC7UfxA3mIuj+ajM+XBI4aG0wbSA9IDH+uEDM2ZtXabUz6ECYKgXiqV+j91ZC6eOI6XkyTpcc+CiOevapS6n7PJNdR9v4/L4/v+U7VavfnsN7k8dB6R05zMzRMjGZhndDncOBwOl8bjcYMDDoKg75oJ0d44jhdGo9Emh+er8QzNhpIkWebwFIvFe7pGb62165wNhEHEdddsKIuz+4yHZkLW2naGs7TlE9NbtESNiqVkdo7IaZHTKTmdx+0hnngW1H9r6tnfthCxXSgU9srl8mP60sr4d5uu7/s7aR7SZZPJ5CSDtGm9AAg0CqS22P2EAAAAAElFTkSuQmCC",se,Ft=new Uint8Array(16);function Dt(){if(!se&&(se=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!se))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return se(Ft)}var jt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Vt(t){return typeof t=="string"&&jt.test(t)}var E=[];for(var Ie=0;Ie<256;++Ie)E.push((Ie+256).toString(16).substr(1));function qt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(E[t[e+0]]+E[t[e+1]]+E[t[e+2]]+E[t[e+3]]+"-"+E[t[e+4]]+E[t[e+5]]+"-"+E[t[e+6]]+E[t[e+7]]+"-"+E[t[e+8]]+E[t[e+9]]+"-"+E[t[e+10]]+E[t[e+11]]+E[t[e+12]]+E[t[e+13]]+E[t[e+14]]+E[t[e+15]]).toLowerCase();if(!Vt(n))throw TypeError("Stringified UUID is invalid");return n}function Lt(t,e,n){t=t||{};var o=t.random||(t.rng||Dt)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=o[r];return e}return qt(o)}function ke(){return Lt()}class Jt{constructor(e){this.path=e,this.pathBlock=[],this.parse()}range(e){let n=this.pathBlock.slice(0,e+1);if(this.pathBlock=n,n.length==1){this.path=n.join("/");return}this.path=n.join("/").substring(1)}append(e){if(this.path==""&&e=="/"){this.path="/",this.parse();return}if(this.path=="/"){this.path=this.path+e,this.parse();return}this.path=this.path+"/"+e,this.parse()}getPath(){return this.path}parse(){if(this.path=="/"){this.pathBlock=["/"];return}let e=this.path.split("/");e[0]="/",this.pathBlock=e}}class zt{constructor(e,n){this.path=new Jt(e),this.child=n,this.select="",this.currentSelectName="",this.contextMenuPoint={x:0,y:0},this.contextMenuVisible=!1,this.folderContextMenuVisible=!1,this.folderContextMenuPoint={x:0,y:0},this.selectFileItem=null}}const Gt=(t,e)=>new zt(t,e);let Ke="";class Ht{constructor(){C(this,"closeWindowByType",e=>{let n=[];for(let o=0;o<p.windowsCollection.length;o++)p.windowsCollection[o].windowType==e&&n.push(o);for(const o of n)console.log("closeWindowByType",o,e),p.windowsCollection.splice(o,1)});C(this,"hideWindow",e=>{if(e){p.windowVisibleState=p.windowsCollection.filter(n=>n.hideWindow==!0);for(const n of p.windowsCollection)n.hideWindow=!0;return}for(const n of p.windowsCollection)n.hideWindow=!1});C(this,"getAppById",e=>{let n=p.windowsCollection.findIndex(o=>o.id==e);return{instance:p.windowsCollection[n],index:n}});C(this,"setWindowPos",e=>{for(const n of p.windowsCollection)n.actionWindow=!1;if(p.actionWindowId=e,this.getAppById(e).instance.actionWindow=!0,this.getAppById(e).instance.minState){this.getAppById(e).instance.minState=!1;return}});C(this,"windowMouseUp",(e,n)=>{for(const o of p.windowsCollection)o.pointerEvents=!1});C(this,"showWindow",e=>{if(p.appStarterVisible){hideWindow(!1),p.appStarterVisible=!1;return}let n=this.getAppById(e);if(n.instance.actionWindow==!0){n.instance.windowScale=!0,setTimeout(()=>{n.instance.windowScale=!1},301);return}n.instance.minState&&(n.instance.minState=!1),this.setWindowPos(e)});C(this,"windowMin",e=>{this.getAppById(e).instance.minState=!this.getAppById(e).instance.minState,this.getAppById(e).instance.actionWindow=!1,p.actionWindowId=-1});C(this,"closeWindow",e=>{this.getAppById(e).instance.closeWindowTransition=!0,setTimeout(()=>{p.windowsCollection.splice(this.getAppById(e).index,1),p.actionWindowId=-1},200)});C(this,"windowFullScreen",e=>{for(const o of p.windowsCollection)o.pointerEvents=!0;let n=this.getAppById(e);n.instance.maxState?(n.instance.maxState=!n.instance.maxState,setTimeout(()=>{n.instance.windowTransition=!n.instance.windowTransition;for(const o of p.windowsCollection)o.pointerEvents=!1},500)):(n.instance.windowTransition=!n.instance.windowTransition,setTimeout(()=>{n.instance.maxState=!n.instance.maxState;for(const o of p.windowsCollection)o.pointerEvents=!1},10))});C(this,"windowMove",e=>{if(e.which==3)return;for(const s of p.windowsCollection)s.pointerEvents=!0;let n=e.target,o=n,r=[];for(;r.findIndex(s=>s=="window-item")==-1;){n=n.parentNode;let s=n.classList;if(s==null)return;r=[...s]}Ke=n.getAttribute("data-id"),n.style.zIndex=9999;for(const s of document.querySelectorAll(".window-item"))s!=n&&(s.style.zIndex=1e3);if([...o.classList].findIndex(s=>s=="window-title")==-1&&o.nodeName!="HEADER")return;let i=e.clientX-n.offsetLeft,a=e.clientY-n.offsetTop;document.onmousemove=s=>{let c=s.clientX-i,A=s.clientY-a;if(A<=-10){document.onmousemove=null,document.onmouseup=null,windowFullScreen(Ke);return}n.style.left=c+"px",n.style.top=A+"px"},document.onmouseup=s=>{document.onmousemove=null,document.onmouseup=null}})}}function Xt(){this.minState=!1,this.maxState=!1,this.actionWindow=!0,this.windowTransition=!1,this.windowType="web",this.pointerEvents=!1,this.hideWindow=!1,this.canMax=!0,this.canMin=!0,this.canClose=!0,this.icon="",this.id="",this.x=0,this.y=0,this.closeWindowTransition=!1}function Yt(t){this.windowType="folder",this.icon="/src/assets/icon/ic-folder.png",this.data=t}function Qt(t){this.windowType="upload-manager",this.icon="/src/assets/icon/ic-folder.png",this.data=t,this.canClose=!1}function Kt(t){this.windowType="error-message",this.data=t}function Zt(t){this.windowType="success-message",this.data=t}class _t extends Array{constructor(){super();Object.defineProperty(this,"head",{value:0,writable:!0})}remove(e){return this.splice(e,1),this}enqueue(e){return this.push(e),this}dequeue(){var e;return this.head<this.length?(e=this[this.head],delete this[this.head++],e):void 0}peek(){return this[this.head]}size(){return this.length}}const F={max:3,current:0},R=L({files:[]}),G={files:new Proxy(new _t,{get(t,e){let n=t[e];return e=="dequeue"&&n!=null&&F.current++,n},set:function(t,e,n){return t[e]=n,!0}})},Ze=t=>{t.controller=new AbortController,R.files.push(t)},_e=t=>R.files.find(n=>n.id==t).controller||null,en=t=>{let e=_e(t);e!=null&&e.abort();let n=-1;for(n=G.files.findIndex(r=>r!=null&&r.uploadId==t);n>=0;)G.files.splice(n,1),n=G.files.findIndex(r=>r!=null&&r.uploadId==t);let o=R.files.findIndex(r=>r.id==t);o>=0&&R.files.splice(o,1)},tn=t=>{var e=R.files.findIndex(n=>n.id==t);R.files.splice(e,1),R.files.length==0},et=(t,e)=>{e==100&&tn(t);for(const n of R.files)n.id==t&&(n.progress=e)},p=L({desktopScale:!0,positionX:0,positionY:0,actionWindowId:-1,windowsCollection:[],appStarterVisible:!1,windowVisibleState:[]}),nn=()=>{for(const t of p.windowsCollection)t.actionWindow=!1},le=(t={})=>{nn(),t.actionWindow=!0,p.appStarterVisible=!1,p.actionWindowId=t.id,p.windowsCollection.push(t)},de=(t,e={})=>{let n=Object.assign(new Xt,new t(e));return n.id=ke(),n};class rn{constructor(){C(this,"openStarter",()=>{p.appStarterVisible?y.hideWindow(!1):y.hideWindow(!0),p.appStarterVisible=!p.appStarterVisible});C(this,"openNewFolder",(e="/")=>{let n=de(Yt,Gt(e,[]));y.hideWindow(!1),le(n)});C(this,"openFileUploadManager",()=>{let e=de(Qt,R);le(e)});C(this,"startNewErrorMessageDialog",e=>{let n=de(Kt,{message:e});le(n)});C(this,"startNewSuccessMessageDialog",e=>{let n=de(Zt,{message:e});le(n)})}}const $=new rn,y=new Ht;var Pe={exports:{}},tt=function(e,n){return function(){for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];return e.apply(n,r)}},on=tt,V=Object.prototype.toString;function Me(t){return V.call(t)==="[object Array]"}function Oe(t){return typeof t=="undefined"}function an(t){return t!==null&&!Oe(t)&&t.constructor!==null&&!Oe(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function sn(t){return V.call(t)==="[object ArrayBuffer]"}function ln(t){return typeof FormData!="undefined"&&t instanceof FormData}function dn(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function un(t){return typeof t=="string"}function cn(t){return typeof t=="number"}function nt(t){return t!==null&&typeof t=="object"}function ue(t){if(V.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function fn(t){return V.call(t)==="[object Date]"}function pn(t){return V.call(t)==="[object File]"}function wn(t){return V.call(t)==="[object Blob]"}function rt(t){return V.call(t)==="[object Function]"}function yn(t){return nt(t)&&rt(t.pipe)}function hn(t){return typeof URLSearchParams!="undefined"&&t instanceof URLSearchParams}function mn(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function vn(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Be(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),Me(t))for(var n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}function Ue(){var t={};function e(r,i){ue(t[i])&&ue(r)?t[i]=Ue(t[i],r):ue(r)?t[i]=Ue({},r):Me(r)?t[i]=r.slice():t[i]=r}for(var n=0,o=arguments.length;n<o;n++)Be(arguments[n],e);return t}function gn(t,e,n){return Be(e,function(r,i){n&&typeof r=="function"?t[i]=on(r,n):t[i]=r}),t}function An(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var M={isArray:Me,isArrayBuffer:sn,isBuffer:an,isFormData:ln,isArrayBufferView:dn,isString:un,isNumber:cn,isObject:nt,isPlainObject:ue,isUndefined:Oe,isDate:fn,isFile:pn,isBlob:wn,isFunction:rt,isStream:yn,isURLSearchParams:hn,isStandardBrowserEnv:vn,forEach:Be,merge:Ue,extend:gn,trim:mn,stripBOM:An},H=M;function ot(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var it=function(e,n,o){if(!n)return e;var r;if(o)r=o(n);else if(H.isURLSearchParams(n))r=n.toString();else{var i=[];H.forEach(n,function(c,A){c===null||typeof c=="undefined"||(H.isArray(c)?A=A+"[]":c=[c],H.forEach(c,function(w){H.isDate(w)?w=w.toISOString():H.isObject(w)&&(w=JSON.stringify(w)),i.push(ot(A)+"="+ot(w))}))}),r=i.join("&")}if(r){var a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e},bn=M;function ce(){this.handlers=[]}ce.prototype.use=function(e,n,o){return this.handlers.push({fulfilled:e,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1};ce.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};ce.prototype.forEach=function(e){bn.forEach(this.handlers,function(o){o!==null&&e(o)})};var Sn=ce,En=M,xn=function(e,n){En.forEach(e,function(r,i){i!==n&&i.toUpperCase()===n.toUpperCase()&&(e[n]=r,delete e[i])})},at=function(e,n,o,r,i){return e.config=n,o&&(e.code=o),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},Cn=at,st=function(e,n,o,r,i){var a=new Error(e);return Cn(a,n,o,r,i)},In=st,kn=function(e,n,o){var r=o.config.validateStatus;!o.status||!r||r(o.status)?e(o):n(In("Request failed with status code "+o.status,o.config,null,o.request,o))},fe=M,Pn=fe.isStandardBrowserEnv()?function(){return{write:function(n,o,r,i,a,s){var c=[];c.push(n+"="+encodeURIComponent(o)),fe.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),fe.isString(i)&&c.push("path="+i),fe.isString(a)&&c.push("domain="+a),s===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){var o=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Mn=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},On=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e},Bn=Mn,Un=On,Tn=function(e,n){return e&&!Bn(n)?Un(e,n):n},Te=M,Wn=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Rn=function(e){var n={},o,r,i;return e&&Te.forEach(e.split(`
`),function(s){if(i=s.indexOf(":"),o=Te.trim(s.substr(0,i)).toLowerCase(),r=Te.trim(s.substr(i+1)),o){if(n[o]&&Wn.indexOf(o)>=0)return;o==="set-cookie"?n[o]=(n[o]?n[o]:[]).concat([r]):n[o]=n[o]?n[o]+", "+r:r}}),n},lt=M,$n=lt.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),o;function r(i){var a=i;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return o=r(window.location.href),function(a){var s=lt.isString(a)?r(a):a;return s.protocol===o.protocol&&s.host===o.host}}():function(){return function(){return!0}}();function We(t){this.message=t}We.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};We.prototype.__CANCEL__=!0;var pe=We,we=M,Nn=kn,Fn=Pn,Dn=it,jn=Tn,Vn=Rn,qn=$n,Re=st,Ln=he,Jn=pe,dt=function(e){return new Promise(function(o,r){var i=e.data,a=e.headers,s=e.responseType,c;function A(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}we.isFormData(i)&&delete a["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.Authorization="Basic "+btoa(w+":"+g)}var k=jn(e.baseURL,e.url);d.open(e.method.toUpperCase(),Dn(k,e.params,e.paramsSerializer),!0),d.timeout=e.timeout;function T(){if(!!d){var P="getAllResponseHeaders"in d?Vn(d.getAllResponseHeaders()):null,v=!s||s==="text"||s==="json"?d.responseText:d.response,f={data:v,status:d.status,statusText:d.statusText,headers:P,config:e,request:d};Nn(function(U){o(U),A()},function(U){r(U),A()},f),d=null}}if("onloadend"in d?d.onloadend=T:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(T)},d.onabort=function(){!d||(r(Re("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){r(Re("Network Error",e,null,d)),d=null},d.ontimeout=function(){var v=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",f=e.transitional||Ln.transitional;e.timeoutErrorMessage&&(v=e.timeoutErrorMessage),r(Re(v,e,f.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",d)),d=null},we.isStandardBrowserEnv()){var W=(e.withCredentials||qn(k))&&e.xsrfCookieName?Fn.read(e.xsrfCookieName):void 0;W&&(a[e.xsrfHeaderName]=W)}"setRequestHeader"in d&&we.forEach(a,function(v,f){typeof i=="undefined"&&f.toLowerCase()==="content-type"?delete a[f]:d.setRequestHeader(f,v)}),we.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),s&&s!=="json"&&(d.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&d.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(c=function(P){!d||(r(!P||P&&P.type?new Jn("canceled"):P),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c))),i||(i=null),d.send(i)})},x=M,ut=xn,zn=at,Gn={"Content-Type":"application/x-www-form-urlencoded"};function ct(t,e){!x.isUndefined(t)&&x.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function Hn(){var t;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(t=dt),t}function Xn(t,e,n){if(x.isString(t))try{return(e||JSON.parse)(t),x.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(t)}var ye={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Hn(),transformRequest:[function(e,n){return ut(n,"Accept"),ut(n,"Content-Type"),x.isFormData(e)||x.isArrayBuffer(e)||x.isBuffer(e)||x.isStream(e)||x.isFile(e)||x.isBlob(e)?e:x.isArrayBufferView(e)?e.buffer:x.isURLSearchParams(e)?(ct(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):x.isObject(e)||n&&n["Content-Type"]==="application/json"?(ct(n,"application/json"),Xn(e)):e}],transformResponse:[function(e){var n=this.transitional||ye.transitional,o=n&&n.silentJSONParsing,r=n&&n.forcedJSONParsing,i=!o&&this.responseType==="json";if(i||r&&x.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?zn(a,this,"E_JSON_PARSE"):a}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};x.forEach(["delete","get","head"],function(e){ye.headers[e]={}});x.forEach(["post","put","patch"],function(e){ye.headers[e]=x.merge(Gn)});var he=ye,Yn=M,Qn=he,Kn=function(e,n,o){var r=this||Qn;return Yn.forEach(o,function(a){e=a.call(r,e,n)}),e},ft=function(e){return!!(e&&e.__CANCEL__)},pt=M,$e=Kn,Zn=ft,_n=he,er=pe;function Ne(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new er("canceled")}var tr=function(e){Ne(e),e.headers=e.headers||{},e.data=$e.call(e,e.data,e.headers,e.transformRequest),e.headers=pt.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),pt.forEach(["delete","get","head","post","put","patch","common"],function(r){delete e.headers[r]});var n=e.adapter||_n.adapter;return n(e).then(function(r){return Ne(e),r.data=$e.call(e,r.data,r.headers,e.transformResponse),r},function(r){return Zn(r)||(Ne(e),r&&r.response&&(r.response.data=$e.call(e,r.response.data,r.response.headers,e.transformResponse))),Promise.reject(r)})},O=M,wt=function(e,n){n=n||{};var o={};function r(d,w){return O.isPlainObject(d)&&O.isPlainObject(w)?O.merge(d,w):O.isPlainObject(w)?O.merge({},w):O.isArray(w)?w.slice():w}function i(d){if(O.isUndefined(n[d])){if(!O.isUndefined(e[d]))return r(void 0,e[d])}else return r(e[d],n[d])}function a(d){if(!O.isUndefined(n[d]))return r(void 0,n[d])}function s(d){if(O.isUndefined(n[d])){if(!O.isUndefined(e[d]))return r(void 0,e[d])}else return r(void 0,n[d])}function c(d){if(d in n)return r(e[d],n[d]);if(d in e)return r(void 0,e[d])}var A={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return O.forEach(Object.keys(e).concat(Object.keys(n)),function(w){var g=A[w]||i,k=g(w);O.isUndefined(k)&&g!==c||(o[w]=k)}),o},yt={version:"0.24.0"},nr=yt.version,Fe={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){Fe[t]=function(o){return typeof o===t||"a"+(e<1?"n ":" ")+t}});var ht={};Fe.transitional=function(e,n,o){function r(i,a){return"[Axios v"+nr+"] Transitional option '"+i+"'"+a+(o?". "+o:"")}return function(i,a,s){if(e===!1)throw new Error(r(a," has been removed"+(n?" in "+n:"")));return n&&!ht[a]&&(ht[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,s):!0}};function rr(t,e,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var o=Object.keys(t),r=o.length;r-- >0;){var i=o[r],a=e[i];if(a){var s=t[i],c=s===void 0||a(s,i,t);if(c!==!0)throw new TypeError("option "+i+" must be "+c);continue}if(n!==!0)throw Error("Unknown option "+i)}}var or={assertOptions:rr,validators:Fe},mt=M,ir=it,vt=Sn,gt=tr,me=wt,At=or,X=At.validators;function oe(t){this.defaults=t,this.interceptors={request:new vt,response:new vt}}oe.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=me(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;n!==void 0&&At.assertOptions(n,{silentJSONParsing:X.transitional(X.boolean),forcedJSONParsing:X.transitional(X.boolean),clarifyTimeoutError:X.transitional(X.boolean)},!1);var o=[],r=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(e)===!1||(r=r&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});var i=[];this.interceptors.response.forEach(function(g){i.push(g.fulfilled,g.rejected)});var a;if(!r){var s=[gt,void 0];for(Array.prototype.unshift.apply(s,o),s=s.concat(i),a=Promise.resolve(e);s.length;)a=a.then(s.shift(),s.shift());return a}for(var c=e;o.length;){var A=o.shift(),d=o.shift();try{c=A(c)}catch(w){d(w);break}}try{a=gt(c)}catch(w){return Promise.reject(w)}for(;i.length;)a=a.then(i.shift(),i.shift());return a};oe.prototype.getUri=function(e){return e=me(this.defaults,e),ir(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};mt.forEach(["delete","get","head","options"],function(e){oe.prototype[e]=function(n,o){return this.request(me(o||{},{method:e,url:n,data:(o||{}).data}))}});mt.forEach(["post","put","patch"],function(e){oe.prototype[e]=function(n,o,r){return this.request(me(r||{},{method:e,url:n,data:o}))}});var ar=oe,sr=pe;function Y(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(r){e=r});var n=this;this.promise.then(function(o){if(!!n._listeners){var r,i=n._listeners.length;for(r=0;r<i;r++)n._listeners[r](o);n._listeners=null}}),this.promise.then=function(o){var r,i=new Promise(function(a){n.subscribe(a),r=a}).then(o);return i.cancel=function(){n.unsubscribe(r)},i},t(function(r){n.reason||(n.reason=new sr(r),e(n.reason))})}Y.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Y.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};Y.prototype.unsubscribe=function(e){if(!!this._listeners){var n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}};Y.source=function(){var e,n=new Y(function(r){e=r});return{token:n,cancel:e}};var lr=Y,dr=function(e){return function(o){return e.apply(null,o)}},ur=function(e){return typeof e=="object"&&e.isAxiosError===!0},bt=M,cr=tt,ve=ar,fr=wt,pr=he;function St(t){var e=new ve(t),n=cr(ve.prototype.request,e);return bt.extend(n,ve.prototype,e),bt.extend(n,e),n.create=function(r){return St(fr(t,r))},n}var N=St(pr);N.Axios=ve;N.Cancel=pe;N.CancelToken=lr;N.isCancel=ft;N.VERSION=yt.version;N.all=function(e){return Promise.all(e)};N.spread=dr;N.isAxiosError=ur;Pe.exports=N;Pe.exports.default=N;var wr=Pe.exports,yr=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),o=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var r=42;e[n]=r;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==r||a.enumerable!==!0)return!1}return!0},Et=typeof Symbol!="undefined"&&Symbol,hr=yr,mr=function(){return typeof Et!="function"||typeof Symbol!="function"||typeof Et("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hr()},vr="Function.prototype.bind called on incompatible ",De=Array.prototype.slice,gr=Object.prototype.toString,Ar="[object Function]",br=function(e){var n=this;if(typeof n!="function"||gr.call(n)!==Ar)throw new TypeError(vr+n);for(var o=De.call(arguments,1),r,i=function(){if(this instanceof r){var d=n.apply(this,o.concat(De.call(arguments)));return Object(d)===d?d:this}else return n.apply(e,o.concat(De.call(arguments)))},a=Math.max(0,n.length-o.length),s=[],c=0;c<a;c++)s.push("$"+c);if(r=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(i),n.prototype){var A=function(){};A.prototype=n.prototype,r.prototype=new A,A.prototype=null}return r},Sr=br,je=Function.prototype.bind||Sr,Er=je,xr=Er.call(Function.call,Object.prototype.hasOwnProperty),m,ie=SyntaxError,xt=Function,Q=TypeError,Ve=function(t){try{return xt('"use strict"; return ('+t+").constructor;")()}catch{}},q=Object.getOwnPropertyDescriptor;if(q)try{q({},"")}catch{q=null}var qe=function(){throw new Q},Cr=q?function(){try{return arguments.callee,qe}catch{try{return q(arguments,"callee").get}catch{return qe}}}():qe,K=mr(),D=Object.getPrototypeOf||function(t){return t.__proto__},Z={},Ir=typeof Uint8Array=="undefined"?m:D(Uint8Array),_={"%AggregateError%":typeof AggregateError=="undefined"?m:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?m:ArrayBuffer,"%ArrayIteratorPrototype%":K?D([][Symbol.iterator]()):m,"%AsyncFromSyncIteratorPrototype%":m,"%AsyncFunction%":Z,"%AsyncGenerator%":Z,"%AsyncGeneratorFunction%":Z,"%AsyncIteratorPrototype%":Z,"%Atomics%":typeof Atomics=="undefined"?m:Atomics,"%BigInt%":typeof BigInt=="undefined"?m:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?m:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?m:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?m:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?m:FinalizationRegistry,"%Function%":xt,"%GeneratorFunction%":Z,"%Int8Array%":typeof Int8Array=="undefined"?m:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?m:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?m:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":K?D(D([][Symbol.iterator]())):m,"%JSON%":typeof JSON=="object"?JSON:m,"%Map%":typeof Map=="undefined"?m:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!K?m:D(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?m:Promise,"%Proxy%":typeof Proxy=="undefined"?m:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?m:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?m:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!K?m:D(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?m:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":K?D(""[Symbol.iterator]()):m,"%Symbol%":K?Symbol:m,"%SyntaxError%":ie,"%ThrowTypeError%":Cr,"%TypedArray%":Ir,"%TypeError%":Q,"%Uint8Array%":typeof Uint8Array=="undefined"?m:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?m:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?m:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?m:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?m:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?m:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?m:WeakSet},kr=function t(e){var n;if(e==="%AsyncFunction%")n=Ve("async function () {}");else if(e==="%GeneratorFunction%")n=Ve("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Ve("async function* () {}");else if(e==="%AsyncGenerator%"){var o=t("%AsyncGeneratorFunction%");o&&(n=o.prototype)}else if(e==="%AsyncIteratorPrototype%"){var r=t("%AsyncGenerator%");r&&(n=D(r.prototype))}return _[e]=n,n},Ct={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ge=je,Ae=xr,Pr=ge.call(Function.call,Array.prototype.concat),Mr=ge.call(Function.apply,Array.prototype.splice),It=ge.call(Function.call,String.prototype.replace),be=ge.call(Function.call,String.prototype.slice),Or=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Br=/\\(\\)?/g,Ur=function(e){var n=be(e,0,1),o=be(e,-1);if(n==="%"&&o!=="%")throw new ie("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&n!=="%")throw new ie("invalid intrinsic syntax, expected opening `%`");var r=[];return It(e,Or,function(i,a,s,c){r[r.length]=s?It(c,Br,"$1"):a||i}),r},Tr=function(e,n){var o=e,r;if(Ae(Ct,o)&&(r=Ct[o],o="%"+r[0]+"%"),Ae(_,o)){var i=_[o];if(i===Z&&(i=kr(o)),typeof i=="undefined"&&!n)throw new Q("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:o,value:i}}throw new ie("intrinsic "+e+" does not exist!")},Le=function(e,n){if(typeof e!="string"||e.length===0)throw new Q("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Q('"allowMissing" argument must be a boolean');var o=Ur(e),r=o.length>0?o[0]:"",i=Tr("%"+r+"%",n),a=i.name,s=i.value,c=!1,A=i.alias;A&&(r=A[0],Mr(o,Pr([0,1],A)));for(var d=1,w=!0;d<o.length;d+=1){var g=o[d],k=be(g,0,1),T=be(g,-1);if((k==='"'||k==="'"||k==="`"||T==='"'||T==="'"||T==="`")&&k!==T)throw new ie("property names with quotes must have matching quotes");if((g==="constructor"||!w)&&(c=!0),r+="."+g,a="%"+r+"%",Ae(_,a))s=_[a];else if(s!=null){if(!(g in s)){if(!n)throw new Q("base intrinsic for "+e+" exists, but the property is not available.");return}if(q&&d+1>=o.length){var W=q(s,g);w=!!W,w&&"get"in W&&!("originalValue"in W.get)?s=W.get:s=s[g]}else w=Ae(s,g),s=s[g];w&&!c&&(_[a]=s)}}return s},kt={exports:{}};(function(t){var e=je,n=Le,o=n("%Function.prototype.apply%"),r=n("%Function.prototype.call%"),i=n("%Reflect.apply%",!0)||e.call(r,o),a=n("%Object.getOwnPropertyDescriptor%",!0),s=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(s)try{s({},"a",{value:1})}catch{s=null}t.exports=function(w){var g=i(e,r,arguments);if(a&&s){var k=a(g,"length");k.configurable&&s(g,"length",{value:1+c(0,w.length-(arguments.length-1))})}return g};var A=function(){return i(e,o,arguments)};s?s(t.exports,"apply",{value:A}):t.exports.apply=A})(kt);var Pt=Le,Mt=kt.exports,Wr=Mt(Pt("String.prototype.indexOf")),Rr=function(e,n){var o=Pt(e,!!n);return typeof o=="function"&&Wr(e,".prototype.")>-1?Mt(o):o},Je=Le,ee=Rr;Je("%TypeError%");Je("%WeakMap%",!0);Je("%Map%",!0);ee("WeakMap.prototype.get",!0);ee("WeakMap.prototype.set",!0);ee("WeakMap.prototype.has",!0);ee("Map.prototype.get",!0);ee("Map.prototype.set",!0);ee("Map.prototype.has",!0);(function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})();var ze=wr.create({baseURL:"/",timeout:4e3});function $r(t){return ze.get("/desktop/api/file/list?",{params:{root:t}})}function Nr(t){return ze.get("/desktop/api/file/delete?",{params:{path:t}})}function Fr(t,e){return ze.post("/desktop/api/file/chunkUpload",t,e)}const Dr=1e3*60*15,Se=15*1024*1024;function jr(t){let e=0;for(var n in t)e+=t[n];return e}class Ot{constructor(e,n,o,r,i,a,s,c){this.file=e,this.uploadId=n,this.blobId=o,this.isChunks=r,this.progress=i,this.target=a,this.fileName=s,this.total=c}}const Vr=t=>{let e=Math.ceil(t.size/Se),n=[];for(let o=0;o<e;o++){let r=o*Se,i=r+Se,a=t.slice(r,i);n.push({id:o,data:a})}return n};let Ge=!1,Bt=null;const qr=t=>{let e={signal:_e(t.uploadId).signal,timeout:Dr,headers:{},onUploadProgress:t.progress},n=Xr(t.file,t.uploadId,t.blobId,t.target,t.fileName,t.total);Fr(n,e).then(o=>{F.current>0&&F.current--}).catch(o=>{F.current>0&&F.current--})},Lr=()=>{if(console.log("limit",F),F.current<F.max){let t=G.files.dequeue();if(t!=null){qr(t);return}F.current=0,clearInterval(Bt),Ge=!1}},Jr=()=>{Ge||(Ge=!0,Bt=setInterval(Lr,120))};function zr(t,e){let n=ke(),o=Vr(t);Ze({id:n,name:t.name,progress:"0"});let r=[...new Array(o.length).keys()];for(const i of o){let a=s=>{var c=Math.round(s.loaded*100/s.total);r[parseInt(i.id)]=c;let A=jr(r)/(o.length*100);return et(n,A*100),c};G.files.enqueue(new Ot(i.data,n,i.id,!0,a,e,t.name,t.size))}}function Gr(t,e){let n=ke(),o=r=>{var i=Math.round(r.loaded*100/r.total);return et(n,i),i};Ze({id:n,name:t.name,progress:"0"}),G.files.enqueue(new Ot(t,n,"0",!1,o,e,t.name,t.size))}class Hr{constructor(){}start(e,n,o){if(Jr(),e.size>Se){zr(e,n);return}Gr(e,n)}}const Xr=(t,e,n,o,r,i)=>{let a=new FormData;return a.append("target",o),a.append("fileBinary",t),a.append("chunkId",e),a.append("blobId",n),a.append("fileName",r),a.append("total",i),a};const Yr=["id","data-id"],Qr=l("menu",null,[l("div",{class:"item-group"},[l("li",null,"\u5728\u6B64\u5904\u6253\u5F00\u7EC8\u7AEF")]),l("div",{class:"item-group"},[l("li",null,"\u521B\u5EFA\u6587\u4EF6\u5939"),l("li",null,"\u521B\u5EFA\u6587\u4EF6")]),l("div",{class:"item-group"},[l("li",null,"\u7C98\u8D34")]),l("div",{class:"item-group"},[l("li",null,"\u5C5E\u6027")])],-1),Kr=[Qr],Zr={key:0,class:"item-group"},_r={class:"item-group"},eo=l("li",null,"\u590D\u5236",-1),to=l("li",null,"\u5C5E\u6027",-1),no=l("li",null,"\u526A\u5207",-1),ro=l("li",null,"\u91CD\u590D\u540D",-1),oo=l("div",{class:"item-group"},[l("li",null,"\u4E0B\u8F7D")],-1),io=l("div",{class:"item-group"},[l("li",null,"\u538B\u7F29")],-1),ao={class:"window-content"},so={class:"window-title"},lo=["onClick"],uo={class:"infos"},co={class:"opt"},fo={key:0},po=["onContextmenu","onClick","onDblclick"],wo={class:"file-item"},yo=["src"],ho=["src"],mo={class:"tip"},vo={props:{item:Object,actionWindowId:String,folderInfo:Object},setup(t){const e=t;let n=$t("/");const o=()=>{$.openFileUploadManager()};let r=L(te({},e.item.data));const i=(v,f)=>{r.selectFileItem=f,r.folderContextMenuVisible=!1,r.currentSelectName=f.name,r.contextMenuVisible=!0;let h=document.getElementById(e.item.id);r.contextMenuPoint.x=v.x-h.offsetLeft,r.contextMenuPoint.y=v.y-h.offsetTop,v.preventDefault(),v.stopPropagation()},a=v=>{r.currentSelectName="",r.folderContextMenuVisible=!0,r.contextMenuVisible=!1;let f=document.getElementById(e.item.id);r.folderContextMenuPoint.x=v.x-f.offsetLeft,r.folderContextMenuPoint.y=v.y-f.offsetTop,v.preventDefault()},s=v=>{$r(v).then(f=>{r.child=f.data.data})},c=v=>{v.type=="folder"&&(r.child.length=0,r.contextMenuVisible=!1,r.path.append(v.name),s(r.path.getPath()))},A=v=>{r.path.range(v),r.contextMenuVisible=!1,s(r.path.getPath())},d=()=>r.selectFileItem,w=()=>{r.contextMenuVisible=!1,d().type=="folder"&&$.openNewFolder(d().path)},g=()=>{s(r.path.getPath())},k=()=>{r.contextMenuVisible=!1,Nr(d().path).then(v=>{if(v.data.status==0){g();return}$.startNewErrorMessageDialog(v.data.msg)})},T=v=>{console.log("enter"),v.preventDefault()},W=v=>{console.log("leaver")},P=v=>{v.preventDefault();let f=v.dataTransfer.files,h=r.path.path,U=new Hr;for(let ae=0;ae<f.length;ae++){const Ut=f[ae];U.start(Ut,h,Ee=>{Ee.data.status==0&&$.startNewSuccessMessageDialog("\u4E0A\u4F20\u6210\u529F"),Ee.data.status!=0&&$.startNewErrorMessageDialog(Ee.data.msg)})}};return Xe(()=>{s(r.path.getPath())}),(v,f)=>(b(),S("div",{id:t.item.id,"data-id":t.item.id,class:I([{"action-window-border":t.item.actionWindow,"hide-window":t.item.hideWindow,"close-window-transition":t.item.closeWindowTransition,"window-transition":t.item.windowTransition,"window-scale":t.item.windowScale,"min-window":t.item.minState,"max-window":t.item.maxState,"window-z-height":t.item.actionWindow,folder:t.item.windowType=="folder"},"window-item"]),onMousedown:f[9]||(f[9]=(...h)=>u(y).windowMove&&u(y).windowMove(...h)),onMouseup:f[10]||(f[10]=(...h)=>u(y).windowMouseUp&&u(y).windowMouseUp(...h))},[u(r).folderContextMenuVisible?(b(),S("div",{key:0,style:Ce({left:u(r).folderContextMenuPoint.x+"px",top:u(r).folderContextMenuPoint.y+"px"}),class:"file-menu"},Kr,4)):B("",!0),u(r).contextMenuVisible?(b(),S("div",{key:1,style:Ce({left:u(r).contextMenuPoint.x+"px",top:u(r).contextMenuPoint.y+"px"}),class:"file-menu"},[l("menu",null,[u(r).selectFileItem.type=="folder"?(b(),S("div",Zr,[l("li",{onClick:f[0]||(f[0]=h=>w())},"\u5728\u65B0\u7A97\u53E3\u6253\u5F00")])):B("",!0),l("div",_r,[l("li",{onClick:f[1]||(f[1]=h=>k())},"\u5220\u9664"),eo,to,no,ro]),oo,io])],4)):B("",!0),l("div",{onDragover:T,onDragleave:W,onDrop:P,onClick:f[2]||(f[2]=h=>u(y).setWindowPos(t.item.id)),class:I([{action:t.actionWindowId==t.item.id},"window-mask"])},null,34),l("div",ao,[l("div",so,[l("header",null,[l("ul",null,[(b(!0),S(J,null,ne(u(r).path.pathBlock,(h,U)=>(b(),S("li",{key:h,onClick:ae=>A(U)},z(h),9,lo))),128))]),l("div",uo,[u(R).files.length>0?(b(),S("div",{key:0,onClick:f[3]||(f[3]=h=>o()),class:"loader"})):B("",!0)])]),l("div",co,[l("i",{class:"iconfont icon-tzuixiaohua",onClick:f[4]||(f[4]=h=>u(y).windowMin(t.item.id))}),l("i",{class:"iconfont icon-big",onClick:f[5]||(f[5]=h=>u(y).windowFullScreen(t.item.id))}),l("i",{class:"iconfont icon-webicon309",onClick:f[6]||(f[6]=h=>u(y).closeWindow(t.item.id))})])]),l("div",{onDragover:T,onDragleave:W,onDrop:P,onContextmenu:f[7]||(f[7]=Ye(h=>a(h),["prevent"])),onClick:f[8]||(f[8]=h=>{u(r).contextMenuVisible=!1,u(r).folderContextMenuVisible=!1}),class:"window-body"},[t.item.windowType=="folder"?(b(),S("ul",fo,[(b(!0),S(J,null,ne(u(r).child,h=>(b(),S("li",{key:h,onContextmenu:Ye(U=>i(U,h),["prevent"]),class:I({select:u(r).currentSelectName==h.name}),onClick:U=>{u(r).currentSelectName=h.name,u(r).contextMenuVisible=!1},onDblclick:U=>c(h)},[l("div",wo,[h.type!="img"?(b(),S("img",{key:0,src:u(n)+"desktop/api/file/getFileIconByType?type="+h.type,alt:""},null,8,yo)):B("",!0),h.type=="img"?(b(),S("img",{key:1,src:u(n)+"desktop/api/file/getImageThumbnail?path="+h.path,alt:""},null,8,ho)):B("",!0),l("span",null,z(h.name),1),l("div",mo,z(h.name),1)])],42,po))),128))])):B("",!0)],32)])],42,Yr))}};var j=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module"});const go=["data-id"],Ao={class:"window-content"},bo={class:"window-title"},So=l("header",null,null,-1),Eo={class:"opt"},xo={class:"window-body"},Co=["src"],Io={props:{item:Object,actionWindowId:String},setup(t){return(e,n)=>(b(),S("div",{"data-id":t.item.id,class:I([{"hide-window":t.item.hideWindow,"close-window-transition":t.item.closeWindowTransition,"window-transition":t.item.windowTransition,"window-scale":t.item.windowScale,"min-window":t.item.minState,"max-window":t.item.maxState,"window-z-height":t.item.actionWindow,folder:t.item.windowType=="folder"},"window-item"]),onMousedown:n[4]||(n[4]=(...o)=>u(j).windowMove&&u(j).windowMove(...o)),onMouseup:n[5]||(n[5]=(...o)=>u(j).windowMouseUp&&u(j).windowMouseUp(...o))},[l("div",{onClick:n[0]||(n[0]=o=>u(j).setWindowPos(t.item.id)),class:I([{action:t.actionWindowId==t.item.id},"window-mask"])},null,2),l("div",Ao,[l("div",bo,[So,l("div",Eo,[l("i",{class:"iconfont icon-tzuixiaohua",onClick:n[1]||(n[1]=o=>u(j).windowMin(t.item.id))}),l("i",{class:"iconfont icon-big",onClick:n[2]||(n[2]=o=>u(j).windowFullScreen(t.item.id))}),l("i",{class:"iconfont icon-webicon309",onClick:n[3]||(n[3]=o=>u(j).closeWindow(t.item.id))})])]),l("div",xo,[l("iframe",{class:I({"iframe-pointer-events":t.item.pointerEvents}),src:t.item.url},null,10,Co)])])],42,go))}},ko=["data-id"],Po={class:"window-content"},Mo={class:"window-title"},Oo=l("header",null,null,-1),Bo={class:"opt"},Uo={class:"window-body"},To={props:{item:Object,actionWindowId:String},setup(t){let n=L(te({},t.item.data));return(o,r)=>(b(),S("div",{"data-id":t.item.id,class:I([{"hide-window":t.item.hideWindow,"close-window-transition":t.item.closeWindowTransition,"window-transition":t.item.windowTransition,"window-scale":t.item.windowScale,"min-window":t.item.minState,"max-window":t.item.maxState,"window-z-height":t.item.actionWindow,"error-message":t.item.windowType=="error-message"},"window-item"]),onMousedown:r[4]||(r[4]=(...i)=>u(y).windowMove&&u(y).windowMove(...i)),onMouseup:r[5]||(r[5]=(...i)=>u(y).windowMouseUp&&u(y).windowMouseUp(...i))},[l("div",{onClick:r[0]||(r[0]=i=>u(y).setWindowPos(t.item.id)),class:I([{action:t.actionWindowId==t.item.id},"window-mask"])},null,2),l("div",Po,[l("div",Mo,[Oo,l("div",Bo,[l("i",{class:"iconfont icon-tzuixiaohua",onClick:r[1]||(r[1]=i=>u(y).windowMin(t.item.id))}),l("i",{class:"iconfont icon-big",onClick:r[2]||(r[2]=i=>u(y).windowFullScreen(t.item.id))}),l("i",{class:"iconfont icon-webicon309",onClick:r[3]||(r[3]=i=>u(y).closeWindow(t.item.id))})])]),l("div",Uo,z(u(n).message),1)])],42,ko))}},Wo=["data-id"],Ro={class:"window-content"},$o={class:"window-title"},No=l("header",null,null,-1),Fo={class:"opt"},Do={class:"window-body"},jo={props:{item:Object,actionWindowId:String},setup(t){let n=L(te({},t.item.data));return(o,r)=>(b(),S("div",{"data-id":t.item.id,class:I([{"hide-window":t.item.hideWindow,"close-window-transition":t.item.closeWindowTransition,"window-transition":t.item.windowTransition,"window-scale":t.item.windowScale,"min-window":t.item.minState,"max-window":t.item.maxState,"window-z-height":t.item.actionWindow,"success-message":t.item.windowType=="success-message"},"window-item"]),onMousedown:r[4]||(r[4]=(...i)=>u(y).windowMove&&u(y).windowMove(...i)),onMouseup:r[5]||(r[5]=(...i)=>u(y).windowMouseUp&&u(y).windowMouseUp(...i))},[l("div",{onClick:r[0]||(r[0]=i=>u(y).setWindowPos(t.item.id)),class:I([{action:t.actionWindowId==t.item.id},"window-mask"])},null,2),l("div",Ro,[l("div",$o,[No,l("div",Fo,[l("i",{class:"iconfont icon-tzuixiaohua",onClick:r[1]||(r[1]=i=>u(y).windowMin(t.item.id))}),l("i",{class:"iconfont icon-big",onClick:r[2]||(r[2]=i=>u(y).windowFullScreen(t.item.id))}),l("i",{class:"iconfont icon-webicon309",onClick:r[3]||(r[3]=i=>u(y).closeWindow(t.item.id))})])]),l("div",Do,z(u(n).message),1)])],42,Wo))}};var Vo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAs1JREFUaEPtmTFv00AUx38vkZou9AMwwQhDUUoqFliAkRUmYCGxKKIjLDAygVhAUJq0E0xlZQRGBCQlAiEYYeIDlKWplBxyGjex49ix/c6lAs93f7/fvXv33rsTDvgnB9x+/gGAJTNPlzMIZQwLQBn4gOEjwlcKNHkm7VSeVNCO9kDNXEF4AhyKMHAbeEhd7iaCUNKeDOCY18C5BEZ9py7HpxqvqB0O4JhvwLGpjPEPekNdzkfOU9YeB3DMPeBOCuN3pxiu0pDnofMtaPsBrpsyPd4Bs6kB4DdFTrMiX3walrT9AI5xgNUMxntTb1IXN/iHnyVtP0DNPEJYzgwgrLMqVZ+OJe2gB94DpzIDQJu6uDlj1ANWtIMARsH4XYm65KJtywM2AXzetRMDNj0QiC9bp5BND/hOOBt5wGYMjOUY/UzsnQI2gjgky2vXQsNDTB8gtM7SrEb9J7AuwMRKV6MfCE8dOgCxvUZ8SxneNcXnu/QAibq9eIB4U/d1xH+AfV1++OuuVdwdkaigjN9CSkHcWaskMWwTw1vovSjVPvk7u4DLcztGEwLsmWmQldLckWW59LIbtl1zS2RpAQZGt2eke0GutX8FIXIrJTICuHa3Z+aOLgY9kVsxpwCAu51mq80bo17IrZzWAOgbbnonRgM7t4ZGD4AHpVrrtueF3FpKNQDYLFVblXAAx2hdfYy1lIoAlKqtvYXP5erDXS1lgIKXsW1dq4xdbCkDTPCApeu/gQdawEmF4i8yBqxd7nYalfsItzIDmKhTyNIVeN8DjYV5pPA5O0BUHnDVLTxCeEZvry0+FcxSWoj4TOwpKz8DebJm42JxZ+tHc/DSmZRjylpoCGHlkc+slw/vmOKrhBAJq1EPQukpNLjUric6Wz8fT7Od0vcD3l8VHqMn7ZV+YFO4jHA2cMQqdWRJd2n28RZ64uxGWVWIb+qt/j67+B97Cn1A2CG5uAAAAABJRU5ErkJggg==",qo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAgdJREFUWEfNV11LG0EUPbewk/9Q2Mnj7v4TX/ooKC0oFS0ttigqlRbqB9j6SUvjB41YKiiKvvkL+ug/2M1jNvTJX5AN5Mpukxgzs26MsdN9nL1zz5lzZu7MJV+KxSeEAWbYAJ+5YW0aj/gFtrUDYBBEl4T6OgVSXAB41sQkwqlTjoYfg0MpL06YMdTKzfw7JvAHwNMOwGM3jF70k0QgxRGA57dyMl9RIK2vAE11ghFw6ITRaD9IlKT4xcCIkot5l+JBRZpmJOOnW4nGHkIisMUBCC+VBTasTgjEn1YiAAza98LqRC8kSjL3g8G6uS2LWwQSJdKkItpzy9U39yER5HO7YH6dZe0tAokSKZIx87ZXqb3thkRJWt8ZpMZqLFUIxAC+zBUJPK6C8besOpG+qanohNVXGkX0a0qTkJm3vEptVjcrsMUGCOq/OyzUKtBM7ttWgYgmNWBrbhjNt48HUqwCeK+ukAtOWHuXZt2dBP6eDn2dYMJnrxx9TCzLixVifOjFskwCCYBtbRLRTCcAA8vxGAGf1CKDTbcSzWVt2q4INOqEVuIUAMWini1on5gu9U1UuzVZq2+o103YTYwvxZJW8qRqYtkLo4X7ZOzagtbJMEnAqAVp5/yfbEKjx9BoITJaio1eRkavY6MPEqNPMqOPUqPPcuONyX/QmhlsToFzMtmeM9W/XAOpb13f7mgI7QAAAABJRU5ErkJggg==";const Lo=["data-id"],Jo={class:"window-content"},zo={class:"window-title"},Go=l("header",null,null,-1),Ho={class:"opt"},Xo={class:"window-body"},Yo=l("img",{class:"file",src:Vo,alt:""},null,-1),Qo=["onClick"],Ko=l("img",{src:qo,alt:""},null,-1),Zo=[Ko],_o={class:"info"},ei={class:"name"},ti={props:{item:Object,actionWindowId:String},setup(t){let n=L(te({},t.item.data));const o=r=>{en(r)};return(r,i)=>(b(),S("div",{"data-id":t.item.id,class:I([{"hide-window":t.item.hideWindow,"close-window-transition":t.item.closeWindowTransition,"window-transition":t.item.windowTransition,"window-scale":t.item.windowScale,"min-window":t.item.minState,"max-window":t.item.maxState,"window-z-height":t.item.actionWindow,"file-upload-manager":t.item.windowType=="upload-manager"},"window-item"]),onMousedown:i[4]||(i[4]=(...a)=>u(y).windowMove&&u(y).windowMove(...a)),onMouseup:i[5]||(i[5]=(...a)=>u(y).windowMouseUp&&u(y).windowMouseUp(...a))},[l("div",{onClick:i[0]||(i[0]=a=>u(y).setWindowPos(t.item.id)),class:I([{action:t.actionWindowId==t.item.id},"window-mask"])},null,2),l("div",Jo,[l("div",zo,[Go,l("div",Ho,[l("i",{class:"iconfont icon-tzuixiaohua",onClick:i[1]||(i[1]=a=>u(y).windowMin(t.item.id))}),l("i",{class:"iconfont icon-big",onClick:i[2]||(i[2]=a=>u(y).windowFullScreen(t.item.id))}),l("i",{class:"iconfont icon-webicon309",onClick:i[3]||(i[3]=a=>u(y).closeWindow(t.item.id))})])]),l("div",Xo,[(b(!0),S(J,null,ne(u(n).files,a=>(b(),S("div",{key:a.id,class:"item"},[Yo,l("div",{onClick:s=>o(a.id),class:"cancel"},Zo,8,Qo),l("div",_o,[l("span",ei,z(a.name),1),l("div",{style:Ce({width:a.progress+"%"}),class:"progress"},null,4)])]))),128))])])],42,Lo))}};const ni={class:"app-list"},ri=l("div",{class:"app-item"},[l("div",{class:"app-icon"},[l("img",{src:Qe,alt:""})]),l("div",{class:"app-name"},"\u6587\u4EF6")],-1),oi=[ri],ii=l("div",{class:"app-item"},[l("div",{class:"app-icon"},[l("img",{src:Qe,alt:""})]),l("div",{class:"app-name"},"\u6784\u5EFA")],-1),ai=[ii],si={class:"work-region"},li={class:"task-bar"},di=l("div",{class:"task-bar-mask"},null,-1),ui={class:"task-bar-content"},ci=l("div",{class:"task-item"},[l("img",{src:Nt})],-1),fi=[ci],pi=["onClick"],wi={class:"task-item"},yi=["src"],vi={setup(t){return $.openFileUploadManager(),$.openNewFolder("/home/HouXinLin/test"),Xe(()=>{setTimeout(()=>{p.desktopScale=!1},10)}),(e,n)=>(b(),S("div",{class:I([{"desktop-none":u(p).desktopScale},"desktop"])},[l("div",{class:I(["app-starter",{"app-starter-visible":u(p).appStarterVisible}])},[l("div",ni,[l("ul",null,[l("li",{onDblclick:n[0]||(n[0]=o=>u($).openNewFolder())},oi,32),l("li",{onDblclick:n[1]||(n[1]=o=>u($).openNewApp("http://www.houxinlin.com:6060/"))},ai,32)])])],2),l("div",si,[(b(!0),S(J,null,ne(u(p).windowsCollection,o=>(b(),S(J,{key:o},[o.windowType=="upload-manager"?(b(),re(ti,{key:0,actionWindowId:u(p).actionWindowId,item:o},null,8,["actionWindowId","item"])):B("",!0),o.windowType=="folder"?(b(),re(vo,{key:1,actionWindowId:u(p).actionWindowId,item:o},null,8,["actionWindowId","item"])):B("",!0),o.windowType=="web"?(b(),re(Io,{key:2,actionWindowId:u(p).actionWindowId,item:o},null,8,["actionWindowId","item"])):B("",!0),o.windowType=="error-message"?(b(),re(To,{key:3,actionWindowId:u(p).actionWindowId,item:o},null,8,["actionWindowId","item"])):B("",!0),o.windowType=="success-message"?(b(),re(jo,{key:4,actionWindowId:u(p).actionWindowId,item:o},null,8,["actionWindowId","item"])):B("",!0)],64))),128))]),l("div",li,[di,l("div",ui,[l("ul",null,[l("li",{onClick:n[2]||(n[2]=o=>u($).openStarter())},fi),(b(!0),S(J,null,ne(u(p).windowsCollection,o=>(b(),S("li",{key:o,onClick:r=>u(y).showWindow(o.id)},[l("div",wi,[l("img",{class:I({select:o.id==u(p).actionWindowId}),src:o.icon,alt:""},null,10,yi),l("span",{class:I({select:o.id==u(p).actionWindowId})},null,2)])],8,pi))),128))])])])],2))}};export{vi as default};
