var es=Object.defineProperty;var Fn=Object.getOwnPropertySymbols;var ts=Object.prototype.hasOwnProperty,rs=Object.prototype.propertyIsEnumerable;var Hi=(c,n,v)=>n in c?es(c,n,{enumerable:!0,configurable:!0,writable:!0,value:v}):c[n]=v,Vt=(c,n)=>{for(var v in n||(n={}))ts.call(n,v)&&Hi(c,v,n[v]);if(Fn)for(var v of Fn(n))rs.call(n,v)&&Hi(c,v,n[v]);return c};var fe=(c,n,v)=>(Hi(c,typeof n!="symbol"?n+"":n,v),v);import{e as ut,f as ht,o as ie,g as se,h as N,u as V,n as ue,w as At,v as Fi,i as Wi,j as ji,k as Ui,l as Ni,m as ve,F as xt,p as Kt,t as ke,q as is,s as qi,c as $e}from"./vendor.eaf47b18.js";var Wn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAZZJREFUaEPtmj1LQnEYxc+T5WAIRZBEL9AWBS2F0BKpQ9De0BBIH6ChOahv0NDYcBX6Dk2lU0MvS1NENBi0FklDoP6DwOB6Ee/1+Dfv5XF+znmec34XBVUQ8peE/H5EL4BxsA3BIYDljnQayMkerjrOWRxwETAOjiE4CrDvFTFkZRfPATQ9HXUHKOAOwEqgDQbXSCErW/gOpOvRcGsA06VvuUtdENkNYjhrpd2rAEEOYWdXJY/7pkkYA5xIHgdhDlCWPDLtA+y8A/ExFrM9fVE0gL12/ThHm0BpzmA04aeH/52pIyNrj7+fPe63UQ3QJzBKoE9Ft12jBJQA2YA+QmSBtFwJ0BWSBkqALJCWKwG6QtJACZAF0nIlQFdIGigBskBargToCkkDJUAWSMujS+By2iCZpAuyb9BIS/rp1vvV4kWqgonxWfsHEBtqtQ9UEzOy+fDlDeBgA0sLJcLevrT6uS+5t9PmIs8v9eYci5icKiI+Mg8Zitm/yOeGev0Fw1KQ9crf8R4CPq0Gaix6/5UYqHp9HPMDnUf6MVvoPrUAAAAASUVORK5CYII=",ns="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAf1JREFUaEPtWj1LA0EQneE2d6QRISHhogEL02gjNiJYxMp/IJb+M1v/gpWp/EBsxNgoJJB4CyFnIyQc2bAyEkGPVefwgoKz9duXvfnYe28uGEXRKQA0gbEQ8RIADsIw7KbhWusja+0hg4YgV4i4n+bRWq8AwLG1dovJ08IoiiwT/AqbTqe79Xq9ld6TB0+v12t6nkcBZS95gLdQSQYAQEqI0znSxLMouQIhJSQlxIlA3iWktb7I8OoGpVSjUqk8ON7EbElCe108g8Fg1Rhzz40DSRsk/WGMIQ3y7VJKDcIwvHMBO53OolJq41sSAPA877lWq127sFrrNWNMhcOjlOoiB/iXMfIAv50dycCvZ0Ac2SwF4gfEDzC7UfxA3mIuj+ajM+XBI4aG0wbSA9IDH+uEDM2ZtXabUz6ECYKgXiqV+j91ZC6eOI6XkyTpcc+CiOevapS6n7PJNdR9v4/L4/v+U7VavfnsN7k8dB6R05zMzRMjGZhndDncOBwOl8bjcYMDDoKg75oJ0d44jhdGo9Emh+er8QzNhpIkWebwFIvFe7pGb62165wNhEHEdddsKIuz+4yHZkLW2naGs7TlE9NbtESNiqVkdo7IaZHTKTmdx+0hnngW1H9r6tnfthCxXSgU9srl8mP60sr4d5uu7/s7aR7SZZPJ5CSDtGm9AAg0CqS22P2EAAAAAElFTkSuQmCC",Zr,os=new Uint8Array(16);function ss(){if(!Zr&&(Zr=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Zr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zr(os)}var as=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function cs(c){return typeof c=="string"&&as.test(c)}var me=[];for(var zi=0;zi<256;++zi)me.push((zi+256).toString(16).substr(1));function ls(c){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=(me[c[n+0]]+me[c[n+1]]+me[c[n+2]]+me[c[n+3]]+"-"+me[c[n+4]]+me[c[n+5]]+"-"+me[c[n+6]]+me[c[n+7]]+"-"+me[c[n+8]]+me[c[n+9]]+"-"+me[c[n+10]]+me[c[n+11]]+me[c[n+12]]+me[c[n+13]]+me[c[n+14]]+me[c[n+15]]).toLowerCase();if(!cs(v))throw TypeError("Stringified UUID is invalid");return v}function us(c,n,v){c=c||{};var C=c.random||(c.rng||ss)();if(C[6]=C[6]&15|64,C[8]=C[8]&63|128,n){v=v||0;for(var M=0;M<16;++M)n[v+M]=C[M];return n}return ls(C)}function $i(){return us()}class hs{constructor(n){this.path=n,this.pathBlock=[],this.parse()}range(n){let v=this.pathBlock.slice(0,n+1);if(this.pathBlock=v,v.length==1){this.path=v.join("/");return}this.path=v.join("/").substring(1)}append(n){if(this.path==""&&n=="/"){this.path="/",this.parse();return}if(this.path=="/"){this.path=this.path+n,this.parse();return}this.path=this.path+"/"+n,this.parse()}getPath(){return this.path}parse(){if(this.path=="/"){this.pathBlock=["/"];return}let n=this.path.split("/");n[0]="/",this.pathBlock=n}}class fs{constructor(n,v){this.path=new hs(n),this.child=v,this.select="",this.currentSelectName="",this.contextMenuPoint={x:0,y:0},this.contextMenuVisible=!1,this.folderContextMenuVisible=!1,this.folderContextMenuPoint={x:0,y:0},this.selectFileItem=null}}const ds=(c,n)=>new fs(c,n);let Qr="";class ps{constructor(){fe(this,"setCanResize",(n,v)=>{this.getAppById(n).instance.canResize=v});fe(this,"closeWindowByType",n=>{let v=[];for(let C=0;C<te.windowsCollection.length;C++)te.windowsCollection[C].windowType==n&&v.push(C);for(const C of v)te.windowsCollection.splice(C,1)});fe(this,"hideWindow",n=>{if(n){te.windowVisibleState=te.windowsCollection.filter(v=>v.hideWindow==!0);for(const v of te.windowsCollection)v.hideWindow=!0;return}for(const v of te.windowsCollection)v.hideWindow=!1});fe(this,"getAppById",n=>{let v=te.windowsCollection.findIndex(C=>C.id==n);return{instance:te.windowsCollection[v],index:v}});fe(this,"setWindowPos",n=>{for(const v of te.windowsCollection)v.actionWindow=!1;if(te.actionWindowId=n,this.getAppById(n).instance.actionWindow=!0,this.getAppById(n).instance.minState){this.getAppById(n).instance.minState=!1;return}});fe(this,"windowMouseUp",(n,v)=>{for(const C of te.windowsCollection)C.pointerEvents=!1});fe(this,"showWindow",n=>{if(te.appStarterVisible){hideWindow(!1),te.appStarterVisible=!1;return}let v=this.getAppById(n);if(v.instance.actionWindow==!0){v.instance.windowScale=!0,setTimeout(()=>{v.instance.windowScale=!1},301);return}v.instance.minState&&(v.instance.minState=!1),this.setWindowPos(n)});fe(this,"windowMin",n=>{this.getAppById(n).instance.minState=!this.getAppById(n).instance.minState,this.getAppById(n).instance.actionWindow=!1,te.actionWindowId=-1});fe(this,"closeWindow",n=>{this.postWindowEvents(n,"close",{}),this.getAppById(n).instance.closeWindowTransition=!0,setTimeout(()=>{te.windowsCollection.splice(this.getAppById(n).index,1),te.actionWindowId==n&&(te.actionWindowId="")},200)});fe(this,"windowFullScreen",n=>{for(const C of te.windowsCollection)C.pointerEvents=!0;let v=this.getAppById(n);v.instance.maxState?(v.instance.maxState=!v.instance.maxState,setTimeout(()=>{v.instance.windowTransition=!v.instance.windowTransition;for(const C of te.windowsCollection)C.pointerEvents=!1},500)):(v.instance.windowTransition=!v.instance.windowTransition,setTimeout(()=>{v.instance.maxState=!v.instance.maxState;for(const C of te.windowsCollection)C.pointerEvents=!1},10))});fe(this,"postWindowEvents",(n,v,C)=>{let M=this.getAppById(n).instance.events;typeof M=="function"&&M(v,C)});fe(this,"windowMove",n=>{if(n.which==3)return;for(const r of te.windowsCollection)r.pointerEvents=!0;let v=n.target,C=v,M=[];for(;M.findIndex(r=>r=="window-item")==-1;){v=v.parentNode;let r=v.classList;if(r==null)return;M=[...r]}Qr=v.getAttribute("data-id"),this.setWindowPos(Qr),v.style.zIndex=9999;for(const r of document.querySelectorAll(".window-item"))r!=v&&(r.style.zIndex=1e3);if([...C.classList].findIndex(r=>r=="window-title")==-1&&C.nodeName!="HEADER")return;let D=n.clientX-v.offsetLeft,x=n.clientY-v.offsetTop;document.onmousemove=r=>{let _=r.clientX-D,s=r.clientY-x;if(s<=-10){document.onmousemove=null,document.onmouseup=null,this.windowFullScreen(Qr);return}this.postWindowEvents(Qr,"move",{left:_,top:s}),v.style.left=_+"px",v.style.top=s+"px"},document.onmouseup=r=>{document.onmousemove=null,document.onmouseup=null}})}}function _s(){this.minState=!1,this.maxState=!1,this.actionWindow=!0,this.windowTransition=!1,this.windowType="web",this.pointerEvents=!1,this.hideWindow=!1,this.canMax=!0,this.canMin=!0,this.canClose=!0,this.icon="",this.id="",this.x=0,this.y=0,this.closeWindowTransition=!1,this.canResize=!0}function vs(c){this.windowType="folder",this.icon="/src/assets/icon/ic-folder.png",this.data=c}function gs(c){this.windowType="upload-manager",this.icon="/src/assets/icon/ic-folder.png",this.data=c,this.canClose=!1}function ys(c){this.windowType="error-message",this.data=c}function ms(c){this.windowType="success-message",this.data=c}function bs(c){this.windowType="dialog-select",this.data=c}function Ss(c){this.windowType="file-attribute",this.data=c}function ws(c){this.windowType="dialog-create-file",this.data=c}function Cs(c){this.windowType="terminal",this.data=c}class Es extends Array{constructor(){super();Object.defineProperty(this,"head",{value:0,writable:!0})}remove(n){return this.splice(n,1),this}enqueue(n){return this.push(n),this}dequeue(){var n;return this.head<this.length?(n=this[this.head],delete this[this.head++],n):void 0}peek(){return this[this.head]}size(){return this.length}}const Ve={max:3,current:0},Ue=ut({files:[]}),kt={files:new Proxy(new Es,{get(c,n){let v=c[n];return n=="dequeue"&&v!=null&&Ve.current++,v},set:function(c,n,v){return c[n]=v,!0}})},jn=c=>{c.controller=new AbortController,Ue.files.push(c)},Un=c=>Ue.files.find(v=>v.id==c).controller||null,Ls=c=>{let n=Un(c);n!=null&&n.abort();let v=-1;for(v=kt.files.findIndex(M=>M!=null&&M.uploadId==c);v>=0;)kt.files.splice(v,1),v=kt.files.findIndex(M=>M!=null&&M.uploadId==c);let C=Ue.files.findIndex(M=>M.id==c);C>=0&&Ue.files.splice(C,1)},As=c=>{var n=Ue.files.findIndex(v=>v.id==c);Ue.files.splice(n,1),Ue.files.length==0},Nn=(c,n)=>{n==100&&As(c);for(const v of Ue.files)v.id==c&&(v.progress=n)},te=ut({desktopScale:!0,positionX:0,positionY:0,actionWindowId:"",windowsCollection:[],appStarterVisible:!1,windowVisibleState:[]}),Y=new ps,xs=()=>{for(const c of te.windowsCollection)c.actionWindow=!1},Ye=(c={})=>{xs(),Y.hideWindow(!1),c.actionWindow=!0,te.appStarterVisible=!1,te.actionWindowId=c.id,te.windowsCollection.push(c)},Ze=(c,n={})=>{let v=Object.assign(new _s,new c(n));return v.id="window-id"+$i(),v};class ks{constructor(){fe(this,"openStarter",()=>{te.appStarterVisible?Y.hideWindow(!1):Y.hideWindow(!0),te.appStarterVisible=!te.appStarterVisible});fe(this,"openNewFolder",(n="/")=>{let v=Ze(vs,ds(n,[]));Ye(v)});fe(this,"openFileUploadManager",()=>{let n=Ze(gs,Ue);Ye(n)});fe(this,"startNewErrorMessageDialog",n=>{let v=Ze(ys,{message:n});Ye(v)});fe(this,"startNewSuccessMessageDialog",n=>{let v=Ze(ms,{message:n});Ye(v)});fe(this,"startNewDialogSelect",(n,v)=>{let C=Ze(bs,{targetName:n,callback:v});Ye(C)});fe(this,"startNewFileAttribute",n=>{let v=Ze(Ss,{path:n});Ye(v)});fe(this,"startNewDialogCreateFile",n=>{let v=Ze(ws,{callback:n});Ye(v)});fe(this,"startNewTerminal",n=>{let v=Ze(Cs,{path:n});Ye(v)})}}const be=new ks,Ms=["data-id"],Rs={class:"window-content"},Os={class:"window-title base-title"},Ts=N("header",null,"\u538B\u7F29",-1),Ds={class:"opt"},Bs={class:"window-body"},Ps={class:"item"},Is=N("header",null,"\u5F52\u6863\u540D\u79F0:",-1),Hs={class:"item"},Fs=N("header",null,"\u5F52\u6863\u7C7B\u578B:",-1),Ws=ji(".zip"),js=ji("tar.xz"),Us=ji("7z"),Ns={props:{item:Object,actionWindowId:String},setup(c){const n=c,v=ht("zip"),C=ht(n.item.data.targetName),M=()=>{Y.closeWindow(n.item.id),n.item.data.callback({targetName:C.value,type:v.value},n.item)};return(D,x)=>(ie(),se("div",{"data-id":c.item.id,class:ue([{"hide-window":c.item.hideWindow,"close-window-transition":c.item.closeWindowTransition,"window-transition":c.item.windowTransition,"window-scale":c.item.windowScale,"min-window":c.item.minState,"max-window":c.item.maxState,"window-z-height":c.item.actionWindow,"dialog-select":c.item.windowType=="dialog-select"},"window-item"]),onMousedown:x[9]||(x[9]=(...r)=>V(Y).windowMove&&V(Y).windowMove(...r)),onMouseup:x[10]||(x[10]=(...r)=>V(Y).windowMouseUp&&V(Y).windowMouseUp(...r))},[N("div",{onClick:x[0]||(x[0]=r=>V(Y).setWindowPos(c.item.id)),class:ue([{action:c.actionWindowId==c.item.id},"window-mask"])},null,2),N("div",Rs,[N("div",Os,[Ts,N("div",Ds,[N("i",{class:"iconfont icon-tzuixiaohua",onClick:x[1]||(x[1]=r=>V(Y).windowMin(c.item.id))}),N("i",{class:"iconfont icon-big",onClick:x[2]||(x[2]=r=>V(Y).windowFullScreen(c.item.id))}),N("i",{class:"iconfont icon-webicon309",onClick:x[3]||(x[3]=r=>V(Y).closeWindow(c.item.id))})])]),N("div",Bs,[N("div",Ps,[Is,At(N("input",{"onUpdate:modelValue":x[4]||(x[4]=r=>C.value=r),type:"text"},null,512),[[Fi,C.value]])]),N("div",Hs,[Fs,N("form",null,[N("span",null,[At(N("input",{"onUpdate:modelValue":x[5]||(x[5]=r=>v.value=r),value:"zip",name:"select",type:"radio"},null,512),[[Wi,v.value]]),Ws]),N("span",null,[At(N("input",{"onUpdate:modelValue":x[6]||(x[6]=r=>v.value=r),value:"tar",name:"select",type:"radio"},null,512),[[Wi,v.value]]),js]),N("span",null,[At(N("input",{"onUpdate:modelValue":x[7]||(x[7]=r=>v.value=r),value:"7z",name:"select",type:"radio"},null,512),[[Wi,v.value]]),Us])])]),N("button",{onClick:x[8]||(x[8]=r=>M())},"\u786E\u8BA4")])])],42,Ms))}},qs=["data-id"],zs={class:"window-content"},$s={class:"window-title base-title"},Vs=N("header",null,"\u65B0\u5EFA\u6587\u4EF6",-1),Ks={class:"opt"},Gs={class:"window-body"},Xs={class:"item"},Js=N("header",null,"\u540D\u79F0:",-1),Ys={props:{item:Object,actionWindowId:String},setup(c){const n=c;ht("zip");const v=ht(n.item.data.targetName),C=()=>{Y.closeWindow(n.item.id),n.item.data.callback({targetName:v.value},n.item)};return(M,D)=>(ie(),se("div",{"data-id":c.item.id,class:ue([{"hide-window":c.item.hideWindow,"close-window-transition":c.item.closeWindowTransition,"window-transition":c.item.windowTransition,"window-scale":c.item.windowScale,"min-window":c.item.minState,"max-window":c.item.maxState,"window-z-height":c.item.actionWindow,"dialog-create-file":c.item.windowType=="dialog-create-file"},"window-item"]),onMousedown:D[4]||(D[4]=(...x)=>V(Y).windowMove&&V(Y).windowMove(...x)),onMouseup:D[5]||(D[5]=(...x)=>V(Y).windowMouseUp&&V(Y).windowMouseUp(...x))},[N("div",{onClick:D[0]||(D[0]=x=>V(Y).setWindowPos(c.item.id)),class:ue([{action:c.actionWindowId==c.item.id},"window-mask"])},null,2),N("div",zs,[N("div",$s,[Vs,N("div",Ks,[N("i",{class:"iconfont icon-webicon309",onClick:D[1]||(D[1]=x=>V(Y).closeWindow(c.item.id))})])]),N("div",Gs,[N("div",Xs,[Js,At(N("input",{class:"base-input","onUpdate:modelValue":D[2]||(D[2]=x=>v.value=x),type:"text"},null,512),[[Fi,v.value]])]),N("button",{class:"base-button blue",onClick:D[3]||(D[3]=x=>C())},"\u521B\u5EFA")])])],42,qs))}};var Zs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA1RJREFUWEfVlk9MJFUQxr96TSaGxIMhYkzYAypsAiLTr3oYhEhUTh40AgmePLgSkr1sggc9umcP61UT2cSDf/CAhoMkJiqRuOJ09xuGwG52N4gXYjxIzHpQpNNl3mY6aWBgeoYF4rt1d72qX1fV++oRznnROcfH/w+gVCo90dLSMmwzF0XRjwMDA7+cJIuZMmCMGRWR14hoSER60wGJaENEbhDRnNb620Zh6gKUy+VrcRzPpBzfAvAzAAfAEIAnk29Kqfdd132rEYhjAYwxt0Wkm4h2LYTjOIuu6/6aDuD7/tNKqdcBvG3fE9EdrfXFrBBHAoRh+AOA5wDM7e3tTQ8ODt47zqnv+8NKKQvxCoBlZh7JAlETwBjzpoh8RERLWusXsjiyNuvr67nd3d1FAC8S0ZTWerbe3kMAxphnbVMB2GbmjnoODn4vlUoXlFILRJS3Tau1/uk4H7UAZkXkEoAJZp5vFMDah2H4BoDrIvKB53mXGwWwjde+ubn52OTk5L9NAjwF4C6AG8x8XzOOWvsyUC6Xu+I4vgPgK2YeayZ4sicIgk2lVLvW+uHMAEnqALzHzO+cBCAMwxUARQA9zGy1o+bal4EUwDwzT5wQwJbAliI7QKoEa8zcfxKAIAj+UErlGiqBDVhVvwuO43Tl8/ntZiCMMf0istpwE1YBkmPYdB+EYXgNwEyzxzARor8BDDLzWiNZqFQqHVEU2b9va0qIqlm4L8UAFnK53HRfX9/vWSCWl5cfaW1t/RjAy01LcRIoGUYichvAFc/zvjkOwvf9i0Q0S0RWeL5j5tEs0JnGcdXR53Ecf1goFJbSjo0xnohMARgH8KgdxyJyOY7jEcdxvtBa38wsRLUMD15I7IRM24nI88lzciHxff+qUupdAGtRFL1aLBa3MgnRUUbVK9kYEfWKCANI5PUvIgpFZIOIvkyuZMaYHhH5DMAzAFZEZNzzvN9q+a97Jau1aXV1tdu+z+fzdm7UXJVKpTOKIgth5fh7pdS467p/HjRuCiBLc1mbIAgeV0p9asskIl+3tbVNdHZ2/pPef6oANlD1aH4C4CUAh2bMqQNYiK2trYd2dnYshD0p/WlxOxOAJOX2dBQKhatnWoJ6/XKmGXhgx7DeXzXy/T9G8XAw0QXSDgAAAABJRU5ErkJggg==",qn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Qs(c){if(c.__esModule)return c;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(c).forEach(function(v){var C=Object.getOwnPropertyDescriptor(c,v);Object.defineProperty(n,v,C.get?C:{enumerable:!0,get:function(){return c[v]}})}),n}var Vi={exports:{}},ea=Vi.exports={};ea.forEach=function(c,n){for(var v=0;v<c.length;v++){var C=n(c[v]);if(C)return C}};var ta=function(c){var n=c.stateHandler.getState;function v(x){var r=n(x);return r&&!!r.isDetectable}function C(x){n(x).isDetectable=!0}function M(x){return!!n(x).busy}function D(x,r){n(x).busy=!!r}return{isDetectable:v,markAsDetectable:C,isBusy:M,markBusy:D}},ra=function(c){var n={};function v(x){var r=c.get(x);return r===void 0?[]:n[r]||[]}function C(x,r){var _=c.get(x);n[_]||(n[_]=[]),n[_].push(r)}function M(x,r){for(var _=v(x),s=0,l=_.length;s<l;++s)if(_[s]===r){_.splice(s,1);break}}function D(x){var r=v(x);!r||(r.length=0)}return{get:v,add:C,removeListener:M,removeAllListeners:D}},ia=function(){var c=1;function n(){return c++}return{generate:n}},na=function(c){var n=c.idGenerator,v=c.stateHandler.getState;function C(D){var x=v(D);return x&&x.id!==void 0?x.id:null}function M(D){var x=v(D);if(!x)throw new Error("setId required the element to have a resize detection state.");var r=n.generate();return x.id=r,r}return{get:C,set:M}},oa=function(c){function n(){}var v={log:n,warn:n,error:n};if(!c&&window.console){var C=function(M,D){M[D]=function(){var r=console[D];if(r.apply)r.apply(console,arguments);else for(var _=0;_<arguments.length;_++)r(arguments[_])}};C(v,"log"),C(v,"warn"),C(v,"error")}return v},Ki={exports:{}},zn=Ki.exports={};zn.isIE=function(c){function n(){var C=navigator.userAgent.toLowerCase();return C.indexOf("msie")!==-1||C.indexOf("trident")!==-1||C.indexOf(" edge/")!==-1}if(!n())return!1;if(!c)return!0;var v=function(){var C,M=3,D=document.createElement("div"),x=D.getElementsByTagName("i");do D.innerHTML="<!--[if gt IE "+ ++M+"]><i></i><![endif]-->";while(x[0]);return M>4?M:C}();return c===v};zn.isLegacyOpera=function(){return!!window.opera};var $n={exports:{}},sa=$n.exports={};sa.getOption=aa;function aa(c,n,v){var C=c[n];return C==null&&v!==void 0?v:C}var Vn=$n.exports,ca=function(n){n=n||{};var v=n.reporter,C=Vn.getOption(n,"async",!0),M=Vn.getOption(n,"auto",!0);M&&!C&&(v&&v.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),C=!0);var D=Kn(),x,r=!1;function _(y,o){!r&&M&&C&&D.size()===0&&f(),D.add(y,o)}function s(){for(r=!0;D.size();){var y=D;D=Kn(),y.process()}r=!1}function l(y){r||(y===void 0&&(y=C),x&&(p(x),x=null),y?f():s())}function f(){x=b(s)}function p(y){var o=clearTimeout;return o(y)}function b(y){var o=function(a){return setTimeout(a,0)};return o(y)}return{add:_,force:l}};function Kn(){var c={},n=0,v=0,C=0;function M(r,_){_||(_=r,r=0),r>v?v=r:r<C&&(C=r),c[r]||(c[r]=[]),c[r].push(_),n++}function D(){for(var r=C;r<=v;r++)for(var _=c[r],s=0;s<_.length;s++){var l=_[s];l()}}function x(){return n}return{add:M,process:D,size:x}}var Gi="_erd";function la(c){return c[Gi]={},Gn(c)}function Gn(c){return c[Gi]}function ua(c){delete c[Gi]}var ha={initState:la,getState:Gn,cleanState:ua},Gt=Ki.exports,fa=function(c){c=c||{};var n=c.reporter,v=c.batchProcessor,C=c.stateHandler.getState;if(!n)throw new Error("Missing required dependency: reporter.");function M(s,l){function f(){l(s)}if(Gt.isIE(8))C(s).object={proxy:f},s.attachEvent("onresize",f);else{var p=r(s);if(!p)throw new Error("Element is not detectable by this strategy.");p.contentDocument.defaultView.addEventListener("resize",f)}}function D(s){var l=c.important?" !important; ":"; ";return(s.join(l)+l).trim()}function x(s,l,f){f||(f=l,l=s,s=null),s=s||{},s.debug;function p(b,y){var o=D(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),a=!1,g=window.getComputedStyle(b),u=b.offsetWidth,i=b.offsetHeight;C(b).startSize={width:u,height:i};function e(){function t(){if(g.position==="static"){b.style.setProperty("position","relative",s.important?"important":"");var m=function(S,L,A,w){function E(T){return T.replace(/[^-\d\.]/g,"")}var B=A[w];B!=="auto"&&E(B)!=="0"&&(S.warn("An element that is positioned static has style."+w+"="+B+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+w+" will be set to 0. Element: ",L),L.style.setProperty(w,"0",s.important?"important":""))};m(n,b,g,"top"),m(n,b,g,"right"),m(n,b,g,"bottom"),m(n,b,g,"left")}}function h(){a||t();function m(L,A){if(!L.contentDocument){var w=C(L);w.checkForObjectDocumentTimeoutId&&window.clearTimeout(w.checkForObjectDocumentTimeoutId),w.checkForObjectDocumentTimeoutId=setTimeout(function(){w.checkForObjectDocumentTimeoutId=0,m(L,A)},100);return}A(L.contentDocument)}var S=this;m(S,function(A){y(b)})}g.position!==""&&(t(),a=!0);var d=document.createElement("object");d.style.cssText=o,d.tabIndex=-1,d.type="text/html",d.setAttribute("aria-hidden","true"),d.onload=h,Gt.isIE()||(d.data="about:blank"),!!C(b)&&(b.appendChild(d),C(b).object=d,Gt.isIE()&&(d.data="about:blank"))}v?v.add(e):e()}Gt.isIE(8)?f(l):p(l,f)}function r(s){return C(s).object}function _(s){if(!!C(s)){var l=r(s);!l||(Gt.isIE(8)?s.detachEvent("onresize",l.proxy):s.removeChild(l),C(s).checkForObjectDocumentTimeoutId&&window.clearTimeout(C(s).checkForObjectDocumentTimeoutId),delete C(s).object)}}return{makeDetectable:x,addListener:M,uninstall:_}},da=Vi.exports.forEach,pa=function(c){c=c||{};var n=c.reporter,v=c.batchProcessor,C=c.stateHandler.getState;c.stateHandler.hasState;var M=c.idHandler;if(!v)throw new Error("Missing required dependency: batchProcessor");if(!n)throw new Error("Missing required dependency: reporter.");var D=l(),x="erd_scroll_detection_scrollbar_style",r="erd_scroll_detection_container";function _(e){f(e,x,r)}_(window.document);function s(e){var t=c.important?" !important; ":"; ";return(e.join(t)+t).trim()}function l(){var e=500,t=500,h=document.createElement("div");h.style.cssText=s(["position: absolute","width: "+e*2+"px","height: "+t*2+"px","visibility: hidden","margin: 0","padding: 0"]);var d=document.createElement("div");d.style.cssText=s(["position: absolute","width: "+e+"px","height: "+t+"px","overflow: scroll","visibility: none","top: "+-e*3+"px","left: "+-t*3+"px","visibility: hidden","margin: 0","padding: 0"]),d.appendChild(h),document.body.insertBefore(d,document.body.firstChild);var m=e-d.clientWidth,S=t-d.clientHeight;return document.body.removeChild(d),{width:m,height:S}}function f(e,t,h){function d(A,w){w=w||function(B){e.head.appendChild(B)};var E=e.createElement("style");return E.innerHTML=A,E.id=t,w(E),E}if(!e.getElementById(t)){var m=h+"_animation",S=h+"_animation_active",L=`/* Created by the element-resize-detector library. */
`;L+="."+h+" > div::-webkit-scrollbar { "+s(["display: none"])+` }

`,L+="."+S+" { "+s(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+m,"animation-name: "+m])+` }
`,L+="@-webkit-keyframes "+m+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,L+="@keyframes "+m+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",d(L)}}function p(e){e.className+=" "+r+"_animation_active"}function b(e,t,h){if(e.addEventListener)e.addEventListener(t,h);else if(e.attachEvent)e.attachEvent("on"+t,h);else return n.error("[scroll] Don't know how to add event listeners.")}function y(e,t,h){if(e.removeEventListener)e.removeEventListener(t,h);else if(e.detachEvent)e.detachEvent("on"+t,h);else return n.error("[scroll] Don't know how to remove event listeners.")}function o(e){return C(e).container.childNodes[0].childNodes[0].childNodes[0]}function a(e){return C(e).container.childNodes[0].childNodes[0].childNodes[1]}function g(e,t){var h=C(e).listeners;if(!h.push)throw new Error("Cannot add listener to an element that is not detectable.");C(e).listeners.push(t)}function u(e,t,h){h||(h=t,t=e,e=null),e=e||{};function d(){if(e.debug){var I=Array.prototype.slice.call(arguments);if(I.unshift(M.get(t),"Scroll: "),n.log.apply)n.log.apply(null,I);else for(var q=0;q<I.length;q++)n.log(I[q])}}function m(I){function q(j){var J=j.getRootNode&&j.getRootNode().contains(j);return j===j.ownerDocument.body||j.ownerDocument.body.contains(j)||J}return!q(I)||window.getComputedStyle(I)===null}function S(I){var q=C(I).container.childNodes[0],j=window.getComputedStyle(q);return!j.width||j.width.indexOf("px")===-1}function L(){var I=window.getComputedStyle(t),q={};return q.position=I.position,q.width=t.offsetWidth,q.height=t.offsetHeight,q.top=I.top,q.right=I.right,q.bottom=I.bottom,q.left=I.left,q.widthCSS=I.width,q.heightCSS=I.height,q}function A(){var I=L();C(t).startSize={width:I.width,height:I.height},d("Element start size",C(t).startSize)}function w(){C(t).listeners=[]}function E(){if(d("storeStyle invoked."),!C(t)){d("Aborting because element has been uninstalled");return}var I=L();C(t).style=I}function B(I,q,j){C(I).lastWidth=q,C(I).lastHeight=j}function T(I){return o(I).childNodes[0]}function U(){return 2*D.width+1}function H(){return 2*D.height+1}function k(I){return I+10+U()}function O(I){return I+10+H()}function P(I){return I*2+U()}function F(I){return I*2+H()}function K(I,q,j){var J=o(I),Z=a(I),oe=k(q),le=O(j),ae=P(q),X=F(j);J.scrollLeft=oe,J.scrollTop=le,Z.scrollLeft=ae,Z.scrollTop=X}function G(){var I=C(t).container;if(!I){I=document.createElement("div"),I.className=r,I.style.cssText=s(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),C(t).container=I,p(I),t.appendChild(I);var q=function(){C(t).onRendered&&C(t).onRendered()};b(I,"animationstart",q),C(t).onAnimationStart=q}return I}function Q(){function I(){var he=C(t).style;if(he.position==="static"){t.style.setProperty("position","relative",e.important?"important":"");var Ae=function(Ie,Te,Wt,Ge){function jt(wt){return wt.replace(/[^-\d\.]/g,"")}var Xe=Wt[Ge];Xe!=="auto"&&jt(Xe)!=="0"&&(Ie.warn("An element that is positioned static has style."+Ge+"="+Xe+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Ge+" will be set to 0. Element: ",Te),Te.style[Ge]=0)};Ae(n,t,he,"top"),Ae(n,t,he,"right"),Ae(n,t,he,"bottom"),Ae(n,t,he,"left")}}function q(he,Ae,Ie,Te){return he=he?he+"px":"0",Ae=Ae?Ae+"px":"0",Ie=Ie?Ie+"px":"0",Te=Te?Te+"px":"0",["left: "+he,"top: "+Ae,"right: "+Te,"bottom: "+Ie]}if(d("Injecting elements"),!C(t)){d("Aborting because element has been uninstalled");return}I();var j=C(t).container;j||(j=G());var J=D.width,Z=D.height,oe=s(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),le=s(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(q(-(1+J),-(1+Z),-Z,-J))),ae=s(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),X=s(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),ce=s(["position: absolute","left: 0","top: 0"]),de=s(["position: absolute","width: 200%","height: 200%"]),pe=document.createElement("div"),Ce=document.createElement("div"),Pe=document.createElement("div"),yt=document.createElement("div"),Ke=document.createElement("div"),mt=document.createElement("div");pe.dir="ltr",pe.style.cssText=oe,pe.className=r,Ce.className=r,Ce.style.cssText=le,Pe.style.cssText=ae,yt.style.cssText=ce,Ke.style.cssText=X,mt.style.cssText=de,Pe.appendChild(yt),Ke.appendChild(mt),Ce.appendChild(Pe),Ce.appendChild(Ke),pe.appendChild(Ce),j.appendChild(pe);function bt(){var he=C(t);he&&he.onExpand?he.onExpand():d("Aborting expand scroll handler: element has been uninstalled")}function St(){var he=C(t);he&&he.onShrink?he.onShrink():d("Aborting shrink scroll handler: element has been uninstalled")}b(Pe,"scroll",bt),b(Ke,"scroll",St),C(t).onExpandScroll=bt,C(t).onShrinkScroll=St}function ee(){function I(ae,X,ce){var de=T(ae),pe=k(X),Ce=O(ce);de.style.setProperty("width",pe+"px",e.important?"important":""),de.style.setProperty("height",Ce+"px",e.important?"important":"")}function q(ae){var X=t.offsetWidth,ce=t.offsetHeight,de=X!==C(t).lastWidth||ce!==C(t).lastHeight;d("Storing current size",X,ce),B(t,X,ce),v.add(0,function(){if(!!de){if(!C(t)){d("Aborting because element has been uninstalled");return}if(!j()){d("Aborting because element container has not been initialized");return}if(e.debug){var Ce=t.offsetWidth,Pe=t.offsetHeight;(Ce!==X||Pe!==ce)&&n.warn(M.get(t),"Scroll: Size changed before updating detector elements.")}I(t,X,ce)}}),v.add(1,function(){if(!C(t)){d("Aborting because element has been uninstalled");return}if(!j()){d("Aborting because element container has not been initialized");return}K(t,X,ce)}),de&&ae&&v.add(2,function(){if(!C(t)){d("Aborting because element has been uninstalled");return}if(!j()){d("Aborting because element container has not been initialized");return}ae()})}function j(){return!!C(t).container}function J(){function ae(){return C(t).lastNotifiedWidth===void 0}d("notifyListenersIfNeeded invoked");var X=C(t);if(ae()&&X.lastWidth===X.startSize.width&&X.lastHeight===X.startSize.height)return d("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(X.lastWidth===X.lastNotifiedWidth&&X.lastHeight===X.lastNotifiedHeight)return d("Not notifying: Size already notified");d("Current size not notified, notifying..."),X.lastNotifiedWidth=X.lastWidth,X.lastNotifiedHeight=X.lastHeight,da(C(t).listeners,function(ce){ce(t)})}function Z(){if(d("startanimation triggered."),S(t)){d("Ignoring since element is still unrendered...");return}d("Element rendered.");var ae=o(t),X=a(t);(ae.scrollLeft===0||ae.scrollTop===0||X.scrollLeft===0||X.scrollTop===0)&&(d("Scrollbars out of sync. Updating detector elements..."),q(J))}function oe(){if(d("Scroll detected."),S(t)){d("Scroll event fired while unrendered. Ignoring...");return}q(J)}if(d("registerListenersAndPositionElements invoked."),!C(t)){d("Aborting because element has been uninstalled");return}C(t).onRendered=Z,C(t).onExpand=oe,C(t).onShrink=oe;var le=C(t).style;I(t,le.width,le.height)}function re(){if(d("finalizeDomMutation invoked."),!C(t)){d("Aborting because element has been uninstalled");return}var I=C(t).style;B(t,I.width,I.height),K(t,I.width,I.height)}function R(){h(t)}function W(){d("Installing..."),w(),A(),v.add(0,E),v.add(1,Q),v.add(2,ee),v.add(3,re),v.add(4,R)}d("Making detectable..."),m(t)?(d("Element is detached"),G(),d("Waiting until element is attached..."),C(t).onRendered=function(){d("Element is now attached"),W()}):W()}function i(e){var t=C(e);!t||(t.onExpandScroll&&y(o(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&y(a(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&y(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))}return{makeDetectable:u,addListener:g,uninstall:i,initDocument:_}},Xt=Vi.exports.forEach,_a=ta,va=ra,ga=ia,ya=na,ma=oa,Xn=Ki.exports,ba=ca,Qe=ha,Sa=fa,wa=pa;function Jn(c){return Array.isArray(c)||c.length!==void 0}function Yn(c){if(Array.isArray(c))return c;var n=[];return Xt(c,function(v){n.push(v)}),n}function Zn(c){return c&&c.nodeType===1}var Ca=function(c){c=c||{};var n;if(c.idHandler)n={get:function(u){return c.idHandler.get(u,!0)},set:c.idHandler.set};else{var v=ga(),C=ya({idGenerator:v,stateHandler:Qe});n=C}var M=c.reporter;if(!M){var D=M===!1;M=ma(D)}var x=et(c,"batchProcessor",ba({reporter:M})),r={};r.callOnAdd=!!et(c,"callOnAdd",!0),r.debug=!!et(c,"debug",!1);var _=va(n),s=_a({stateHandler:Qe}),l,f=et(c,"strategy","object"),p=et(c,"important",!1),b={reporter:M,batchProcessor:x,stateHandler:Qe,idHandler:n,important:p};if(f==="scroll"&&(Xn.isLegacyOpera()?(M.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),f="object"):Xn.isIE(9)&&(M.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),f="object")),f==="scroll")l=wa(b);else if(f==="object")l=Sa(b);else throw new Error("Invalid strategy name: "+f);var y={};function o(u,i,e){function t(A){var w=_.get(A);Xt(w,function(B){B(A)})}function h(A,w,E){_.add(w,E),A&&E(w)}if(e||(e=i,i=u,u={}),!i)throw new Error("At least one element required.");if(!e)throw new Error("Listener required.");if(Zn(i))i=[i];else if(Jn(i))i=Yn(i);else return M.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var d=0,m=et(u,"callOnAdd",r.callOnAdd),S=et(u,"onReady",function(){}),L=et(u,"debug",r.debug);Xt(i,function(w){Qe.getState(w)||(Qe.initState(w),n.set(w));var E=n.get(w);if(L&&M.log("Attaching listener to element",E,w),!s.isDetectable(w)){if(L&&M.log(E,"Not detectable."),s.isBusy(w)){L&&M.log(E,"System busy making it detectable"),h(m,w,e),y[E]=y[E]||[],y[E].push(function(){d++,d===i.length&&S()});return}return L&&M.log(E,"Making detectable..."),s.markBusy(w,!0),l.makeDetectable({debug:L,important:p},w,function(T){if(L&&M.log(E,"onElementDetectable"),Qe.getState(T)){s.markAsDetectable(T),s.markBusy(T,!1),l.addListener(T,t),h(m,T,e);var U=Qe.getState(T);if(U&&U.startSize){var H=T.offsetWidth,k=T.offsetHeight;(U.startSize.width!==H||U.startSize.height!==k)&&t(T)}y[E]&&Xt(y[E],function(O){O()})}else L&&M.log(E,"Element uninstalled before being detectable.");delete y[E],d++,d===i.length&&S()})}L&&M.log(E,"Already detecable, adding listener."),h(m,w,e),d++}),d===i.length&&S()}function a(u){if(!u)return M.error("At least one element is required.");if(Zn(u))u=[u];else if(Jn(u))u=Yn(u);else return M.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");Xt(u,function(i){_.removeAllListeners(i),l.uninstall(i),Qe.cleanState(i)})}function g(u){l.initDocument&&l.initDocument(u)}return{listenTo:o,removeListener:_.removeListener,removeAllListeners:_.removeAllListeners,uninstall:a,initDocument:g}};function et(c,n,v){var C=c[n];return C==null&&v!==void 0?v:C}var Xi={exports:{}},Qn=function(n,v){return function(){for(var M=new Array(arguments.length),D=0;D<M.length;D++)M[D]=arguments[D];return n.apply(v,M)}},Ea=Qn,ft=Object.prototype.toString;function Ji(c){return ft.call(c)==="[object Array]"}function Yi(c){return typeof c=="undefined"}function La(c){return c!==null&&!Yi(c)&&c.constructor!==null&&!Yi(c.constructor)&&typeof c.constructor.isBuffer=="function"&&c.constructor.isBuffer(c)}function Aa(c){return ft.call(c)==="[object ArrayBuffer]"}function xa(c){return typeof FormData!="undefined"&&c instanceof FormData}function ka(c){var n;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?n=ArrayBuffer.isView(c):n=c&&c.buffer&&c.buffer instanceof ArrayBuffer,n}function Ma(c){return typeof c=="string"}function Ra(c){return typeof c=="number"}function eo(c){return c!==null&&typeof c=="object"}function ei(c){if(ft.call(c)!=="[object Object]")return!1;var n=Object.getPrototypeOf(c);return n===null||n===Object.prototype}function Oa(c){return ft.call(c)==="[object Date]"}function Ta(c){return ft.call(c)==="[object File]"}function Da(c){return ft.call(c)==="[object Blob]"}function to(c){return ft.call(c)==="[object Function]"}function Ba(c){return eo(c)&&to(c.pipe)}function Pa(c){return typeof URLSearchParams!="undefined"&&c instanceof URLSearchParams}function Ia(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function Ha(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Zi(c,n){if(!(c===null||typeof c=="undefined"))if(typeof c!="object"&&(c=[c]),Ji(c))for(var v=0,C=c.length;v<C;v++)n.call(null,c[v],v,c);else for(var M in c)Object.prototype.hasOwnProperty.call(c,M)&&n.call(null,c[M],M,c)}function Qi(){var c={};function n(M,D){ei(c[D])&&ei(M)?c[D]=Qi(c[D],M):ei(M)?c[D]=Qi({},M):Ji(M)?c[D]=M.slice():c[D]=M}for(var v=0,C=arguments.length;v<C;v++)Zi(arguments[v],n);return c}function Fa(c,n,v){return Zi(n,function(M,D){v&&typeof M=="function"?c[D]=Ea(M,v):c[D]=M}),c}function Wa(c){return c.charCodeAt(0)===65279&&(c=c.slice(1)),c}var Me={isArray:Ji,isArrayBuffer:Aa,isBuffer:La,isFormData:xa,isArrayBufferView:ka,isString:Ma,isNumber:Ra,isObject:eo,isPlainObject:ei,isUndefined:Yi,isDate:Oa,isFile:Ta,isBlob:Da,isFunction:to,isStream:Ba,isURLSearchParams:Pa,isStandardBrowserEnv:Ha,forEach:Zi,merge:Qi,extend:Fa,trim:Ia,stripBOM:Wa},Mt=Me;function ro(c){return encodeURIComponent(c).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var io=function(n,v,C){if(!v)return n;var M;if(C)M=C(v);else if(Mt.isURLSearchParams(v))M=v.toString();else{var D=[];Mt.forEach(v,function(_,s){_===null||typeof _=="undefined"||(Mt.isArray(_)?s=s+"[]":_=[_],Mt.forEach(_,function(f){Mt.isDate(f)?f=f.toISOString():Mt.isObject(f)&&(f=JSON.stringify(f)),D.push(ro(s)+"="+ro(f))}))}),M=D.join("&")}if(M){var x=n.indexOf("#");x!==-1&&(n=n.slice(0,x)),n+=(n.indexOf("?")===-1?"?":"&")+M}return n},ja=Me;function ti(){this.handlers=[]}ti.prototype.use=function(n,v,C){return this.handlers.push({fulfilled:n,rejected:v,synchronous:C?C.synchronous:!1,runWhen:C?C.runWhen:null}),this.handlers.length-1};ti.prototype.eject=function(n){this.handlers[n]&&(this.handlers[n]=null)};ti.prototype.forEach=function(n){ja.forEach(this.handlers,function(C){C!==null&&n(C)})};var Ua=ti,Na=Me,qa=function(n,v){Na.forEach(n,function(M,D){D!==v&&D.toUpperCase()===v.toUpperCase()&&(n[v]=M,delete n[D])})},no=function(n,v,C,M,D){return n.config=v,C&&(n.code=C),n.request=M,n.response=D,n.isAxiosError=!0,n.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},n},za=no,oo=function(n,v,C,M,D){var x=new Error(n);return za(x,v,C,M,D)},$a=oo,Va=function(n,v,C){var M=C.config.validateStatus;!C.status||!M||M(C.status)?n(C):v($a("Request failed with status code "+C.status,C.config,null,C.request,C))},ri=Me,Ka=ri.isStandardBrowserEnv()?function(){return{write:function(v,C,M,D,x,r){var _=[];_.push(v+"="+encodeURIComponent(C)),ri.isNumber(M)&&_.push("expires="+new Date(M).toGMTString()),ri.isString(D)&&_.push("path="+D),ri.isString(x)&&_.push("domain="+x),r===!0&&_.push("secure"),document.cookie=_.join("; ")},read:function(v){var C=document.cookie.match(new RegExp("(^|;\\s*)("+v+")=([^;]*)"));return C?decodeURIComponent(C[3]):null},remove:function(v){this.write(v,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Ga=function(n){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(n)},Xa=function(n,v){return v?n.replace(/\/+$/,"")+"/"+v.replace(/^\/+/,""):n},Ja=Ga,Ya=Xa,Za=function(n,v){return n&&!Ja(v)?Ya(n,v):v},en=Me,Qa=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],ec=function(n){var v={},C,M,D;return n&&en.forEach(n.split(`
`),function(r){if(D=r.indexOf(":"),C=en.trim(r.substr(0,D)).toLowerCase(),M=en.trim(r.substr(D+1)),C){if(v[C]&&Qa.indexOf(C)>=0)return;C==="set-cookie"?v[C]=(v[C]?v[C]:[]).concat([M]):v[C]=v[C]?v[C]+", "+M:M}}),v},so=Me,tc=so.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),v=document.createElement("a"),C;function M(D){var x=D;return n&&(v.setAttribute("href",x),x=v.href),v.setAttribute("href",x),{href:v.href,protocol:v.protocol?v.protocol.replace(/:$/,""):"",host:v.host,search:v.search?v.search.replace(/^\?/,""):"",hash:v.hash?v.hash.replace(/^#/,""):"",hostname:v.hostname,port:v.port,pathname:v.pathname.charAt(0)==="/"?v.pathname:"/"+v.pathname}}return C=M(window.location.href),function(x){var r=so.isString(x)?M(x):x;return r.protocol===C.protocol&&r.host===C.host}}():function(){return function(){return!0}}();function tn(c){this.message=c}tn.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};tn.prototype.__CANCEL__=!0;var ii=tn,ni=Me,rc=Va,ic=Ka,nc=io,oc=Za,sc=ec,ac=tc,rn=oo,cc=si,lc=ii,ao=function(n){return new Promise(function(C,M){var D=n.data,x=n.headers,r=n.responseType,_;function s(){n.cancelToken&&n.cancelToken.unsubscribe(_),n.signal&&n.signal.removeEventListener("abort",_)}ni.isFormData(D)&&delete x["Content-Type"];var l=new XMLHttpRequest;if(n.auth){var f=n.auth.username||"",p=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";x.Authorization="Basic "+btoa(f+":"+p)}var b=oc(n.baseURL,n.url);l.open(n.method.toUpperCase(),nc(b,n.params,n.paramsSerializer),!0),l.timeout=n.timeout;function y(){if(!!l){var a="getAllResponseHeaders"in l?sc(l.getAllResponseHeaders()):null,g=!r||r==="text"||r==="json"?l.responseText:l.response,u={data:g,status:l.status,statusText:l.statusText,headers:a,config:n,request:l};rc(function(e){C(e),s()},function(e){M(e),s()},u),l=null}}if("onloadend"in l?l.onloadend=y:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(y)},l.onabort=function(){!l||(M(rn("Request aborted",n,"ECONNABORTED",l)),l=null)},l.onerror=function(){M(rn("Network Error",n,null,l)),l=null},l.ontimeout=function(){var g=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded",u=n.transitional||cc.transitional;n.timeoutErrorMessage&&(g=n.timeoutErrorMessage),M(rn(g,n,u.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",l)),l=null},ni.isStandardBrowserEnv()){var o=(n.withCredentials||ac(b))&&n.xsrfCookieName?ic.read(n.xsrfCookieName):void 0;o&&(x[n.xsrfHeaderName]=o)}"setRequestHeader"in l&&ni.forEach(x,function(g,u){typeof D=="undefined"&&u.toLowerCase()==="content-type"?delete x[u]:l.setRequestHeader(u,g)}),ni.isUndefined(n.withCredentials)||(l.withCredentials=!!n.withCredentials),r&&r!=="json"&&(l.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&l.addEventListener("progress",n.onDownloadProgress),typeof n.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",n.onUploadProgress),(n.cancelToken||n.signal)&&(_=function(a){!l||(M(!a||a&&a.type?new lc("canceled"):a),l.abort(),l=null)},n.cancelToken&&n.cancelToken.subscribe(_),n.signal&&(n.signal.aborted?_():n.signal.addEventListener("abort",_))),D||(D=null),l.send(D)})},Se=Me,co=qa,uc=no,hc={"Content-Type":"application/x-www-form-urlencoded"};function lo(c,n){!Se.isUndefined(c)&&Se.isUndefined(c["Content-Type"])&&(c["Content-Type"]=n)}function fc(){var c;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(c=ao),c}function dc(c,n,v){if(Se.isString(c))try{return(n||JSON.parse)(c),Se.trim(c)}catch(C){if(C.name!=="SyntaxError")throw C}return(v||JSON.stringify)(c)}var oi={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:fc(),transformRequest:[function(n,v){return co(v,"Accept"),co(v,"Content-Type"),Se.isFormData(n)||Se.isArrayBuffer(n)||Se.isBuffer(n)||Se.isStream(n)||Se.isFile(n)||Se.isBlob(n)?n:Se.isArrayBufferView(n)?n.buffer:Se.isURLSearchParams(n)?(lo(v,"application/x-www-form-urlencoded;charset=utf-8"),n.toString()):Se.isObject(n)||v&&v["Content-Type"]==="application/json"?(lo(v,"application/json"),dc(n)):n}],transformResponse:[function(n){var v=this.transitional||oi.transitional,C=v&&v.silentJSONParsing,M=v&&v.forcedJSONParsing,D=!C&&this.responseType==="json";if(D||M&&Se.isString(n)&&n.length)try{return JSON.parse(n)}catch(x){if(D)throw x.name==="SyntaxError"?uc(x,this,"E_JSON_PARSE"):x}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Se.forEach(["delete","get","head"],function(n){oi.headers[n]={}});Se.forEach(["post","put","patch"],function(n){oi.headers[n]=Se.merge(hc)});var si=oi,pc=Me,_c=si,vc=function(n,v,C){var M=this||_c;return pc.forEach(C,function(x){n=x.call(M,n,v)}),n},uo=function(n){return!!(n&&n.__CANCEL__)},ho=Me,nn=vc,gc=uo,yc=si,mc=ii;function on(c){if(c.cancelToken&&c.cancelToken.throwIfRequested(),c.signal&&c.signal.aborted)throw new mc("canceled")}var bc=function(n){on(n),n.headers=n.headers||{},n.data=nn.call(n,n.data,n.headers,n.transformRequest),n.headers=ho.merge(n.headers.common||{},n.headers[n.method]||{},n.headers),ho.forEach(["delete","get","head","post","put","patch","common"],function(M){delete n.headers[M]});var v=n.adapter||yc.adapter;return v(n).then(function(M){return on(n),M.data=nn.call(n,M.data,M.headers,n.transformResponse),M},function(M){return gc(M)||(on(n),M&&M.response&&(M.response.data=nn.call(n,M.response.data,M.response.headers,n.transformResponse))),Promise.reject(M)})},Re=Me,fo=function(n,v){v=v||{};var C={};function M(l,f){return Re.isPlainObject(l)&&Re.isPlainObject(f)?Re.merge(l,f):Re.isPlainObject(f)?Re.merge({},f):Re.isArray(f)?f.slice():f}function D(l){if(Re.isUndefined(v[l])){if(!Re.isUndefined(n[l]))return M(void 0,n[l])}else return M(n[l],v[l])}function x(l){if(!Re.isUndefined(v[l]))return M(void 0,v[l])}function r(l){if(Re.isUndefined(v[l])){if(!Re.isUndefined(n[l]))return M(void 0,n[l])}else return M(void 0,v[l])}function _(l){if(l in v)return M(n[l],v[l]);if(l in n)return M(void 0,n[l])}var s={url:x,method:x,data:x,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:_};return Re.forEach(Object.keys(n).concat(Object.keys(v)),function(f){var p=s[f]||D,b=p(f);Re.isUndefined(b)&&p!==_||(C[f]=b)}),C},po={version:"0.24.0"},Sc=po.version,sn={};["object","boolean","number","function","string","symbol"].forEach(function(c,n){sn[c]=function(C){return typeof C===c||"a"+(n<1?"n ":" ")+c}});var _o={};sn.transitional=function(n,v,C){function M(D,x){return"[Axios v"+Sc+"] Transitional option '"+D+"'"+x+(C?". "+C:"")}return function(D,x,r){if(n===!1)throw new Error(M(x," has been removed"+(v?" in "+v:"")));return v&&!_o[x]&&(_o[x]=!0,console.warn(M(x," has been deprecated since v"+v+" and will be removed in the near future"))),n?n(D,x,r):!0}};function wc(c,n,v){if(typeof c!="object")throw new TypeError("options must be an object");for(var C=Object.keys(c),M=C.length;M-- >0;){var D=C[M],x=n[D];if(x){var r=c[D],_=r===void 0||x(r,D,c);if(_!==!0)throw new TypeError("option "+D+" must be "+_);continue}if(v!==!0)throw Error("Unknown option "+D)}}var Cc={assertOptions:wc,validators:sn},vo=Me,Ec=io,go=Ua,yo=bc,ai=fo,mo=Cc,Rt=mo.validators;function Jt(c){this.defaults=c,this.interceptors={request:new go,response:new go}}Jt.prototype.request=function(n){typeof n=="string"?(n=arguments[1]||{},n.url=arguments[0]):n=n||{},n=ai(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var v=n.transitional;v!==void 0&&mo.assertOptions(v,{silentJSONParsing:Rt.transitional(Rt.boolean),forcedJSONParsing:Rt.transitional(Rt.boolean),clarifyTimeoutError:Rt.transitional(Rt.boolean)},!1);var C=[],M=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(M=M&&p.synchronous,C.unshift(p.fulfilled,p.rejected))});var D=[];this.interceptors.response.forEach(function(p){D.push(p.fulfilled,p.rejected)});var x;if(!M){var r=[yo,void 0];for(Array.prototype.unshift.apply(r,C),r=r.concat(D),x=Promise.resolve(n);r.length;)x=x.then(r.shift(),r.shift());return x}for(var _=n;C.length;){var s=C.shift(),l=C.shift();try{_=s(_)}catch(f){l(f);break}}try{x=yo(_)}catch(f){return Promise.reject(f)}for(;D.length;)x=x.then(D.shift(),D.shift());return x};Jt.prototype.getUri=function(n){return n=ai(this.defaults,n),Ec(n.url,n.params,n.paramsSerializer).replace(/^\?/,"")};vo.forEach(["delete","get","head","options"],function(n){Jt.prototype[n]=function(v,C){return this.request(ai(C||{},{method:n,url:v,data:(C||{}).data}))}});vo.forEach(["post","put","patch"],function(n){Jt.prototype[n]=function(v,C,M){return this.request(ai(M||{},{method:n,url:v,data:C}))}});var Lc=Jt,Ac=ii;function Ot(c){if(typeof c!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(M){n=M});var v=this;this.promise.then(function(C){if(!!v._listeners){var M,D=v._listeners.length;for(M=0;M<D;M++)v._listeners[M](C);v._listeners=null}}),this.promise.then=function(C){var M,D=new Promise(function(x){v.subscribe(x),M=x}).then(C);return D.cancel=function(){v.unsubscribe(M)},D},c(function(M){v.reason||(v.reason=new Ac(M),n(v.reason))})}Ot.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Ot.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]};Ot.prototype.unsubscribe=function(n){if(!!this._listeners){var v=this._listeners.indexOf(n);v!==-1&&this._listeners.splice(v,1)}};Ot.source=function(){var n,v=new Ot(function(M){n=M});return{token:v,cancel:n}};var xc=Ot,kc=function(n){return function(C){return n.apply(null,C)}},Mc=function(n){return typeof n=="object"&&n.isAxiosError===!0},bo=Me,Rc=Qn,ci=Lc,Oc=fo,Tc=si;function So(c){var n=new ci(c),v=Rc(ci.prototype.request,n);return bo.extend(v,ci.prototype,n),bo.extend(v,n),v.create=function(M){return So(Oc(c,M))},v}var Ne=So(Tc);Ne.Axios=ci;Ne.Cancel=ii;Ne.CancelToken=xc;Ne.isCancel=uo;Ne.VERSION=po.version;Ne.all=function(n){return Promise.all(n)};Ne.spread=kc;Ne.isAxiosError=Mc;Xi.exports=Ne;Xi.exports.default=Ne;var Dc=Xi.exports,Bc=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var n={},v=Symbol("test"),C=Object(v);if(typeof v=="string"||Object.prototype.toString.call(v)!=="[object Symbol]"||Object.prototype.toString.call(C)!=="[object Symbol]")return!1;var M=42;n[v]=M;for(v in n)return!1;if(typeof Object.keys=="function"&&Object.keys(n).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(n).length!==0)return!1;var D=Object.getOwnPropertySymbols(n);if(D.length!==1||D[0]!==v||!Object.prototype.propertyIsEnumerable.call(n,v))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var x=Object.getOwnPropertyDescriptor(n,v);if(x.value!==M||x.enumerable!==!0)return!1}return!0},wo=typeof Symbol!="undefined"&&Symbol,Pc=Bc,Ic=function(){return typeof wo!="function"||typeof Symbol!="function"||typeof wo("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Pc()},Hc="Function.prototype.bind called on incompatible ",an=Array.prototype.slice,Fc=Object.prototype.toString,Wc="[object Function]",jc=function(n){var v=this;if(typeof v!="function"||Fc.call(v)!==Wc)throw new TypeError(Hc+v);for(var C=an.call(arguments,1),M,D=function(){if(this instanceof M){var l=v.apply(this,C.concat(an.call(arguments)));return Object(l)===l?l:this}else return v.apply(n,C.concat(an.call(arguments)))},x=Math.max(0,v.length-C.length),r=[],_=0;_<x;_++)r.push("$"+_);if(M=Function("binder","return function ("+r.join(",")+"){ return binder.apply(this,arguments); }")(D),v.prototype){var s=function(){};s.prototype=v.prototype,M.prototype=new s,s.prototype=null}return M},Uc=jc,cn=Function.prototype.bind||Uc,Nc=cn,qc=Nc.call(Function.call,Object.prototype.hasOwnProperty),ne,Yt=SyntaxError,Co=Function,Tt=TypeError,ln=function(c){try{return Co('"use strict"; return ('+c+").constructor;")()}catch{}},dt=Object.getOwnPropertyDescriptor;if(dt)try{dt({},"")}catch{dt=null}var un=function(){throw new Tt},zc=dt?function(){try{return arguments.callee,un}catch{try{return dt(arguments,"callee").get}catch{return un}}}():un,Dt=Ic(),tt=Object.getPrototypeOf||function(c){return c.__proto__},Bt={},$c=typeof Uint8Array=="undefined"?ne:tt(Uint8Array),Pt={"%AggregateError%":typeof AggregateError=="undefined"?ne:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?ne:ArrayBuffer,"%ArrayIteratorPrototype%":Dt?tt([][Symbol.iterator]()):ne,"%AsyncFromSyncIteratorPrototype%":ne,"%AsyncFunction%":Bt,"%AsyncGenerator%":Bt,"%AsyncGeneratorFunction%":Bt,"%AsyncIteratorPrototype%":Bt,"%Atomics%":typeof Atomics=="undefined"?ne:Atomics,"%BigInt%":typeof BigInt=="undefined"?ne:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?ne:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?ne:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?ne:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?ne:FinalizationRegistry,"%Function%":Co,"%GeneratorFunction%":Bt,"%Int8Array%":typeof Int8Array=="undefined"?ne:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?ne:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?ne:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Dt?tt(tt([][Symbol.iterator]())):ne,"%JSON%":typeof JSON=="object"?JSON:ne,"%Map%":typeof Map=="undefined"?ne:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Dt?ne:tt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?ne:Promise,"%Proxy%":typeof Proxy=="undefined"?ne:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?ne:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?ne:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Dt?ne:tt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?ne:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Dt?tt(""[Symbol.iterator]()):ne,"%Symbol%":Dt?Symbol:ne,"%SyntaxError%":Yt,"%ThrowTypeError%":zc,"%TypedArray%":$c,"%TypeError%":Tt,"%Uint8Array%":typeof Uint8Array=="undefined"?ne:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?ne:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?ne:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?ne:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?ne:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?ne:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?ne:WeakSet},Vc=function c(n){var v;if(n==="%AsyncFunction%")v=ln("async function () {}");else if(n==="%GeneratorFunction%")v=ln("function* () {}");else if(n==="%AsyncGeneratorFunction%")v=ln("async function* () {}");else if(n==="%AsyncGenerator%"){var C=c("%AsyncGeneratorFunction%");C&&(v=C.prototype)}else if(n==="%AsyncIteratorPrototype%"){var M=c("%AsyncGenerator%");M&&(v=tt(M.prototype))}return Pt[n]=v,v},Eo={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},li=cn,ui=qc,Kc=li.call(Function.call,Array.prototype.concat),Gc=li.call(Function.apply,Array.prototype.splice),Lo=li.call(Function.call,String.prototype.replace),hi=li.call(Function.call,String.prototype.slice),Xc=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Jc=/\\(\\)?/g,Yc=function(n){var v=hi(n,0,1),C=hi(n,-1);if(v==="%"&&C!=="%")throw new Yt("invalid intrinsic syntax, expected closing `%`");if(C==="%"&&v!=="%")throw new Yt("invalid intrinsic syntax, expected opening `%`");var M=[];return Lo(n,Xc,function(D,x,r,_){M[M.length]=r?Lo(_,Jc,"$1"):x||D}),M},Zc=function(n,v){var C=n,M;if(ui(Eo,C)&&(M=Eo[C],C="%"+M[0]+"%"),ui(Pt,C)){var D=Pt[C];if(D===Bt&&(D=Vc(C)),typeof D=="undefined"&&!v)throw new Tt("intrinsic "+n+" exists, but is not available. Please file an issue!");return{alias:M,name:C,value:D}}throw new Yt("intrinsic "+n+" does not exist!")},hn=function(n,v){if(typeof n!="string"||n.length===0)throw new Tt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof v!="boolean")throw new Tt('"allowMissing" argument must be a boolean');var C=Yc(n),M=C.length>0?C[0]:"",D=Zc("%"+M+"%",v),x=D.name,r=D.value,_=!1,s=D.alias;s&&(M=s[0],Gc(C,Kc([0,1],s)));for(var l=1,f=!0;l<C.length;l+=1){var p=C[l],b=hi(p,0,1),y=hi(p,-1);if((b==='"'||b==="'"||b==="`"||y==='"'||y==="'"||y==="`")&&b!==y)throw new Yt("property names with quotes must have matching quotes");if((p==="constructor"||!f)&&(_=!0),M+="."+p,x="%"+M+"%",ui(Pt,x))r=Pt[x];else if(r!=null){if(!(p in r)){if(!v)throw new Tt("base intrinsic for "+n+" exists, but the property is not available.");return}if(dt&&l+1>=C.length){var o=dt(r,p);f=!!o,f&&"get"in o&&!("originalValue"in o.get)?r=o.get:r=r[p]}else f=ui(r,p),r=r[p];f&&!_&&(Pt[x]=r)}}return r},Ao={exports:{}};(function(c){var n=cn,v=hn,C=v("%Function.prototype.apply%"),M=v("%Function.prototype.call%"),D=v("%Reflect.apply%",!0)||n.call(M,C),x=v("%Object.getOwnPropertyDescriptor%",!0),r=v("%Object.defineProperty%",!0),_=v("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}c.exports=function(f){var p=D(n,M,arguments);if(x&&r){var b=x(p,"length");b.configurable&&r(p,"length",{value:1+_(0,f.length-(arguments.length-1))})}return p};var s=function(){return D(n,C,arguments)};r?r(c.exports,"apply",{value:s}):c.exports.apply=s})(Ao);var xo=hn,ko=Ao.exports,Qc=ko(xo("String.prototype.indexOf")),el=function(n,v){var C=xo(n,!!v);return typeof C=="function"&&Qc(n,".prototype.")>-1?ko(C):C},tl={},rl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:tl}),Mo=Qs(rl),fn=typeof Map=="function"&&Map.prototype,dn=Object.getOwnPropertyDescriptor&&fn?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,fi=fn&&dn&&typeof dn.get=="function"?dn.get:null,il=fn&&Map.prototype.forEach,pn=typeof Set=="function"&&Set.prototype,_n=Object.getOwnPropertyDescriptor&&pn?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,di=pn&&_n&&typeof _n.get=="function"?_n.get:null,nl=pn&&Set.prototype.forEach,ol=typeof WeakMap=="function"&&WeakMap.prototype,Zt=ol?WeakMap.prototype.has:null,sl=typeof WeakSet=="function"&&WeakSet.prototype,Qt=sl?WeakSet.prototype.has:null,al=typeof WeakRef=="function"&&WeakRef.prototype,Ro=al?WeakRef.prototype.deref:null,cl=Boolean.prototype.valueOf,ll=Object.prototype.toString,ul=Function.prototype.toString,hl=String.prototype.match,vn=typeof BigInt=="function"?BigInt.prototype.valueOf:null,gn=Object.getOwnPropertySymbols,yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,It=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ee=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===It?"object":"symbol")?Symbol.toStringTag:null,fl=Object.prototype.propertyIsEnumerable,Oo=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(c){return c.__proto__}:null),mn=Mo.custom,bn=mn&&Do(mn)?mn:null,dl=function c(n,v,C,M){var D=v||{};if(pt(D,"quoteStyle")&&D.quoteStyle!=="single"&&D.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(pt(D,"maxStringLength")&&(typeof D.maxStringLength=="number"?D.maxStringLength<0&&D.maxStringLength!==1/0:D.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var x=pt(D,"customInspect")?D.customInspect:!0;if(typeof x!="boolean"&&x!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(pt(D,"indent")&&D.indent!==null&&D.indent!=="	"&&!(parseInt(D.indent,10)===D.indent&&D.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof n=="undefined")return"undefined";if(n===null)return"null";if(typeof n=="boolean")return n?"true":"false";if(typeof n=="string")return Po(n,D);if(typeof n=="number")return n===0?1/0/n>0?"0":"-0":String(n);if(typeof n=="bigint")return String(n)+"n";var r=typeof D.depth=="undefined"?5:D.depth;if(typeof C=="undefined"&&(C=0),C>=r&&r>0&&typeof n=="object")return Sn(n)?"[Array]":"[Object]";var _=Tl(D,C);if(typeof M=="undefined")M=[];else if(Bo(M,n)>=0)return"[Circular]";function s(L,A,w){if(A&&(M=M.slice(),M.push(A)),w){var E={depth:D.depth};return pt(D,"quoteStyle")&&(E.quoteStyle=D.quoteStyle),c(L,E,C+1,M)}return c(L,D,C+1,M)}if(typeof n=="function"){var l=Cl(n),f=pi(n,s);return"[Function"+(l?": "+l:" (anonymous)")+"]"+(f.length>0?" { "+f.join(", ")+" }":"")}if(Do(n)){var p=It?String(n).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):yn.call(n);return typeof n=="object"&&!It?er(p):p}if(Ml(n)){for(var b="<"+String(n.nodeName).toLowerCase(),y=n.attributes||[],o=0;o<y.length;o++)b+=" "+y[o].name+"="+To(pl(y[o].value),"double",D);return b+=">",n.childNodes&&n.childNodes.length&&(b+="..."),b+="</"+String(n.nodeName).toLowerCase()+">",b}if(Sn(n)){if(n.length===0)return"[]";var a=pi(n,s);return _&&!Ol(a)?"["+Cn(a,_)+"]":"[ "+a.join(", ")+" ]"}if(gl(n)){var g=pi(n,s);return g.length===0?"["+String(n)+"]":"{ ["+String(n)+"] "+g.join(", ")+" }"}if(typeof n=="object"&&x){if(bn&&typeof n[bn]=="function")return n[bn]();if(x!=="symbol"&&typeof n.inspect=="function")return n.inspect()}if(El(n)){var u=[];return il.call(n,function(L,A){u.push(s(A,n,!0)+" => "+s(L,n))}),Io("Map",fi.call(n),u,_)}if(xl(n)){var i=[];return nl.call(n,function(L){i.push(s(L,n))}),Io("Set",di.call(n),i,_)}if(Ll(n))return wn("WeakMap");if(kl(n))return wn("WeakSet");if(Al(n))return wn("WeakRef");if(ml(n))return er(s(Number(n)));if(Sl(n))return er(s(vn.call(n)));if(bl(n))return er(cl.call(n));if(yl(n))return er(s(String(n)));if(!_l(n)&&!vl(n)){var e=pi(n,s),t=Oo?Oo(n)===Object.prototype:n instanceof Object||n.constructor===Object,h=n instanceof Object?"":"null prototype",d=!t&&Ee&&Object(n)===n&&Ee in n?rt(n).slice(8,-1):h?"Object":"",m=t||typeof n.constructor!="function"?"":n.constructor.name?n.constructor.name+" ":"",S=m+(d||h?"["+[].concat(d||[],h||[]).join(": ")+"] ":"");return e.length===0?S+"{}":_?S+"{"+Cn(e,_)+"}":S+"{ "+e.join(", ")+" }"}return String(n)};function To(c,n,v){var C=(v.quoteStyle||n)==="double"?'"':"'";return C+c+C}function pl(c){return String(c).replace(/"/g,"&quot;")}function Sn(c){return rt(c)==="[object Array]"&&(!Ee||!(typeof c=="object"&&Ee in c))}function _l(c){return rt(c)==="[object Date]"&&(!Ee||!(typeof c=="object"&&Ee in c))}function vl(c){return rt(c)==="[object RegExp]"&&(!Ee||!(typeof c=="object"&&Ee in c))}function gl(c){return rt(c)==="[object Error]"&&(!Ee||!(typeof c=="object"&&Ee in c))}function yl(c){return rt(c)==="[object String]"&&(!Ee||!(typeof c=="object"&&Ee in c))}function ml(c){return rt(c)==="[object Number]"&&(!Ee||!(typeof c=="object"&&Ee in c))}function bl(c){return rt(c)==="[object Boolean]"&&(!Ee||!(typeof c=="object"&&Ee in c))}function Do(c){if(It)return c&&typeof c=="object"&&c instanceof Symbol;if(typeof c=="symbol")return!0;if(!c||typeof c!="object"||!yn)return!1;try{return yn.call(c),!0}catch{}return!1}function Sl(c){if(!c||typeof c!="object"||!vn)return!1;try{return vn.call(c),!0}catch{}return!1}var wl=Object.prototype.hasOwnProperty||function(c){return c in this};function pt(c,n){return wl.call(c,n)}function rt(c){return ll.call(c)}function Cl(c){if(c.name)return c.name;var n=hl.call(ul.call(c),/^function\s*([\w$]+)/);return n?n[1]:null}function Bo(c,n){if(c.indexOf)return c.indexOf(n);for(var v=0,C=c.length;v<C;v++)if(c[v]===n)return v;return-1}function El(c){if(!fi||!c||typeof c!="object")return!1;try{fi.call(c);try{di.call(c)}catch{return!0}return c instanceof Map}catch{}return!1}function Ll(c){if(!Zt||!c||typeof c!="object")return!1;try{Zt.call(c,Zt);try{Qt.call(c,Qt)}catch{return!0}return c instanceof WeakMap}catch{}return!1}function Al(c){if(!Ro||!c||typeof c!="object")return!1;try{return Ro.call(c),!0}catch{}return!1}function xl(c){if(!di||!c||typeof c!="object")return!1;try{di.call(c);try{fi.call(c)}catch{return!0}return c instanceof Set}catch{}return!1}function kl(c){if(!Qt||!c||typeof c!="object")return!1;try{Qt.call(c,Qt);try{Zt.call(c,Zt)}catch{return!0}return c instanceof WeakSet}catch{}return!1}function Ml(c){return!c||typeof c!="object"?!1:typeof HTMLElement!="undefined"&&c instanceof HTMLElement?!0:typeof c.nodeName=="string"&&typeof c.getAttribute=="function"}function Po(c,n){if(c.length>n.maxStringLength){var v=c.length-n.maxStringLength,C="... "+v+" more character"+(v>1?"s":"");return Po(c.slice(0,n.maxStringLength),n)+C}var M=c.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,Rl);return To(M,"single",n)}function Rl(c){var n=c.charCodeAt(0),v={8:"b",9:"t",10:"n",12:"f",13:"r"}[n];return v?"\\"+v:"\\x"+(n<16?"0":"")+n.toString(16).toUpperCase()}function er(c){return"Object("+c+")"}function wn(c){return c+" { ? }"}function Io(c,n,v,C){var M=C?Cn(v,C):v.join(", ");return c+" ("+n+") {"+M+"}"}function Ol(c){for(var n=0;n<c.length;n++)if(Bo(c[n],`
`)>=0)return!1;return!0}function Tl(c,n){var v;if(c.indent==="	")v="	";else if(typeof c.indent=="number"&&c.indent>0)v=Array(c.indent+1).join(" ");else return null;return{base:v,prev:Array(n+1).join(v)}}function Cn(c,n){if(c.length===0)return"";var v=`
`+n.prev+n.base;return v+c.join(","+v)+`
`+n.prev}function pi(c,n){var v=Sn(c),C=[];if(v){C.length=c.length;for(var M=0;M<c.length;M++)C[M]=pt(c,M)?n(c[M],c):""}var D=typeof gn=="function"?gn(c):[],x;if(It){x={};for(var r=0;r<D.length;r++)x["$"+D[r]]=D[r]}for(var _ in c)!pt(c,_)||v&&String(Number(_))===_&&_<c.length||It&&x["$"+_]instanceof Symbol||(/[^\w$]/.test(_)?C.push(n(_,c)+": "+n(c[_],c)):C.push(_+": "+n(c[_],c)));if(typeof gn=="function")for(var s=0;s<D.length;s++)fl.call(c,D[s])&&C.push("["+n(D[s])+"]: "+n(c[D[s]],c));return C}var En=hn,Ht=el,Dl=dl,Bl=En("%TypeError%"),_i=En("%WeakMap%",!0),vi=En("%Map%",!0),Pl=Ht("WeakMap.prototype.get",!0),Il=Ht("WeakMap.prototype.set",!0),Hl=Ht("WeakMap.prototype.has",!0),Fl=Ht("Map.prototype.get",!0),Wl=Ht("Map.prototype.set",!0),jl=Ht("Map.prototype.has",!0),Ln=function(c,n){for(var v=c,C;(C=v.next)!==null;v=C)if(C.key===n)return v.next=C.next,C.next=c.next,c.next=C,C},Ul=function(c,n){var v=Ln(c,n);return v&&v.value},Nl=function(c,n,v){var C=Ln(c,n);C?C.value=v:c.next={key:n,next:c.next,value:v}},ql=function(c,n){return!!Ln(c,n)},zl=function(){var n,v,C,M={assert:function(D){if(!M.has(D))throw new Bl("Side channel does not contain "+Dl(D))},get:function(D){if(_i&&D&&(typeof D=="object"||typeof D=="function")){if(n)return Pl(n,D)}else if(vi){if(v)return Fl(v,D)}else if(C)return Ul(C,D)},has:function(D){if(_i&&D&&(typeof D=="object"||typeof D=="function")){if(n)return Hl(n,D)}else if(vi){if(v)return jl(v,D)}else if(C)return ql(C,D);return!1},set:function(D,x){_i&&D&&(typeof D=="object"||typeof D=="function")?(n||(n=new _i),Il(n,D,x)):vi?(v||(v=new vi),Wl(v,D,x)):(C||(C={key:{},next:null}),Nl(C,D,x))}};return M},$l=String.prototype.replace,Vl=/%20/g,An={RFC1738:"RFC1738",RFC3986:"RFC3986"},xn={default:An.RFC3986,formatters:{RFC1738:function(c){return $l.call(c,Vl,"+")},RFC3986:function(c){return String(c)}},RFC1738:An.RFC1738,RFC3986:An.RFC3986},Kl=xn,kn=Object.prototype.hasOwnProperty,_t=Array.isArray,qe=function(){for(var c=[],n=0;n<256;++n)c.push("%"+((n<16?"0":"")+n.toString(16)).toUpperCase());return c}(),Gl=function(n){for(;n.length>1;){var v=n.pop(),C=v.obj[v.prop];if(_t(C)){for(var M=[],D=0;D<C.length;++D)typeof C[D]!="undefined"&&M.push(C[D]);v.obj[v.prop]=M}}},Ho=function(n,v){for(var C=v&&v.plainObjects?Object.create(null):{},M=0;M<n.length;++M)typeof n[M]!="undefined"&&(C[M]=n[M]);return C},Xl=function c(n,v,C){if(!v)return n;if(typeof v!="object"){if(_t(n))n.push(v);else if(n&&typeof n=="object")(C&&(C.plainObjects||C.allowPrototypes)||!kn.call(Object.prototype,v))&&(n[v]=!0);else return[n,v];return n}if(!n||typeof n!="object")return[n].concat(v);var M=n;return _t(n)&&!_t(v)&&(M=Ho(n,C)),_t(n)&&_t(v)?(v.forEach(function(D,x){if(kn.call(n,x)){var r=n[x];r&&typeof r=="object"&&D&&typeof D=="object"?n[x]=c(r,D,C):n.push(D)}else n[x]=D}),n):Object.keys(v).reduce(function(D,x){var r=v[x];return kn.call(D,x)?D[x]=c(D[x],r,C):D[x]=r,D},M)},Jl=function(n,v){return Object.keys(v).reduce(function(C,M){return C[M]=v[M],C},n)},Yl=function(c,n,v){var C=c.replace(/\+/g," ");if(v==="iso-8859-1")return C.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(C)}catch{return C}},Zl=function(n,v,C,M,D){if(n.length===0)return n;var x=n;if(typeof n=="symbol"?x=Symbol.prototype.toString.call(n):typeof n!="string"&&(x=String(n)),C==="iso-8859-1")return escape(x).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var r="",_=0;_<x.length;++_){var s=x.charCodeAt(_);if(s===45||s===46||s===95||s===126||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||D===Kl.RFC1738&&(s===40||s===41)){r+=x.charAt(_);continue}if(s<128){r=r+qe[s];continue}if(s<2048){r=r+(qe[192|s>>6]+qe[128|s&63]);continue}if(s<55296||s>=57344){r=r+(qe[224|s>>12]+qe[128|s>>6&63]+qe[128|s&63]);continue}_+=1,s=65536+((s&1023)<<10|x.charCodeAt(_)&1023),r+=qe[240|s>>18]+qe[128|s>>12&63]+qe[128|s>>6&63]+qe[128|s&63]}return r},Ql=function(n){for(var v=[{obj:{o:n},prop:"o"}],C=[],M=0;M<v.length;++M)for(var D=v[M],x=D.obj[D.prop],r=Object.keys(x),_=0;_<r.length;++_){var s=r[_],l=x[s];typeof l=="object"&&l!==null&&C.indexOf(l)===-1&&(v.push({obj:x,prop:s}),C.push(l))}return Gl(v),n},eu=function(n){return Object.prototype.toString.call(n)==="[object RegExp]"},tu=function(n){return!n||typeof n!="object"?!1:!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))},ru=function(n,v){return[].concat(n,v)},iu=function(n,v){if(_t(n)){for(var C=[],M=0;M<n.length;M+=1)C.push(v(n[M]));return C}return v(n)},Fo={arrayToObject:Ho,assign:Jl,combine:ru,compact:Ql,decode:Yl,encode:Zl,isBuffer:tu,isRegExp:eu,maybeMap:iu,merge:Xl},Wo=zl,Mn=Fo,tr=xn,nu=Object.prototype.hasOwnProperty,jo={brackets:function(n){return n+"[]"},comma:"comma",indices:function(n,v){return n+"["+v+"]"},repeat:function(n){return n}},vt=Array.isArray,ou=String.prototype.split,su=Array.prototype.push,Uo=function(c,n){su.apply(c,vt(n)?n:[n])},au=Date.prototype.toISOString,No=tr.default,we={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Mn.encode,encodeValuesOnly:!1,format:No,formatter:tr.formatters[No],indices:!1,serializeDate:function(n){return au.call(n)},skipNulls:!1,strictNullHandling:!1},cu=function(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="symbol"||typeof n=="bigint"},Rn={},lu=function c(n,v,C,M,D,x,r,_,s,l,f,p,b,y,o){for(var a=n,g=o,u=0,i=!1;(g=g.get(Rn))!==void 0&&!i;){var e=g.get(n);if(u+=1,typeof e!="undefined"){if(e===u)throw new RangeError("Cyclic object value");i=!0}typeof g.get(Rn)=="undefined"&&(u=0)}if(typeof r=="function"?a=r(v,a):a instanceof Date?a=l(a):C==="comma"&&vt(a)&&(a=Mn.maybeMap(a,function(H){return H instanceof Date?l(H):H})),a===null){if(M)return x&&!b?x(v,we.encoder,y,"key",f):v;a=""}if(cu(a)||Mn.isBuffer(a)){if(x){var t=b?v:x(v,we.encoder,y,"key",f);if(C==="comma"&&b){for(var h=ou.call(String(a),","),d="",m=0;m<h.length;++m)d+=(m===0?"":",")+p(x(h[m],we.encoder,y,"value",f));return[p(t)+"="+d]}return[p(t)+"="+p(x(a,we.encoder,y,"value",f))]}return[p(v)+"="+p(String(a))]}var S=[];if(typeof a=="undefined")return S;var L;if(C==="comma"&&vt(a))L=[{value:a.length>0?a.join(",")||null:void 0}];else if(vt(r))L=r;else{var A=Object.keys(a);L=_?A.sort(_):A}for(var w=0;w<L.length;++w){var E=L[w],B=typeof E=="object"&&E.value!==void 0?E.value:a[E];if(!(D&&B===null)){var T=vt(a)?typeof C=="function"?C(v,E):v:v+(s?"."+E:"["+E+"]");o.set(n,u);var U=Wo();U.set(Rn,o),Uo(S,c(B,T,C,M,D,x,r,_,s,l,f,p,b,y,U))}}return S},uu=function(n){if(!n)return we;if(n.encoder!==null&&n.encoder!==void 0&&typeof n.encoder!="function")throw new TypeError("Encoder has to be a function.");var v=n.charset||we.charset;if(typeof n.charset!="undefined"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var C=tr.default;if(typeof n.format!="undefined"){if(!nu.call(tr.formatters,n.format))throw new TypeError("Unknown format option provided.");C=n.format}var M=tr.formatters[C],D=we.filter;return(typeof n.filter=="function"||vt(n.filter))&&(D=n.filter),{addQueryPrefix:typeof n.addQueryPrefix=="boolean"?n.addQueryPrefix:we.addQueryPrefix,allowDots:typeof n.allowDots=="undefined"?we.allowDots:!!n.allowDots,charset:v,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:we.charsetSentinel,delimiter:typeof n.delimiter=="undefined"?we.delimiter:n.delimiter,encode:typeof n.encode=="boolean"?n.encode:we.encode,encoder:typeof n.encoder=="function"?n.encoder:we.encoder,encodeValuesOnly:typeof n.encodeValuesOnly=="boolean"?n.encodeValuesOnly:we.encodeValuesOnly,filter:D,format:C,formatter:M,serializeDate:typeof n.serializeDate=="function"?n.serializeDate:we.serializeDate,skipNulls:typeof n.skipNulls=="boolean"?n.skipNulls:we.skipNulls,sort:typeof n.sort=="function"?n.sort:null,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:we.strictNullHandling}},hu=function(c,n){var v=c,C=uu(n),M,D;typeof C.filter=="function"?(D=C.filter,v=D("",v)):vt(C.filter)&&(D=C.filter,M=D);var x=[];if(typeof v!="object"||v===null)return"";var r;n&&n.arrayFormat in jo?r=n.arrayFormat:n&&"indices"in n?r=n.indices?"indices":"repeat":r="indices";var _=jo[r];M||(M=Object.keys(v)),C.sort&&M.sort(C.sort);for(var s=Wo(),l=0;l<M.length;++l){var f=M[l];C.skipNulls&&v[f]===null||Uo(x,lu(v[f],f,_,C.strictNullHandling,C.skipNulls,C.encode?C.encoder:null,C.filter,C.sort,C.allowDots,C.serializeDate,C.format,C.formatter,C.encodeValuesOnly,C.charset,s))}var p=x.join(C.delimiter),b=C.addQueryPrefix===!0?"?":"";return C.charsetSentinel&&(C.charset==="iso-8859-1"?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),p.length>0?b+p:""},Ft=Fo,On=Object.prototype.hasOwnProperty,fu=Array.isArray,ye={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ft.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},du=function(c){return c.replace(/&#(\d+);/g,function(n,v){return String.fromCharCode(parseInt(v,10))})},qo=function(c,n){return c&&typeof c=="string"&&n.comma&&c.indexOf(",")>-1?c.split(","):c},pu="utf8=%26%2310003%3B",_u="utf8=%E2%9C%93",vu=function(n,v){var C={},M=v.ignoreQueryPrefix?n.replace(/^\?/,""):n,D=v.parameterLimit===1/0?void 0:v.parameterLimit,x=M.split(v.delimiter,D),r=-1,_,s=v.charset;if(v.charsetSentinel)for(_=0;_<x.length;++_)x[_].indexOf("utf8=")===0&&(x[_]===_u?s="utf-8":x[_]===pu&&(s="iso-8859-1"),r=_,_=x.length);for(_=0;_<x.length;++_)if(_!==r){var l=x[_],f=l.indexOf("]="),p=f===-1?l.indexOf("="):f+1,b,y;p===-1?(b=v.decoder(l,ye.decoder,s,"key"),y=v.strictNullHandling?null:""):(b=v.decoder(l.slice(0,p),ye.decoder,s,"key"),y=Ft.maybeMap(qo(l.slice(p+1),v),function(o){return v.decoder(o,ye.decoder,s,"value")})),y&&v.interpretNumericEntities&&s==="iso-8859-1"&&(y=du(y)),l.indexOf("[]=")>-1&&(y=fu(y)?[y]:y),On.call(C,b)?C[b]=Ft.combine(C[b],y):C[b]=y}return C},gu=function(c,n,v,C){for(var M=C?n:qo(n,v),D=c.length-1;D>=0;--D){var x,r=c[D];if(r==="[]"&&v.parseArrays)x=[].concat(M);else{x=v.plainObjects?Object.create(null):{};var _=r.charAt(0)==="["&&r.charAt(r.length-1)==="]"?r.slice(1,-1):r,s=parseInt(_,10);!v.parseArrays&&_===""?x={0:M}:!isNaN(s)&&r!==_&&String(s)===_&&s>=0&&v.parseArrays&&s<=v.arrayLimit?(x=[],x[s]=M):x[_]=M}M=x}return M},yu=function(n,v,C,M){if(!!n){var D=C.allowDots?n.replace(/\.([^.[]+)/g,"[$1]"):n,x=/(\[[^[\]]*])/,r=/(\[[^[\]]*])/g,_=C.depth>0&&x.exec(D),s=_?D.slice(0,_.index):D,l=[];if(s){if(!C.plainObjects&&On.call(Object.prototype,s)&&!C.allowPrototypes)return;l.push(s)}for(var f=0;C.depth>0&&(_=r.exec(D))!==null&&f<C.depth;){if(f+=1,!C.plainObjects&&On.call(Object.prototype,_[1].slice(1,-1))&&!C.allowPrototypes)return;l.push(_[1])}return _&&l.push("["+D.slice(_.index)+"]"),gu(l,v,C,M)}},mu=function(n){if(!n)return ye;if(n.decoder!==null&&n.decoder!==void 0&&typeof n.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof n.charset!="undefined"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var v=typeof n.charset=="undefined"?ye.charset:n.charset;return{allowDots:typeof n.allowDots=="undefined"?ye.allowDots:!!n.allowDots,allowPrototypes:typeof n.allowPrototypes=="boolean"?n.allowPrototypes:ye.allowPrototypes,allowSparse:typeof n.allowSparse=="boolean"?n.allowSparse:ye.allowSparse,arrayLimit:typeof n.arrayLimit=="number"?n.arrayLimit:ye.arrayLimit,charset:v,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:ye.charsetSentinel,comma:typeof n.comma=="boolean"?n.comma:ye.comma,decoder:typeof n.decoder=="function"?n.decoder:ye.decoder,delimiter:typeof n.delimiter=="string"||Ft.isRegExp(n.delimiter)?n.delimiter:ye.delimiter,depth:typeof n.depth=="number"||n.depth===!1?+n.depth:ye.depth,ignoreQueryPrefix:n.ignoreQueryPrefix===!0,interpretNumericEntities:typeof n.interpretNumericEntities=="boolean"?n.interpretNumericEntities:ye.interpretNumericEntities,parameterLimit:typeof n.parameterLimit=="number"?n.parameterLimit:ye.parameterLimit,parseArrays:n.parseArrays!==!1,plainObjects:typeof n.plainObjects=="boolean"?n.plainObjects:ye.plainObjects,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:ye.strictNullHandling}},bu=function(c,n){var v=mu(n);if(c===""||c===null||typeof c=="undefined")return v.plainObjects?Object.create(null):{};for(var C=typeof c=="string"?vu(c,v):c,M=v.plainObjects?Object.create(null):{},D=Object.keys(C),x=0;x<D.length;++x){var r=D[x],_=yu(r,C[r],v,typeof c=="string");M=Ft.merge(M,_,v)}return v.allowSparse===!0?M:Ft.compact(M)},Su=hu,wu=bu,Cu=xn,it={formats:Cu,parse:wu,stringify:Su},Be=Dc.create({baseURL:"/",timeout:4e3});function Eu(c){return Be.get("/desktop/api/file/list?",{params:{root:c}})}function Lu(c){return Be.get("/desktop/api/file/delete?",{params:{path:c}})}function Au(c,n){return Be.post("/desktop/api/file/chunkUpload",c,n)}function xu(c){return Be.post("/desktop/api/file/fileCopy",it.stringify({path:c}))}function ku(c){return Be.post("/desktop/api/file/filePaste",it.stringify({path:c}),{timeout:60*1e3*30})}function Mu(c){return Be.post("/desktop/api/file/fileCut",it.stringify({path:c}))}function Ru(c,n){return Be.post("/desktop/api/file/fileRename",it.stringify({newName:n,source:c}))}function Ou(c,n,v){return Be.post("/desktop/api/file/fileCompress",it.stringify({path:c,targetName:n,compressType:v}))}function Tu(c){return Be.post("/desktop/api/file/fileDecompression",it.stringify({path:c}))}function Du(c){return Be.post("/desktop/api/file/getFileAttribute",it.stringify({path:c}))}function Bu(c,n,v){return Be.post("/desktop/api/file/createFile",it.stringify({parent:c,name:n,type:v}))}const Pu=1e3*60*15,gi=15*1024*1024;function Iu(c){let n=0;for(var v in c)n+=c[v];return n}class zo{constructor(n,v,C,M,D,x,r,_){this.file=n,this.uploadId=v,this.blobId=C,this.isChunks=M,this.progress=D,this.target=x,this.fileName=r,this.total=_}}const Hu=c=>{let n=Math.ceil(c.size/gi),v=[];for(let C=0;C<n;C++){let M=C*gi,D=M+gi,x=c.slice(M,D);v.push({id:C,data:x})}return v};let Tn=!1,$o=null;const Fu=c=>{let n={signal:Un(c.uploadId).signal,timeout:Pu,headers:{},onUploadProgress:c.progress},v=zu(c.file,c.uploadId,c.blobId,c.target,c.fileName,c.total);Au(v,n).then(C=>{Ve.current>0&&Ve.current--}).catch(C=>{Ve.current>0&&Ve.current--})},Wu=()=>{if(console.log("limit",Ve),Ve.current<Ve.max){let c=kt.files.dequeue();if(c!=null){Fu(c);return}Ve.current=0,clearInterval($o),Tn=!1}},ju=()=>{Tn||(Tn=!0,$o=setInterval(Wu,120))};function Uu(c,n){let v=$i(),C=Hu(c);jn({id:v,name:c.name,progress:"0"});let M=[...new Array(C.length).keys()];for(const D of C){let x=r=>{var _=Math.round(r.loaded*100/r.total);M[parseInt(D.id)]=_;let s=Iu(M)/(C.length*100);return Nn(v,s*100),_};kt.files.enqueue(new zo(D.data,v,D.id,!0,x,n,c.name,c.size))}}function Nu(c,n){let v=$i(),C=M=>{var D=Math.round(M.loaded*100/M.total);return Nn(v,D),D};jn({id:v,name:c.name,progress:"0"}),kt.files.enqueue(new zo(c,v,"0",!1,C,n,c.name,c.size))}class qu{constructor(){}start(n,v,C){if(ju(),n.size>gi){Uu(n,v);return}Nu(n,v)}}const zu=(c,n,v,C,M,D)=>{let x=new FormData;return x.append("target",C),x.append("fileBinary",c),x.append("chunkId",n),x.append("blobId",v),x.append("fileName",M),x.append("total",D),x};const $u=["id","data-id"],Vu={class:"item-group"},Ku={class:"item-group"},Gu={class:"item-group"},Xu={class:"item-group"},Ju={key:0,class:"item-group"},Yu={class:"item-group"},Zu=N("div",{class:"item-group"},[N("li",null,"\u4E0B\u8F7D")],-1),Qu={class:"item-group"},eh={class:"item-group"},th={class:"window-title"},rh=["onClick"],ih={class:"infos"},nh={class:"search"},oh={class:"opt"},sh={key:0},ah=["onContextmenu","onClick","onDblclick"],ch={class:"file-item"},lh=["src"],uh=["src"],hh=["onKeydown","onBlur"],fh={key:3},dh={class:"tip"},ph={props:{item:Object,actionWindowId:String,folderInfo:Object},setup(c){const n=c;let v=ut(Vt({},n.item.data)),C=ht("/"),M=ht(""),D=[];const x=()=>{be.openFileUploadManager()},r=()=>{o(),be.startNewTerminal(l())},_=()=>{v.searchInputVisible=!v.searchInputVisible,document.querySelector(`#${n.item.id} #searchInput`).focus()},s=O=>{let P=M.value;v.child=D.filter(F=>F.name.startsWith(P))},l=()=>v.path.getPath(),f=O=>{o(),be.startNewDialogCreateFile(P=>{console.log(P,v.path.getPath()),Bu(l(),P.targetName,O).then(F=>{F.data.status!=0&&be.startNewErrorMessageDialog(F.data.msg),B()})})},p=O=>{let P=w()||{path:O};be.startNewFileAttribute(P.path),o()},b=()=>{o(),Tu(w().path).then(O=>{})},y=()=>{o();let O=w(),P="";if(O.baseFileAttribute.directory)P=O.name;else{let F=O.name.indexOf(".");F==0?P=O.name:P=O.name.substring(0,F)}be.startNewDialogSelect(P,function(F,K){Ou(w().path,F.targetName,F.type).then(G=>{be.startNewSuccessMessageDialog("\u4EFB\u52A1\u8C03\u7528\u6210\u529F")})})},o=()=>{v.folderContextMenuVisible=!1,v.contextMenuVisible=!1},a=()=>{xu(w().path).then(O=>{}),o()},g=()=>{ku(v.path.getPath()).then(O=>{O.data.status!=0&&be.startNewErrorMessageDialog(O.data.msg),B()}),o()},u=()=>{Mu(w().path).then(O=>{}),o()},i=O=>{var P=document.querySelector(O);if(document.body.createTextRange){var F=document.body.createTextRange();F.moveToElementText(P),F.select()}else if(window.getSelection){var K=window.getSelection(),F=document.createRange();F.selectNodeContents(P),K.removeAllRanges(),K.addRange(F)}},e=(O,P)=>{if(O.keyCode==13){let F=document.querySelector(`.window-body ul li:nth-child(${P+1}) span`);Ru(v.child[P].path,F.textContent).then(K=>{B(),K.data.status!=0&&be.startNewErrorMessageDialog(K.data.msg)}),O.preventDefault(),O.stopPropagation()}},t=O=>{v.child[O].edit=!1},h=()=>{let O=w(),P=v.child.findIndex(F=>F==O);setTimeout(function(){document.querySelector(`.window-body ul li:nth-child(${P+1}) span`).focus(),i(`.window-body ul li:nth-child(${P+1}) span`)},0),v.child[P].edit=!0,o()},d=(O,P)=>{v.selectFileItem=P,v.folderContextMenuVisible=!1,v.currentSelectName=P.name,v.contextMenuVisible=!0;let F=document.getElementById(n.item.id);v.contextMenuPoint.x=O.x-F.offsetLeft,v.contextMenuPoint.y=O.y-F.offsetTop,O.preventDefault(),O.stopPropagation()},m=O=>{v.currentSelectName="",v.folderContextMenuVisible=!0,v.contextMenuVisible=!1;let P=document.getElementById(n.item.id);v.folderContextMenuPoint.x=O.x-P.offsetLeft,v.folderContextMenuPoint.y=O.y-P.offsetTop,O.preventDefault()},S=O=>{Eu(O).then(P=>{v.child=P.data.data,v.searchInputVisible=!1,D=v.child;for(const F of v.child)F.edit=!1})},L=O=>{O.type=="folder"&&(v.child.length=0,v.contextMenuVisible=!1,v.path.append(O.name),S(v.path.getPath()))},A=O=>{v.path.range(O),v.contextMenuVisible=!1,S(v.path.getPath()),o()},w=()=>v.selectFileItem,E=()=>{v.contextMenuVisible=!1,w().type=="folder"&&(o(),be.openNewFolder(w().path))},B=()=>{o(),S(v.path.getPath())},T=()=>{v.contextMenuVisible=!1,Lu(w().path).then(O=>{if(O.data.status==0){B();return}be.startNewErrorMessageDialog(O.data.msg)})},U=O=>{console.log("enter"),O.preventDefault()},H=O=>{console.log("leaver")},k=O=>{O.preventDefault();let P=O.dataTransfer.files,F=v.path.path,K=new qu;for(let G=0;G<P.length;G++){const Q=P[G];K.start(Q,F,ee=>{ee.data.status==0&&be.startNewSuccessMessageDialog("\u4E0A\u4F20\u6210\u529F"),ee.data.status!=0&&be.startNewErrorMessageDialog(ee.data.msg)})}};return Ui(()=>{S(v.path.getPath())}),(O,P)=>(ie(),se("div",{id:c.item.id,"data-id":c.item.id,class:ue([{"window-item-resize":c.item.canResize,"action-window-border":c.item.actionWindow,"hide-window":c.item.hideWindow,"close-window-transition":c.item.closeWindowTransition,"window-transition":c.item.windowTransition,"window-scale":c.item.windowScale,"min-window":c.item.minState,"max-window":c.item.maxState,"window-z-height":c.item.actionWindow,folder:c.item.windowType=="folder"},"window-item"]),onMousedown:P[22]||(P[22]=(...F)=>V(Y).windowMove&&V(Y).windowMove(...F)),onMouseup:P[23]||(P[23]=(...F)=>V(Y).windowMouseUp&&V(Y).windowMouseUp(...F))},[V(v).folderContextMenuVisible?(ie(),se("div",{key:0,style:Ni({left:V(v).folderContextMenuPoint.x+"px",top:V(v).folderContextMenuPoint.y+"px"}),class:"file-menu"},[N("menu",null,[N("div",Vu,[N("li",{onClick:P[0]||(P[0]=F=>r())},"\u5728\u6B64\u5904\u6253\u5F00\u7EC8\u7AEF")]),N("div",Ku,[N("li",{onClick:P[1]||(P[1]=F=>f("director"))},"\u521B\u5EFA\u6587\u4EF6\u5939"),N("li",{onClick:P[2]||(P[2]=F=>f("file"))},"\u521B\u5EFA\u6587\u4EF6")]),N("div",Gu,[N("li",{onClick:P[3]||(P[3]=F=>g())},"\u7C98\u8D34")]),N("div",Xu,[N("li",{onClick:P[4]||(P[4]=F=>p(l()))},"\u5C5E\u6027")])])],4)):ve("",!0),V(v).contextMenuVisible?(ie(),se("div",{key:1,style:Ni({left:V(v).contextMenuPoint.x+"px",top:V(v).contextMenuPoint.y+"px"}),class:"file-menu"},[N("menu",null,[V(v).selectFileItem.type=="folder"?(ie(),se("div",Ju,[N("li",{onClick:P[5]||(P[5]=F=>E())},"\u5728\u65B0\u7A97\u53E3\u6253\u5F00")])):ve("",!0),N("div",Yu,[N("li",{onClick:P[6]||(P[6]=F=>T())},"\u5220\u9664"),N("li",{onClick:P[7]||(P[7]=F=>a())},"\u590D\u5236"),N("li",{onClick:P[8]||(P[8]=F=>u())},"\u526A\u5207"),N("li",{onClick:P[9]||(P[9]=F=>h())},"\u91CD\u590D\u540D")]),Zu,N("div",Qu,[N("li",{onClick:P[10]||(P[10]=F=>y())},"\u538B\u7F29"),N("li",{onClick:P[11]||(P[11]=F=>b())},"\u89E3\u538B")]),N("div",eh,[N("li",{onClick:P[12]||(P[12]=F=>p())},"\u5C5E\u6027")])])],4)):ve("",!0),N("div",{onClick:P[21]||(P[21]=F=>V(Y).setWindowPos(c.item.id)),class:"window-content"},[N("div",th,[N("header",null,[N("ul",null,[(ie(!0),se(xt,null,Kt(V(v).path.pathBlock,(F,K)=>(ie(),se("li",{key:F,onClick:G=>A(K)},ke(F),9,rh))),128))]),N("div",ih,[N("div",nh,[At(N("input",{id:"searchInput",class:ue([{open:V(v).searchInputVisible},"base-input close"]),placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5B57\u7B26","onUpdate:modelValue":P[13]||(P[13]=F=>is(M)?M.value=F:M=F),onInput:s,type:"text"},null,34),[[Fi,V(M)]]),N("img",{onClick:P[14]||(P[14]=F=>_()),src:Zs,alt:""})]),V(Ue).files.length>0?(ie(),se("div",{key:0,onClick:P[15]||(P[15]=qi(F=>x(),["stop"])),class:"loader"})):ve("",!0)])]),N("div",oh,[N("i",{class:"iconfont icon-tzuixiaohua",onClick:P[16]||(P[16]=F=>V(Y).windowMin(c.item.id))}),N("i",{class:"iconfont icon-big",onClick:P[17]||(P[17]=F=>V(Y).windowFullScreen(c.item.id))}),N("i",{class:"iconfont icon-webicon309",onClick:P[18]||(P[18]=F=>V(Y).closeWindow(c.item.id))})])]),N("div",{onDragover:U,onDragleave:H,onDrop:k,onContextmenu:P[19]||(P[19]=qi(F=>m(F),["prevent"])),onClick:P[20]||(P[20]=F=>{V(v).contextMenuVisible=!1,V(v).folderContextMenuVisible=!1}),class:"window-body"},[c.item.windowType=="folder"?(ie(),se("ul",sh,[(ie(!0),se(xt,null,Kt(V(v).child,(F,K)=>(ie(),se("li",{key:F,onContextmenu:qi(G=>d(G,F),["prevent"]),class:ue({select:V(v).currentSelectName==F.name}),onClick:G=>{V(v).currentSelectName=F.name,V(v).contextMenuVisible=!1},onDblclick:G=>L(F)},[N("div",ch,[F.type!="img"?(ie(),se("img",{key:0,src:V(C)+"desktop/api/file/getFileIconByType?type="+F.type,alt:""},null,8,lh)):ve("",!0),F.type=="img"?(ie(),se("img",{key:1,src:V(C)+"desktop/api/file/getImageThumbnail?path="+encodeURIComponent(F.path),alt:""},null,8,uh)):ve("",!0),F.edit?(ie(),se("span",{key:2,onKeydown:G=>e(G,K),onBlur:G=>t(K),class:"contenteditable",contenteditable:"true"},ke(F.name),41,hh)):ve("",!0),F.edit==!1?(ie(),se("span",fh,ke(F.name),1)):ve("",!0),N("div",dh,ke(F.name),1)])],42,ah))),128))])):ve("",!0)],32)])],42,$u))}};var nt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module"});const _h=["data-id"],vh={class:"window-content"},gh={class:"window-title"},yh=N("header",null,null,-1),mh={class:"opt"},bh={class:"window-body"},Sh=["src"],wh={props:{item:Object,actionWindowId:String},setup(c){return(n,v)=>(ie(),se("div",{"data-id":c.item.id,class:ue([{"hide-window":c.item.hideWindow,"close-window-transition":c.item.closeWindowTransition,"window-transition":c.item.windowTransition,"window-scale":c.item.windowScale,"min-window":c.item.minState,"max-window":c.item.maxState,"window-z-height":c.item.actionWindow,folder:c.item.windowType=="folder"},"window-item"]),onMousedown:v[4]||(v[4]=(...C)=>V(nt).windowMove&&V(nt).windowMove(...C)),onMouseup:v[5]||(v[5]=(...C)=>V(nt).windowMouseUp&&V(nt).windowMouseUp(...C))},[N("div",{onClick:v[0]||(v[0]=C=>V(nt).setWindowPos(c.item.id)),class:ue([{action:c.actionWindowId==c.item.id},"window-mask"])},null,2),N("div",vh,[N("div",gh,[yh,N("div",mh,[N("i",{class:"iconfont icon-tzuixiaohua",onClick:v[1]||(v[1]=C=>V(nt).windowMin(c.item.id))}),N("i",{class:"iconfont icon-big",onClick:v[2]||(v[2]=C=>V(nt).windowFullScreen(c.item.id))}),N("i",{class:"iconfont icon-webicon309",onClick:v[3]||(v[3]=C=>V(nt).closeWindow(c.item.id))})])]),N("div",bh,[N("iframe",{class:ue({"iframe-pointer-events":c.item.pointerEvents}),src:c.item.url},null,10,Sh)])])],42,_h))}},Ch=["data-id"],Eh={class:"window-content"},Lh={class:"window-title"},Ah=N("header",null,null,-1),xh={class:"opt"},kh={class:"window-body"},Mh={props:{item:Object,actionWindowId:String},setup(c){let v=ut(Vt({},c.item.data));return(C,M)=>(ie(),se("div",{"data-id":c.item.id,class:ue([{"hide-window":c.item.hideWindow,"close-window-transition":c.item.closeWindowTransition,"window-transition":c.item.windowTransition,"window-scale":c.item.windowScale,"min-window":c.item.minState,"max-window":c.item.maxState,"window-z-height":c.item.actionWindow,"error-message":c.item.windowType=="error-message"},"window-item"]),onMousedown:M[4]||(M[4]=(...D)=>V(Y).windowMove&&V(Y).windowMove(...D)),onMouseup:M[5]||(M[5]=(...D)=>V(Y).windowMouseUp&&V(Y).windowMouseUp(...D))},[N("div",{onClick:M[0]||(M[0]=D=>V(Y).setWindowPos(c.item.id)),class:ue([{action:c.actionWindowId==c.item.id},"window-mask"])},null,2),N("div",Eh,[N("div",Lh,[Ah,N("div",xh,[N("i",{class:"iconfont icon-tzuixiaohua",onClick:M[1]||(M[1]=D=>V(Y).windowMin(c.item.id))}),N("i",{class:"iconfont icon-big",onClick:M[2]||(M[2]=D=>V(Y).windowFullScreen(c.item.id))}),N("i",{class:"iconfont icon-webicon309",onClick:M[3]||(M[3]=D=>V(Y).closeWindow(c.item.id))})])]),N("div",kh,ke(V(v).message),1)])],42,Ch))}},Rh=["data-id"],Oh={class:"window-content"},Th={class:"window-title"},Dh=N("header",null,null,-1),Bh={class:"opt"},Ph={class:"window-body"},Ih={props:{item:Object,actionWindowId:String},setup(c){let v=ut(Vt({},c.item.data));return(C,M)=>(ie(),se("div",{"data-id":c.item.id,class:ue([{"hide-window":c.item.hideWindow,"close-window-transition":c.item.closeWindowTransition,"window-transition":c.item.windowTransition,"window-scale":c.item.windowScale,"min-window":c.item.minState,"max-window":c.item.maxState,"window-z-height":c.item.actionWindow,"success-message":c.item.windowType=="success-message"},"window-item"]),onMousedown:M[4]||(M[4]=(...D)=>V(Y).windowMove&&V(Y).windowMove(...D)),onMouseup:M[5]||(M[5]=(...D)=>V(Y).windowMouseUp&&V(Y).windowMouseUp(...D))},[N("div",{onClick:M[0]||(M[0]=D=>V(Y).setWindowPos(c.item.id)),class:ue([{action:c.actionWindowId==c.item.id},"window-mask"])},null,2),N("div",Oh,[N("div",Th,[Dh,N("div",Bh,[N("i",{class:"iconfont icon-tzuixiaohua",onClick:M[1]||(M[1]=D=>V(Y).windowMin(c.item.id))}),N("i",{class:"iconfont icon-big",onClick:M[2]||(M[2]=D=>V(Y).windowFullScreen(c.item.id))}),N("i",{class:"iconfont icon-webicon309",onClick:M[3]||(M[3]=D=>V(Y).closeWindow(c.item.id))})])]),N("div",Ph,ke(V(v).message),1)])],42,Rh))}};var Hh="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAs1JREFUaEPtmTFv00AUx38vkZou9AMwwQhDUUoqFliAkRUmYCGxKKIjLDAygVhAUJq0E0xlZQRGBCQlAiEYYeIDlKWplBxyGjex49ix/c6lAs93f7/fvXv33rsTDvgnB9x+/gGAJTNPlzMIZQwLQBn4gOEjwlcKNHkm7VSeVNCO9kDNXEF4AhyKMHAbeEhd7iaCUNKeDOCY18C5BEZ9py7HpxqvqB0O4JhvwLGpjPEPekNdzkfOU9YeB3DMPeBOCuN3pxiu0pDnofMtaPsBrpsyPd4Bs6kB4DdFTrMiX3walrT9AI5xgNUMxntTb1IXN/iHnyVtP0DNPEJYzgwgrLMqVZ+OJe2gB94DpzIDQJu6uDlj1ANWtIMARsH4XYm65KJtywM2AXzetRMDNj0QiC9bp5BND/hOOBt5wGYMjOUY/UzsnQI2gjgky2vXQsNDTB8gtM7SrEb9J7AuwMRKV6MfCE8dOgCxvUZ8SxneNcXnu/QAibq9eIB4U/d1xH+AfV1++OuuVdwdkaigjN9CSkHcWaskMWwTw1vovSjVPvk7u4DLcztGEwLsmWmQldLckWW59LIbtl1zS2RpAQZGt2eke0GutX8FIXIrJTICuHa3Z+aOLgY9kVsxpwCAu51mq80bo17IrZzWAOgbbnonRgM7t4ZGD4AHpVrrtueF3FpKNQDYLFVblXAAx2hdfYy1lIoAlKqtvYXP5erDXS1lgIKXsW1dq4xdbCkDTPCApeu/gQdawEmF4i8yBqxd7nYalfsItzIDmKhTyNIVeN8DjYV5pPA5O0BUHnDVLTxCeEZvry0+FcxSWoj4TOwpKz8DebJm42JxZ+tHc/DSmZRjylpoCGHlkc+slw/vmOKrhBAJq1EPQukpNLjUric6Wz8fT7Od0vcD3l8VHqMn7ZV+YFO4jHA2cMQqdWRJd2n28RZ64uxGWVWIb+qt/j67+B97Cn1A2CG5uAAAAABJRU5ErkJggg==",Fh="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAgdJREFUWEfNV11LG0EUPbewk/9Q2Mnj7v4TX/ooKC0oFS0ttigqlRbqB9j6SUvjB41YKiiKvvkL+ug/2M1jNvTJX5AN5Mpukxgzs26MsdN9nL1zz5lzZu7MJV+KxSeEAWbYAJ+5YW0aj/gFtrUDYBBEl4T6OgVSXAB41sQkwqlTjoYfg0MpL06YMdTKzfw7JvAHwNMOwGM3jF70k0QgxRGA57dyMl9RIK2vAE11ghFw6ITRaD9IlKT4xcCIkot5l+JBRZpmJOOnW4nGHkIisMUBCC+VBTasTgjEn1YiAAza98LqRC8kSjL3g8G6uS2LWwQSJdKkItpzy9U39yER5HO7YH6dZe0tAokSKZIx87ZXqb3thkRJWt8ZpMZqLFUIxAC+zBUJPK6C8besOpG+qanohNVXGkX0a0qTkJm3vEptVjcrsMUGCOq/OyzUKtBM7ttWgYgmNWBrbhjNt48HUqwCeK+ukAtOWHuXZt2dBP6eDn2dYMJnrxx9TCzLixVifOjFskwCCYBtbRLRTCcAA8vxGAGf1CKDTbcSzWVt2q4INOqEVuIUAMWini1on5gu9U1UuzVZq2+o103YTYwvxZJW8qRqYtkLo4X7ZOzagtbJMEnAqAVp5/yfbEKjx9BoITJaio1eRkavY6MPEqNPMqOPUqPPcuONyX/QmhlsToFzMtmeM9W/XAOpb13f7mgI7QAAAABJRU5ErkJggg==";const Wh=["data-id"],jh={class:"window-content"},Uh={class:"window-title base-title"},Nh=N("header",{class:"base-title"},"\u6587\u4EF6\u4E0A\u4F20\u7BA1\u7406\u5668",-1),qh={class:"opt"},zh={class:"window-body"},$h={key:0,class:"empty"},Vh=N("svg",{t:"1640616804409",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5084",width:"60",height:"60"},[N("path",{d:"M459.485 887.553v-1.398 1.398z m55.893-60.475c-30.733 0-55.893 23.867-55.893 53.996v0.67c0 6.163 4.87 10.975 11.139 10.975 6.262 0 11.139-4.812 11.139-10.975v-0.67c0-17.808 14.618-32.82 33.516-32.82s33.516 15.012 33.516 32.82v0.67c0 6.163 4.87 10.975 11.14 10.975 6.262 0 11.139-4.812 11.139-10.975v-0.67c0.197-29.453-24.963-53.996-55.696-53.996zM381.766 710.664c-15.846-3.57-39.457-2.776-44.465 13.391-2.862 9.826 13.594 11.316 28.724 14.789 12.164 2.776 18.708 9.124 17.277 11.31-2.862 3.57-20.854-3.473-37.317 2.087-15.845 5.652-12.878 19.745-3.577 23.217 9.308 3.571 24.438-0.696 59.602 4.963 17.985 2.776 28.724-2.783 30.87-13.398 4.09-23.912-28.927-51.396-51.114-56.359z m209.394 56.49c2.146 10.424 12.163 16.03 30.87 13.28 35.164-5.606 50.294-1.379 59.596-4.923 9.3-3.44 12.163-18.19-3.578-23.007-15.845-5.606-33.74 1.378-37.31-2.068-2.146-2.757 5.008-9.045 17.27-11.9 15.032-3.545 31.586-4.917 28.724-14.652-5.008-16.036-28.008-16.718-44.464-13.279-22.384 4.923-55.5 32.164-51.108 56.55z m420.835-294.726l-195.28-181.004c-6.302-6.374-15.492-9.163-24.596-9.163H232.473a35.814 35.814 0 0 0-23.893 9.163L11.9 472.428C4.202 479.498 0 488.668 0 499.321v443.39C0 987.24 35.794 1024 80.79 1024h862.414c44.195 0 80.79-36.759 80.79-81.29V499.322c-0.098-9.958-5.002-19.823-11.999-26.893z m-351.965-2.54c-12.65 0-23.29 10.62-23.29 24.143 0 66.809-56.398 122.997-123.338 122.997S390.063 560.84 390.063 494.031c0-12.82-10.542-24.143-23.283-24.143H91.897l146.621-135.115H786.88l145.217 135.115H660.023z m311.452 48.679v425.962c0 15.576-11.92 26.958-26.749 26.958H80.666c-15.53 0-28.153-12.077-28.153-26.958V518.567h292.763c5.613 36.844 23.244 71.594 51.397 97.85 32.36 31.154 73.846 47.53 117.53 47.53 43.585 0 85.162-16.974 117.523-47.523 27.457-26.965 45.79-60.914 51.396-97.857h288.36z m-723.23-315.049l-89.835-83.941a23.447 23.447 0 0 1-0.807-33.477c9.176-9.432 24.398-9.82 33.982-0.788l89.73 83.942a23.447 23.447 0 0 1 0.913 33.476 24.313 24.313 0 0 1-33.982 0.788z m241.887-39.39a23.65 23.65 0 0 1-7.647-16.64l-3.315-122.913C478.868 11.303 489.614 0.406 503.155 0.012c13.64-0.295 24.904 10.103 25.318 23.277l3.216 122.912a23.808 23.808 0 0 1-14.572 22.383 25.239 25.239 0 0 1-26.978-4.457z m232.702 32.688a23.913 23.913 0 0 1-7.351-16.837 24.123 24.123 0 0 1 6.459-17.132l84.02-89.77a23.453 23.453 0 0 1 33.463-0.8 24.3 24.3 0 0 1 0.795 33.975l-84.02 89.77a24.011 24.011 0 0 1-16.575 7.47c-6.157 0-12.209-2.298-16.784-6.676z",fill:"#ffffff4a","p-id":"5085"})],-1),Kh=[Vh],Gh=N("img",{class:"file",src:Hh,alt:""},null,-1),Xh=["onClick"],Jh=N("img",{src:Fh,alt:""},null,-1),Yh=[Jh],Zh={class:"info"},Qh={class:"name"},ef={props:{item:Object,actionWindowId:String},setup(c){let v=ut(Vt({},c.item.data));const C=M=>{Ls(M)};return(M,D)=>(ie(),se("div",{"data-id":c.item.id,class:ue([{"hide-window":c.item.hideWindow,"close-window-transition":c.item.closeWindowTransition,"window-transition":c.item.windowTransition,"window-scale":c.item.windowScale,"min-window":c.item.minState,"max-window":c.item.maxState,"window-z-height":c.item.actionWindow,"file-upload-manager":c.item.windowType=="upload-manager"},"window-item"]),onMousedown:D[4]||(D[4]=(...x)=>V(Y).windowMove&&V(Y).windowMove(...x)),onMouseup:D[5]||(D[5]=(...x)=>V(Y).windowMouseUp&&V(Y).windowMouseUp(...x))},[N("div",{onClick:D[0]||(D[0]=x=>V(Y).setWindowPos(c.item.id)),class:ue([{action:c.actionWindowId==c.item.id},"window-mask"])},null,2),N("div",jh,[N("div",Uh,[Nh,N("div",qh,[N("i",{class:"iconfont icon-tzuixiaohua",onClick:D[1]||(D[1]=x=>V(Y).windowMin(c.item.id))}),N("i",{class:"iconfont icon-big",onClick:D[2]||(D[2]=x=>V(Y).windowFullScreen(c.item.id))}),N("i",{class:"iconfont icon-webicon309",onClick:D[3]||(D[3]=x=>V(Y).closeWindow(c.item.id))})])]),N("div",zh,[V(v).files.length==0?(ie(),se("div",$h,Kh)):ve("",!0),(ie(!0),se(xt,null,Kt(V(v).files,x=>(ie(),se("div",{key:x.id,class:"item"},[Gh,N("div",{onClick:r=>C(x.id),class:"cancel"},Yh,8,Xh),N("div",Zh,[N("span",Qh,ke(x.name),1),N("div",{style:Ni({width:x.progress+"%"}),class:"progress"},null,4)])]))),128))])])],42,Wh))}};var yi={exports:{}},Dn={};(function(c){(function(){var n,v,C,M,D={}.hasOwnProperty,x=[].slice;n={LF:`
`,NULL:"\0"},C=function(){var r;function _(s,l,f){this.command=s,this.headers=l!=null?l:{},this.body=f!=null?f:""}return _.prototype.toString=function(){var s,l,f,p,b;s=[this.command],f=this.headers["content-length"]===!1,f&&delete this.headers["content-length"],b=this.headers;for(l in b)!D.call(b,l)||(p=b[l],s.push(""+l+":"+p));return this.body&&!f&&s.push("content-length:"+_.sizeOfUTF8(this.body)),s.push(n.LF+this.body),s.join(n.LF)},_.sizeOfUTF8=function(s){return s?encodeURI(s).match(/%..|./g).length:0},r=function(s){var l,f,p,b,y,o,a,g,u,i,e,t,h,d,m,S,L;for(b=s.search(RegExp(""+n.LF+n.LF)),y=s.substring(0,b).split(n.LF),p=y.shift(),o={},t=function(A){return A.replace(/^\s+|\s+$/g,"")},S=y.reverse(),h=0,m=S.length;h<m;h++)i=S[h],g=i.indexOf(":"),o[t(i.substring(0,g))]=t(i.substring(g+1));if(l="",e=b+2,o["content-length"])u=parseInt(o["content-length"]),l=(""+s).substring(e,e+u);else for(f=null,a=d=e,L=s.length;(e<=L?d<L:d>L)&&(f=s.charAt(a),f!==n.NULL);a=e<=L?++d:--d)l+=f;return new _(p,o,l)},_.unmarshall=function(s){var l;return function(){var f,p,b,y;for(b=s.split(RegExp(""+n.NULL+n.LF+"*")),y=[],f=0,p=b.length;f<p;f++)l=b[f],(l!=null?l.length:void 0)>0&&y.push(r(l));return y}()},_.marshall=function(s,l,f){var p;return p=new _(s,l,f),p.toString()+n.NULL},_}(),v=function(){var r;function _(s){this.ws=s,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16*1024,this.subscriptions={}}return _.prototype.debug=function(s){var l;return typeof window!="undefined"&&window!==null&&(l=window.console)!=null?l.log(s):void 0},r=function(){return Date.now?Date.now():new Date().valueOf},_.prototype._transmit=function(s,l,f){var p;for(p=C.marshall(s,l,f),typeof this.debug=="function"&&this.debug(">>> "+p);;)if(p.length>this.maxWebSocketFrameSize)this.ws.send(p.substring(0,this.maxWebSocketFrameSize)),p=p.substring(this.maxWebSocketFrameSize),typeof this.debug=="function"&&this.debug("remaining = "+p.length);else return this.ws.send(p)},_.prototype._setupHeartbeat=function(s){var l,f,p,b,y,o;if(!((y=s.version)!==M.VERSIONS.V1_1&&y!==M.VERSIONS.V1_2)&&(o=function(){var a,g,u,i;for(u=s["heart-beat"].split(","),i=[],a=0,g=u.length;a<g;a++)b=u[a],i.push(parseInt(b));return i}(),f=o[0],l=o[1],this.heartbeat.outgoing===0||l===0||(p=Math.max(this.heartbeat.outgoing,l),typeof this.debug=="function"&&this.debug("send PING every "+p+"ms"),this.pinger=M.setInterval(p,function(a){return function(){return a.ws.send(n.LF),typeof a.debug=="function"?a.debug(">>> PING"):void 0}}(this))),!(this.heartbeat.incoming===0||f===0)))return p=Math.max(this.heartbeat.incoming,f),typeof this.debug=="function"&&this.debug("check PONG every "+p+"ms"),this.ponger=M.setInterval(p,function(a){return function(){var g;if(g=r()-a.serverActivity,g>p*2)return typeof a.debug=="function"&&a.debug("did not receive server activity for the last "+g+"ms"),a.ws.close()}}(this))},_.prototype._parseConnect=function(){var s,l,f,p;switch(s=1<=arguments.length?x.call(arguments,0):[],p={},s.length){case 2:p=s[0],l=s[1];break;case 3:s[1]instanceof Function?(p=s[0],l=s[1],f=s[2]):(p.login=s[0],p.passcode=s[1],l=s[2]);break;case 4:p.login=s[0],p.passcode=s[1],l=s[2],f=s[3];break;default:p.login=s[0],p.passcode=s[1],l=s[2],f=s[3],p.host=s[4]}return[p,l,f]},_.prototype.connect=function(){var s,l,f,p;return s=1<=arguments.length?x.call(arguments,0):[],p=this._parseConnect.apply(this,s),f=p[0],this.connectCallback=p[1],l=p[2],typeof this.debug=="function"&&this.debug("Opening Web Socket..."),this.ws.onmessage=function(b){return function(y){var o,a,g,u,i,e,t,h,d,m,S,L;if(u=typeof ArrayBuffer!="undefined"&&y.data instanceof ArrayBuffer?(o=new Uint8Array(y.data),typeof b.debug=="function"&&b.debug("--- got data length: "+o.length),function(){var A,w,E;for(E=[],A=0,w=o.length;A<w;A++)a=o[A],E.push(String.fromCharCode(a));return E}().join("")):y.data,b.serverActivity=r(),u===n.LF){typeof b.debug=="function"&&b.debug("<<< PONG");return}for(typeof b.debug=="function"&&b.debug("<<< "+u),S=C.unmarshall(u),L=[],d=0,m=S.length;d<m;d++)switch(i=S[d],i.command){case"CONNECTED":typeof b.debug=="function"&&b.debug("connected to server "+i.headers.server),b.connected=!0,b._setupHeartbeat(i.headers),L.push(typeof b.connectCallback=="function"?b.connectCallback(i):void 0);break;case"MESSAGE":h=i.headers.subscription,t=b.subscriptions[h]||b.onreceive,t?(g=b,e=i.headers["message-id"],i.ack=function(A){return A==null&&(A={}),g.ack(e,h,A)},i.nack=function(A){return A==null&&(A={}),g.nack(e,h,A)},L.push(t(i))):L.push(typeof b.debug=="function"?b.debug("Unhandled received MESSAGE: "+i):void 0);break;case"RECEIPT":L.push(typeof b.onreceipt=="function"?b.onreceipt(i):void 0);break;case"ERROR":L.push(typeof l=="function"?l(i):void 0);break;default:L.push(typeof b.debug=="function"?b.debug("Unhandled frame: "+i):void 0)}return L}}(this),this.ws.onclose=function(b){return function(){var y;return y="Whoops! Lost connection to "+b.ws.url,typeof b.debug=="function"&&b.debug(y),b._cleanUp(),typeof l=="function"?l(y):void 0}}(this),this.ws.onopen=function(b){return function(){return typeof b.debug=="function"&&b.debug("Web Socket Opened..."),f["accept-version"]=M.VERSIONS.supportedVersions(),f["heart-beat"]=[b.heartbeat.outgoing,b.heartbeat.incoming].join(","),b._transmit("CONNECT",f)}}(this)},_.prototype.disconnect=function(s,l){return l==null&&(l={}),this._transmit("DISCONNECT",l),this.ws.onclose=null,this.ws.close(),this._cleanUp(),typeof s=="function"?s():void 0},_.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&M.clearInterval(this.pinger),this.ponger)return M.clearInterval(this.ponger)},_.prototype.send=function(s,l,f){return l==null&&(l={}),f==null&&(f=""),l.destination=s,this._transmit("SEND",l,f)},_.prototype.subscribe=function(s,l,f){var p;return f==null&&(f={}),f.id||(f.id="sub-"+this.counter++),f.destination=s,this.subscriptions[f.id]=l,this._transmit("SUBSCRIBE",f),p=this,{id:f.id,unsubscribe:function(){return p.unsubscribe(f.id)}}},_.prototype.unsubscribe=function(s){return delete this.subscriptions[s],this._transmit("UNSUBSCRIBE",{id:s})},_.prototype.begin=function(s){var l,f;return f=s||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:f}),l=this,{id:f,commit:function(){return l.commit(f)},abort:function(){return l.abort(f)}}},_.prototype.commit=function(s){return this._transmit("COMMIT",{transaction:s})},_.prototype.abort=function(s){return this._transmit("ABORT",{transaction:s})},_.prototype.ack=function(s,l,f){return f==null&&(f={}),f["message-id"]=s,f.subscription=l,this._transmit("ACK",f)},_.prototype.nack=function(s,l,f){return f==null&&(f={}),f["message-id"]=s,f.subscription=l,this._transmit("NACK",f)},_}(),M={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(r,_){var s,l;return _==null&&(_=["v10.stomp","v11.stomp"]),s=M.WebSocketClass||WebSocket,l=new s(r,_),new v(l)},over:function(r){return new v(r)},Frame:C},c!==null&&(c.Stomp=M),typeof window!="undefined"&&window!==null?(M.setInterval=function(r,_){return window.setInterval(_,r)},M.clearInterval=function(r){return window.clearInterval(r)},window.Stomp=M):c||(self.Stomp=M)}).call(qn)})(Dn);var Bn={};const tf="websocket",rf="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",nf=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],of="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",sf=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],af="1.0.34",cf={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},lf="https://github.com/theturtle32/WebSocket-Node",uf={node:">=4.0.0"},hf={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},ff={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},df={verbose:!1},pf={test:"tape test/unit/*.js",gulp:"gulp"},_f="index",vf={lib:"./lib"},gf="lib/browser.js",yf="Apache-2.0";var mf={name:tf,description:rf,keywords:nf,author:of,contributors:sf,version:af,repository:cf,homepage:lf,engines:uf,dependencies:hf,devDependencies:ff,config:df,scripts:pf,main:_f,directories:vf,browser:gf,license:yf},bf=mf.version,gt;if(typeof globalThis=="object")gt=globalThis;else try{gt=require("es5-ext/global")}catch{}finally{if(!gt&&typeof window!="undefined"&&(gt=window),!gt)throw new Error("Could not determine global this")}var rr=gt.WebSocket||gt.MozWebSocket,Sf=bf;function Vo(c,n){var v;return n?v=new rr(c,n):v=new rr(c),v}rr&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(c){Object.defineProperty(Vo,c,{get:function(){return rr[c]}})});var wf={w3cwebsocket:rr?Vo:null,version:Sf};(function(){var c,n,v,C,M,D;c=Dn,n=Mo,c.Stomp.setInterval=function(x,r){return setInterval(r,x)},c.Stomp.clearInterval=function(x){return clearInterval(x)},M=function(x,r){var _,s;return _=null,s={url:"tcp:// "+r+":"+x,send:function(l){return _.write(l)},close:function(){return _.end()}},_=n.connect(x,r,function(l){return s.onopen()}),_.on("error",function(l){return typeof s.onclose=="function"?s.onclose(l):void 0}),_.on("close",function(l){return typeof s.onclose=="function"?s.onclose(l):void 0}),_.on("data",function(l){var f;return f={data:l.toString()},s.onmessage(f)}),s},D=function(x){var r,_,s,l;return r=wf.client,_=null,l={url:x,send:function(f){return _.sendUTF(f)},close:function(){return _.close()}},s=new r,s.on("connect",function(f){return _=f,l.onopen(),_.on("error",function(p){return typeof l.onclose=="function"?l.onclose(p):void 0}),_.on("close",function(){return typeof l.onclose=="function"?l.onclose():void 0}),_.on("message",function(p){var b;if(p.type==="utf8")return b={data:p.utf8Data},l.onmessage(b)})}),s.connect(x),l},v=function(x,r){var _;return _=M(r,x),c.Stomp.over(_)},C=function(x){var r;return r=D(x),c.Stomp.over(r)},Bn.overTCP=v,Bn.overWS=C}).call(qn);var Cf=Dn,Ko=Bn;yi.exports=Cf.Stomp;yi.exports.overTCP=Ko.overTCP;yi.exports.overWS=Ko.overWS;var Ef=yi.exports,Go={exports:{}};(function(c,n){(function(v,C){c.exports=C()})(self,function(){return(()=>{var v={4567:function(x,r,_){var s,l=this&&this.__extends||(s=function(i,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,h){t.__proto__=h}||function(t,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(t[d]=h[d])},s(i,e)},function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=i}s(i,e),i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.AccessibilityManager=void 0;var f=_(9042),p=_(6114),b=_(9924),y=_(3656),o=_(844),a=_(5596),g=_(9631),u=function(i){function e(t,h){var d=i.call(this)||this;d._terminal=t,d._renderService=h,d._liveRegionLineCount=0,d._charsToConsume=[],d._charsToAnnounce="",d._accessibilityTreeRoot=document.createElement("div"),d._accessibilityTreeRoot.setAttribute("role","document"),d._accessibilityTreeRoot.classList.add("xterm-accessibility"),d._accessibilityTreeRoot.tabIndex=0,d._rowContainer=document.createElement("div"),d._rowContainer.setAttribute("role","list"),d._rowContainer.classList.add("xterm-accessibility-tree"),d._rowElements=[];for(var m=0;m<d._terminal.rows;m++)d._rowElements[m]=d._createAccessibilityTreeNode(),d._rowContainer.appendChild(d._rowElements[m]);if(d._topBoundaryFocusListener=function(S){return d._onBoundaryFocus(S,0)},d._bottomBoundaryFocusListener=function(S){return d._onBoundaryFocus(S,1)},d._rowElements[0].addEventListener("focus",d._topBoundaryFocusListener),d._rowElements[d._rowElements.length-1].addEventListener("focus",d._bottomBoundaryFocusListener),d._refreshRowsDimensions(),d._accessibilityTreeRoot.appendChild(d._rowContainer),d._renderRowsDebouncer=new b.TimeBasedDebouncer(d._renderRows.bind(d)),d._refreshRows(),d._liveRegion=document.createElement("div"),d._liveRegion.classList.add("live-region"),d._liveRegion.setAttribute("aria-live","assertive"),d._accessibilityTreeRoot.appendChild(d._liveRegion),!d._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return d._terminal.element.insertAdjacentElement("afterbegin",d._accessibilityTreeRoot),d.register(d._renderRowsDebouncer),d.register(d._terminal.onResize(function(S){return d._onResize(S.rows)})),d.register(d._terminal.onRender(function(S){return d._refreshRows(S.start,S.end)})),d.register(d._terminal.onScroll(function(){return d._refreshRows()})),d.register(d._terminal.onA11yChar(function(S){return d._onChar(S)})),d.register(d._terminal.onLineFeed(function(){return d._onChar(`
`)})),d.register(d._terminal.onA11yTab(function(S){return d._onTab(S)})),d.register(d._terminal.onKey(function(S){return d._onKey(S.key)})),d.register(d._terminal.onBlur(function(){return d._clearLiveRegion()})),d.register(d._renderService.onDimensionsChange(function(){return d._refreshRowsDimensions()})),d._screenDprMonitor=new a.ScreenDprMonitor,d.register(d._screenDprMonitor),d._screenDprMonitor.setListener(function(){return d._refreshRowsDimensions()}),d.register((0,y.addDisposableDomListener)(window,"resize",function(){return d._refreshRowsDimensions()})),d}return l(e,i),e.prototype.dispose=function(){i.prototype.dispose.call(this),(0,g.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0},e.prototype._onBoundaryFocus=function(t,h){var d=t.target,m=this._rowElements[h===0?1:this._rowElements.length-2];if(d.getAttribute("aria-posinset")!==(h===0?"1":""+this._terminal.buffer.lines.length)&&t.relatedTarget===m){var S,L;if(h===0?(S=d,L=this._rowElements.pop(),this._rowContainer.removeChild(L)):(S=this._rowElements.shift(),L=d,this._rowContainer.removeChild(S)),S.removeEventListener("focus",this._topBoundaryFocusListener),L.removeEventListener("focus",this._bottomBoundaryFocusListener),h===0){var A=this._createAccessibilityTreeNode();this._rowElements.unshift(A),this._rowContainer.insertAdjacentElement("afterbegin",A)}else A=this._createAccessibilityTreeNode(),this._rowElements.push(A),this._rowContainer.appendChild(A);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(h===0?-1:1),this._rowElements[h===0?1:this._rowElements.length-2].focus(),t.preventDefault(),t.stopImmediatePropagation()}},e.prototype._onResize=function(t){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var h=this._rowContainer.children.length;h<this._terminal.rows;h++)this._rowElements[h]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[h]);for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},e.prototype._createAccessibilityTreeNode=function(){var t=document.createElement("div");return t.setAttribute("role","listitem"),t.tabIndex=-1,this._refreshRowDimensions(t),t},e.prototype._onTab=function(t){for(var h=0;h<t;h++)this._onChar(" ")},e.prototype._onChar=function(t){var h=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==t&&(this._charsToAnnounce+=t):this._charsToAnnounce+=t,t===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=f.tooMuchOutput)),p.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(function(){h._accessibilityTreeRoot.appendChild(h._liveRegion)},0))},e.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,p.isMac&&(0,g.removeElementFromParent)(this._liveRegion)},e.prototype._onKey=function(t){this._clearLiveRegion(),this._charsToConsume.push(t)},e.prototype._refreshRows=function(t,h){this._renderRowsDebouncer.refresh(t,h,this._terminal.rows)},e.prototype._renderRows=function(t,h){for(var d=this._terminal.buffer,m=d.lines.length.toString(),S=t;S<=h;S++){var L=d.translateBufferLineToString(d.ydisp+S,!0),A=(d.ydisp+S+1).toString(),w=this._rowElements[S];w&&(L.length===0?w.innerText="\xA0":w.textContent=L,w.setAttribute("aria-posinset",A),w.setAttribute("aria-setsize",m))}this._announceCharacters()},e.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var t=0;t<this._terminal.rows;t++)this._refreshRowDimensions(this._rowElements[t])}},e.prototype._refreshRowDimensions=function(t){t.style.height=this._renderService.dimensions.actualCellHeight+"px"},e.prototype._announceCharacters=function(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},e}(o.Disposable);r.AccessibilityManager=u},3614:(x,r)=>{function _(p){return p.replace(/\r?\n/g,"\r")}function s(p,b){return b?"[200~"+p+"[201~":p}function l(p,b,y){p=s(p=_(p),y.decPrivateModes.bracketedPasteMode),y.triggerDataEvent(p,!0),b.value=""}function f(p,b,y){var o=y.getBoundingClientRect(),a=p.clientX-o.left-10,g=p.clientY-o.top-10;b.style.width="20px",b.style.height="20px",b.style.left=a+"px",b.style.top=g+"px",b.style.zIndex="1000",b.focus()}Object.defineProperty(r,"__esModule",{value:!0}),r.rightClickHandler=r.moveTextAreaUnderMouseCursor=r.paste=r.handlePasteEvent=r.copyHandler=r.bracketTextForPaste=r.prepareTextForTerminal=void 0,r.prepareTextForTerminal=_,r.bracketTextForPaste=s,r.copyHandler=function(p,b){p.clipboardData&&p.clipboardData.setData("text/plain",b.selectionText),p.preventDefault()},r.handlePasteEvent=function(p,b,y){p.stopPropagation(),p.clipboardData&&l(p.clipboardData.getData("text/plain"),b,y)},r.paste=l,r.moveTextAreaUnderMouseCursor=f,r.rightClickHandler=function(p,b,y,o,a){f(p,b,y),a&&o.rightClickSelect(p),b.value=o.selectionText,b.select()}},4774:(x,r)=>{var _,s,l,f;function p(y){var o=y.toString(16);return o.length<2?"0"+o:o}function b(y,o){return y<o?(o+.05)/(y+.05):(y+.05)/(o+.05)}Object.defineProperty(r,"__esModule",{value:!0}),r.contrastRatio=r.toPaddedHex=r.rgba=r.rgb=r.css=r.color=r.channels=void 0,function(y){y.toCss=function(o,a,g,u){return u!==void 0?"#"+p(o)+p(a)+p(g)+p(u):"#"+p(o)+p(a)+p(g)},y.toRgba=function(o,a,g,u){return u===void 0&&(u=255),(o<<24|a<<16|g<<8|u)>>>0}}(_=r.channels||(r.channels={})),(s=r.color||(r.color={})).blend=function(y,o){var a=(255&o.rgba)/255;if(a===1)return{css:o.css,rgba:o.rgba};var g=o.rgba>>24&255,u=o.rgba>>16&255,i=o.rgba>>8&255,e=y.rgba>>24&255,t=y.rgba>>16&255,h=y.rgba>>8&255,d=e+Math.round((g-e)*a),m=t+Math.round((u-t)*a),S=h+Math.round((i-h)*a);return{css:_.toCss(d,m,S),rgba:_.toRgba(d,m,S)}},s.isOpaque=function(y){return(255&y.rgba)==255},s.ensureContrastRatio=function(y,o,a){var g=f.ensureContrastRatio(y.rgba,o.rgba,a);if(g)return f.toColor(g>>24&255,g>>16&255,g>>8&255)},s.opaque=function(y){var o=(255|y.rgba)>>>0,a=f.toChannels(o),g=a[0],u=a[1],i=a[2];return{css:_.toCss(g,u,i),rgba:o}},s.opacity=function(y,o){var a=Math.round(255*o),g=f.toChannels(y.rgba),u=g[0],i=g[1],e=g[2];return{css:_.toCss(u,i,e,a),rgba:_.toRgba(u,i,e,a)}},s.toColorRGB=function(y){return[y.rgba>>24&255,y.rgba>>16&255,y.rgba>>8&255]},(r.css||(r.css={})).toColor=function(y){switch(y.length){case 7:return{css:y,rgba:(parseInt(y.slice(1),16)<<8|255)>>>0};case 9:return{css:y,rgba:parseInt(y.slice(1),16)>>>0}}throw new Error("css.toColor: Unsupported css format")},function(y){function o(a,g,u){var i=a/255,e=g/255,t=u/255;return .2126*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))}y.relativeLuminance=function(a){return o(a>>16&255,a>>8&255,255&a)},y.relativeLuminance2=o}(l=r.rgb||(r.rgb={})),function(y){function o(g,u,i){for(var e=g>>24&255,t=g>>16&255,h=g>>8&255,d=u>>24&255,m=u>>16&255,S=u>>8&255,L=b(l.relativeLuminance2(d,S,m),l.relativeLuminance2(e,t,h));L<i&&(d>0||m>0||S>0);)d-=Math.max(0,Math.ceil(.1*d)),m-=Math.max(0,Math.ceil(.1*m)),S-=Math.max(0,Math.ceil(.1*S)),L=b(l.relativeLuminance2(d,S,m),l.relativeLuminance2(e,t,h));return(d<<24|m<<16|S<<8|255)>>>0}function a(g,u,i){for(var e=g>>24&255,t=g>>16&255,h=g>>8&255,d=u>>24&255,m=u>>16&255,S=u>>8&255,L=b(l.relativeLuminance2(d,S,m),l.relativeLuminance2(e,t,h));L<i&&(d<255||m<255||S<255);)d=Math.min(255,d+Math.ceil(.1*(255-d))),m=Math.min(255,m+Math.ceil(.1*(255-m))),S=Math.min(255,S+Math.ceil(.1*(255-S))),L=b(l.relativeLuminance2(d,S,m),l.relativeLuminance2(e,t,h));return(d<<24|m<<16|S<<8|255)>>>0}y.ensureContrastRatio=function(g,u,i){var e=l.relativeLuminance(g>>8),t=l.relativeLuminance(u>>8);if(b(e,t)<i)return t<e?o(g,u,i):a(g,u,i)},y.reduceLuminance=o,y.increaseLuminance=a,y.toChannels=function(g){return[g>>24&255,g>>16&255,g>>8&255,255&g]},y.toColor=function(g,u,i){return{css:_.toCss(g,u,i),rgba:_.toRgba(g,u,i)}}}(f=r.rgba||(r.rgba={})),r.toPaddedHex=p,r.contrastRatio=b},7239:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ColorContrastCache=void 0;var _=function(){function s(){this._color={},this._rgba={}}return s.prototype.clear=function(){this._color={},this._rgba={}},s.prototype.setCss=function(l,f,p){this._rgba[l]||(this._rgba[l]={}),this._rgba[l][f]=p},s.prototype.getCss=function(l,f){return this._rgba[l]?this._rgba[l][f]:void 0},s.prototype.setColor=function(l,f,p){this._color[l]||(this._color[l]={}),this._color[l][f]=p},s.prototype.getColor=function(l,f){return this._color[l]?this._color[l][f]:void 0},s}();r.ColorContrastCache=_},5680:function(x,r,_){var s=this&&this.__spreadArray||function(u,i,e){if(e||arguments.length===2)for(var t,h=0,d=i.length;h<d;h++)!t&&h in i||(t||(t=Array.prototype.slice.call(i,0,h)),t[h]=i[h]);return u.concat(t||Array.prototype.slice.call(i))};Object.defineProperty(r,"__esModule",{value:!0}),r.ColorManager=r.DEFAULT_ANSI_COLORS=void 0;var l=_(4774),f=_(7239),p=l.css.toColor("#ffffff"),b=l.css.toColor("#000000"),y=l.css.toColor("#ffffff"),o=l.css.toColor("#000000"),a={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};r.DEFAULT_ANSI_COLORS=Object.freeze(function(){for(var u=[l.css.toColor("#2e3436"),l.css.toColor("#cc0000"),l.css.toColor("#4e9a06"),l.css.toColor("#c4a000"),l.css.toColor("#3465a4"),l.css.toColor("#75507b"),l.css.toColor("#06989a"),l.css.toColor("#d3d7cf"),l.css.toColor("#555753"),l.css.toColor("#ef2929"),l.css.toColor("#8ae234"),l.css.toColor("#fce94f"),l.css.toColor("#729fcf"),l.css.toColor("#ad7fa8"),l.css.toColor("#34e2e2"),l.css.toColor("#eeeeec")],i=[0,95,135,175,215,255],e=0;e<216;e++){var t=i[e/36%6|0],h=i[e/6%6|0],d=i[e%6];u.push({css:l.channels.toCss(t,h,d),rgba:l.channels.toRgba(t,h,d)})}for(e=0;e<24;e++){var m=8+10*e;u.push({css:l.channels.toCss(m,m,m),rgba:l.channels.toRgba(m,m,m)})}return u}());var g=function(){function u(i,e){this.allowTransparency=e;var t=i.createElement("canvas");t.width=1,t.height=1;var h=t.getContext("2d");if(!h)throw new Error("Could not get rendering context");this._ctx=h,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new f.ColorContrastCache,this.colors={foreground:p,background:b,cursor:y,cursorAccent:o,selectionTransparent:a,selectionOpaque:l.color.blend(b,a),ansi:r.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors()}return u.prototype.onOptionsChange=function(i){i==="minimumContrastRatio"&&this._contrastCache.clear()},u.prototype.setTheme=function(i){i===void 0&&(i={}),this.colors.foreground=this._parseColor(i.foreground,p),this.colors.background=this._parseColor(i.background,b),this.colors.cursor=this._parseColor(i.cursor,y,!0),this.colors.cursorAccent=this._parseColor(i.cursorAccent,o,!0),this.colors.selectionTransparent=this._parseColor(i.selection,a,!0),this.colors.selectionOpaque=l.color.blend(this.colors.background,this.colors.selectionTransparent),l.color.isOpaque(this.colors.selectionTransparent)&&(this.colors.selectionTransparent=l.color.opacity(this.colors.selectionTransparent,.3)),this.colors.ansi[0]=this._parseColor(i.black,r.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(i.red,r.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(i.green,r.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(i.yellow,r.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(i.blue,r.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(i.magenta,r.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(i.cyan,r.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(i.white,r.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(i.brightBlack,r.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(i.brightRed,r.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(i.brightGreen,r.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(i.brightYellow,r.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(i.brightBlue,r.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(i.brightMagenta,r.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(i.brightCyan,r.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(i.brightWhite,r.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear(),this._updateRestoreColors()},u.prototype.restoreColor=function(i){if(i!==void 0)switch(i){case 256:this.colors.foreground=this._restoreColors.foreground;break;case 257:this.colors.background=this._restoreColors.background;break;case 258:this.colors.cursor=this._restoreColors.cursor;break;default:this.colors.ansi[i]=this._restoreColors.ansi[i]}else for(var e=0;e<this._restoreColors.ansi.length;++e)this.colors.ansi[e]=this._restoreColors.ansi[e]},u.prototype._updateRestoreColors=function(){this._restoreColors={foreground:this.colors.foreground,background:this.colors.background,cursor:this.colors.cursor,ansi:s([],this.colors.ansi,!0)}},u.prototype._parseColor=function(i,e,t){if(t===void 0&&(t=this.allowTransparency),i===void 0)return e;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=i,typeof this._ctx.fillStyle!="string")return console.warn("Color: "+i+" is invalid using fallback "+e.css),e;this._ctx.fillRect(0,0,1,1);var h=this._ctx.getImageData(0,0,1,1).data;if(h[3]!==255){if(!t)return console.warn("Color: "+i+" is using transparency, but allowTransparency is false. Using fallback "+e.css+"."),e;var d=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map(function(E){return Number(E)}),m=d[0],S=d[1],L=d[2],A=d[3],w=Math.round(255*A);return{rgba:l.channels.toRgba(m,S,L,w),css:i}}return{css:this._ctx.fillStyle,rgba:l.channels.toRgba(h[0],h[1],h[2],h[3])}},u}();r.ColorManager=g},9631:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.removeElementFromParent=void 0,r.removeElementFromParent=function(){for(var _,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];for(var f=0,p=s;f<p.length;f++){var b=p[f];(_=b==null?void 0:b.parentElement)===null||_===void 0||_.removeChild(b)}}},3656:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.addDisposableDomListener=void 0,r.addDisposableDomListener=function(_,s,l,f){_.addEventListener(s,l,f);var p=!1;return{dispose:function(){p||(p=!0,_.removeEventListener(s,l,f))}}}},3551:function(x,r,_){var s=this&&this.__decorate||function(o,a,g,u){var i,e=arguments.length,t=e<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,g):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(o,a,g,u);else for(var h=o.length-1;h>=0;h--)(i=o[h])&&(t=(e<3?i(t):e>3?i(a,g,t):i(a,g))||t);return e>3&&t&&Object.defineProperty(a,g,t),t},l=this&&this.__param||function(o,a){return function(g,u){a(g,u,o)}};Object.defineProperty(r,"__esModule",{value:!0}),r.MouseZone=r.Linkifier=void 0;var f=_(8460),p=_(2585),b=function(){function o(a,g,u){this._bufferService=a,this._logService=g,this._unicodeService=u,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new f.EventEmitter,this._onHideLinkUnderline=new f.EventEmitter,this._onLinkTooltip=new f.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(o.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),o.prototype.attachToDom=function(a,g){this._element=a,this._mouseZoneManager=g},o.prototype.linkifyRows=function(a,g){var u=this;this._mouseZoneManager&&(this._rowsToLinkify.start===void 0||this._rowsToLinkify.end===void 0?(this._rowsToLinkify.start=a,this._rowsToLinkify.end=g):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,a),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,g)),this._mouseZoneManager.clearAll(a,g),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return u._linkifyRows()},o._timeBeforeLatency))},o.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var a=this._bufferService.buffer;if(this._rowsToLinkify.start!==void 0&&this._rowsToLinkify.end!==void 0){var g=a.ydisp+this._rowsToLinkify.start;if(!(g>=a.lines.length)){for(var u=a.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,i=Math.ceil(2e3/this._bufferService.cols),e=this._bufferService.buffer.iterator(!1,g,u,i,i);e.hasNext();)for(var t=e.next(),h=0;h<this._linkMatchers.length;h++)this._doLinkifyRow(t.range.first,t.content,this._linkMatchers[h]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},o.prototype.registerLinkMatcher=function(a,g,u){if(u===void 0&&(u={}),!g)throw new Error("handler must be defined");var i={id:this._nextLinkMatcherId++,regex:a,handler:g,matchIndex:u.matchIndex,validationCallback:u.validationCallback,hoverTooltipCallback:u.tooltipCallback,hoverLeaveCallback:u.leaveCallback,willLinkActivate:u.willLinkActivate,priority:u.priority||0};return this._addLinkMatcherToList(i),i.id},o.prototype._addLinkMatcherToList=function(a){if(this._linkMatchers.length!==0){for(var g=this._linkMatchers.length-1;g>=0;g--)if(a.priority<=this._linkMatchers[g].priority)return void this._linkMatchers.splice(g+1,0,a);this._linkMatchers.splice(0,0,a)}else this._linkMatchers.push(a)},o.prototype.deregisterLinkMatcher=function(a){for(var g=0;g<this._linkMatchers.length;g++)if(this._linkMatchers[g].id===a)return this._linkMatchers.splice(g,1),!0;return!1},o.prototype._doLinkifyRow=function(a,g,u){for(var i,e=this,t=new RegExp(u.regex.source,(u.regex.flags||"")+"g"),h=-1,d=function(){var S=i[typeof u.matchIndex!="number"?0:u.matchIndex];if(!S)return m._logService.debug("match found without corresponding matchIndex",i,u),"break";if(h=g.indexOf(S,h+1),t.lastIndex=h+S.length,h<0)return"break";var L=m._bufferService.buffer.stringIndexToBufferIndex(a,h);if(L[0]<0)return"break";var A=m._bufferService.buffer.lines.get(L[0]);if(!A)return"break";var w=A.getFg(L[1]),E=w?w>>9&511:void 0;u.validationCallback?u.validationCallback(S,function(B){e._rowsTimeoutId||B&&e._addLink(L[1],L[0]-e._bufferService.buffer.ydisp,S,u,E)}):m._addLink(L[1],L[0]-m._bufferService.buffer.ydisp,S,u,E)},m=this;(i=t.exec(g))!==null&&d()!=="break";);},o.prototype._addLink=function(a,g,u,i,e){var t=this;if(this._mouseZoneManager&&this._element){var h=this._unicodeService.getStringCellWidth(u),d=a%this._bufferService.cols,m=g+Math.floor(a/this._bufferService.cols),S=(d+h)%this._bufferService.cols,L=m+Math.floor((d+h)/this._bufferService.cols);S===0&&(S=this._bufferService.cols,L--),this._mouseZoneManager.add(new y(d+1,m+1,S+1,L+1,function(A){if(i.handler)return i.handler(A,u);var w=window.open();w?(w.opener=null,w.location.href=u):console.warn("Opening link blocked as opener could not be cleared")},function(){t._onShowLinkUnderline.fire(t._createLinkHoverEvent(d,m,S,L,e)),t._element.classList.add("xterm-cursor-pointer")},function(A){t._onLinkTooltip.fire(t._createLinkHoverEvent(d,m,S,L,e)),i.hoverTooltipCallback&&i.hoverTooltipCallback(A,u,{start:{x:d,y:m},end:{x:S,y:L}})},function(){t._onHideLinkUnderline.fire(t._createLinkHoverEvent(d,m,S,L,e)),t._element.classList.remove("xterm-cursor-pointer"),i.hoverLeaveCallback&&i.hoverLeaveCallback()},function(A){return!i.willLinkActivate||i.willLinkActivate(A,u)}))}},o.prototype._createLinkHoverEvent=function(a,g,u,i,e){return{x1:a,y1:g,x2:u,y2:i,cols:this._bufferService.cols,fg:e}},o._timeBeforeLatency=200,o=s([l(0,p.IBufferService),l(1,p.ILogService),l(2,p.IUnicodeService)],o)}();r.Linkifier=b;var y=function(o,a,g,u,i,e,t,h,d){this.x1=o,this.y1=a,this.x2=g,this.y2=u,this.clickCallback=i,this.hoverCallback=e,this.tooltipCallback=t,this.leaveCallback=h,this.willLinkActivate=d};r.MouseZone=y},6465:function(x,r,_){var s,l=this&&this.__extends||(s=function(u,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var h in t)Object.prototype.hasOwnProperty.call(t,h)&&(e[h]=t[h])},s(u,i)},function(u,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=u}s(u,i),u.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}),f=this&&this.__decorate||function(u,i,e,t){var h,d=arguments.length,m=d<3?i:t===null?t=Object.getOwnPropertyDescriptor(i,e):t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,i,e,t);else for(var S=u.length-1;S>=0;S--)(h=u[S])&&(m=(d<3?h(m):d>3?h(i,e,m):h(i,e))||m);return d>3&&m&&Object.defineProperty(i,e,m),m},p=this&&this.__param||function(u,i){return function(e,t){i(e,t,u)}};Object.defineProperty(r,"__esModule",{value:!0}),r.Linkifier2=void 0;var b=_(2585),y=_(8460),o=_(844),a=_(3656),g=function(u){function i(e){var t=u.call(this)||this;return t._bufferService=e,t._linkProviders=[],t._linkCacheDisposables=[],t._isMouseOut=!0,t._activeLine=-1,t._onShowLinkUnderline=t.register(new y.EventEmitter),t._onHideLinkUnderline=t.register(new y.EventEmitter),t.register((0,o.getDisposeArrayDisposable)(t._linkCacheDisposables)),t}return l(i,u),Object.defineProperty(i.prototype,"currentLink",{get:function(){return this._currentLink},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),i.prototype.registerLinkProvider=function(e){var t=this;return this._linkProviders.push(e),{dispose:function(){var h=t._linkProviders.indexOf(e);h!==-1&&t._linkProviders.splice(h,1)}}},i.prototype.attachToDom=function(e,t,h){var d=this;this._element=e,this._mouseService=t,this._renderService=h,this.register((0,a.addDisposableDomListener)(this._element,"mouseleave",function(){d._isMouseOut=!0,d._clearCurrentLink()})),this.register((0,a.addDisposableDomListener)(this._element,"mousemove",this._onMouseMove.bind(this))),this.register((0,a.addDisposableDomListener)(this._element,"click",this._onClick.bind(this)))},i.prototype._onMouseMove=function(e){if(this._lastMouseEvent=e,this._element&&this._mouseService){var t=this._positionFromMouseEvent(e,this._element,this._mouseService);if(t){this._isMouseOut=!1;for(var h=e.composedPath(),d=0;d<h.length;d++){var m=h[d];if(m.classList.contains("xterm"))break;if(m.classList.contains("xterm-hover"))return}this._lastBufferCell&&t.x===this._lastBufferCell.x&&t.y===this._lastBufferCell.y||(this._onHover(t),this._lastBufferCell=t)}}},i.prototype._onHover=function(e){if(this._activeLine!==e.y)return this._clearCurrentLink(),void this._askForLink(e,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))},i.prototype._askForLink=function(e,t){var h,d=this;this._activeProviderReplies&&t||((h=this._activeProviderReplies)===null||h===void 0||h.forEach(function(S){S==null||S.forEach(function(L){L.link.dispose&&L.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=e.y);var m=!1;this._linkProviders.forEach(function(S,L){var A;t?((A=d._activeProviderReplies)===null||A===void 0?void 0:A.get(L))&&(m=d._checkLinkProviderResult(L,e,m)):S.provideLinks(e.y,function(w){var E,B;if(!d._isMouseOut){var T=w==null?void 0:w.map(function(U){return{link:U}});(E=d._activeProviderReplies)===null||E===void 0||E.set(L,T),m=d._checkLinkProviderResult(L,e,m),((B=d._activeProviderReplies)===null||B===void 0?void 0:B.size)===d._linkProviders.length&&d._removeIntersectingLinks(e.y,d._activeProviderReplies)}})})},i.prototype._removeIntersectingLinks=function(e,t){for(var h=new Set,d=0;d<t.size;d++){var m=t.get(d);if(m)for(var S=0;S<m.length;S++)for(var L=m[S],A=L.link.range.start.y<e?0:L.link.range.start.x,w=L.link.range.end.y>e?this._bufferService.cols:L.link.range.end.x,E=A;E<=w;E++){if(h.has(E)){m.splice(S--,1);break}h.add(E)}}},i.prototype._checkLinkProviderResult=function(e,t,h){var d,m=this;if(!this._activeProviderReplies)return h;for(var S=this._activeProviderReplies.get(e),L=!1,A=0;A<e;A++)this._activeProviderReplies.has(A)&&!this._activeProviderReplies.get(A)||(L=!0);if(!L&&S){var w=S.find(function(B){return m._linkAtPosition(B.link,t)});w&&(h=!0,this._handleNewLink(w))}if(this._activeProviderReplies.size===this._linkProviders.length&&!h)for(A=0;A<this._activeProviderReplies.size;A++){var E=(d=this._activeProviderReplies.get(A))===null||d===void 0?void 0:d.find(function(B){return m._linkAtPosition(B.link,t)});if(E){h=!0,this._handleNewLink(E);break}}return h},i.prototype._onClick=function(e){if(this._element&&this._mouseService&&this._currentLink){var t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._linkAtPosition(this._currentLink.link,t)&&this._currentLink.link.activate(e,this._currentLink.link.text)}},i.prototype._clearCurrentLink=function(e,t){this._element&&this._currentLink&&this._lastMouseEvent&&(!e||!t||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,o.disposeArray)(this._linkCacheDisposables))},i.prototype._handleNewLink=function(e){var t=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var h=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);h&&this._linkAtPosition(e.link,h)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:e.link.decorations===void 0||e.link.decorations.underline,pointerCursor:e.link.decorations===void 0||e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:function(){var d,m;return(m=(d=t._currentLink)===null||d===void 0?void 0:d.state)===null||m===void 0?void 0:m.decorations.pointerCursor},set:function(d){var m,S;((m=t._currentLink)===null||m===void 0?void 0:m.state)&&t._currentLink.state.decorations.pointerCursor!==d&&(t._currentLink.state.decorations.pointerCursor=d,t._currentLink.state.isHovered&&((S=t._element)===null||S===void 0||S.classList.toggle("xterm-cursor-pointer",d)))}},underline:{get:function(){var d,m;return(m=(d=t._currentLink)===null||d===void 0?void 0:d.state)===null||m===void 0?void 0:m.decorations.underline},set:function(d){var m,S,L;((m=t._currentLink)===null||m===void 0?void 0:m.state)&&((L=(S=t._currentLink)===null||S===void 0?void 0:S.state)===null||L===void 0?void 0:L.decorations.underline)!==d&&(t._currentLink.state.decorations.underline=d,t._currentLink.state.isHovered&&t._fireUnderlineEvent(e.link,d))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedBufferChange(function(d){var m=d.start===0?0:d.start+1+t._bufferService.buffer.ydisp;t._clearCurrentLink(m,d.end+1+t._bufferService.buffer.ydisp)})))}},i.prototype._linkHover=function(e,t,h){var d;((d=this._currentLink)===null||d===void 0?void 0:d.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),t.hover&&t.hover(h,t.text)},i.prototype._fireUnderlineEvent=function(e,t){var h=e.range,d=this._bufferService.buffer.ydisp,m=this._createLinkUnderlineEvent(h.start.x-1,h.start.y-d-1,h.end.x,h.end.y-d-1,void 0);(t?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(m)},i.prototype._linkLeave=function(e,t,h){var d;((d=this._currentLink)===null||d===void 0?void 0:d.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),t.leave&&t.leave(h,t.text)},i.prototype._linkAtPosition=function(e,t){var h=e.range.start.y===e.range.end.y,d=e.range.start.y<t.y,m=e.range.end.y>t.y;return(h&&e.range.start.x<=t.x&&e.range.end.x>=t.x||d&&e.range.end.x>=t.x||m&&e.range.start.x<=t.x||d&&m)&&e.range.start.y<=t.y&&e.range.end.y>=t.y},i.prototype._positionFromMouseEvent=function(e,t,h){var d=h.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(d)return{x:d[0],y:d[1]+this._bufferService.buffer.ydisp}},i.prototype._createLinkUnderlineEvent=function(e,t,h,d,m){return{x1:e,y1:t,x2:h,y2:d,cols:this._bufferService.cols,fg:m}},f([p(0,b.IBufferService)],i)}(o.Disposable);r.Linkifier2=g},9042:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.tooMuchOutput=r.promptLabel=void 0,r.promptLabel="Terminal input",r.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},6954:function(x,r,_){var s,l=this&&this.__extends||(s=function(u,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var h in t)Object.prototype.hasOwnProperty.call(t,h)&&(e[h]=t[h])},s(u,i)},function(u,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=u}s(u,i),u.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}),f=this&&this.__decorate||function(u,i,e,t){var h,d=arguments.length,m=d<3?i:t===null?t=Object.getOwnPropertyDescriptor(i,e):t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,i,e,t);else for(var S=u.length-1;S>=0;S--)(h=u[S])&&(m=(d<3?h(m):d>3?h(i,e,m):h(i,e))||m);return d>3&&m&&Object.defineProperty(i,e,m),m},p=this&&this.__param||function(u,i){return function(e,t){i(e,t,u)}};Object.defineProperty(r,"__esModule",{value:!0}),r.MouseZoneManager=void 0;var b=_(844),y=_(3656),o=_(4725),a=_(2585),g=function(u){function i(e,t,h,d,m,S){var L=u.call(this)||this;return L._element=e,L._screenElement=t,L._bufferService=h,L._mouseService=d,L._selectionService=m,L._optionsService=S,L._zones=[],L._areZonesActive=!1,L._lastHoverCoords=[void 0,void 0],L._initialSelectionLength=0,L.register((0,y.addDisposableDomListener)(L._element,"mousedown",function(A){return L._onMouseDown(A)})),L._mouseMoveListener=function(A){return L._onMouseMove(A)},L._mouseLeaveListener=function(A){return L._onMouseLeave(A)},L._clickListener=function(A){return L._onClick(A)},L}return l(i,u),i.prototype.dispose=function(){u.prototype.dispose.call(this),this._deactivate()},i.prototype.add=function(e){this._zones.push(e),this._zones.length===1&&this._activate()},i.prototype.clearAll=function(e,t){if(this._zones.length!==0){e&&t||(e=0,t=this._bufferService.rows-1);for(var h=0;h<this._zones.length;h++){var d=this._zones[h];(d.y1>e&&d.y1<=t+1||d.y2>e&&d.y2<=t+1||d.y1<e&&d.y2>t+1)&&(this._currentZone&&this._currentZone===d&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(h--,1))}this._zones.length===0&&this._deactivate()}},i.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},i.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},i.prototype._onMouseMove=function(e){this._lastHoverCoords[0]===e.pageX&&this._lastHoverCoords[1]===e.pageY||(this._onHover(e),this._lastHoverCoords=[e.pageX,e.pageY])},i.prototype._onHover=function(e){var t=this,h=this._findZoneEventAt(e);h!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),h&&(this._currentZone=h,h.hoverCallback&&h.hoverCallback(e),this._tooltipTimeout=window.setTimeout(function(){return t._onTooltip(e)},this._optionsService.options.linkTooltipHoverDuration)))},i.prototype._onTooltip=function(e){this._tooltipTimeout=void 0;var t=this._findZoneEventAt(e);t==null||t.tooltipCallback(e)},i.prototype._onMouseDown=function(e){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var t=this._findZoneEventAt(e);(t==null?void 0:t.willLinkActivate(e))&&(e.preventDefault(),e.stopImmediatePropagation())}},i.prototype._onMouseLeave=function(e){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},i.prototype._onClick=function(e){var t=this._findZoneEventAt(e),h=this._getSelectionLength();t&&h===this._initialSelectionLength&&(t.clickCallback(e),e.preventDefault(),e.stopImmediatePropagation())},i.prototype._getSelectionLength=function(){var e=this._selectionService.selectionText;return e?e.length:0},i.prototype._findZoneEventAt=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(t)for(var h=t[0],d=t[1],m=0;m<this._zones.length;m++){var S=this._zones[m];if(S.y1===S.y2){if(d===S.y1&&h>=S.x1&&h<S.x2)return S}else if(d===S.y1&&h>=S.x1||d===S.y2&&h<S.x2||d>S.y1&&d<S.y2)return S}},f([p(2,a.IBufferService),p(3,o.IMouseService),p(4,o.ISelectionService),p(5,a.IOptionsService)],i)}(b.Disposable);r.MouseZoneManager=g},6193:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.RenderDebouncer=void 0;var _=function(){function s(l){this._renderCallback=l}return s.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},s.prototype.refresh=function(l,f,p){var b=this;this._rowCount=p,l=l!==void 0?l:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return b._innerRefresh()}))},s.prototype._innerRefresh=function(){if(this._rowStart!==void 0&&this._rowEnd!==void 0&&this._rowCount!==void 0){var l=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._animationFrame=void 0,this._renderCallback(l,f)}},s}();r.RenderDebouncer=_},5596:function(x,r,_){var s,l=this&&this.__extends||(s=function(p,b){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,o){y.__proto__=o}||function(y,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(y[a]=o[a])},s(p,b)},function(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function y(){this.constructor=p}s(p,b),p.prototype=b===null?Object.create(b):(y.prototype=b.prototype,new y)});Object.defineProperty(r,"__esModule",{value:!0}),r.ScreenDprMonitor=void 0;var f=function(p){function b(){var y=p!==null&&p.apply(this,arguments)||this;return y._currentDevicePixelRatio=window.devicePixelRatio,y}return l(b,p),b.prototype.setListener=function(y){var o=this;this._listener&&this.clearListener(),this._listener=y,this._outerListener=function(){o._listener&&(o._listener(window.devicePixelRatio,o._currentDevicePixelRatio),o._updateDpr())},this._updateDpr()},b.prototype.dispose=function(){p.prototype.dispose.call(this),this.clearListener()},b.prototype._updateDpr=function(){var y;this._outerListener&&((y=this._resolutionMediaMatchList)===null||y===void 0||y.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},b.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},b}(_(844).Disposable);r.ScreenDprMonitor=f},3236:function(x,r,_){var s,l=this&&this.__extends||(s=function(re,R){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,I){W.__proto__=I}||function(W,I){for(var q in I)Object.prototype.hasOwnProperty.call(I,q)&&(W[q]=I[q])},s(re,R)},function(re,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function W(){this.constructor=re}s(re,R),re.prototype=R===null?Object.create(R):(W.prototype=R.prototype,new W)});Object.defineProperty(r,"__esModule",{value:!0}),r.Terminal=void 0;var f=_(2950),p=_(1680),b=_(3614),y=_(2584),o=_(5435),a=_(3525),g=_(3551),u=_(9312),i=_(6114),e=_(3656),t=_(9042),h=_(357),d=_(6954),m=_(4567),S=_(1296),L=_(7399),A=_(8460),w=_(8437),E=_(5680),B=_(3230),T=_(4725),U=_(428),H=_(8934),k=_(6465),O=_(5114),P=_(8969),F=_(4774),K=_(4269),G=_(5941),Q=typeof window!="undefined"?window.document:null,ee=function(re){function R(W){W===void 0&&(W={});var I=re.call(this,W)||this;return I.browser=i,I._keyDownHandled=!1,I._keyPressHandled=!1,I._unprocessedDeadKey=!1,I._onCursorMove=new A.EventEmitter,I._onKey=new A.EventEmitter,I._onRender=new A.EventEmitter,I._onSelectionChange=new A.EventEmitter,I._onTitleChange=new A.EventEmitter,I._onBell=new A.EventEmitter,I._onFocus=new A.EventEmitter,I._onBlur=new A.EventEmitter,I._onA11yCharEmitter=new A.EventEmitter,I._onA11yTabEmitter=new A.EventEmitter,I._setup(),I.linkifier=I._instantiationService.createInstance(g.Linkifier),I.linkifier2=I.register(I._instantiationService.createInstance(k.Linkifier2)),I.register(I._inputHandler.onRequestBell(function(){return I.bell()})),I.register(I._inputHandler.onRequestRefreshRows(function(q,j){return I.refresh(q,j)})),I.register(I._inputHandler.onRequestSendFocus(function(){return I._reportFocus()})),I.register(I._inputHandler.onRequestReset(function(){return I.reset()})),I.register(I._inputHandler.onRequestWindowsOptionsReport(function(q){return I._reportWindowsOptions(q)})),I.register(I._inputHandler.onColor(function(q){return I._handleColorEvent(q)})),I.register((0,A.forwardEvent)(I._inputHandler.onCursorMove,I._onCursorMove)),I.register((0,A.forwardEvent)(I._inputHandler.onTitleChange,I._onTitleChange)),I.register((0,A.forwardEvent)(I._inputHandler.onA11yChar,I._onA11yCharEmitter)),I.register((0,A.forwardEvent)(I._inputHandler.onA11yTab,I._onA11yTabEmitter)),I.register(I._bufferService.onResize(function(q){return I._afterResize(q.cols,q.rows)})),I}return l(R,re),Object.defineProperty(R.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"onBell",{get:function(){return this._onBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),R.prototype._handleColorEvent=function(W){var I,q;if(this._colorManager){for(var j=0,J=W;j<J.length;j++){var Z=J[j],oe=void 0,le="";switch(Z.index){case 256:oe="foreground",le="10";break;case 257:oe="background",le="11";break;case 258:oe="cursor",le="12";break;default:oe="ansi",le="4;"+Z.index}if(oe)switch(Z.type){case 0:var ae=F.color.toColorRGB(oe==="ansi"?this._colorManager.colors.ansi[Z.index]:this._colorManager.colors[oe]);this.coreService.triggerDataEvent(y.C0.ESC+"]"+le+";"+(0,G.toRgbString)(ae)+y.C0.BEL);break;case 1:oe==="ansi"?this._colorManager.colors.ansi[Z.index]=F.rgba.toColor.apply(F.rgba,Z.color):this._colorManager.colors[oe]=F.rgba.toColor.apply(F.rgba,Z.color);break;case 2:this._colorManager.restoreColor(Z.index)}}(I=this._renderService)===null||I===void 0||I.setColors(this._colorManager.colors),(q=this.viewport)===null||q===void 0||q.onThemeChange(this._colorManager.colors)}},R.prototype.dispose=function(){var W,I,q;this._isDisposed||(re.prototype.dispose.call(this),(W=this._renderService)===null||W===void 0||W.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},(q=(I=this.element)===null||I===void 0?void 0:I.parentNode)===null||q===void 0||q.removeChild(this.element))},R.prototype._setup=function(){re.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(R.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),R.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},R.prototype._updateOptions=function(W){var I,q,j,J;switch(re.prototype._updateOptions.call(this,W),W){case"fontFamily":case"fontSize":(I=this._renderService)===null||I===void 0||I.clear(),(q=this._charSizeService)===null||q===void 0||q.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"customGlyphs":case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":(j=this.viewport)===null||j===void 0||j.syncScrollArea();break;case"screenReaderMode":this.optionsService.options.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new m.AccessibilityManager(this,this._renderService)):((J=this._accessibilityManager)===null||J===void 0||J.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.options.theme)}},R.prototype._onTextAreaFocus=function(W){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(y.C0.ESC+"[I"),this.updateCursorStyle(W),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},R.prototype.blur=function(){var W;return(W=this.textarea)===null||W===void 0?void 0:W.blur()},R.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(y.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},R.prototype._syncTextArea=function(){if(this.textarea&&this.buffer.isCursorInViewport&&!this._compositionHelper.isComposing&&this._renderService){var W=this.buffer.ybase+this.buffer.y,I=this.buffer.lines.get(W);if(I){var q=Math.min(this.buffer.x,this.cols-1),j=this._renderService.dimensions.actualCellHeight,J=I.getWidth(q),Z=this._renderService.dimensions.actualCellWidth*J,oe=this.buffer.y*this._renderService.dimensions.actualCellHeight,le=q*this._renderService.dimensions.actualCellWidth;this.textarea.style.left=le+"px",this.textarea.style.top=oe+"px",this.textarea.style.width=Z+"px",this.textarea.style.height=j+"px",this.textarea.style.lineHeight=j+"px",this.textarea.style.zIndex="-5"}}},R.prototype._initGlobal=function(){var W=this;this._bindKeys(),this.register((0,e.addDisposableDomListener)(this.element,"copy",function(q){W.hasSelection()&&(0,b.copyHandler)(q,W._selectionService)}));var I=function(q){return(0,b.handlePasteEvent)(q,W.textarea,W.coreService)};this.register((0,e.addDisposableDomListener)(this.textarea,"paste",I)),this.register((0,e.addDisposableDomListener)(this.element,"paste",I)),i.isFirefox?this.register((0,e.addDisposableDomListener)(this.element,"mousedown",function(q){q.button===2&&(0,b.rightClickHandler)(q,W.textarea,W.screenElement,W._selectionService,W.options.rightClickSelectsWord)})):this.register((0,e.addDisposableDomListener)(this.element,"contextmenu",function(q){(0,b.rightClickHandler)(q,W.textarea,W.screenElement,W._selectionService,W.options.rightClickSelectsWord)})),i.isLinux&&this.register((0,e.addDisposableDomListener)(this.element,"auxclick",function(q){q.button===1&&(0,b.moveTextAreaUnderMouseCursor)(q,W.textarea,W.screenElement)}))},R.prototype._bindKeys=function(){var W=this;this.register((0,e.addDisposableDomListener)(this.textarea,"keyup",function(I){return W._keyUp(I)},!0)),this.register((0,e.addDisposableDomListener)(this.textarea,"keydown",function(I){return W._keyDown(I)},!0)),this.register((0,e.addDisposableDomListener)(this.textarea,"keypress",function(I){return W._keyPress(I)},!0)),this.register((0,e.addDisposableDomListener)(this.textarea,"compositionstart",function(){return W._compositionHelper.compositionstart()})),this.register((0,e.addDisposableDomListener)(this.textarea,"compositionupdate",function(I){return W._compositionHelper.compositionupdate(I)})),this.register((0,e.addDisposableDomListener)(this.textarea,"compositionend",function(){return W._compositionHelper.compositionend()})),this.register((0,e.addDisposableDomListener)(this.textarea,"input",function(I){return W._inputEvent(I)},!0)),this.register(this.onRender(function(){return W._compositionHelper.updateCompositionElements()})),this.register(this.onRender(function(I){return W._queueLinkification(I.start,I.end)}))},R.prototype.open=function(W){var I=this;if(!W)throw new Error("Terminal requires a parent element.");W.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=W.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),W.appendChild(this.element);var q=Q.createDocumentFragment();this._viewportElement=Q.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),q.appendChild(this._viewportElement),this._viewportScrollArea=Q.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=Q.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=Q.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),q.appendChild(this.screenElement),this.textarea=Q.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",t.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register((0,e.addDisposableDomListener)(this.textarea,"focus",function(Z){return I._onTextAreaFocus(Z)})),this.register((0,e.addDisposableDomListener)(this.textarea,"blur",function(){return I._onTextAreaBlur()})),this._helperContainer.appendChild(this.textarea);var j=this._instantiationService.createInstance(O.CoreBrowserService,this.textarea);this._instantiationService.setService(T.ICoreBrowserService,j),this._charSizeService=this._instantiationService.createInstance(U.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(T.ICharSizeService,this._charSizeService),this._theme=this.options.theme||this._theme,this._colorManager=new E.ColorManager(Q,this.options.allowTransparency),this.register(this.optionsService.onOptionChange(function(Z){return I._colorManager.onOptionsChange(Z)})),this._colorManager.setTheme(this._theme),this._characterJoinerService=this._instantiationService.createInstance(K.CharacterJoinerService),this._instantiationService.setService(T.ICharacterJoinerService,this._characterJoinerService);var J=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(B.RenderService,J,this.rows,this.screenElement)),this._instantiationService.setService(T.IRenderService,this._renderService),this.register(this._renderService.onRenderedBufferChange(function(Z){return I._onRender.fire(Z)})),this.onResize(function(Z){return I._renderService.resize(Z.cols,Z.rows)}),this._compositionView=Q.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(f.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(q),this._soundService=this._instantiationService.createInstance(h.SoundService),this._instantiationService.setService(T.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(H.MouseService),this._instantiationService.setService(T.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(p.Viewport,function(Z){return I.scrollLines(Z,!0,1)},this._viewportElement,this._viewportScrollArea,this.element),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar(function(){return I.viewport.syncScrollArea()})),this.register(this.viewport),this.register(this.onCursorMove(function(){I._renderService.onCursorMove(),I._syncTextArea()})),this.register(this.onResize(function(){return I._renderService.onResize(I.cols,I.rows)})),this.register(this.onBlur(function(){return I._renderService.onBlur()})),this.register(this.onFocus(function(){return I._renderService.onFocus()})),this.register(this._renderService.onDimensionsChange(function(){return I.viewport.syncScrollArea()})),this._selectionService=this.register(this._instantiationService.createInstance(u.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(T.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(function(Z){return I.scrollLines(Z.amount,Z.suppressScrollEvent)})),this.register(this._selectionService.onSelectionChange(function(){return I._onSelectionChange.fire()})),this.register(this._selectionService.onRequestRedraw(function(Z){return I._renderService.onSelectionChanged(Z.start,Z.end,Z.columnSelectMode)})),this.register(this._selectionService.onLinuxMouseSelection(function(Z){I.textarea.value=Z,I.textarea.focus(),I.textarea.select()})),this.register(this._onScroll.event(function(Z){I.viewport.syncScrollArea(),I._selectionService.refresh()})),this.register((0,e.addDisposableDomListener)(this._viewportElement,"scroll",function(){return I._selectionService.refresh()})),this._mouseZoneManager=this._instantiationService.createInstance(d.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll(function(){return I._mouseZoneManager.clearAll()})),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register((0,e.addDisposableDomListener)(this.element,"mousedown",function(Z){return I._selectionService.onMouseDown(Z)})),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new m.AccessibilityManager(this,this._renderService)),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},R.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(a.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(S.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},R.prototype._setTheme=function(W){var I,q,j;this._theme=W,(I=this._colorManager)===null||I===void 0||I.setTheme(W),(q=this._renderService)===null||q===void 0||q.setColors(this._colorManager.colors),(j=this.viewport)===null||j===void 0||j.onThemeChange(this._colorManager.colors)},R.prototype.bindMouse=function(){var W=this,I=this,q=this.element;function j(X){var ce,de,pe=I._mouseService.getRawByteCoords(X,I.screenElement,I.cols,I.rows);if(!pe)return!1;switch(X.overrideType||X.type){case"mousemove":de=32,X.buttons===void 0?(ce=3,X.button!==void 0&&(ce=X.button<3?X.button:3)):ce=1&X.buttons?0:4&X.buttons?1:2&X.buttons?2:3;break;case"mouseup":de=0,ce=X.button<3?X.button:3;break;case"mousedown":de=1,ce=X.button<3?X.button:3;break;case"wheel":X.deltaY!==0&&(de=X.deltaY<0?0:1),ce=4;break;default:return!1}return!(de===void 0||ce===void 0||ce>4)&&I.coreMouseService.triggerMouseEvent({col:pe.x-33,row:pe.y-33,button:ce,action:de,ctrl:X.ctrlKey,alt:X.altKey,shift:X.shiftKey})}var J={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Z=function(X){return j(X),X.buttons||(W._document.removeEventListener("mouseup",J.mouseup),J.mousedrag&&W._document.removeEventListener("mousemove",J.mousedrag)),W.cancel(X)},oe=function(X){return j(X),W.cancel(X,!0)},le=function(X){X.buttons&&j(X)},ae=function(X){X.buttons||j(X)};this.register(this.coreMouseService.onProtocolChange(function(X){X?(W.optionsService.options.logLevel==="debug"&&W._logService.debug("Binding to mouse events:",W.coreMouseService.explainEvents(X)),W.element.classList.add("enable-mouse-events"),W._selectionService.disable()):(W._logService.debug("Unbinding from mouse events."),W.element.classList.remove("enable-mouse-events"),W._selectionService.enable()),8&X?J.mousemove||(q.addEventListener("mousemove",ae),J.mousemove=ae):(q.removeEventListener("mousemove",J.mousemove),J.mousemove=null),16&X?J.wheel||(q.addEventListener("wheel",oe,{passive:!1}),J.wheel=oe):(q.removeEventListener("wheel",J.wheel),J.wheel=null),2&X?J.mouseup||(J.mouseup=Z):(W._document.removeEventListener("mouseup",J.mouseup),J.mouseup=null),4&X?J.mousedrag||(J.mousedrag=le):(W._document.removeEventListener("mousemove",J.mousedrag),J.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,e.addDisposableDomListener)(q,"mousedown",function(X){if(X.preventDefault(),W.focus(),W.coreMouseService.areMouseEventsActive&&!W._selectionService.shouldForceSelection(X))return j(X),J.mouseup&&W._document.addEventListener("mouseup",J.mouseup),J.mousedrag&&W._document.addEventListener("mousemove",J.mousedrag),W.cancel(X)})),this.register((0,e.addDisposableDomListener)(q,"wheel",function(X){if(!J.wheel){if(!W.buffer.hasScrollback){var ce=W.viewport.getLinesScrolled(X);if(ce===0)return;for(var de=y.C0.ESC+(W.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(X.deltaY<0?"A":"B"),pe="",Ce=0;Ce<Math.abs(ce);Ce++)pe+=de;return W.coreService.triggerDataEvent(pe,!0),W.cancel(X,!0)}return W.viewport.onWheel(X)?W.cancel(X):void 0}},{passive:!1})),this.register((0,e.addDisposableDomListener)(q,"touchstart",function(X){if(!W.coreMouseService.areMouseEventsActive)return W.viewport.onTouchStart(X),W.cancel(X)},{passive:!0})),this.register((0,e.addDisposableDomListener)(q,"touchmove",function(X){if(!W.coreMouseService.areMouseEventsActive)return W.viewport.onTouchMove(X)?void 0:W.cancel(X)},{passive:!1}))},R.prototype.refresh=function(W,I){var q;(q=this._renderService)===null||q===void 0||q.refreshRows(W,I)},R.prototype._queueLinkification=function(W,I){var q;(q=this.linkifier)===null||q===void 0||q.linkifyRows(W,I)},R.prototype.updateCursorStyle=function(W){var I;((I=this._selectionService)===null||I===void 0?void 0:I.shouldColumnSelect(W))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},R.prototype._showCursor=function(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},R.prototype.scrollLines=function(W,I,q){q===void 0&&(q=0),re.prototype.scrollLines.call(this,W,I,q),this.refresh(0,this.rows-1)},R.prototype.paste=function(W){(0,b.paste)(W,this.textarea,this.coreService)},R.prototype.attachCustomKeyEventHandler=function(W){this._customKeyEventHandler=W},R.prototype.registerLinkMatcher=function(W,I,q){var j=this.linkifier.registerLinkMatcher(W,I,q);return this.refresh(0,this.rows-1),j},R.prototype.deregisterLinkMatcher=function(W){this.linkifier.deregisterLinkMatcher(W)&&this.refresh(0,this.rows-1)},R.prototype.registerLinkProvider=function(W){return this.linkifier2.registerLinkProvider(W)},R.prototype.registerCharacterJoiner=function(W){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");var I=this._characterJoinerService.register(W);return this.refresh(0,this.rows-1),I},R.prototype.deregisterCharacterJoiner=function(W){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(W)&&this.refresh(0,this.rows-1)},Object.defineProperty(R.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),R.prototype.addMarker=function(W){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+W)},R.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},R.prototype.select=function(W,I,q){this._selectionService.setSelection(W,I,q)},R.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},R.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},R.prototype.clearSelection=function(){var W;(W=this._selectionService)===null||W===void 0||W.clearSelection()},R.prototype.selectAll=function(){var W;(W=this._selectionService)===null||W===void 0||W.selectAll()},R.prototype.selectLines=function(W,I){var q;(q=this._selectionService)===null||q===void 0||q.selectLines(W,I)},R.prototype._keyDown=function(W){if(this._keyDownHandled=!1,this._customKeyEventHandler&&this._customKeyEventHandler(W)===!1)return!1;if(!this._compositionHelper.keydown(W))return this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;W.key!=="Dead"&&W.key!=="AltGraph"||(this._unprocessedDeadKey=!0);var I=(0,L.evaluateKeyboardEvent)(W,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(W),I.type===3||I.type===2){var q=this.rows-1;return this.scrollLines(I.type===2?-q:q),this.cancel(W,!0)}return I.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,W)||(I.cancel&&this.cancel(W,!0),!I.key||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(I.key!==y.C0.ETX&&I.key!==y.C0.CR||(this.textarea.value=""),this._onKey.fire({key:I.key,domEvent:W}),this._showCursor(),this.coreService.triggerDataEvent(I.key,!0),this.optionsService.options.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(W,!0))))},R.prototype._isThirdLevelShift=function(W,I){var q=W.isMac&&!this.options.macOptionIsMeta&&I.altKey&&!I.ctrlKey&&!I.metaKey||W.isWindows&&I.altKey&&I.ctrlKey&&!I.metaKey||W.isWindows&&I.getModifierState("AltGraph");return I.type==="keypress"?q:q&&(!I.keyCode||I.keyCode>47)},R.prototype._keyUp=function(W){this._customKeyEventHandler&&this._customKeyEventHandler(W)===!1||(function(I){return I.keyCode===16||I.keyCode===17||I.keyCode===18}(W)||this.focus(),this.updateCursorStyle(W),this._keyPressHandled=!1)},R.prototype._keyPress=function(W){var I;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(W)===!1)return!1;if(this.cancel(W),W.charCode)I=W.charCode;else if(W.which===null||W.which===void 0)I=W.keyCode;else{if(W.which===0||W.charCode===0)return!1;I=W.which}return!(!I||(W.altKey||W.ctrlKey||W.metaKey)&&!this._isThirdLevelShift(this.browser,W)||(I=String.fromCharCode(I),this._onKey.fire({key:I,domEvent:W}),this._showCursor(),this.coreService.triggerDataEvent(I,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))},R.prototype._inputEvent=function(W){if(W.data&&W.inputType==="insertText"&&!W.composed&&!this.optionsService.options.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;var I=W.data;return this.coreService.triggerDataEvent(I,!0),this.cancel(W),!0}return!1},R.prototype.bell=function(){var W;this._soundBell()&&((W=this._soundService)===null||W===void 0||W.playBellSound()),this._onBell.fire()},R.prototype.resize=function(W,I){W!==this.cols||I!==this.rows?re.prototype.resize.call(this,W,I):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},R.prototype._afterResize=function(W,I){var q,j;(q=this._charSizeService)===null||q===void 0||q.measure(),(j=this.viewport)===null||j===void 0||j.syncScrollArea(!0)},R.prototype.clear=function(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var W=1;W<this.rows;W++)this.buffer.lines.push(this.buffer.getBlankLine(w.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}},R.prototype.reset=function(){var W,I;this.options.rows=this.rows,this.options.cols=this.cols;var q=this._customKeyEventHandler;this._setup(),re.prototype.reset.call(this),(W=this._selectionService)===null||W===void 0||W.reset(),this._customKeyEventHandler=q,this.refresh(0,this.rows-1),(I=this.viewport)===null||I===void 0||I.syncScrollArea()},R.prototype.clearTextureAtlas=function(){var W;(W=this._renderService)===null||W===void 0||W.clearTextureAtlas()},R.prototype._reportFocus=function(){var W;((W=this.element)===null||W===void 0?void 0:W.classList.contains("focus"))?this.coreService.triggerDataEvent(y.C0.ESC+"[I"):this.coreService.triggerDataEvent(y.C0.ESC+"[O")},R.prototype._reportWindowsOptions=function(W){if(this._renderService)switch(W){case o.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var I=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),q=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this.coreService.triggerDataEvent(y.C0.ESC+"[4;"+q+";"+I+"t");break;case o.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var j=this._renderService.dimensions.scaledCellWidth.toFixed(0),J=this._renderService.dimensions.scaledCellHeight.toFixed(0);this.coreService.triggerDataEvent(y.C0.ESC+"[6;"+J+";"+j+"t")}},R.prototype.cancel=function(W,I){if(this.options.cancelEvents||I)return W.preventDefault(),W.stopPropagation(),!1},R.prototype._visualBell=function(){return!1},R.prototype._soundBell=function(){return this.options.bellStyle==="sound"},R}(P.CoreTerminal);r.Terminal=ee},9924:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TimeBasedDebouncer=void 0;var _=function(){function s(l,f){f===void 0&&(f=1e3),this._renderCallback=l,this._debounceThresholdMS=f,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}return s.prototype.dispose=function(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)},s.prototype.refresh=function(l,f,p){var b=this;this._rowCount=p,l=l!==void 0?l:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f;var y=Date.now();if(y-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=y,this._innerRefresh();else if(!this._additionalRefreshRequested){var o=y-this._lastRefreshMs,a=this._debounceThresholdMS-o;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(function(){b._lastRefreshMs=Date.now(),b._innerRefresh(),b._additionalRefreshRequested=!1,b._refreshTimeoutID=void 0},a)}},s.prototype._innerRefresh=function(){if(this._rowStart!==void 0&&this._rowEnd!==void 0&&this._rowCount!==void 0){var l=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,f)}},s}();r.TimeBasedDebouncer=_},1680:function(x,r,_){var s,l=this&&this.__extends||(s=function(u,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var h in t)Object.prototype.hasOwnProperty.call(t,h)&&(e[h]=t[h])},s(u,i)},function(u,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=u}s(u,i),u.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}),f=this&&this.__decorate||function(u,i,e,t){var h,d=arguments.length,m=d<3?i:t===null?t=Object.getOwnPropertyDescriptor(i,e):t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,i,e,t);else for(var S=u.length-1;S>=0;S--)(h=u[S])&&(m=(d<3?h(m):d>3?h(i,e,m):h(i,e))||m);return d>3&&m&&Object.defineProperty(i,e,m),m},p=this&&this.__param||function(u,i){return function(e,t){i(e,t,u)}};Object.defineProperty(r,"__esModule",{value:!0}),r.Viewport=void 0;var b=_(844),y=_(3656),o=_(4725),a=_(2585),g=function(u){function i(e,t,h,d,m,S,L,A){var w=u.call(this)||this;return w._scrollLines=e,w._viewportElement=t,w._scrollArea=h,w._element=d,w._bufferService=m,w._optionsService=S,w._charSizeService=L,w._renderService=A,w.scrollBarWidth=0,w._currentRowHeight=0,w._currentScaledCellHeight=0,w._lastRecordedBufferLength=0,w._lastRecordedViewportHeight=0,w._lastRecordedBufferHeight=0,w._lastTouchY=0,w._lastScrollTop=0,w._lastHadScrollBar=!1,w._wheelPartialScroll=0,w._refreshAnimationFrame=null,w._ignoreNextScrollEvent=!1,w.scrollBarWidth=w._viewportElement.offsetWidth-w._scrollArea.offsetWidth||15,w._lastHadScrollBar=!0,w.register((0,y.addDisposableDomListener)(w._viewportElement,"scroll",w._onScroll.bind(w))),w._activeBuffer=w._bufferService.buffer,w.register(w._bufferService.buffers.onBufferActivate(function(E){return w._activeBuffer=E.activeBuffer})),w._renderDimensions=w._renderService.dimensions,w.register(w._renderService.onDimensionsChange(function(E){return w._renderDimensions=E})),setTimeout(function(){return w.syncScrollArea()},0),w}return l(i,u),i.prototype.onThemeChange=function(e){this._viewportElement.style.backgroundColor=e.background.css},i.prototype._refresh=function(e){var t=this;if(e)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=requestAnimationFrame(function(){return t._innerRefresh()}))},i.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._currentScaledCellHeight=this._renderService.dimensions.scaledCellHeight,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var t=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==t&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=t),this._optionsService.options.scrollback===0?this.scrollBarWidth=0:this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this._lastHadScrollBar=this.scrollBarWidth>0;var h=window.getComputedStyle(this._element),d=parseInt(h.paddingLeft)+parseInt(h.paddingRight);this._viewportElement.style.width=(this._renderService.dimensions.actualCellWidth*this._bufferService.cols+this.scrollBarWidth+(this._lastHadScrollBar?d:0)).toString()+"px",this._refreshAnimationFrame=null},i.prototype.syncScrollArea=function(e){if(e===void 0&&(e=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(e);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.scaledCellHeight===this._currentScaledCellHeight?this._lastHadScrollBar!==this._optionsService.options.scrollback>0&&this._refresh(e):this._refresh(e)},i.prototype._onScroll=function(e){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent){if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);var t=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(t)}},i.prototype._bubbleScroll=function(e,t){var h=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(t<0&&this._viewportElement.scrollTop!==0||t>0&&h<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)},i.prototype.onWheel=function(e){var t=this._getPixelsScrolled(e);return t!==0&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},i.prototype._getPixelsScrolled=function(e){if(e.deltaY===0||e.shiftKey)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._bufferService.rows),t},i.prototype.getLinesScrolled=function(e){if(e.deltaY===0||e.shiftKey)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(t/=this._currentRowHeight+0,this._wheelPartialScroll+=t,t=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._bufferService.rows),t},i.prototype._applyScrollModifier=function(e,t){var h=this._optionsService.options.fastScrollModifier;return h==="alt"&&t.altKey||h==="ctrl"&&t.ctrlKey||h==="shift"&&t.shiftKey?e*this._optionsService.options.fastScrollSensitivity*this._optionsService.options.scrollSensitivity:e*this._optionsService.options.scrollSensitivity},i.prototype.onTouchStart=function(e){this._lastTouchY=e.touches[0].pageY},i.prototype.onTouchMove=function(e){var t=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,t!==0&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},f([p(4,a.IBufferService),p(5,a.IOptionsService),p(6,o.ICharSizeService),p(7,o.IRenderService)],i)}(b.Disposable);r.Viewport=g},2950:function(x,r,_){var s=this&&this.__decorate||function(y,o,a,g){var u,i=arguments.length,e=i<3?o:g===null?g=Object.getOwnPropertyDescriptor(o,a):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")e=Reflect.decorate(y,o,a,g);else for(var t=y.length-1;t>=0;t--)(u=y[t])&&(e=(i<3?u(e):i>3?u(o,a,e):u(o,a))||e);return i>3&&e&&Object.defineProperty(o,a,e),e},l=this&&this.__param||function(y,o){return function(a,g){o(a,g,y)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CompositionHelper=void 0;var f=_(4725),p=_(2585),b=function(){function y(o,a,g,u,i,e){this._textarea=o,this._compositionView=a,this._bufferService=g,this._optionsService=u,this._coreService=i,this._renderService=e,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}return Object.defineProperty(y.prototype,"isComposing",{get:function(){return this._isComposing},enumerable:!1,configurable:!0}),y.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")},y.prototype.compositionupdate=function(o){var a=this;this._compositionView.textContent=o.data,this.updateCompositionElements(),setTimeout(function(){a._compositionPosition.end=a._textarea.value.length},0)},y.prototype.compositionend=function(){this._finalizeComposition(!0)},y.prototype.keydown=function(o){if(this._isComposing||this._isSendingComposition){if(o.keyCode===229||o.keyCode===16||o.keyCode===17||o.keyCode===18)return!1;this._finalizeComposition(!1)}return o.keyCode!==229||(this._handleAnyTextareaChanges(),!1)},y.prototype._finalizeComposition=function(o){var a=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,o){var g={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(function(){if(a._isSendingComposition){a._isSendingComposition=!1;var i;g.start+=a._dataAlreadySent.length,(i=a._isComposing?a._textarea.value.substring(g.start,g.end):a._textarea.value.substring(g.start)).length>0&&a._coreService.triggerDataEvent(i,!0)}},0)}else{this._isSendingComposition=!1;var u=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(u,!0)}},y.prototype._handleAnyTextareaChanges=function(){var o=this,a=this._textarea.value;setTimeout(function(){if(!o._isComposing){var g=o._textarea.value.replace(a,"");g.length>0&&(o._dataAlreadySent=g,o._coreService.triggerDataEvent(g,!0))}},0)},y.prototype.updateCompositionElements=function(o){var a=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var g=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),u=this._renderService.dimensions.actualCellHeight,i=this._bufferService.buffer.y*this._renderService.dimensions.actualCellHeight,e=g*this._renderService.dimensions.actualCellWidth;this._compositionView.style.left=e+"px",this._compositionView.style.top=i+"px",this._compositionView.style.height=u+"px",this._compositionView.style.lineHeight=u+"px",this._compositionView.style.fontFamily=this._optionsService.options.fontFamily,this._compositionView.style.fontSize=this._optionsService.options.fontSize+"px";var t=this._compositionView.getBoundingClientRect();this._textarea.style.left=e+"px",this._textarea.style.top=i+"px",this._textarea.style.width=Math.max(t.width,1)+"px",this._textarea.style.height=Math.max(t.height,1)+"px",this._textarea.style.lineHeight=t.height+"px"}o||setTimeout(function(){return a.updateCompositionElements(!0)},0)}},s([l(2,p.IBufferService),l(3,p.IOptionsService),l(4,p.ICoreService),l(5,f.IRenderService)],y)}();r.CompositionHelper=b},9806:(x,r)=>{function _(s,l){var f=l.getBoundingClientRect();return[s.clientX-f.left,s.clientY-f.top]}Object.defineProperty(r,"__esModule",{value:!0}),r.getRawByteCoords=r.getCoords=r.getCoordsRelativeToElement=void 0,r.getCoordsRelativeToElement=_,r.getCoords=function(s,l,f,p,b,y,o,a){if(b){var g=_(s,l);if(g)return g[0]=Math.ceil((g[0]+(a?y/2:0))/y),g[1]=Math.ceil(g[1]/o),g[0]=Math.min(Math.max(g[0],1),f+(a?1:0)),g[1]=Math.min(Math.max(g[1],1),p),g}},r.getRawByteCoords=function(s){if(s)return{x:s[0]+32,y:s[1]+32}}},9504:(x,r,_)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.moveToCellSequence=void 0;var s=_(2584);function l(a,g,u,i){var e=a-f(u,a),t=g-f(u,g),h=Math.abs(e-t)-function(d,m,S){for(var L=0,A=d-f(S,d),w=m-f(S,m),E=0;E<Math.abs(A-w);E++){var B=p(d,m)==="A"?-1:1,T=S.buffer.lines.get(A+B*E);(T==null?void 0:T.isWrapped)&&L++}return L}(a,g,u);return o(h,y(p(a,g),i))}function f(a,g){for(var u=0,i=a.buffer.lines.get(g),e=i==null?void 0:i.isWrapped;e&&g>=0&&g<a.rows;)u++,e=(i=a.buffer.lines.get(--g))==null?void 0:i.isWrapped;return u}function p(a,g){return a>g?"A":"B"}function b(a,g,u,i,e,t){for(var h=a,d=g,m="";h!==u||d!==i;)h+=e?1:-1,e&&h>t.cols-1?(m+=t.buffer.translateBufferLineToString(d,!1,a,h),h=0,a=0,d++):!e&&h<0&&(m+=t.buffer.translateBufferLineToString(d,!1,0,a+1),a=h=t.cols-1,d--);return m+t.buffer.translateBufferLineToString(d,!1,a,h)}function y(a,g){var u=g?"O":"[";return s.C0.ESC+u+a}function o(a,g){a=Math.floor(a);for(var u="",i=0;i<a;i++)u+=g;return u}r.moveToCellSequence=function(a,g,u,i){var e,t=u.buffer.x,h=u.buffer.y;if(!u.buffer.hasScrollback)return function(m,S,L,A,w,E){return l(S,A,w,E).length===0?"":o(b(m,S,m,S-f(w,S),!1,w).length,y("D",E))}(t,h,0,g,u,i)+l(h,g,u,i)+function(m,S,L,A,w,E){var B;B=l(S,A,w,E).length>0?A-f(w,A):S;var T=A,U=function(H,k,O,P,F,K){var G;return G=l(O,P,F,K).length>0?P-f(F,P):k,H<O&&G<=P||H>=O&&G<P?"C":"D"}(m,S,L,A,w,E);return o(b(m,B,L,T,U==="C",w).length,y(U,E))}(t,h,a,g,u,i);if(h===g)return e=t>a?"D":"C",o(Math.abs(t-a),y(e,i));e=h>g?"D":"C";var d=Math.abs(h-g);return o(function(m,S){return S.cols-m}(h>g?a:t,u)+(d-1)*u.cols+1+((h>g?t:a)-1),y(e,i))}},1546:(x,r,_)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BaseRenderLayer=void 0;var s=_(643),l=_(8803),f=_(1420),p=_(3734),b=_(1752),y=_(4774),o=_(9631),a=_(8978),g=function(){function u(i,e,t,h,d,m,S,L){this._container=i,this._alpha=h,this._colors=d,this._rendererId=m,this._bufferService=S,this._optionsService=L,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+e+"-layer"),this._canvas.style.zIndex=t.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return u.prototype.dispose=function(){var i;(0,o.removeElementFromParent)(this._canvas),(i=this._charAtlas)===null||i===void 0||i.dispose()},u.prototype._initCanvas=function(){this._ctx=(0,b.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},u.prototype.onOptionsChanged=function(){},u.prototype.onBlur=function(){},u.prototype.onFocus=function(){},u.prototype.onCursorMove=function(){},u.prototype.onGridChanged=function(i,e){},u.prototype.onSelectionChanged=function(i,e,t){},u.prototype.setColors=function(i){this._refreshCharAtlas(i)},u.prototype._setTransparency=function(i){if(i!==this._alpha){var e=this._canvas;this._alpha=i,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,e),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},u.prototype._refreshCharAtlas=function(i){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=(0,f.acquireCharAtlas)(this._optionsService.options,this._rendererId,i,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},u.prototype.resize=function(i){this._scaledCellWidth=i.scaledCellWidth,this._scaledCellHeight=i.scaledCellHeight,this._scaledCharWidth=i.scaledCharWidth,this._scaledCharHeight=i.scaledCharHeight,this._scaledCharLeft=i.scaledCharLeft,this._scaledCharTop=i.scaledCharTop,this._canvas.width=i.scaledCanvasWidth,this._canvas.height=i.scaledCanvasHeight,this._canvas.style.width=i.canvasWidth+"px",this._canvas.style.height=i.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},u.prototype.clearTextureAtlas=function(){var i;(i=this._charAtlas)===null||i===void 0||i.clear()},u.prototype._fillCells=function(i,e,t,h){this._ctx.fillRect(i*this._scaledCellWidth,e*this._scaledCellHeight,t*this._scaledCellWidth,h*this._scaledCellHeight)},u.prototype._fillMiddleLineAtCells=function(i,e,t){t===void 0&&(t=1);var h=Math.ceil(.5*this._scaledCellHeight);this._ctx.fillRect(i*this._scaledCellWidth,(e+1)*this._scaledCellHeight-h-window.devicePixelRatio,t*this._scaledCellWidth,window.devicePixelRatio)},u.prototype._fillBottomLineAtCells=function(i,e,t){t===void 0&&(t=1),this._ctx.fillRect(i*this._scaledCellWidth,(e+1)*this._scaledCellHeight-window.devicePixelRatio-1,t*this._scaledCellWidth,window.devicePixelRatio)},u.prototype._fillLeftLineAtCell=function(i,e,t){this._ctx.fillRect(i*this._scaledCellWidth,e*this._scaledCellHeight,window.devicePixelRatio*t,this._scaledCellHeight)},u.prototype._strokeRectAtCell=function(i,e,t,h){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(i*this._scaledCellWidth+window.devicePixelRatio/2,e*this._scaledCellHeight+window.devicePixelRatio/2,t*this._scaledCellWidth-window.devicePixelRatio,h*this._scaledCellHeight-window.devicePixelRatio)},u.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},u.prototype._clearCells=function(i,e,t,h){this._alpha?this._ctx.clearRect(i*this._scaledCellWidth,e*this._scaledCellHeight,t*this._scaledCellWidth,h*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(i*this._scaledCellWidth,e*this._scaledCellHeight,t*this._scaledCellWidth,h*this._scaledCellHeight))},u.prototype._fillCharTrueColor=function(i,e,t){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline=l.TEXT_BASELINE,this._clipRow(t);var h=!1;this._optionsService.options.customGlyphs!==!1&&(h=(0,a.tryDrawCustomChar)(this._ctx,i.getChars(),e*this._scaledCellWidth,t*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),h||this._ctx.fillText(i.getChars(),e*this._scaledCellWidth+this._scaledCharLeft,t*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight)},u.prototype._drawChars=function(i,e,t){var h,d,m,S=this._getContrastColor(i);S||i.isFgRGB()||i.isBgRGB()?this._drawUncachedChars(i,e,t,S):(i.isInverse()?(d=i.isBgDefault()?l.INVERTED_DEFAULT_COLOR:i.getBgColor(),m=i.isFgDefault()?l.INVERTED_DEFAULT_COLOR:i.getFgColor()):(m=i.isBgDefault()?s.DEFAULT_COLOR:i.getBgColor(),d=i.isFgDefault()?s.DEFAULT_COLOR:i.getFgColor()),d+=this._optionsService.options.drawBoldTextInBrightColors&&i.isBold()&&d<8?8:0,this._currentGlyphIdentifier.chars=i.getChars()||s.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=i.getCode()||s.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=m,this._currentGlyphIdentifier.fg=d,this._currentGlyphIdentifier.bold=!!i.isBold(),this._currentGlyphIdentifier.dim=!!i.isDim(),this._currentGlyphIdentifier.italic=!!i.isItalic(),((h=this._charAtlas)===null||h===void 0?void 0:h.draw(this._ctx,this._currentGlyphIdentifier,e*this._scaledCellWidth+this._scaledCharLeft,t*this._scaledCellHeight+this._scaledCharTop))||this._drawUncachedChars(i,e,t))},u.prototype._drawUncachedChars=function(i,e,t,h){if(this._ctx.save(),this._ctx.font=this._getFont(!!i.isBold(),!!i.isItalic()),this._ctx.textBaseline=l.TEXT_BASELINE,i.isInverse())if(h)this._ctx.fillStyle=h.css;else if(i.isBgDefault())this._ctx.fillStyle=y.color.opaque(this._colors.background).css;else if(i.isBgRGB())this._ctx.fillStyle="rgb("+p.AttributeData.toColorRGB(i.getBgColor()).join(",")+")";else{var d=i.getBgColor();this._optionsService.options.drawBoldTextInBrightColors&&i.isBold()&&d<8&&(d+=8),this._ctx.fillStyle=this._colors.ansi[d].css}else if(h)this._ctx.fillStyle=h.css;else if(i.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(i.isFgRGB())this._ctx.fillStyle="rgb("+p.AttributeData.toColorRGB(i.getFgColor()).join(",")+")";else{var m=i.getFgColor();this._optionsService.options.drawBoldTextInBrightColors&&i.isBold()&&m<8&&(m+=8),this._ctx.fillStyle=this._colors.ansi[m].css}this._clipRow(t),i.isDim()&&(this._ctx.globalAlpha=l.DIM_OPACITY);var S=!1;this._optionsService.options.customGlyphs!==!1&&(S=(0,a.tryDrawCustomChar)(this._ctx,i.getChars(),e*this._scaledCellWidth,t*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),S||this._ctx.fillText(i.getChars(),e*this._scaledCellWidth+this._scaledCharLeft,t*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight),this._ctx.restore()},u.prototype._clipRow=function(i){this._ctx.beginPath(),this._ctx.rect(0,i*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},u.prototype._getFont=function(i,e){return(e?"italic":"")+" "+(i?this._optionsService.options.fontWeightBold:this._optionsService.options.fontWeight)+" "+this._optionsService.options.fontSize*window.devicePixelRatio+"px "+this._optionsService.options.fontFamily},u.prototype._getContrastColor=function(i){if(this._optionsService.options.minimumContrastRatio!==1){var e=this._colors.contrastCache.getColor(i.bg,i.fg);if(e!==void 0)return e||void 0;var t=i.getFgColor(),h=i.getFgColorMode(),d=i.getBgColor(),m=i.getBgColorMode(),S=!!i.isInverse(),L=!!i.isInverse();if(S){var A=t;t=d,d=A;var w=h;h=m,m=w}var E=this._resolveBackgroundRgba(m,d,S),B=this._resolveForegroundRgba(h,t,S,L),T=y.rgba.ensureContrastRatio(E,B,this._optionsService.options.minimumContrastRatio);if(T){var U={css:y.channels.toCss(T>>24&255,T>>16&255,T>>8&255),rgba:T};return this._colors.contrastCache.setColor(i.bg,i.fg,U),U}this._colors.contrastCache.setColor(i.bg,i.fg,null)}},u.prototype._resolveBackgroundRgba=function(i,e,t){switch(i){case 16777216:case 33554432:return this._colors.ansi[e].rgba;case 50331648:return e<<8;default:return t?this._colors.foreground.rgba:this._colors.background.rgba}},u.prototype._resolveForegroundRgba=function(i,e,t,h){switch(i){case 16777216:case 33554432:return this._optionsService.options.drawBoldTextInBrightColors&&h&&e<8&&(e+=8),this._colors.ansi[e].rgba;case 50331648:return e<<8;default:return t?this._colors.background.rgba:this._colors.foreground.rgba}},u}();r.BaseRenderLayer=g},2512:function(x,r,_){var s,l=this&&this.__extends||(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(h[m]=d[m])},s(e,t)},function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function h(){this.constructor=e}s(e,t),e.prototype=t===null?Object.create(t):(h.prototype=t.prototype,new h)}),f=this&&this.__decorate||function(e,t,h,d){var m,S=arguments.length,L=S<3?t:d===null?d=Object.getOwnPropertyDescriptor(t,h):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(e,t,h,d);else for(var A=e.length-1;A>=0;A--)(m=e[A])&&(L=(S<3?m(L):S>3?m(t,h,L):m(t,h))||L);return S>3&&L&&Object.defineProperty(t,h,L),L},p=this&&this.__param||function(e,t){return function(h,d){t(h,d,e)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CursorRenderLayer=void 0;var b=_(1546),y=_(511),o=_(2585),a=_(4725),g=600,u=function(e){function t(h,d,m,S,L,A,w,E,B){var T=e.call(this,h,"cursor",d,!0,m,S,A,w)||this;return T._onRequestRedraw=L,T._coreService=E,T._coreBrowserService=B,T._cell=new y.CellData,T._state={x:0,y:0,isFocused:!1,style:"",width:0},T._cursorRenderers={bar:T._renderBarCursor.bind(T),block:T._renderBlockCursor.bind(T),underline:T._renderUnderlineCursor.bind(T)},T}return l(t,e),t.prototype.dispose=function(){this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0),e.prototype.dispose.call(this)},t.prototype.resize=function(h){e.prototype.resize.call(this,h),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},t.prototype.reset=function(){var h;this._clearCursor(),(h=this._cursorBlinkStateManager)===null||h===void 0||h.restartBlinkAnimation(),this.onOptionsChanged()},t.prototype.onBlur=function(){var h;(h=this._cursorBlinkStateManager)===null||h===void 0||h.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onFocus=function(){var h;(h=this._cursorBlinkStateManager)===null||h===void 0||h.resume(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onOptionsChanged=function(){var h,d=this;this._optionsService.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new i(this._coreBrowserService.isFocused,function(){d._render(!0)})):((h=this._cursorBlinkStateManager)===null||h===void 0||h.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onCursorMove=function(){var h;(h=this._cursorBlinkStateManager)===null||h===void 0||h.restartBlinkAnimation()},t.prototype.onGridChanged=function(h,d){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},t.prototype._render=function(h){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var d=this._bufferService.buffer.ybase+this._bufferService.buffer.y,m=d-this._bufferService.buffer.ydisp;if(m<0||m>=this._bufferService.rows)this._clearCursor();else{var S=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(d).loadCell(S,this._cell),this._cell.content!==void 0){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var L=this._optionsService.options.cursorStyle;return L&&L!=="block"?this._cursorRenderers[L](S,m,this._cell):this._renderBlurCursor(S,m,this._cell),this._ctx.restore(),this._state.x=S,this._state.y=m,this._state.isFocused=!1,this._state.style=L,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===S&&this._state.y===m&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.options.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.options.cursorStyle||"block"](S,m,this._cell),this._ctx.restore(),this._state.x=S,this._state.y=m,this._state.isFocused=!1,this._state.style=this._optionsService.options.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},t.prototype._clearCursor=function(){this._state&&(window.devicePixelRatio<1?this._clearAll():this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},t.prototype._renderBarCursor=function(h,d,m){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(h,d,this._optionsService.options.cursorWidth),this._ctx.restore()},t.prototype._renderBlockCursor=function(h,d,m){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(h,d,m.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(m,h,d),this._ctx.restore()},t.prototype._renderUnderlineCursor=function(h,d,m){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(h,d),this._ctx.restore()},t.prototype._renderBlurCursor=function(h,d,m){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(h,d,m.getWidth(),1),this._ctx.restore()},f([p(5,o.IBufferService),p(6,o.IOptionsService),p(7,o.ICoreService),p(8,a.ICoreBrowserService)],t)}(b.BaseRenderLayer);r.CursorRenderLayer=u;var i=function(){function e(t,h){this._renderCallback=h,this.isCursorVisible=!0,t&&this._restartInterval()}return Object.defineProperty(e.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.restartBlinkAnimation=function(){var t=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){t._renderCallback(),t._animationFrame=void 0})))},e.prototype._restartInterval=function(t){var h=this;t===void 0&&(t=g),this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=window.setTimeout(function(){if(h._animationTimeRestarted){var d=g-(Date.now()-h._animationTimeRestarted);if(h._animationTimeRestarted=void 0,d>0)return void h._restartInterval(d)}h.isCursorVisible=!1,h._animationFrame=window.requestAnimationFrame(function(){h._renderCallback(),h._animationFrame=void 0}),h._blinkInterval=window.setInterval(function(){if(h._animationTimeRestarted){var m=g-(Date.now()-h._animationTimeRestarted);return h._animationTimeRestarted=void 0,void h._restartInterval(m)}h.isCursorVisible=!h.isCursorVisible,h._animationFrame=window.requestAnimationFrame(function(){h._renderCallback(),h._animationFrame=void 0})},g)},t)},e.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},e}()},8978:(x,r,_)=>{var s,l,f,p,b,y,o,a,g,u,i,e,t,h,d,m,S,L,A,w,E,B,T,U,H,k,O,P,F,K,G,Q,ee,re,R,W,I,q,j,J,Z,oe,le,ae,X,ce,de,pe,Ce,Pe,yt,Ke,mt,bt,St,he,Ae,Ie,Te,Wt,Ge,jt,Xe,wt,ir,nr,or,sr,ar,cr,lr,ur,hr,fr,dr,pr,_r,vr,gr,yr,mr,br,Sr,wr,Cr,Er,Lr,Ar,xr,kr,Mr,Rr,Or,Tr,Dr,Br,Pr,Ir,Hr,Fr,Wr,jr,Ur,Nr,qr,zr,$r,Vr,Kr,Gr,Xr,Jr,mi,bi,Si,wi,Ci,Ei,Li,Ai,xi,ki,Mi,Ri,Oi,Ti,Di,Bi;Object.defineProperty(r,"__esModule",{value:!0}),r.tryDrawCustomChar=r.boxDrawingDefinitions=r.blockElementDefinitions=void 0;var Pn=_(1752);r.blockElementDefinitions={"\u2580":[{x:0,y:0,w:8,h:4}],"\u2581":[{x:0,y:7,w:8,h:1}],"\u2582":[{x:0,y:6,w:8,h:2}],"\u2583":[{x:0,y:5,w:8,h:3}],"\u2584":[{x:0,y:4,w:8,h:4}],"\u2585":[{x:0,y:3,w:8,h:5}],"\u2586":[{x:0,y:2,w:8,h:6}],"\u2587":[{x:0,y:1,w:8,h:7}],"\u2588":[{x:0,y:0,w:8,h:8}],"\u2589":[{x:0,y:0,w:7,h:8}],"\u258A":[{x:0,y:0,w:6,h:8}],"\u258B":[{x:0,y:0,w:5,h:8}],"\u258C":[{x:0,y:0,w:4,h:8}],"\u258D":[{x:0,y:0,w:3,h:8}],"\u258E":[{x:0,y:0,w:2,h:8}],"\u258F":[{x:0,y:0,w:1,h:8}],"\u2590":[{x:4,y:0,w:4,h:8}],"\u2594":[{x:0,y:0,w:9,h:1}],"\u2595":[{x:7,y:0,w:1,h:8}],"\u2596":[{x:0,y:4,w:4,h:4}],"\u2597":[{x:4,y:4,w:4,h:4}],"\u2598":[{x:0,y:0,w:4,h:4}],"\u2599":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u259A":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"\u259B":[{x:0,y:0,w:4,h:8},{x:0,y:0,w:4,h:8}],"\u259C":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"\u259D":[{x:4,y:0,w:4,h:4}],"\u259E":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"\u259F":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u{1FB70}":[{x:1,y:0,w:1,h:8}],"\u{1FB71}":[{x:2,y:0,w:1,h:8}],"\u{1FB72}":[{x:3,y:0,w:1,h:8}],"\u{1FB73}":[{x:4,y:0,w:1,h:8}],"\u{1FB74}":[{x:5,y:0,w:1,h:8}],"\u{1FB75}":[{x:6,y:0,w:1,h:8}],"\u{1FB76}":[{x:0,y:1,w:8,h:1}],"\u{1FB77}":[{x:0,y:2,w:8,h:1}],"\u{1FB78}":[{x:0,y:3,w:8,h:1}],"\u{1FB79}":[{x:0,y:4,w:8,h:1}],"\u{1FB7A}":[{x:0,y:5,w:8,h:1}],"\u{1FB7B}":[{x:0,y:6,w:8,h:1}],"\u{1FB7C}":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1FB7D}":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1FB7E}":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1FB7F}":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1FB80}":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1FB81}":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1FB82}":[{x:0,y:0,w:8,h:2}],"\u{1FB83}":[{x:0,y:0,w:8,h:3}],"\u{1FB84}":[{x:0,y:0,w:8,h:5}],"\u{1FB85}":[{x:0,y:0,w:8,h:6}],"\u{1FB86}":[{x:0,y:0,w:8,h:7}],"\u{1FB87}":[{x:6,y:0,w:2,h:8}],"\u{1FB88}":[{x:5,y:0,w:3,h:8}],"\u{1FB89}":[{x:3,y:0,w:5,h:8}],"\u{1FB8A}":[{x:2,y:0,w:6,h:8}],"\u{1FB8B}":[{x:1,y:0,w:7,h:8}],"\u{1FB95}":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"\u{1FB96}":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"\u{1FB97}":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};var Jo={"\u2591":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"\u2592":[[1,0],[0,0],[0,1],[0,0]],"\u2593":[[0,1],[1,1],[1,0],[1,1]]};r.boxDrawingDefinitions={"\u2500":(s={},s[1]="M0,.5 L1,.5",s),"\u2501":(l={},l[3]="M0,.5 L1,.5",l),"\u2502":(f={},f[1]="M.5,0 L.5,1",f),"\u2503":(p={},p[3]="M.5,0 L.5,1",p),"\u250C":(b={},b[1]="M0.5,1 L.5,.5 L1,.5",b),"\u250F":(y={},y[3]="M0.5,1 L.5,.5 L1,.5",y),"\u2510":(o={},o[1]="M0,.5 L.5,.5 L.5,1",o),"\u2513":(a={},a[3]="M0,.5 L.5,.5 L.5,1",a),"\u2514":(g={},g[1]="M.5,0 L.5,.5 L1,.5",g),"\u2517":(u={},u[3]="M.5,0 L.5,.5 L1,.5",u),"\u2518":(i={},i[1]="M.5,0 L.5,.5 L0,.5",i),"\u251B":(e={},e[3]="M.5,0 L.5,.5 L0,.5",e),"\u251C":(t={},t[1]="M.5,0 L.5,1 M.5,.5 L1,.5",t),"\u2523":(h={},h[3]="M.5,0 L.5,1 M.5,.5 L1,.5",h),"\u2524":(d={},d[1]="M.5,0 L.5,1 M.5,.5 L0,.5",d),"\u252B":(m={},m[3]="M.5,0 L.5,1 M.5,.5 L0,.5",m),"\u252C":(S={},S[1]="M0,.5 L1,.5 M.5,.5 L.5,1",S),"\u2533":(L={},L[3]="M0,.5 L1,.5 M.5,.5 L.5,1",L),"\u2534":(A={},A[1]="M0,.5 L1,.5 M.5,.5 L.5,0",A),"\u253B":(w={},w[3]="M0,.5 L1,.5 M.5,.5 L.5,0",w),"\u253C":(E={},E[1]="M0,.5 L1,.5 M.5,0 L.5,1",E),"\u254B":(B={},B[3]="M0,.5 L1,.5 M.5,0 L.5,1",B),"\u2574":(T={},T[1]="M.5,.5 L0,.5",T),"\u2578":(U={},U[3]="M.5,.5 L0,.5",U),"\u2575":(H={},H[1]="M.5,.5 L.5,0",H),"\u2579":(k={},k[3]="M.5,.5 L.5,0",k),"\u2576":(O={},O[1]="M.5,.5 L1,.5",O),"\u257A":(P={},P[3]="M.5,.5 L1,.5",P),"\u2577":(F={},F[1]="M.5,.5 L.5,1",F),"\u257B":(K={},K[3]="M.5,.5 L.5,1",K),"\u2550":(G={},G[1]=function($,z){return"M0,"+(.5-z)+" L1,"+(.5-z)+" M0,"+(.5+z)+" L1,"+(.5+z)},G),"\u2551":(Q={},Q[1]=function($,z){return"M"+(.5-$)+",0 L"+(.5-$)+",1 M"+(.5+$)+",0 L"+(.5+$)+",1"},Q),"\u2552":(ee={},ee[1]=function($,z){return"M.5,1 L.5,"+(.5-z)+" L1,"+(.5-z)+" M.5,"+(.5+z)+" L1,"+(.5+z)},ee),"\u2553":(re={},re[1]=function($,z){return"M"+(.5-$)+",1 L"+(.5-$)+",.5 L1,.5 M"+(.5+$)+",.5 L"+(.5+$)+",1"},re),"\u2554":(R={},R[1]=function($,z){return"M1,"+(.5-z)+" L"+(.5-$)+","+(.5-z)+" L"+(.5-$)+",1 M1,"+(.5+z)+" L"+(.5+$)+","+(.5+z)+" L"+(.5+$)+",1"},R),"\u2555":(W={},W[1]=function($,z){return"M0,"+(.5-z)+" L.5,"+(.5-z)+" L.5,1 M0,"+(.5+z)+" L.5,"+(.5+z)},W),"\u2556":(I={},I[1]=function($,z){return"M"+(.5+$)+",1 L"+(.5+$)+",.5 L0,.5 M"+(.5-$)+",.5 L"+(.5-$)+",1"},I),"\u2557":(q={},q[1]=function($,z){return"M0,"+(.5+z)+" L"+(.5-$)+","+(.5+z)+" L"+(.5-$)+",1 M0,"+(.5-z)+" L"+(.5+$)+","+(.5-z)+" L"+(.5+$)+",1"},q),"\u2558":(j={},j[1]=function($,z){return"M.5,0 L.5,"+(.5+z)+" L1,"+(.5+z)+" M.5,"+(.5-z)+" L1,"+(.5-z)},j),"\u2559":(J={},J[1]=function($,z){return"M1,.5 L"+(.5-$)+",.5 L"+(.5-$)+",0 M"+(.5+$)+",.5 L"+(.5+$)+",0"},J),"\u255A":(Z={},Z[1]=function($,z){return"M1,"+(.5-z)+" L"+(.5+$)+","+(.5-z)+" L"+(.5+$)+",0 M1,"+(.5+z)+" L"+(.5-$)+","+(.5+z)+" L"+(.5-$)+",0"},Z),"\u255B":(oe={},oe[1]=function($,z){return"M0,"+(.5+z)+" L.5,"+(.5+z)+" L.5,0 M0,"+(.5-z)+" L.5,"+(.5-z)},oe),"\u255C":(le={},le[1]=function($,z){return"M0,.5 L"+(.5+$)+",.5 L"+(.5+$)+",0 M"+(.5-$)+",.5 L"+(.5-$)+",0"},le),"\u255D":(ae={},ae[1]=function($,z){return"M0,"+(.5-z)+" L"+(.5-$)+","+(.5-z)+" L"+(.5-$)+",0 M0,"+(.5+z)+" L"+(.5+$)+","+(.5+z)+" L"+(.5+$)+",0"},ae),"\u255E":(X={},X[1]=function($,z){return"M.5,0 L.5,1 M.5,"+(.5-z)+" L1,"+(.5-z)+" M.5,"+(.5+z)+" L1,"+(.5+z)},X),"\u255F":(ce={},ce[1]=function($,z){return"M"+(.5-$)+",0 L"+(.5-$)+",1 M"+(.5+$)+",0 L"+(.5+$)+",1 M"+(.5+$)+",.5 L1,.5"},ce),"\u2560":(de={},de[1]=function($,z){return"M"+(.5-$)+",0 L"+(.5-$)+",1 M1,"+(.5+z)+" L"+(.5+$)+","+(.5+z)+" L"+(.5+$)+",1 M1,"+(.5-z)+" L"+(.5+$)+","+(.5-z)+" L"+(.5+$)+",0"},de),"\u2561":(pe={},pe[1]=function($,z){return"M.5,0 L.5,1 M0,"+(.5-z)+" L.5,"+(.5-z)+" M0,"+(.5+z)+" L.5,"+(.5+z)},pe),"\u2562":(Ce={},Ce[1]=function($,z){return"M0,.5 L"+(.5-$)+",.5 M"+(.5-$)+",0 L"+(.5-$)+",1 M"+(.5+$)+",0 L"+(.5+$)+",1"},Ce),"\u2563":(Pe={},Pe[1]=function($,z){return"M"+(.5+$)+",0 L"+(.5+$)+",1 M0,"+(.5+z)+" L"+(.5-$)+","+(.5+z)+" L"+(.5-$)+",1 M0,"+(.5-z)+" L"+(.5-$)+","+(.5-z)+" L"+(.5-$)+",0"},Pe),"\u2564":(yt={},yt[1]=function($,z){return"M0,"+(.5-z)+" L1,"+(.5-z)+" M0,"+(.5+z)+" L1,"+(.5+z)+" M.5,"+(.5+z)+" L.5,1"},yt),"\u2565":(Ke={},Ke[1]=function($,z){return"M0,.5 L1,.5 M"+(.5-$)+",.5 L"+(.5-$)+",1 M"+(.5+$)+",.5 L"+(.5+$)+",1"},Ke),"\u2566":(mt={},mt[1]=function($,z){return"M0,"+(.5-z)+" L1,"+(.5-z)+" M0,"+(.5+z)+" L"+(.5-$)+","+(.5+z)+" L"+(.5-$)+",1 M1,"+(.5+z)+" L"+(.5+$)+","+(.5+z)+" L"+(.5+$)+",1"},mt),"\u2567":(bt={},bt[1]=function($,z){return"M.5,0 L.5,"+(.5-z)+" M0,"+(.5-z)+" L1,"+(.5-z)+" M0,"+(.5+z)+" L1,"+(.5+z)},bt),"\u2568":(St={},St[1]=function($,z){return"M0,.5 L1,.5 M"+(.5-$)+",.5 L"+(.5-$)+",0 M"+(.5+$)+",.5 L"+(.5+$)+",0"},St),"\u2569":(he={},he[1]=function($,z){return"M0,"+(.5+z)+" L1,"+(.5+z)+" M0,"+(.5-z)+" L"+(.5-$)+","+(.5-z)+" L"+(.5-$)+",0 M1,"+(.5-z)+" L"+(.5+$)+","+(.5-z)+" L"+(.5+$)+",0"},he),"\u256A":(Ae={},Ae[1]=function($,z){return"M.5,0 L.5,1 M0,"+(.5-z)+" L1,"+(.5-z)+" M0,"+(.5+z)+" L1,"+(.5+z)},Ae),"\u256B":(Ie={},Ie[1]=function($,z){return"M0,.5 L1,.5 M"+(.5-$)+",0 L"+(.5-$)+",1 M"+(.5+$)+",0 L"+(.5+$)+",1"},Ie),"\u256C":(Te={},Te[1]=function($,z){return"M0,"+(.5+z)+" L"+(.5-$)+","+(.5+z)+" L"+(.5-$)+",1 M1,"+(.5+z)+" L"+(.5+$)+","+(.5+z)+" L"+(.5+$)+",1 M0,"+(.5-z)+" L"+(.5-$)+","+(.5-z)+" L"+(.5-$)+",0 M1,"+(.5-z)+" L"+(.5+$)+","+(.5-z)+" L"+(.5+$)+",0"},Te),"\u2571":(Wt={},Wt[1]="M1,0 L0,1",Wt),"\u2572":(Ge={},Ge[1]="M0,0 L1,1",Ge),"\u2573":(jt={},jt[1]="M1,0 L0,1 M0,0 L1,1",jt),"\u257C":(Xe={},Xe[1]="M.5,.5 L0,.5",Xe[3]="M.5,.5 L1,.5",Xe),"\u257D":(wt={},wt[1]="M.5,.5 L.5,0",wt[3]="M.5,.5 L.5,1",wt),"\u257E":(ir={},ir[1]="M.5,.5 L1,.5",ir[3]="M.5,.5 L0,.5",ir),"\u257F":(nr={},nr[1]="M.5,.5 L.5,1",nr[3]="M.5,.5 L.5,0",nr),"\u250D":(or={},or[1]="M.5,.5 L.5,1",or[3]="M.5,.5 L1,.5",or),"\u250E":(sr={},sr[1]="M.5,.5 L1,.5",sr[3]="M.5,.5 L.5,1",sr),"\u2511":(ar={},ar[1]="M.5,.5 L.5,1",ar[3]="M.5,.5 L0,.5",ar),"\u2512":(cr={},cr[1]="M.5,.5 L0,.5",cr[3]="M.5,.5 L.5,1",cr),"\u2515":(lr={},lr[1]="M.5,.5 L.5,0",lr[3]="M.5,.5 L1,.5",lr),"\u2516":(ur={},ur[1]="M.5,.5 L1,.5",ur[3]="M.5,.5 L.5,0",ur),"\u2519":(hr={},hr[1]="M.5,.5 L.5,0",hr[3]="M.5,.5 L0,.5",hr),"\u251A":(fr={},fr[1]="M.5,.5 L0,.5",fr[3]="M.5,.5 L.5,0",fr),"\u251D":(dr={},dr[1]="M.5,0 L.5,1",dr[3]="M.5,.5 L1,.5",dr),"\u251E":(pr={},pr[1]="M0.5,1 L.5,.5 L1,.5",pr[3]="M.5,.5 L.5,0",pr),"\u251F":(_r={},_r[1]="M.5,0 L.5,.5 L1,.5",_r[3]="M.5,.5 L.5,1",_r),"\u2520":(vr={},vr[1]="M.5,.5 L1,.5",vr[3]="M.5,0 L.5,1",vr),"\u2521":(gr={},gr[1]="M.5,.5 L.5,1",gr[3]="M.5,0 L.5,.5 L1,.5",gr),"\u2522":(yr={},yr[1]="M.5,.5 L.5,0",yr[3]="M0.5,1 L.5,.5 L1,.5",yr),"\u2525":(mr={},mr[1]="M.5,0 L.5,1",mr[3]="M.5,.5 L0,.5",mr),"\u2526":(br={},br[1]="M0,.5 L.5,.5 L.5,1",br[3]="M.5,.5 L.5,0",br),"\u2527":(Sr={},Sr[1]="M.5,0 L.5,.5 L0,.5",Sr[3]="M.5,.5 L.5,1",Sr),"\u2528":(wr={},wr[1]="M.5,.5 L0,.5",wr[3]="M.5,0 L.5,1",wr),"\u2529":(Cr={},Cr[1]="M.5,.5 L.5,1",Cr[3]="M.5,0 L.5,.5 L0,.5",Cr),"\u252A":(Er={},Er[1]="M.5,.5 L.5,0",Er[3]="M0,.5 L.5,.5 L.5,1",Er),"\u252D":(Lr={},Lr[1]="M0.5,1 L.5,.5 L1,.5",Lr[3]="M.5,.5 L0,.5",Lr),"\u252E":(Ar={},Ar[1]="M0,.5 L.5,.5 L.5,1",Ar[3]="M.5,.5 L1,.5",Ar),"\u252F":(xr={},xr[1]="M.5,.5 L.5,1",xr[3]="M0,.5 L1,.5",xr),"\u2530":(kr={},kr[1]="M0,.5 L1,.5",kr[3]="M.5,.5 L.5,1",kr),"\u2531":(Mr={},Mr[1]="M.5,.5 L1,.5",Mr[3]="M0,.5 L.5,.5 L.5,1",Mr),"\u2532":(Rr={},Rr[1]="M.5,.5 L0,.5",Rr[3]="M0.5,1 L.5,.5 L1,.5",Rr),"\u2535":(Or={},Or[1]="M.5,0 L.5,.5 L1,.5",Or[3]="M.5,.5 L0,.5",Or),"\u2536":(Tr={},Tr[1]="M.5,0 L.5,.5 L0,.5",Tr[3]="M.5,.5 L1,.5",Tr),"\u2537":(Dr={},Dr[1]="M.5,.5 L.5,0",Dr[3]="M0,.5 L1,.5",Dr),"\u2538":(Br={},Br[1]="M0,.5 L1,.5",Br[3]="M.5,.5 L.5,0",Br),"\u2539":(Pr={},Pr[1]="M.5,.5 L1,.5",Pr[3]="M.5,0 L.5,.5 L0,.5",Pr),"\u253A":(Ir={},Ir[1]="M.5,.5 L0,.5",Ir[3]="M.5,0 L.5,.5 L1,.5",Ir),"\u253D":(Hr={},Hr[1]="M.5,0 L.5,1 M.5,.5 L1,.5",Hr[3]="M.5,.5 L0,.5",Hr),"\u253E":(Fr={},Fr[1]="M.5,0 L.5,1 M.5,.5 L0,.5",Fr[3]="M.5,.5 L1,.5",Fr),"\u253F":(Wr={},Wr[1]="M.5,0 L.5,1",Wr[3]="M0,.5 L1,.5",Wr),"\u2540":(jr={},jr[1]="M0,.5 L1,.5 M.5,.5 L.5,1",jr[3]="M.5,.5 L.5,0",jr),"\u2541":(Ur={},Ur[1]="M.5,.5 L.5,0 M0,.5 L1,.5",Ur[3]="M.5,.5 L.5,1",Ur),"\u2542":(Nr={},Nr[1]="M0,.5 L1,.5",Nr[3]="M.5,0 L.5,1",Nr),"\u2543":(qr={},qr[1]="M0.5,1 L.5,.5 L1,.5",qr[3]="M.5,0 L.5,.5 L0,.5",qr),"\u2544":(zr={},zr[1]="M0,.5 L.5,.5 L.5,1",zr[3]="M.5,0 L.5,.5 L1,.5",zr),"\u2545":($r={},$r[1]="M.5,0 L.5,.5 L1,.5",$r[3]="M0,.5 L.5,.5 L.5,1",$r),"\u2546":(Vr={},Vr[1]="M.5,0 L.5,.5 L0,.5",Vr[3]="M0.5,1 L.5,.5 L1,.5",Vr),"\u2547":(Kr={},Kr[1]="M.5,.5 L.5,1",Kr[3]="M.5,.5 L.5,0 M0,.5 L1,.5",Kr),"\u2548":(Gr={},Gr[1]="M.5,.5 L.5,0",Gr[3]="M0,.5 L1,.5 M.5,.5 L.5,1",Gr),"\u2549":(Xr={},Xr[1]="M.5,.5 L1,.5",Xr[3]="M.5,0 L.5,1 M.5,.5 L0,.5",Xr),"\u254A":(Jr={},Jr[1]="M.5,.5 L0,.5",Jr[3]="M.5,0 L.5,1 M.5,.5 L1,.5",Jr),"\u254C":(mi={},mi[1]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",mi),"\u254D":(bi={},bi[3]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",bi),"\u2504":(Si={},Si[1]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",Si),"\u2505":(wi={},wi[3]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",wi),"\u2508":(Ci={},Ci[1]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",Ci),"\u2509":(Ei={},Ei[3]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",Ei),"\u254E":(Li={},Li[1]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",Li),"\u254F":(Ai={},Ai[3]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",Ai),"\u2506":(xi={},xi[1]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",xi),"\u2507":(ki={},ki[3]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",ki),"\u250A":(Mi={},Mi[1]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",Mi),"\u250B":(Ri={},Ri[3]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",Ri),"\u256D":(Oi={},Oi[1]="C.5,1,.5,.5,1,.5",Oi),"\u256E":(Ti={},Ti[1]="C.5,1,.5,.5,0,.5",Ti),"\u256F":(Di={},Di[1]="C.5,0,.5,.5,0,.5",Di),"\u2570":(Bi={},Bi[1]="C.5,0,.5,.5,1,.5",Bi)},r.tryDrawCustomChar=function($,z,He,Ut,Nt,ge){var Fe=r.blockElementDefinitions[z];if(Fe)return function(Le,je,zt,$t,Ct,Et){for(var Oe=0;Oe<je.length;Oe++){var xe=je[Oe],_e=Ct/8,ze=Et/8;Le.fillRect(zt+xe.x*_e,$t+xe.y*ze,xe.w*_e,xe.h*ze)}}($,Fe,He,Ut,Nt,ge),!0;var We=Jo[z];if(We)return function(Le,je,zt,$t,Ct,Et){var Oe,xe=In.get(je);xe||(xe=new Map,In.set(je,xe));var _e=Le.fillStyle;if(typeof _e!="string")throw new Error('Unexpected fillStyle type "'+_e+'"');var ze=xe.get(_e);if(!ze){var De=je[0].length,ot=je.length,st=document.createElement("canvas");st.width=De,st.height=ot;var Yr=(0,Pn.throwIfFalsy)(st.getContext("2d")),Je=new ImageData(De,ot),Lt=void 0,at=void 0,Pi=void 0,Ii=void 0;if(_e.startsWith("#"))Lt=parseInt(_e.substr(1,2),16),at=parseInt(_e.substr(3,2),16),Pi=parseInt(_e.substr(5,2),16),Ii=_e.length>7&&parseInt(_e.substr(7,2),16)||1;else{if(!_e.startsWith("rgba"))throw new Error('Unexpected fillStyle color format "'+_e+'" when drawing pattern glyph');Lt=(Oe=_e.substring(5,_e.length-1).split(",").map(function(Qo){return parseFloat(Qo)}))[0],at=Oe[1],Pi=Oe[2],Ii=Oe[3]}for(var ct=0;ct<ot;ct++)for(var lt=0;lt<De;lt++)Je.data[4*(ct*De+lt)]=Lt,Je.data[4*(ct*De+lt)+1]=at,Je.data[4*(ct*De+lt)+2]=Pi,Je.data[4*(ct*De+lt)+3]=je[ct][lt]*(255*Ii);Yr.putImageData(Je,0,0),ze=(0,Pn.throwIfFalsy)(Le.createPattern(st,null)),xe.set(_e,ze)}Le.fillStyle=ze,Le.fillRect(zt,$t,Ct,Et)}($,We,He,Ut,Nt,ge),!0;var qt=r.boxDrawingDefinitions[z];return!!qt&&(function(Le,je,zt,$t,Ct,Et){Le.strokeStyle=Le.fillStyle;for(var Oe=0,xe=Object.entries(je);Oe<xe.length;Oe++){var _e=xe[Oe],ze=_e[0],De=_e[1];Le.beginPath(),Le.lineWidth=window.devicePixelRatio*Number.parseInt(ze);for(var ot=0,st=(typeof De=="function"?De(.15,.15/Et*Ct):De).split(" ");ot<st.length;ot++){var Yr=st[ot],Je=Yr[0],Lt=Yo[Je];if(Lt){var at=Yr.substring(1).split(",");at[0]&&at[1]&&Lt(Le,Zo(at,Ct,Et,zt,$t))}else console.error('Could not find drawing instructions for "'+Je+'"')}Le.stroke(),Le.closePath()}}($,qt,He,Ut,Nt,ge),!0)};var In=new Map;function Hn($,z,He){return He===void 0&&(He=0),Math.max(Math.min($,z),He)}var Yo={C:function($,z){return $.bezierCurveTo(z[0],z[1],z[2],z[3],z[4],z[5])},L:function($,z){return $.lineTo(z[0],z[1])},M:function($,z){return $.moveTo(z[0],z[1])}};function Zo($,z,He,Ut,Nt){var ge=$.map(function(qt){return parseFloat(qt)||parseInt(qt)});if(ge.length<2)throw new Error("Too few arguments for instruction");for(var Fe=0;Fe<ge.length;Fe+=2)ge[Fe]*=z,ge[Fe]!==0&&(ge[Fe]=Hn(Math.round(ge[Fe]+.5)-.5,z,0)),ge[Fe]+=Ut;for(var We=1;We<ge.length;We+=2)ge[We]*=He,ge[We]!==0&&(ge[We]=Hn(Math.round(ge[We]+.5)-.5,He,0)),ge[We]+=Nt;return ge}},3700:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.GridCache=void 0;var _=function(){function s(){this.cache=[]}return s.prototype.resize=function(l,f){for(var p=0;p<l;p++){this.cache.length<=p&&this.cache.push([]);for(var b=this.cache[p].length;b<f;b++)this.cache[p].push(void 0);this.cache[p].length=f}this.cache.length=l},s.prototype.clear=function(){for(var l=0;l<this.cache.length;l++)for(var f=0;f<this.cache[l].length;f++)this.cache[l][f]=void 0},s}();r.GridCache=_},5098:function(x,r,_){var s,l=this&&this.__extends||(s=function(u,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var h in t)Object.prototype.hasOwnProperty.call(t,h)&&(e[h]=t[h])},s(u,i)},function(u,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=u}s(u,i),u.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}),f=this&&this.__decorate||function(u,i,e,t){var h,d=arguments.length,m=d<3?i:t===null?t=Object.getOwnPropertyDescriptor(i,e):t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,i,e,t);else for(var S=u.length-1;S>=0;S--)(h=u[S])&&(m=(d<3?h(m):d>3?h(i,e,m):h(i,e))||m);return d>3&&m&&Object.defineProperty(i,e,m),m},p=this&&this.__param||function(u,i){return function(e,t){i(e,t,u)}};Object.defineProperty(r,"__esModule",{value:!0}),r.LinkRenderLayer=void 0;var b=_(1546),y=_(8803),o=_(2040),a=_(2585),g=function(u){function i(e,t,h,d,m,S,L,A){var w=u.call(this,e,"link",t,!0,h,d,L,A)||this;return m.onShowLinkUnderline(function(E){return w._onShowLinkUnderline(E)}),m.onHideLinkUnderline(function(E){return w._onHideLinkUnderline(E)}),S.onShowLinkUnderline(function(E){return w._onShowLinkUnderline(E)}),S.onHideLinkUnderline(function(E){return w._onHideLinkUnderline(E)}),w}return l(i,u),i.prototype.resize=function(e){u.prototype.resize.call(this,e),this._state=void 0},i.prototype.reset=function(){this._clearCurrentLink()},i.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var e=this._state.y2-this._state.y1-1;e>0&&this._clearCells(0,this._state.y1+1,this._state.cols,e),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},i.prototype._onShowLinkUnderline=function(e){if(e.fg===y.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:e.fg&&(0,o.is256Color)(e.fg)?this._ctx.fillStyle=this._colors.ansi[e.fg].css:this._ctx.fillStyle=this._colors.foreground.css,e.y1===e.y2)this._fillBottomLineAtCells(e.x1,e.y1,e.x2-e.x1);else{this._fillBottomLineAtCells(e.x1,e.y1,e.cols-e.x1);for(var t=e.y1+1;t<e.y2;t++)this._fillBottomLineAtCells(0,t,e.cols);this._fillBottomLineAtCells(0,e.y2,e.x2)}this._state=e},i.prototype._onHideLinkUnderline=function(e){this._clearCurrentLink()},f([p(6,a.IBufferService),p(7,a.IOptionsService)],i)}(b.BaseRenderLayer);r.LinkRenderLayer=g},3525:function(x,r,_){var s,l=this&&this.__extends||(s=function(m,S){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,A){L.__proto__=A}||function(L,A){for(var w in A)Object.prototype.hasOwnProperty.call(A,w)&&(L[w]=A[w])},s(m,S)},function(m,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function L(){this.constructor=m}s(m,S),m.prototype=S===null?Object.create(S):(L.prototype=S.prototype,new L)}),f=this&&this.__decorate||function(m,S,L,A){var w,E=arguments.length,B=E<3?S:A===null?A=Object.getOwnPropertyDescriptor(S,L):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(m,S,L,A);else for(var T=m.length-1;T>=0;T--)(w=m[T])&&(B=(E<3?w(B):E>3?w(S,L,B):w(S,L))||B);return E>3&&B&&Object.defineProperty(S,L,B),B},p=this&&this.__param||function(m,S){return function(L,A){S(L,A,m)}};Object.defineProperty(r,"__esModule",{value:!0}),r.Renderer=void 0;var b=_(9596),y=_(4149),o=_(2512),a=_(5098),g=_(844),u=_(4725),i=_(2585),e=_(1420),t=_(8460),h=1,d=function(m){function S(L,A,w,E,B,T,U,H){var k=m.call(this)||this;k._colors=L,k._screenElement=A,k._bufferService=T,k._charSizeService=U,k._optionsService=H,k._id=h++,k._onRequestRedraw=new t.EventEmitter;var O=k._optionsService.options.allowTransparency;return k._renderLayers=[B.createInstance(b.TextRenderLayer,k._screenElement,0,k._colors,O,k._id),B.createInstance(y.SelectionRenderLayer,k._screenElement,1,k._colors,k._id),B.createInstance(a.LinkRenderLayer,k._screenElement,2,k._colors,k._id,w,E),B.createInstance(o.CursorRenderLayer,k._screenElement,3,k._colors,k._id,k._onRequestRedraw)],k.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},k._devicePixelRatio=window.devicePixelRatio,k._updateDimensions(),k.onOptionsChanged(),k}return l(S,m),Object.defineProperty(S.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),S.prototype.dispose=function(){for(var L=0,A=this._renderLayers;L<A.length;L++)A[L].dispose();m.prototype.dispose.call(this),(0,e.removeTerminalFromCache)(this._id)},S.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},S.prototype.setColors=function(L){this._colors=L;for(var A=0,w=this._renderLayers;A<w.length;A++){var E=w[A];E.setColors(this._colors),E.reset()}},S.prototype.onResize=function(L,A){this._updateDimensions();for(var w=0,E=this._renderLayers;w<E.length;w++)E[w].resize(this.dimensions);this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},S.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},S.prototype.onBlur=function(){this._runOperation(function(L){return L.onBlur()})},S.prototype.onFocus=function(){this._runOperation(function(L){return L.onFocus()})},S.prototype.onSelectionChanged=function(L,A,w){w===void 0&&(w=!1),this._runOperation(function(E){return E.onSelectionChanged(L,A,w)})},S.prototype.onCursorMove=function(){this._runOperation(function(L){return L.onCursorMove()})},S.prototype.onOptionsChanged=function(){this._runOperation(function(L){return L.onOptionsChanged()})},S.prototype.clear=function(){this._runOperation(function(L){return L.reset()})},S.prototype._runOperation=function(L){for(var A=0,w=this._renderLayers;A<w.length;A++)L(w[A])},S.prototype.renderRows=function(L,A){for(var w=0,E=this._renderLayers;w<E.length;w++)E[w].onGridChanged(L,A)},S.prototype.clearTextureAtlas=function(){for(var L=0,A=this._renderLayers;L<A.length;L++)A[L].clearTextureAtlas()},S.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharTop=this._optionsService.options.lineHeight===1?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},f([p(4,i.IInstantiationService),p(5,i.IBufferService),p(6,u.ICharSizeService),p(7,i.IOptionsService)],S)}(g.Disposable);r.Renderer=d},1752:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.throwIfFalsy=void 0,r.throwIfFalsy=function(_){if(!_)throw new Error("value must not be falsy");return _}},4149:function(x,r,_){var s,l=this&&this.__extends||(s=function(a,g){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,i){u.__proto__=i}||function(u,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(u[e]=i[e])},s(a,g)},function(a,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function u(){this.constructor=a}s(a,g),a.prototype=g===null?Object.create(g):(u.prototype=g.prototype,new u)}),f=this&&this.__decorate||function(a,g,u,i){var e,t=arguments.length,h=t<3?g:i===null?i=Object.getOwnPropertyDescriptor(g,u):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(a,g,u,i);else for(var d=a.length-1;d>=0;d--)(e=a[d])&&(h=(t<3?e(h):t>3?e(g,u,h):e(g,u))||h);return t>3&&h&&Object.defineProperty(g,u,h),h},p=this&&this.__param||function(a,g){return function(u,i){g(u,i,a)}};Object.defineProperty(r,"__esModule",{value:!0}),r.SelectionRenderLayer=void 0;var b=_(1546),y=_(2585),o=function(a){function g(u,i,e,t,h,d){var m=a.call(this,u,"selection",i,!0,e,t,h,d)||this;return m._clearState(),m}return l(g,a),g.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},g.prototype.resize=function(u){a.prototype.resize.call(this,u),this._clearState()},g.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},g.prototype.onSelectionChanged=function(u,i,e){if(this._didStateChange(u,i,e,this._bufferService.buffer.ydisp))if(this._clearAll(),u&&i){var t=u[1]-this._bufferService.buffer.ydisp,h=i[1]-this._bufferService.buffer.ydisp,d=Math.max(t,0),m=Math.min(h,this._bufferService.rows-1);if(d>=this._bufferService.rows||m<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=this._colors.selectionTransparent.css,e){var S=u[0],L=i[0]-S,A=m-d+1;this._fillCells(S,d,L,A)}else{S=t===d?u[0]:0;var w=d===h?i[0]:this._bufferService.cols;this._fillCells(S,d,w-S,1);var E=Math.max(m-d-1,0);if(this._fillCells(0,d+1,this._bufferService.cols,E),d!==m){var B=h===m?i[0]:this._bufferService.cols;this._fillCells(0,m,B,1)}}this._state.start=[u[0],u[1]],this._state.end=[i[0],i[1]],this._state.columnSelectMode=e,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},g.prototype._didStateChange=function(u,i,e,t){return!this._areCoordinatesEqual(u,this._state.start)||!this._areCoordinatesEqual(i,this._state.end)||e!==this._state.columnSelectMode||t!==this._state.ydisp},g.prototype._areCoordinatesEqual=function(u,i){return!(!u||!i)&&u[0]===i[0]&&u[1]===i[1]},f([p(4,y.IBufferService),p(5,y.IOptionsService)],g)}(b.BaseRenderLayer);r.SelectionRenderLayer=o},9596:function(x,r,_){var s,l=this&&this.__extends||(s=function(h,d){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,S){m.__proto__=S}||function(m,S){for(var L in S)Object.prototype.hasOwnProperty.call(S,L)&&(m[L]=S[L])},s(h,d)},function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function m(){this.constructor=h}s(h,d),h.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}),f=this&&this.__decorate||function(h,d,m,S){var L,A=arguments.length,w=A<3?d:S===null?S=Object.getOwnPropertyDescriptor(d,m):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(h,d,m,S);else for(var E=h.length-1;E>=0;E--)(L=h[E])&&(w=(A<3?L(w):A>3?L(d,m,w):L(d,m))||w);return A>3&&w&&Object.defineProperty(d,m,w),w},p=this&&this.__param||function(h,d){return function(m,S){d(m,S,h)}};Object.defineProperty(r,"__esModule",{value:!0}),r.TextRenderLayer=void 0;var b=_(3700),y=_(1546),o=_(3734),a=_(643),g=_(511),u=_(2585),i=_(4725),e=_(4269),t=function(h){function d(m,S,L,A,w,E,B,T){var U=h.call(this,m,"text",S,A,L,w,E,B)||this;return U._characterJoinerService=T,U._characterWidth=0,U._characterFont="",U._characterOverlapCache={},U._workCell=new g.CellData,U._state=new b.GridCache,U}return l(d,h),d.prototype.resize=function(m){h.prototype.resize.call(this,m);var S=this._getFont(!1,!1);this._characterWidth===m.scaledCharWidth&&this._characterFont===S||(this._characterWidth=m.scaledCharWidth,this._characterFont=S,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},d.prototype.reset=function(){this._state.clear(),this._clearAll()},d.prototype._forEachCell=function(m,S,L){for(var A=m;A<=S;A++)for(var w=A+this._bufferService.buffer.ydisp,E=this._bufferService.buffer.lines.get(w),B=this._characterJoinerService.getJoinedCharacters(w),T=0;T<this._bufferService.cols;T++){E.loadCell(T,this._workCell);var U=this._workCell,H=!1,k=T;if(U.getWidth()!==0){if(B.length>0&&T===B[0][0]){H=!0;var O=B.shift();U=new e.JoinedCellData(this._workCell,E.translateToString(!0,O[0],O[1]),O[1]-O[0]),k=O[1]-1}!H&&this._isOverlapping(U)&&k<E.length-1&&E.getCodePoint(k+1)===a.NULL_CELL_CODE&&(U.content&=-12582913,U.content|=2<<22),L(U,T,A),T=k}}},d.prototype._drawBackground=function(m,S){var L=this,A=this._ctx,w=this._bufferService.cols,E=0,B=0,T=null;A.save(),this._forEachCell(m,S,function(U,H,k){var O=null;U.isInverse()?O=U.isFgDefault()?L._colors.foreground.css:U.isFgRGB()?"rgb("+o.AttributeData.toColorRGB(U.getFgColor()).join(",")+")":L._colors.ansi[U.getFgColor()].css:U.isBgRGB()?O="rgb("+o.AttributeData.toColorRGB(U.getBgColor()).join(",")+")":U.isBgPalette()&&(O=L._colors.ansi[U.getBgColor()].css),T===null&&(E=H,B=k),k!==B?(A.fillStyle=T||"",L._fillCells(E,B,w-E,1),E=H,B=k):T!==O&&(A.fillStyle=T||"",L._fillCells(E,B,H-E,1),E=H,B=k),T=O}),T!==null&&(A.fillStyle=T,this._fillCells(E,B,w-E,1)),A.restore()},d.prototype._drawForeground=function(m,S){var L=this;this._forEachCell(m,S,function(A,w,E){if(!A.isInvisible()&&(L._drawChars(A,w,E),A.isUnderline()||A.isStrikethrough())){if(L._ctx.save(),A.isInverse())if(A.isBgDefault())L._ctx.fillStyle=L._colors.background.css;else if(A.isBgRGB())L._ctx.fillStyle="rgb("+o.AttributeData.toColorRGB(A.getBgColor()).join(",")+")";else{var B=A.getBgColor();L._optionsService.options.drawBoldTextInBrightColors&&A.isBold()&&B<8&&(B+=8),L._ctx.fillStyle=L._colors.ansi[B].css}else if(A.isFgDefault())L._ctx.fillStyle=L._colors.foreground.css;else if(A.isFgRGB())L._ctx.fillStyle="rgb("+o.AttributeData.toColorRGB(A.getFgColor()).join(",")+")";else{var T=A.getFgColor();L._optionsService.options.drawBoldTextInBrightColors&&A.isBold()&&T<8&&(T+=8),L._ctx.fillStyle=L._colors.ansi[T].css}A.isStrikethrough()&&L._fillMiddleLineAtCells(w,E,A.getWidth()),A.isUnderline()&&L._fillBottomLineAtCells(w,E,A.getWidth()),L._ctx.restore()}})},d.prototype.onGridChanged=function(m,S){this._state.cache.length!==0&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,m,this._bufferService.cols,S-m+1),this._drawBackground(m,S),this._drawForeground(m,S))},d.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.options.allowTransparency)},d.prototype._isOverlapping=function(m){if(m.getWidth()!==1||m.getCode()<256)return!1;var S=m.getChars();if(this._characterOverlapCache.hasOwnProperty(S))return this._characterOverlapCache[S];this._ctx.save(),this._ctx.font=this._characterFont;var L=Math.floor(this._ctx.measureText(S).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[S]=L,L},f([p(5,u.IBufferService),p(6,u.IOptionsService),p(7,i.ICharacterJoinerService)],d)}(y.BaseRenderLayer);r.TextRenderLayer=t},9616:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BaseCharAtlas=void 0;var _=function(){function s(){this._didWarmUp=!1}return s.prototype.dispose=function(){},s.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},s.prototype._doWarmUp=function(){},s.prototype.clear=function(){},s.prototype.beginFrame=function(){},s}();r.BaseCharAtlas=_},1420:(x,r,_)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.removeTerminalFromCache=r.acquireCharAtlas=void 0;var s=_(2040),l=_(1906),f=[];r.acquireCharAtlas=function(p,b,y,o,a){for(var g=(0,s.generateConfig)(o,a,p,y),u=0;u<f.length;u++){var i=(e=f[u]).ownedBy.indexOf(b);if(i>=0){if((0,s.configEquals)(e.config,g))return e.atlas;e.ownedBy.length===1?(e.atlas.dispose(),f.splice(u,1)):e.ownedBy.splice(i,1);break}}for(u=0;u<f.length;u++){var e=f[u];if((0,s.configEquals)(e.config,g))return e.ownedBy.push(b),e.atlas}var t={atlas:new l.DynamicCharAtlas(document,g),config:g,ownedBy:[b]};return f.push(t),t.atlas},r.removeTerminalFromCache=function(p){for(var b=0;b<f.length;b++){var y=f[b].ownedBy.indexOf(p);if(y!==-1){f[b].ownedBy.length===1?(f[b].atlas.dispose(),f.splice(b,1)):f[b].ownedBy.splice(y,1);break}}}},2040:function(x,r,_){var s=this&&this.__spreadArray||function(f,p,b){if(b||arguments.length===2)for(var y,o=0,a=p.length;o<a;o++)!y&&o in p||(y||(y=Array.prototype.slice.call(p,0,o)),y[o]=p[o]);return f.concat(y||Array.prototype.slice.call(p))};Object.defineProperty(r,"__esModule",{value:!0}),r.is256Color=r.configEquals=r.generateConfig=void 0;var l=_(643);r.generateConfig=function(f,p,b,y){var o={foreground:y.foreground,background:y.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:s([],y.ansi,!0)};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:f,scaledCharHeight:p,fontFamily:b.fontFamily,fontSize:b.fontSize,fontWeight:b.fontWeight,fontWeightBold:b.fontWeightBold,allowTransparency:b.allowTransparency,colors:o}},r.configEquals=function(f,p){for(var b=0;b<f.colors.ansi.length;b++)if(f.colors.ansi[b].rgba!==p.colors.ansi[b].rgba)return!1;return f.devicePixelRatio===p.devicePixelRatio&&f.fontFamily===p.fontFamily&&f.fontSize===p.fontSize&&f.fontWeight===p.fontWeight&&f.fontWeightBold===p.fontWeightBold&&f.allowTransparency===p.allowTransparency&&f.scaledCharWidth===p.scaledCharWidth&&f.scaledCharHeight===p.scaledCharHeight&&f.colors.foreground===p.colors.foreground&&f.colors.background===p.colors.background},r.is256Color=function(f){return f<l.DEFAULT_COLOR}},8803:(x,r,_)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CHAR_ATLAS_CELL_SPACING=r.TEXT_BASELINE=r.DIM_OPACITY=r.INVERTED_DEFAULT_COLOR=void 0;var s=_(6114);r.INVERTED_DEFAULT_COLOR=257,r.DIM_OPACITY=.5,r.TEXT_BASELINE=s.isFirefox?"bottom":"ideographic",r.CHAR_ATLAS_CELL_SPACING=1},1906:function(x,r,_){var s,l=this&&this.__extends||(s=function(S,L){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,w){A.__proto__=w}||function(A,w){for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(A[E]=w[E])},s(S,L)},function(S,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function A(){this.constructor=S}s(S,L),S.prototype=L===null?Object.create(L):(A.prototype=L.prototype,new A)});Object.defineProperty(r,"__esModule",{value:!0}),r.NoneCharAtlas=r.DynamicCharAtlas=r.getGlyphCacheKey=void 0;var f=_(8803),p=_(9616),b=_(5680),y=_(7001),o=_(6114),a=_(1752),g=_(4774),u=1024,i=1024,e={css:"rgba(0, 0, 0, 0)",rgba:0};function t(S){return S.code<<21|S.bg<<12|S.fg<<3|(S.bold?0:4)+(S.dim?0:2)+(S.italic?0:1)}r.getGlyphCacheKey=t;var h=function(S){function L(A,w){var E=S.call(this)||this;E._config=w,E._drawToCacheCount=0,E._glyphsWaitingOnBitmap=[],E._bitmapCommitTimeout=null,E._bitmap=null,E._cacheCanvas=A.createElement("canvas"),E._cacheCanvas.width=u,E._cacheCanvas.height=i,E._cacheCtx=(0,a.throwIfFalsy)(E._cacheCanvas.getContext("2d",{alpha:!0}));var B=A.createElement("canvas");B.width=E._config.scaledCharWidth,B.height=E._config.scaledCharHeight,E._tmpCtx=(0,a.throwIfFalsy)(B.getContext("2d",{alpha:E._config.allowTransparency})),E._width=Math.floor(u/E._config.scaledCharWidth),E._height=Math.floor(i/E._config.scaledCharHeight);var T=E._width*E._height;return E._cacheMap=new y.LRUMap(T),E._cacheMap.prealloc(T),E}return l(L,S),L.prototype.dispose=function(){this._bitmapCommitTimeout!==null&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},L.prototype.beginFrame=function(){this._drawToCacheCount=0},L.prototype.clear=function(){if(this._cacheMap.size>0){var A=this._width*this._height;this._cacheMap=new y.LRUMap(A),this._cacheMap.prealloc(A)}this._cacheCtx.clearRect(0,0,u,i),this._tmpCtx.clearRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight)},L.prototype.draw=function(A,w,E,B){if(w.code===32)return!0;if(!this._canCache(w))return!1;var T=t(w),U=this._cacheMap.get(T);if(U!=null)return this._drawFromCache(A,U,E,B),!0;if(this._drawToCacheCount<100){var H;H=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var k=this._drawToCache(w,H);return this._cacheMap.set(T,k),this._drawFromCache(A,k,E,B),!0}return!1},L.prototype._canCache=function(A){return A.code<256},L.prototype._toCoordinateX=function(A){return A%this._width*this._config.scaledCharWidth},L.prototype._toCoordinateY=function(A){return Math.floor(A/this._width)*this._config.scaledCharHeight},L.prototype._drawFromCache=function(A,w,E,B){if(!w.isEmpty){var T=this._toCoordinateX(w.index),U=this._toCoordinateY(w.index);A.drawImage(w.inBitmap?this._bitmap:this._cacheCanvas,T,U,this._config.scaledCharWidth,this._config.scaledCharHeight,E,B,this._config.scaledCharWidth,this._config.scaledCharHeight)}},L.prototype._getColorFromAnsiIndex=function(A){return A<this._config.colors.ansi.length?this._config.colors.ansi[A]:b.DEFAULT_ANSI_COLORS[A]},L.prototype._getBackgroundColor=function(A){return this._config.allowTransparency?e:A.bg===f.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:A.bg<256?this._getColorFromAnsiIndex(A.bg):this._config.colors.background},L.prototype._getForegroundColor=function(A){return A.fg===f.INVERTED_DEFAULT_COLOR?g.color.opaque(this._config.colors.background):A.fg<256?this._getColorFromAnsiIndex(A.fg):this._config.colors.foreground},L.prototype._drawToCache=function(A,w){this._drawToCacheCount++,this._tmpCtx.save();var E=this._getBackgroundColor(A);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=E.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var B=A.bold?this._config.fontWeightBold:this._config.fontWeight,T=A.italic?"italic":"";this._tmpCtx.font=T+" "+B+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline=f.TEXT_BASELINE,this._tmpCtx.fillStyle=this._getForegroundColor(A).css,A.dim&&(this._tmpCtx.globalAlpha=f.DIM_OPACITY),this._tmpCtx.fillText(A.chars,0,this._config.scaledCharHeight);var U=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),H=!1;if(this._config.allowTransparency||(H=m(U,E)),H&&A.chars==="_"&&!this._config.allowTransparency)for(var k=1;k<=5&&(this._tmpCtx.fillText(A.chars,0,this._config.scaledCharHeight-k),H=m(U=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),E));k++);this._tmpCtx.restore();var O=this._toCoordinateX(w),P=this._toCoordinateY(w);this._cacheCtx.putImageData(U,O,P);var F={index:w,isEmpty:H,inBitmap:!1};return this._addGlyphToBitmap(F),F},L.prototype._addGlyphToBitmap=function(A){var w=this;!("createImageBitmap"in window)||o.isFirefox||o.isSafari||(this._glyphsWaitingOnBitmap.push(A),this._bitmapCommitTimeout===null&&(this._bitmapCommitTimeout=window.setTimeout(function(){return w._generateBitmap()},100)))},L.prototype._generateBitmap=function(){var A=this,w=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then(function(E){A._bitmap=E;for(var B=0;B<w.length;B++)w[B].inBitmap=!0}),this._bitmapCommitTimeout=null},L}(p.BaseCharAtlas);r.DynamicCharAtlas=h;var d=function(S){function L(A,w){return S.call(this)||this}return l(L,S),L.prototype.draw=function(A,w,E,B){return!1},L}(p.BaseCharAtlas);function m(S,L){for(var A=!0,w=L.rgba>>>24,E=L.rgba>>>16&255,B=L.rgba>>>8&255,T=0;T<S.data.length;T+=4)S.data[T]===w&&S.data[T+1]===E&&S.data[T+2]===B?S.data[T+3]=0:A=!1;return A}r.NoneCharAtlas=d},7001:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.LRUMap=void 0;var _=function(){function s(l){this.capacity=l,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return s.prototype._unlinkNode=function(l){var f=l.prev,p=l.next;l===this._head&&(this._head=p),l===this._tail&&(this._tail=f),f!==null&&(f.next=p),p!==null&&(p.prev=f)},s.prototype._appendNode=function(l){var f=this._tail;f!==null&&(f.next=l),l.prev=f,l.next=null,this._tail=l,this._head===null&&(this._head=l)},s.prototype.prealloc=function(l){for(var f=this._nodePool,p=0;p<l;p++)f.push({prev:null,next:null,key:null,value:null})},s.prototype.get=function(l){var f=this._map[l];return f!==void 0?(this._unlinkNode(f),this._appendNode(f),f.value):null},s.prototype.peekValue=function(l){var f=this._map[l];return f!==void 0?f.value:null},s.prototype.peek=function(){var l=this._head;return l===null?null:l.value},s.prototype.set=function(l,f){var p=this._map[l];if(p!==void 0)p=this._map[l],this._unlinkNode(p),p.value=f;else if(this.size>=this.capacity)p=this._head,this._unlinkNode(p),delete this._map[p.key],p.key=l,p.value=f,this._map[l]=p;else{var b=this._nodePool;b.length>0?((p=b.pop()).key=l,p.value=f):p={prev:null,next:null,key:l,value:f},this._map[l]=p,this.size++}this._appendNode(p)},s}();r.LRUMap=_},1296:function(x,r,_){var s,l=this&&this.__extends||(s=function(A,w){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,B){E.__proto__=B}||function(E,B){for(var T in B)Object.prototype.hasOwnProperty.call(B,T)&&(E[T]=B[T])},s(A,w)},function(A,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function E(){this.constructor=A}s(A,w),A.prototype=w===null?Object.create(w):(E.prototype=w.prototype,new E)}),f=this&&this.__decorate||function(A,w,E,B){var T,U=arguments.length,H=U<3?w:B===null?B=Object.getOwnPropertyDescriptor(w,E):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(A,w,E,B);else for(var k=A.length-1;k>=0;k--)(T=A[k])&&(H=(U<3?T(H):U>3?T(w,E,H):T(w,E))||H);return U>3&&H&&Object.defineProperty(w,E,H),H},p=this&&this.__param||function(A,w){return function(E,B){w(E,B,A)}};Object.defineProperty(r,"__esModule",{value:!0}),r.DomRenderer=void 0;var b=_(3787),y=_(8803),o=_(844),a=_(4725),g=_(2585),u=_(8460),i=_(4774),e=_(9631),t="xterm-dom-renderer-owner-",h="xterm-fg-",d="xterm-bg-",m="xterm-focus",S=1,L=function(A){function w(E,B,T,U,H,k,O,P,F,K){var G=A.call(this)||this;return G._colors=E,G._element=B,G._screenElement=T,G._viewportElement=U,G._linkifier=H,G._linkifier2=k,G._charSizeService=P,G._optionsService=F,G._bufferService=K,G._terminalClass=S++,G._rowElements=[],G._rowContainer=document.createElement("div"),G._rowContainer.classList.add("xterm-rows"),G._rowContainer.style.lineHeight="normal",G._rowContainer.setAttribute("aria-hidden","true"),G._refreshRowElements(G._bufferService.cols,G._bufferService.rows),G._selectionContainer=document.createElement("div"),G._selectionContainer.classList.add("xterm-selection"),G._selectionContainer.setAttribute("aria-hidden","true"),G.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},G._updateDimensions(),G._injectCss(),G._rowFactory=O.createInstance(b.DomRendererRowFactory,document,G._colors),G._element.classList.add(t+G._terminalClass),G._screenElement.appendChild(G._rowContainer),G._screenElement.appendChild(G._selectionContainer),G._linkifier.onShowLinkUnderline(function(Q){return G._onLinkHover(Q)}),G._linkifier.onHideLinkUnderline(function(Q){return G._onLinkLeave(Q)}),G._linkifier2.onShowLinkUnderline(function(Q){return G._onLinkHover(Q)}),G._linkifier2.onHideLinkUnderline(function(Q){return G._onLinkLeave(Q)}),G}return l(w,A),Object.defineProperty(w.prototype,"onRequestRedraw",{get:function(){return new u.EventEmitter().event},enumerable:!1,configurable:!0}),w.prototype.dispose=function(){this._element.classList.remove(t+this._terminalClass),(0,e.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),A.prototype.dispose.call(this)},w.prototype._updateDimensions=function(){this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;for(var E=0,B=this._rowElements;E<B.length;E++){var T=B[E];T.style.width=this.dimensions.canvasWidth+"px",T.style.height=this.dimensions.actualCellHeight+"px",T.style.lineHeight=this.dimensions.actualCellHeight+"px",T.style.overflow="hidden"}this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));var U=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.textContent=U,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},w.prototype.setColors=function(E){this._colors=E,this._injectCss()},w.prototype._injectCss=function(){var E=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var B=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.options.fontFamily+"; font-size: "+this._optionsService.options.fontSize+"px;}";B+=this._terminalSelector+" span:not(."+b.BOLD_CLASS+") { font-weight: "+this._optionsService.options.fontWeight+";}"+this._terminalSelector+" span."+b.BOLD_CLASS+" { font-weight: "+this._optionsService.options.fontWeightBold+";}"+this._terminalSelector+" span."+b.ITALIC_CLASS+" { font-style: italic;}",B+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",B+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",B+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+b.CURSOR_CLASS+"."+b.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+b.CURSOR_CLASS+"."+b.CURSOR_BLINK_CLASS+":not(."+b.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+b.CURSOR_CLASS+"."+b.CURSOR_BLINK_CLASS+"."+b.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+b.CURSOR_CLASS+"."+b.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+b.CURSOR_CLASS+"."+b.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.options.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+b.CURSOR_CLASS+"."+b.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",B+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selectionTransparent.css+";}",this._colors.ansi.forEach(function(T,U){B+=E._terminalSelector+" ."+h+U+" { color: "+T.css+"; }"+E._terminalSelector+" ."+d+U+" { background-color: "+T.css+"; }"}),B+=this._terminalSelector+" ."+h+y.INVERTED_DEFAULT_COLOR+" { color: "+i.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" ."+d+y.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.textContent=B},w.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},w.prototype._refreshRowElements=function(E,B){for(var T=this._rowElements.length;T<=B;T++){var U=document.createElement("div");this._rowContainer.appendChild(U),this._rowElements.push(U)}for(;this._rowElements.length>B;)this._rowContainer.removeChild(this._rowElements.pop())},w.prototype.onResize=function(E,B){this._refreshRowElements(E,B),this._updateDimensions()},w.prototype.onCharSizeChanged=function(){this._updateDimensions()},w.prototype.onBlur=function(){this._rowContainer.classList.remove(m)},w.prototype.onFocus=function(){this._rowContainer.classList.add(m)},w.prototype.onSelectionChanged=function(E,B,T){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(E&&B){var U=E[1]-this._bufferService.buffer.ydisp,H=B[1]-this._bufferService.buffer.ydisp,k=Math.max(U,0),O=Math.min(H,this._bufferService.rows-1);if(!(k>=this._bufferService.rows||O<0)){var P=document.createDocumentFragment();if(T)P.appendChild(this._createSelectionElement(k,E[0],B[0],O-k+1));else{var F=U===k?E[0]:0,K=k===H?B[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(k,F,K));var G=O-k-1;if(P.appendChild(this._createSelectionElement(k+1,0,this._bufferService.cols,G)),k!==O){var Q=H===O?B[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(O,0,Q))}}this._selectionContainer.appendChild(P)}}},w.prototype._createSelectionElement=function(E,B,T,U){U===void 0&&(U=1);var H=document.createElement("div");return H.style.height=U*this.dimensions.actualCellHeight+"px",H.style.top=E*this.dimensions.actualCellHeight+"px",H.style.left=B*this.dimensions.actualCellWidth+"px",H.style.width=this.dimensions.actualCellWidth*(T-B)+"px",H},w.prototype.onCursorMove=function(){},w.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},w.prototype.clear=function(){for(var E=0,B=this._rowElements;E<B.length;E++)B[E].innerText=""},w.prototype.renderRows=function(E,B){for(var T=this._bufferService.buffer.ybase+this._bufferService.buffer.y,U=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),H=this._optionsService.options.cursorBlink,k=E;k<=B;k++){var O=this._rowElements[k];O.innerText="";var P=k+this._bufferService.buffer.ydisp,F=this._bufferService.buffer.lines.get(P),K=this._optionsService.options.cursorStyle;O.appendChild(this._rowFactory.createRow(F,P,P===T,K,U,H,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(w.prototype,"_terminalSelector",{get:function(){return"."+t+this._terminalClass},enumerable:!1,configurable:!0}),w.prototype._onLinkHover=function(E){this._setCellUnderline(E.x1,E.x2,E.y1,E.y2,E.cols,!0)},w.prototype._onLinkLeave=function(E){this._setCellUnderline(E.x1,E.x2,E.y1,E.y2,E.cols,!1)},w.prototype._setCellUnderline=function(E,B,T,U,H,k){for(;E!==B||T!==U;){var O=this._rowElements[T];if(!O)return;var P=O.children[E];P&&(P.style.textDecoration=k?"underline":"none"),++E>=H&&(E=0,T++)}},f([p(6,g.IInstantiationService),p(7,a.ICharSizeService),p(8,g.IOptionsService),p(9,g.IBufferService)],w)}(o.Disposable);r.DomRenderer=L},3787:function(x,r,_){var s=this&&this.__decorate||function(e,t,h,d){var m,S=arguments.length,L=S<3?t:d===null?d=Object.getOwnPropertyDescriptor(t,h):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(e,t,h,d);else for(var A=e.length-1;A>=0;A--)(m=e[A])&&(L=(S<3?m(L):S>3?m(t,h,L):m(t,h))||L);return S>3&&L&&Object.defineProperty(t,h,L),L},l=this&&this.__param||function(e,t){return function(h,d){t(h,d,e)}};Object.defineProperty(r,"__esModule",{value:!0}),r.DomRendererRowFactory=r.CURSOR_STYLE_UNDERLINE_CLASS=r.CURSOR_STYLE_BAR_CLASS=r.CURSOR_STYLE_BLOCK_CLASS=r.CURSOR_BLINK_CLASS=r.CURSOR_CLASS=r.STRIKETHROUGH_CLASS=r.UNDERLINE_CLASS=r.ITALIC_CLASS=r.DIM_CLASS=r.BOLD_CLASS=void 0;var f=_(8803),p=_(643),b=_(511),y=_(2585),o=_(4774),a=_(4725),g=_(4269);r.BOLD_CLASS="xterm-bold",r.DIM_CLASS="xterm-dim",r.ITALIC_CLASS="xterm-italic",r.UNDERLINE_CLASS="xterm-underline",r.STRIKETHROUGH_CLASS="xterm-strikethrough",r.CURSOR_CLASS="xterm-cursor",r.CURSOR_BLINK_CLASS="xterm-cursor-blink",r.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",r.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",r.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var u=function(){function e(t,h,d,m,S){this._document=t,this._colors=h,this._characterJoinerService=d,this._optionsService=m,this._coreService=S,this._workCell=new b.CellData}return e.prototype.setColors=function(t){this._colors=t},e.prototype.createRow=function(t,h,d,m,S,L,A,w){for(var E=this._document.createDocumentFragment(),B=this._characterJoinerService.getJoinedCharacters(h),T=0,U=Math.min(t.length,w)-1;U>=0;U--)if(t.loadCell(U,this._workCell).getCode()!==p.NULL_CELL_CODE||d&&U===S){T=U+1;break}for(U=0;U<T;U++){t.loadCell(U,this._workCell);var H=this._workCell.getWidth();if(H!==0){var k=!1,O=U,P=this._workCell;if(B.length>0&&U===B[0][0]){k=!0;var F=B.shift();P=new g.JoinedCellData(this._workCell,t.translateToString(!0,F[0],F[1]),F[1]-F[0]),O=F[1]-1,H=P.getWidth()}var K=this._document.createElement("span");if(H>1&&(K.style.width=A*H+"px"),k&&(K.style.display="inline",S>=U&&S<=O&&(S=U)),!this._coreService.isCursorHidden&&d&&U===S)switch(K.classList.add(r.CURSOR_CLASS),L&&K.classList.add(r.CURSOR_BLINK_CLASS),m){case"bar":K.classList.add(r.CURSOR_STYLE_BAR_CLASS);break;case"underline":K.classList.add(r.CURSOR_STYLE_UNDERLINE_CLASS);break;default:K.classList.add(r.CURSOR_STYLE_BLOCK_CLASS)}P.isBold()&&K.classList.add(r.BOLD_CLASS),P.isItalic()&&K.classList.add(r.ITALIC_CLASS),P.isDim()&&K.classList.add(r.DIM_CLASS),P.isUnderline()&&K.classList.add(r.UNDERLINE_CLASS),P.isInvisible()?K.textContent=p.WHITESPACE_CELL_CHAR:K.textContent=P.getChars()||p.WHITESPACE_CELL_CHAR,P.isStrikethrough()&&K.classList.add(r.STRIKETHROUGH_CLASS);var G=P.getFgColor(),Q=P.getFgColorMode(),ee=P.getBgColor(),re=P.getBgColorMode(),R=!!P.isInverse();if(R){var W=G;G=ee,ee=W;var I=Q;Q=re,re=I}switch(Q){case 16777216:case 33554432:P.isBold()&&G<8&&this._optionsService.options.drawBoldTextInBrightColors&&(G+=8),this._applyMinimumContrast(K,this._colors.background,this._colors.ansi[G])||K.classList.add("xterm-fg-"+G);break;case 50331648:var q=o.rgba.toColor(G>>16&255,G>>8&255,255&G);this._applyMinimumContrast(K,this._colors.background,q)||this._addStyle(K,"color:#"+i(G.toString(16),"0",6));break;default:this._applyMinimumContrast(K,this._colors.background,this._colors.foreground)||R&&K.classList.add("xterm-fg-"+f.INVERTED_DEFAULT_COLOR)}switch(re){case 16777216:case 33554432:K.classList.add("xterm-bg-"+ee);break;case 50331648:this._addStyle(K,"background-color:#"+i(ee.toString(16),"0",6));break;default:R&&K.classList.add("xterm-bg-"+f.INVERTED_DEFAULT_COLOR)}E.appendChild(K),U=O}}return E},e.prototype._applyMinimumContrast=function(t,h,d){if(this._optionsService.options.minimumContrastRatio===1)return!1;var m=this._colors.contrastCache.getColor(this._workCell.bg,this._workCell.fg);return m===void 0&&(m=o.color.ensureContrastRatio(h,d,this._optionsService.options.minimumContrastRatio),this._colors.contrastCache.setColor(this._workCell.bg,this._workCell.fg,m!=null?m:null)),!!m&&(this._addStyle(t,"color:"+m.css),!0)},e.prototype._addStyle=function(t,h){t.setAttribute("style",""+(t.getAttribute("style")||"")+h+";")},s([l(2,a.ICharacterJoinerService),l(3,y.IOptionsService),l(4,y.ICoreService)],e)}();function i(e,t,h){for(;e.length<h;)e=t+e;return e}r.DomRendererRowFactory=u},456:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SelectionModel=void 0;var _=function(){function s(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}return s.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(s.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"finalSelectionEnd",{get:function(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){var l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]}return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd}},enumerable:!1,configurable:!0}),s.prototype.areSelectionValuesReversed=function(){var l=this.selectionStart,f=this.selectionEnd;return!(!l||!f)&&(l[1]>f[1]||l[1]===f[1]&&l[0]>f[0])},s.prototype.onTrim=function(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},s}();r.SelectionModel=_},428:function(x,r,_){var s=this&&this.__decorate||function(o,a,g,u){var i,e=arguments.length,t=e<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,g):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(o,a,g,u);else for(var h=o.length-1;h>=0;h--)(i=o[h])&&(t=(e<3?i(t):e>3?i(a,g,t):i(a,g))||t);return e>3&&t&&Object.defineProperty(a,g,t),t},l=this&&this.__param||function(o,a){return function(g,u){a(g,u,o)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharSizeService=void 0;var f=_(2585),p=_(8460),b=function(){function o(a,g,u){this._optionsService=u,this.width=0,this.height=0,this._onCharSizeChange=new p.EventEmitter,this._measureStrategy=new y(a,g,this._optionsService)}return Object.defineProperty(o.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),o.prototype.measure=function(){var a=this._measureStrategy.measure();a.width===this.width&&a.height===this.height||(this.width=a.width,this.height=a.height,this._onCharSizeChange.fire())},s([l(2,f.IOptionsService)],o)}();r.CharSizeService=b;var y=function(){function o(a,g,u){this._document=a,this._parentElement=g,this._optionsService=u,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return o.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.options.fontFamily,this._measureElement.style.fontSize=this._optionsService.options.fontSize+"px";var a=this._measureElement.getBoundingClientRect();return a.width!==0&&a.height!==0&&(this._result.width=a.width,this._result.height=Math.ceil(a.height)),this._result},o}()},4269:function(x,r,_){var s,l=this&&this.__extends||(s=function(i,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,h){t.__proto__=h}||function(t,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(t[d]=h[d])},s(i,e)},function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=i}s(i,e),i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}),f=this&&this.__decorate||function(i,e,t,h){var d,m=arguments.length,S=m<3?e:h===null?h=Object.getOwnPropertyDescriptor(e,t):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(i,e,t,h);else for(var L=i.length-1;L>=0;L--)(d=i[L])&&(S=(m<3?d(S):m>3?d(e,t,S):d(e,t))||S);return m>3&&S&&Object.defineProperty(e,t,S),S},p=this&&this.__param||function(i,e){return function(t,h){e(t,h,i)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterJoinerService=r.JoinedCellData=void 0;var b=_(3734),y=_(643),o=_(511),a=_(2585),g=function(i){function e(t,h,d){var m=i.call(this)||this;return m.content=0,m.combinedData="",m.fg=t.fg,m.bg=t.bg,m.combinedData=h,m._width=d,m}return l(e,i),e.prototype.isCombined=function(){return 2097152},e.prototype.getWidth=function(){return this._width},e.prototype.getChars=function(){return this.combinedData},e.prototype.getCode=function(){return 2097151},e.prototype.setFromCharData=function(t){throw new Error("not implemented")},e.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},e}(b.AttributeData);r.JoinedCellData=g;var u=function(){function i(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new o.CellData}return i.prototype.register=function(e){var t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id},i.prototype.deregister=function(e){for(var t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1},i.prototype.getJoinedCharacters=function(e){if(this._characterJoiners.length===0)return[];var t=this._bufferService.buffer.lines.get(e);if(!t||t.length===0)return[];for(var h=[],d=t.translateToString(!0),m=0,S=0,L=0,A=t.getFg(0),w=t.getBg(0),E=0;E<t.getTrimmedLength();E++)if(t.loadCell(E,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==A||this._workCell.bg!==w){if(E-m>1)for(var B=this._getJoinedRanges(d,L,S,t,m),T=0;T<B.length;T++)h.push(B[T]);m=E,L=S,A=this._workCell.fg,w=this._workCell.bg}S+=this._workCell.getChars().length||y.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-m>1)for(B=this._getJoinedRanges(d,L,S,t,m),T=0;T<B.length;T++)h.push(B[T]);return h},i.prototype._getJoinedRanges=function(e,t,h,d,m){var S=e.substring(t,h),L=[];try{L=this._characterJoiners[0].handler(S)}catch(B){console.error(B)}for(var A=1;A<this._characterJoiners.length;A++)try{for(var w=this._characterJoiners[A].handler(S),E=0;E<w.length;E++)i._mergeRanges(L,w[E])}catch(B){console.error(B)}return this._stringRangesToCellRanges(L,d,m),L},i.prototype._stringRangesToCellRanges=function(e,t,h){var d=0,m=!1,S=0,L=e[d];if(L){for(var A=h;A<this._bufferService.cols;A++){var w=t.getWidth(A),E=t.getString(A).length||y.WHITESPACE_CELL_CHAR.length;if(w!==0){if(!m&&L[0]<=S&&(L[0]=A,m=!0),L[1]<=S){if(L[1]=A,!(L=e[++d]))break;L[0]<=S?(L[0]=A,m=!0):m=!1}S+=E}}L&&(L[1]=this._bufferService.cols)}},i._mergeRanges=function(e,t){for(var h=!1,d=0;d<e.length;d++){var m=e[d];if(h){if(t[1]<=m[0])return e[d-1][1]=t[1],e;if(t[1]<=m[1])return e[d-1][1]=Math.max(t[1],m[1]),e.splice(d,1),e;e.splice(d,1),d--}else{if(t[1]<=m[0])return e.splice(d,0,t),e;if(t[1]<=m[1])return m[0]=Math.min(t[0],m[0]),e;t[0]<m[1]&&(m[0]=Math.min(t[0],m[0]),h=!0)}}return h?e[e.length-1][1]=t[1]:e.push(t),e},i=f([p(0,a.IBufferService)],i)}();r.CharacterJoinerService=u},5114:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CoreBrowserService=void 0;var _=function(){function s(l){this._textarea=l}return Object.defineProperty(s.prototype,"isFocused",{get:function(){return(this._textarea.getRootNode?this._textarea.getRootNode():document).activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),s}();r.CoreBrowserService=_},8934:function(x,r,_){var s=this&&this.__decorate||function(y,o,a,g){var u,i=arguments.length,e=i<3?o:g===null?g=Object.getOwnPropertyDescriptor(o,a):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")e=Reflect.decorate(y,o,a,g);else for(var t=y.length-1;t>=0;t--)(u=y[t])&&(e=(i<3?u(e):i>3?u(o,a,e):u(o,a))||e);return i>3&&e&&Object.defineProperty(o,a,e),e},l=this&&this.__param||function(y,o){return function(a,g){o(a,g,y)}};Object.defineProperty(r,"__esModule",{value:!0}),r.MouseService=void 0;var f=_(4725),p=_(9806),b=function(){function y(o,a){this._renderService=o,this._charSizeService=a}return y.prototype.getCoords=function(o,a,g,u,i){return(0,p.getCoords)(o,a,g,u,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,i)},y.prototype.getRawByteCoords=function(o,a,g,u){var i=this.getCoords(o,a,g,u);return(0,p.getRawByteCoords)(i)},s([l(0,f.IRenderService),l(1,f.ICharSizeService)],y)}();r.MouseService=b},3230:function(x,r,_){var s,l=this&&this.__extends||(s=function(t,h){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var S in m)Object.prototype.hasOwnProperty.call(m,S)&&(d[S]=m[S])},s(t,h)},function(t,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function d(){this.constructor=t}s(t,h),t.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}),f=this&&this.__decorate||function(t,h,d,m){var S,L=arguments.length,A=L<3?h:m===null?m=Object.getOwnPropertyDescriptor(h,d):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(t,h,d,m);else for(var w=t.length-1;w>=0;w--)(S=t[w])&&(A=(L<3?S(A):L>3?S(h,d,A):S(h,d))||A);return L>3&&A&&Object.defineProperty(h,d,A),A},p=this&&this.__param||function(t,h){return function(d,m){h(d,m,t)}};Object.defineProperty(r,"__esModule",{value:!0}),r.RenderService=void 0;var b=_(6193),y=_(8460),o=_(844),a=_(5596),g=_(3656),u=_(2585),i=_(4725),e=function(t){function h(d,m,S,L,A,w){var E=t.call(this)||this;if(E._renderer=d,E._rowCount=m,E._charSizeService=A,E._isPaused=!1,E._needsFullRefresh=!1,E._isNextRenderRedrawOnly=!0,E._needsSelectionRefresh=!1,E._canvasWidth=0,E._canvasHeight=0,E._selectionState={start:void 0,end:void 0,columnSelectMode:!1},E._onDimensionsChange=new y.EventEmitter,E._onRender=new y.EventEmitter,E._onRefreshRequest=new y.EventEmitter,E.register({dispose:function(){return E._renderer.dispose()}}),E._renderDebouncer=new b.RenderDebouncer(function(T,U){return E._renderRows(T,U)}),E.register(E._renderDebouncer),E._screenDprMonitor=new a.ScreenDprMonitor,E._screenDprMonitor.setListener(function(){return E.onDevicePixelRatioChange()}),E.register(E._screenDprMonitor),E.register(w.onResize(function(T){return E._fullRefresh()})),E.register(L.onOptionChange(function(){return E._renderer.onOptionsChanged()})),E.register(E._charSizeService.onCharSizeChange(function(){return E.onCharSizeChanged()})),E._renderer.onRequestRedraw(function(T){return E.refreshRows(T.start,T.end,!0)}),E.register((0,g.addDisposableDomListener)(window,"resize",function(){return E.onDevicePixelRatioChange()})),"IntersectionObserver"in window){var B=new IntersectionObserver(function(T){return E._onIntersectionChange(T[T.length-1])},{threshold:0});B.observe(S),E.register({dispose:function(){return B.disconnect()}})}return E}return l(h,t),Object.defineProperty(h.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onRenderedBufferChange",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),h.prototype._onIntersectionChange=function(d){this._isPaused=d.isIntersecting===void 0?d.intersectionRatio===0:!d.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},h.prototype.refreshRows=function(d,m,S){S===void 0&&(S=!1),this._isPaused?this._needsFullRefresh=!0:(S||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(d,m,this._rowCount))},h.prototype._renderRows=function(d,m){this._renderer.renderRows(d,m),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRender.fire({start:d,end:m}),this._isNextRenderRedrawOnly=!0},h.prototype.resize=function(d,m){this._rowCount=m,this._fireOnCanvasResize()},h.prototype.changeOptions=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},h.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},h.prototype.dispose=function(){t.prototype.dispose.call(this)},h.prototype.setRenderer=function(d){var m=this;this._renderer.dispose(),this._renderer=d,this._renderer.onRequestRedraw(function(S){return m.refreshRows(S.start,S.end,!0)}),this._needsSelectionRefresh=!0,this._fullRefresh()},h.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},h.prototype.clearTextureAtlas=function(){var d,m;(m=(d=this._renderer)===null||d===void 0?void 0:d.clearTextureAtlas)===null||m===void 0||m.call(d),this._fullRefresh()},h.prototype.setColors=function(d){this._renderer.setColors(d),this._fullRefresh()},h.prototype.onDevicePixelRatioChange=function(){this._charSizeService.measure(),this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},h.prototype.onResize=function(d,m){this._renderer.onResize(d,m),this._fullRefresh()},h.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},h.prototype.onBlur=function(){this._renderer.onBlur()},h.prototype.onFocus=function(){this._renderer.onFocus()},h.prototype.onSelectionChanged=function(d,m,S){this._selectionState.start=d,this._selectionState.end=m,this._selectionState.columnSelectMode=S,this._renderer.onSelectionChanged(d,m,S)},h.prototype.onCursorMove=function(){this._renderer.onCursorMove()},h.prototype.clear=function(){this._renderer.clear()},f([p(3,u.IOptionsService),p(4,i.ICharSizeService),p(5,u.IBufferService)],h)}(o.Disposable);r.RenderService=e},9312:function(x,r,_){var s,l=this&&this.__extends||(s=function(L,A){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var B in E)Object.prototype.hasOwnProperty.call(E,B)&&(w[B]=E[B])},s(L,A)},function(L,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function w(){this.constructor=L}s(L,A),L.prototype=A===null?Object.create(A):(w.prototype=A.prototype,new w)}),f=this&&this.__decorate||function(L,A,w,E){var B,T=arguments.length,U=T<3?A:E===null?E=Object.getOwnPropertyDescriptor(A,w):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(L,A,w,E);else for(var H=L.length-1;H>=0;H--)(B=L[H])&&(U=(T<3?B(U):T>3?B(A,w,U):B(A,w))||U);return T>3&&U&&Object.defineProperty(A,w,U),U},p=this&&this.__param||function(L,A){return function(w,E){A(w,E,L)}};Object.defineProperty(r,"__esModule",{value:!0}),r.SelectionService=void 0;var b=_(6114),y=_(456),o=_(511),a=_(8460),g=_(4725),u=_(2585),i=_(9806),e=_(9504),t=_(844),h=_(4841),d=String.fromCharCode(160),m=new RegExp(d,"g"),S=function(L){function A(w,E,B,T,U,H,k,O){var P=L.call(this)||this;return P._element=w,P._screenElement=E,P._linkifier=B,P._bufferService=T,P._coreService=U,P._mouseService=H,P._optionsService=k,P._renderService=O,P._dragScrollAmount=0,P._enabled=!0,P._workCell=new o.CellData,P._mouseDownTimeStamp=0,P._oldHasSelection=!1,P._oldSelectionStart=void 0,P._oldSelectionEnd=void 0,P._onLinuxMouseSelection=P.register(new a.EventEmitter),P._onRedrawRequest=P.register(new a.EventEmitter),P._onSelectionChange=P.register(new a.EventEmitter),P._onRequestScrollLines=P.register(new a.EventEmitter),P._mouseMoveListener=function(F){return P._onMouseMove(F)},P._mouseUpListener=function(F){return P._onMouseUp(F)},P._coreService.onUserInput(function(){P.hasSelection&&P.clearSelection()}),P._trimListener=P._bufferService.buffer.lines.onTrim(function(F){return P._onTrim(F)}),P.register(P._bufferService.buffers.onBufferActivate(function(F){return P._onBufferActivate(F)})),P.enable(),P._model=new y.SelectionModel(P._bufferService),P._activeSelectionMode=0,P}return l(A,L),Object.defineProperty(A.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),A.prototype.dispose=function(){this._removeMouseDownListeners()},A.prototype.reset=function(){this.clearSelection()},A.prototype.disable=function(){this.clearSelection(),this._enabled=!1},A.prototype.enable=function(){this._enabled=!0},Object.defineProperty(A.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"hasSelection",{get:function(){var w=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;return!(!w||!E||w[0]===E[0]&&w[1]===E[1])},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"selectionText",{get:function(){var w=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;if(!w||!E)return"";var B=this._bufferService.buffer,T=[];if(this._activeSelectionMode===3){if(w[0]===E[0])return"";for(var U=w[1];U<=E[1];U++){var H=B.translateBufferLineToString(U,!0,w[0],E[0]);T.push(H)}}else{var k=w[1]===E[1]?E[0]:void 0;for(T.push(B.translateBufferLineToString(w[1],!0,w[0],k)),U=w[1]+1;U<=E[1]-1;U++){var O=B.lines.get(U);H=B.translateBufferLineToString(U,!0),(O==null?void 0:O.isWrapped)?T[T.length-1]+=H:T.push(H)}w[1]!==E[1]&&(O=B.lines.get(E[1]),H=B.translateBufferLineToString(E[1],!0,0,E[0]),O&&O.isWrapped?T[T.length-1]+=H:T.push(H))}return T.map(function(P){return P.replace(m," ")}).join(b.isWindows?`\r
`:`
`)},enumerable:!1,configurable:!0}),A.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},A.prototype.refresh=function(w){var E=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return E._refresh()})),b.isLinux&&w&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},A.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})},A.prototype._isClickInSelection=function(w){var E=this._getMouseBufferCoords(w),B=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!!(B&&T&&E)&&this._areCoordsInSelection(E,B,T)},A.prototype._areCoordsInSelection=function(w,E,B){return w[1]>E[1]&&w[1]<B[1]||E[1]===B[1]&&w[1]===E[1]&&w[0]>=E[0]&&w[0]<B[0]||E[1]<B[1]&&w[1]===B[1]&&w[0]<B[0]||E[1]<B[1]&&w[1]===E[1]&&w[0]>=E[0]},A.prototype._selectWordAtCursor=function(w,E){var B,T,U=(T=(B=this._linkifier.currentLink)===null||B===void 0?void 0:B.link)===null||T===void 0?void 0:T.range;if(U)return this._model.selectionStart=[U.start.x-1,U.start.y-1],this._model.selectionStartLength=(0,h.getRangeLength)(U,this._bufferService.cols),this._model.selectionEnd=void 0,!0;var H=this._getMouseBufferCoords(w);return!!H&&(this._selectWordAt(H,E),this._model.selectionEnd=void 0,!0)},A.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},A.prototype.selectLines=function(w,E){this._model.clearSelection(),w=Math.max(w,0),E=Math.min(E,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,w],this._model.selectionEnd=[this._bufferService.cols,E],this.refresh(),this._onSelectionChange.fire()},A.prototype._onTrim=function(w){this._model.onTrim(w)&&this.refresh()},A.prototype._getMouseBufferCoords=function(w){var E=this._mouseService.getCoords(w,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(E)return E[0]--,E[1]--,E[1]+=this._bufferService.buffer.ydisp,E},A.prototype._getMouseEventScrollAmount=function(w){var E=(0,i.getCoordsRelativeToElement)(w,this._screenElement)[1],B=this._renderService.dimensions.canvasHeight;return E>=0&&E<=B?0:(E>B&&(E-=B),E=Math.min(Math.max(E,-50),50),(E/=50)/Math.abs(E)+Math.round(14*E))},A.prototype.shouldForceSelection=function(w){return b.isMac?w.altKey&&this._optionsService.options.macOptionClickForcesSelection:w.shiftKey},A.prototype.onMouseDown=function(w){if(this._mouseDownTimeStamp=w.timeStamp,(w.button!==2||!this.hasSelection)&&w.button===0){if(!this._enabled){if(!this.shouldForceSelection(w))return;w.stopPropagation()}w.preventDefault(),this._dragScrollAmount=0,this._enabled&&w.shiftKey?this._onIncrementalClick(w):w.detail===1?this._onSingleClick(w):w.detail===2?this._onDoubleClick(w):w.detail===3&&this._onTripleClick(w),this._addMouseDownListeners(),this.refresh(!0)}},A.prototype._addMouseDownListeners=function(){var w=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval(function(){return w._dragScroll()},50)},A.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},A.prototype._onIncrementalClick=function(w){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(w))},A.prototype._onSingleClick=function(w){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(w)?3:0,this._model.selectionStart=this._getMouseBufferCoords(w),this._model.selectionStart){this._model.selectionEnd=void 0;var E=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);E&&E.length!==this._model.selectionStart[0]&&E.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}},A.prototype._onDoubleClick=function(w){this._selectWordAtCursor(w,!0)&&(this._activeSelectionMode=1)},A.prototype._onTripleClick=function(w){var E=this._getMouseBufferCoords(w);E&&(this._activeSelectionMode=2,this._selectLineAt(E[1]))},A.prototype.shouldColumnSelect=function(w){return w.altKey&&!(b.isMac&&this._optionsService.options.macOptionClickForcesSelection)},A.prototype._onMouseMove=function(w){if(w.stopImmediatePropagation(),this._model.selectionStart){var E=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(w),this._model.selectionEnd){this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(w),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var B=this._bufferService.buffer;if(this._model.selectionEnd[1]<B.lines.length){var T=B.lines.get(this._model.selectionEnd[1]);T&&T.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}E&&E[0]===this._model.selectionEnd[0]&&E[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},A.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var w=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(w.ydisp+this._bufferService.rows,w.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=w.ydisp),this.refresh()}},A.prototype._onMouseUp=function(w){var E=w.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&E<500&&w.altKey&&this._optionsService.getOption("altClickMovesCursor")){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var B=this._mouseService.getCoords(w,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(B&&B[0]!==void 0&&B[1]!==void 0){var T=(0,e.moveToCellSequence)(B[0]-1,B[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(T,!0)}}}else this._fireEventIfSelectionChanged()},A.prototype._fireEventIfSelectionChanged=function(){var w=this._model.finalSelectionStart,E=this._model.finalSelectionEnd,B=!(!w||!E||w[0]===E[0]&&w[1]===E[1]);B?w&&E&&(this._oldSelectionStart&&this._oldSelectionEnd&&w[0]===this._oldSelectionStart[0]&&w[1]===this._oldSelectionStart[1]&&E[0]===this._oldSelectionEnd[0]&&E[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(w,E,B)):this._oldHasSelection&&this._fireOnSelectionChange(w,E,B)},A.prototype._fireOnSelectionChange=function(w,E,B){this._oldSelectionStart=w,this._oldSelectionEnd=E,this._oldHasSelection=B,this._onSelectionChange.fire()},A.prototype._onBufferActivate=function(w){var E=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=w.activeBuffer.lines.onTrim(function(B){return E._onTrim(B)})},A.prototype._convertViewportColToCharacterIndex=function(w,E){for(var B=E[0],T=0;E[0]>=T;T++){var U=w.loadCell(T,this._workCell).getChars().length;this._workCell.getWidth()===0?B--:U>1&&E[0]!==T&&(B+=U-1)}return B},A.prototype.setSelection=function(w,E,B){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[w,E],this._model.selectionStartLength=B,this.refresh()},A.prototype.rightClickSelect=function(w){this._isClickInSelection(w)||(this._selectWordAtCursor(w,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())},A.prototype._getWordAt=function(w,E,B,T){if(B===void 0&&(B=!0),T===void 0&&(T=!0),!(w[0]>=this._bufferService.cols)){var U=this._bufferService.buffer,H=U.lines.get(w[1]);if(H){var k=U.translateBufferLineToString(w[1],!1),O=this._convertViewportColToCharacterIndex(H,w),P=O,F=w[0]-O,K=0,G=0,Q=0,ee=0;if(k.charAt(O)===" "){for(;O>0&&k.charAt(O-1)===" ";)O--;for(;P<k.length&&k.charAt(P+1)===" ";)P++}else{var re=w[0],R=w[0];H.getWidth(re)===0&&(K++,re--),H.getWidth(R)===2&&(G++,R++);var W=H.getString(R).length;for(W>1&&(ee+=W-1,P+=W-1);re>0&&O>0&&!this._isCharWordSeparator(H.loadCell(re-1,this._workCell));){H.loadCell(re-1,this._workCell);var I=this._workCell.getChars().length;this._workCell.getWidth()===0?(K++,re--):I>1&&(Q+=I-1,O-=I-1),O--,re--}for(;R<H.length&&P+1<k.length&&!this._isCharWordSeparator(H.loadCell(R+1,this._workCell));){H.loadCell(R+1,this._workCell);var q=this._workCell.getChars().length;this._workCell.getWidth()===2?(G++,R++):q>1&&(ee+=q-1,P+=q-1),P++,R++}}P++;var j=O+F-K+Q,J=Math.min(this._bufferService.cols,P-O+K+G-Q-ee);if(E||k.slice(O,P).trim()!==""){if(B&&j===0&&H.getCodePoint(0)!==32){var Z=U.lines.get(w[1]-1);if(Z&&H.isWrapped&&Z.getCodePoint(this._bufferService.cols-1)!==32){var oe=this._getWordAt([this._bufferService.cols-1,w[1]-1],!1,!0,!1);if(oe){var le=this._bufferService.cols-oe.start;j-=le,J+=le}}}if(T&&j+J===this._bufferService.cols&&H.getCodePoint(this._bufferService.cols-1)!==32){var ae=U.lines.get(w[1]+1);if((ae==null?void 0:ae.isWrapped)&&ae.getCodePoint(0)!==32){var X=this._getWordAt([0,w[1]+1],!1,!1,!0);X&&(J+=X.length)}}return{start:j,length:J}}}}},A.prototype._selectWordAt=function(w,E){var B=this._getWordAt(w,E);if(B){for(;B.start<0;)B.start+=this._bufferService.cols,w[1]--;this._model.selectionStart=[B.start,w[1]],this._model.selectionStartLength=B.length}},A.prototype._selectToWordAt=function(w){var E=this._getWordAt(w,!0);if(E){for(var B=w[1];E.start<0;)E.start+=this._bufferService.cols,B--;if(!this._model.areSelectionValuesReversed())for(;E.start+E.length>this._bufferService.cols;)E.length-=this._bufferService.cols,B++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?E.start:E.start+E.length,B]}},A.prototype._isCharWordSeparator=function(w){return w.getWidth()!==0&&this._optionsService.options.wordSeparator.indexOf(w.getChars())>=0},A.prototype._selectLineAt=function(w){var E=this._bufferService.buffer.getWrappedRangeForLine(w);this._model.selectionStart=[0,E.first],this._model.selectionEnd=[this._bufferService.cols,E.last],this._model.selectionStartLength=0},f([p(3,u.IBufferService),p(4,u.ICoreService),p(5,g.IMouseService),p(6,u.IOptionsService),p(7,g.IRenderService)],A)}(t.Disposable);r.SelectionService=S},4725:(x,r,_)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ICharacterJoinerService=r.ISoundService=r.ISelectionService=r.IRenderService=r.IMouseService=r.ICoreBrowserService=r.ICharSizeService=void 0;var s=_(8343);r.ICharSizeService=(0,s.createDecorator)("CharSizeService"),r.ICoreBrowserService=(0,s.createDecorator)("CoreBrowserService"),r.IMouseService=(0,s.createDecorator)("MouseService"),r.IRenderService=(0,s.createDecorator)("RenderService"),r.ISelectionService=(0,s.createDecorator)("SelectionService"),r.ISoundService=(0,s.createDecorator)("SoundService"),r.ICharacterJoinerService=(0,s.createDecorator)("CharacterJoinerService")},357:function(x,r,_){var s=this&&this.__decorate||function(b,y,o,a){var g,u=arguments.length,i=u<3?y:a===null?a=Object.getOwnPropertyDescriptor(y,o):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(b,y,o,a);else for(var e=b.length-1;e>=0;e--)(g=b[e])&&(i=(u<3?g(i):u>3?g(y,o,i):g(y,o))||i);return u>3&&i&&Object.defineProperty(y,o,i),i},l=this&&this.__param||function(b,y){return function(o,a){y(o,a,b)}};Object.defineProperty(r,"__esModule",{value:!0}),r.SoundService=void 0;var f=_(2585),p=function(){function b(y){this._optionsService=y}return Object.defineProperty(b,"audioContext",{get:function(){if(!b._audioContext){var y=window.AudioContext||window.webkitAudioContext;if(!y)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;b._audioContext=new y}return b._audioContext},enumerable:!1,configurable:!0}),b.prototype.playBellSound=function(){var y=b.audioContext;if(y){var o=y.createBufferSource();y.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.options.bellSound)),function(a){o.buffer=a,o.connect(y.destination),o.start(0)})}},b.prototype._base64ToArrayBuffer=function(y){for(var o=window.atob(y),a=o.length,g=new Uint8Array(a),u=0;u<a;u++)g[u]=o.charCodeAt(u);return g.buffer},b.prototype._removeMimeType=function(y){return y.split(",")[1]},b=s([l(0,f.IOptionsService)],b)}();r.SoundService=p},6349:(x,r,_)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CircularList=void 0;var s=_(8460),l=function(){function f(p){this._maxLength=p,this.onDeleteEmitter=new s.EventEmitter,this.onInsertEmitter=new s.EventEmitter,this.onTrimEmitter=new s.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(f.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"maxLength",{get:function(){return this._maxLength},set:function(p){if(this._maxLength!==p){for(var b=new Array(p),y=0;y<Math.min(p,this.length);y++)b[y]=this._array[this._getCyclicIndex(y)];this._array=b,this._maxLength=p,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"length",{get:function(){return this._length},set:function(p){if(p>this._length)for(var b=this._length;b<p;b++)this._array[b]=void 0;this._length=p},enumerable:!1,configurable:!0}),f.prototype.get=function(p){return this._array[this._getCyclicIndex(p)]},f.prototype.set=function(p,b){this._array[this._getCyclicIndex(p)]=b},f.prototype.push=function(p){this._array[this._getCyclicIndex(this._length)]=p,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},f.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(f.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),f.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},f.prototype.splice=function(p,b){for(var y=[],o=2;o<arguments.length;o++)y[o-2]=arguments[o];if(b){for(var a=p;a<this._length-b;a++)this._array[this._getCyclicIndex(a)]=this._array[this._getCyclicIndex(a+b)];this._length-=b,this.onDeleteEmitter.fire({index:p,amount:b})}for(a=this._length-1;a>=p;a--)this._array[this._getCyclicIndex(a+y.length)]=this._array[this._getCyclicIndex(a)];for(a=0;a<y.length;a++)this._array[this._getCyclicIndex(p+a)]=y[a];if(y.length&&this.onInsertEmitter.fire({index:p,amount:y.length}),this._length+y.length>this._maxLength){var g=this._length+y.length-this._maxLength;this._startIndex+=g,this._length=this._maxLength,this.onTrimEmitter.fire(g)}else this._length+=y.length},f.prototype.trimStart=function(p){p>this._length&&(p=this._length),this._startIndex+=p,this._length-=p,this.onTrimEmitter.fire(p)},f.prototype.shiftElements=function(p,b,y){if(!(b<=0)){if(p<0||p>=this._length)throw new Error("start argument out of range");if(p+y<0)throw new Error("Cannot shift elements in list beyond index 0");if(y>0){for(var o=b-1;o>=0;o--)this.set(p+o+y,this.get(p+o));var a=p+b+y-this._length;if(a>0)for(this._length+=a;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(o=0;o<b;o++)this.set(p+o+y,this.get(p+o))}},f.prototype._getCyclicIndex=function(p){return(this._startIndex+p)%this._maxLength},f}();r.CircularList=l},1439:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.clone=void 0,r.clone=function _(s,l){if(l===void 0&&(l=5),typeof s!="object")return s;var f=Array.isArray(s)?[]:{};for(var p in s)f[p]=l<=1?s[p]:s[p]&&_(s[p],l-1);return f}},8969:function(x,r,_){var s,l=this&&this.__extends||(s=function(w,E){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,T){B.__proto__=T}||function(B,T){for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&(B[U]=T[U])},s(w,E)},function(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function B(){this.constructor=w}s(w,E),w.prototype=E===null?Object.create(E):(B.prototype=E.prototype,new B)});Object.defineProperty(r,"__esModule",{value:!0}),r.CoreTerminal=void 0;var f=_(844),p=_(2585),b=_(4348),y=_(7866),o=_(744),a=_(7302),g=_(6975),u=_(8460),i=_(1753),e=_(3730),t=_(1480),h=_(7994),d=_(9282),m=_(5435),S=_(5981),L=!1,A=function(w){function E(B){var T=w.call(this)||this;return T._onBinary=new u.EventEmitter,T._onData=new u.EventEmitter,T._onLineFeed=new u.EventEmitter,T._onResize=new u.EventEmitter,T._onScroll=new u.EventEmitter,T._instantiationService=new b.InstantiationService,T.optionsService=new a.OptionsService(B),T._instantiationService.setService(p.IOptionsService,T.optionsService),T._bufferService=T.register(T._instantiationService.createInstance(o.BufferService)),T._instantiationService.setService(p.IBufferService,T._bufferService),T._logService=T._instantiationService.createInstance(y.LogService),T._instantiationService.setService(p.ILogService,T._logService),T.coreService=T.register(T._instantiationService.createInstance(g.CoreService,function(){return T.scrollToBottom()})),T._instantiationService.setService(p.ICoreService,T.coreService),T.coreMouseService=T._instantiationService.createInstance(i.CoreMouseService),T._instantiationService.setService(p.ICoreMouseService,T.coreMouseService),T._dirtyRowService=T._instantiationService.createInstance(e.DirtyRowService),T._instantiationService.setService(p.IDirtyRowService,T._dirtyRowService),T.unicodeService=T._instantiationService.createInstance(t.UnicodeService),T._instantiationService.setService(p.IUnicodeService,T.unicodeService),T._charsetService=T._instantiationService.createInstance(h.CharsetService),T._instantiationService.setService(p.ICharsetService,T._charsetService),T._inputHandler=new m.InputHandler(T._bufferService,T._charsetService,T.coreService,T._dirtyRowService,T._logService,T.optionsService,T.coreMouseService,T.unicodeService),T.register((0,u.forwardEvent)(T._inputHandler.onLineFeed,T._onLineFeed)),T.register(T._inputHandler),T.register((0,u.forwardEvent)(T._bufferService.onResize,T._onResize)),T.register((0,u.forwardEvent)(T.coreService.onData,T._onData)),T.register((0,u.forwardEvent)(T.coreService.onBinary,T._onBinary)),T.register(T.optionsService.onOptionChange(function(U){return T._updateOptions(U)})),T.register(T._bufferService.onScroll(function(U){T._onScroll.fire({position:T._bufferService.buffer.ydisp,source:0}),T._dirtyRowService.markRangeDirty(T._bufferService.buffer.scrollTop,T._bufferService.buffer.scrollBottom)})),T.register(T._inputHandler.onScroll(function(U){T._onScroll.fire({position:T._bufferService.buffer.ydisp,source:0}),T._dirtyRowService.markRangeDirty(T._bufferService.buffer.scrollTop,T._bufferService.buffer.scrollBottom)})),T._writeBuffer=new S.WriteBuffer(function(U,H){return T._inputHandler.parse(U,H)}),T}return l(E,w),Object.defineProperty(E.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onScroll",{get:function(){var B=this;return this._onScrollApi||(this._onScrollApi=new u.EventEmitter,this.register(this._onScroll.event(function(T){var U;(U=B._onScrollApi)===null||U===void 0||U.fire(T.position)}))),this._onScrollApi.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"options",{get:function(){return this.optionsService.options},set:function(B){for(var T in B)this.optionsService.options[T]=B[T]},enumerable:!1,configurable:!0}),E.prototype.dispose=function(){var B;this._isDisposed||(w.prototype.dispose.call(this),(B=this._windowsMode)===null||B===void 0||B.dispose(),this._windowsMode=void 0)},E.prototype.write=function(B,T){this._writeBuffer.write(B,T)},E.prototype.writeSync=function(B,T){this._logService.logLevel<=p.LogLevelEnum.WARN&&!L&&(this._logService.warn("writeSync is unreliable and will be removed soon."),L=!0),this._writeBuffer.writeSync(B,T)},E.prototype.resize=function(B,T){isNaN(B)||isNaN(T)||(B=Math.max(B,o.MINIMUM_COLS),T=Math.max(T,o.MINIMUM_ROWS),this._bufferService.resize(B,T))},E.prototype.scroll=function(B,T){T===void 0&&(T=!1),this._bufferService.scroll(B,T)},E.prototype.scrollLines=function(B,T,U){this._bufferService.scrollLines(B,T,U)},E.prototype.scrollPages=function(B){this._bufferService.scrollPages(B)},E.prototype.scrollToTop=function(){this._bufferService.scrollToTop()},E.prototype.scrollToBottom=function(){this._bufferService.scrollToBottom()},E.prototype.scrollToLine=function(B){this._bufferService.scrollToLine(B)},E.prototype.registerEscHandler=function(B,T){return this._inputHandler.registerEscHandler(B,T)},E.prototype.registerDcsHandler=function(B,T){return this._inputHandler.registerDcsHandler(B,T)},E.prototype.registerCsiHandler=function(B,T){return this._inputHandler.registerCsiHandler(B,T)},E.prototype.registerOscHandler=function(B,T){return this._inputHandler.registerOscHandler(B,T)},E.prototype._setup=function(){this.optionsService.options.windowsMode&&this._enableWindowsMode()},E.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()},E.prototype._updateOptions=function(B){var T;switch(B){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.options.windowsMode?this._enableWindowsMode():((T=this._windowsMode)===null||T===void 0||T.dispose(),this._windowsMode=void 0)}},E.prototype._enableWindowsMode=function(){var B=this;if(!this._windowsMode){var T=[];T.push(this.onLineFeed(d.updateWindowsModeWrappedState.bind(null,this._bufferService))),T.push(this.registerCsiHandler({final:"H"},function(){return(0,d.updateWindowsModeWrappedState)(B._bufferService),!1})),this._windowsMode={dispose:function(){for(var U=0,H=T;U<H.length;U++)H[U].dispose()}}}},E}(f.Disposable);r.CoreTerminal=A},8460:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.forwardEvent=r.EventEmitter=void 0;var _=function(){function s(){this._listeners=[],this._disposed=!1}return Object.defineProperty(s.prototype,"event",{get:function(){var l=this;return this._event||(this._event=function(f){return l._listeners.push(f),{dispose:function(){if(!l._disposed){for(var p=0;p<l._listeners.length;p++)if(l._listeners[p]===f)return void l._listeners.splice(p,1)}}}}),this._event},enumerable:!1,configurable:!0}),s.prototype.fire=function(l,f){for(var p=[],b=0;b<this._listeners.length;b++)p.push(this._listeners[b]);for(b=0;b<p.length;b++)p[b].call(void 0,l,f)},s.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},s}();r.EventEmitter=_,r.forwardEvent=function(s,l){return s(function(f){return l.fire(f)})}},5435:function(x,r,_){var s,l=this&&this.__extends||(s=function(U,H){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,O){k.__proto__=O}||function(k,O){for(var P in O)Object.prototype.hasOwnProperty.call(O,P)&&(k[P]=O[P])},s(U,H)},function(U,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");function k(){this.constructor=U}s(U,H),U.prototype=H===null?Object.create(H):(k.prototype=H.prototype,new k)});Object.defineProperty(r,"__esModule",{value:!0}),r.InputHandler=r.WindowsOptionsReportType=void 0;var f,p=_(2584),b=_(7116),y=_(2015),o=_(844),a=_(8273),g=_(482),u=_(8437),i=_(8460),e=_(643),t=_(511),h=_(3734),d=_(2585),m=_(6242),S=_(6351),L=_(5941),A={"(":0,")":1,"*":2,"+":3,"-":1,".":2},w=131072;function E(U,H){if(U>24)return H.setWinLines||!1;switch(U){case 1:return!!H.restoreWin;case 2:return!!H.minimizeWin;case 3:return!!H.setWinPosition;case 4:return!!H.setWinSizePixels;case 5:return!!H.raiseWin;case 6:return!!H.lowerWin;case 7:return!!H.refreshWin;case 8:return!!H.setWinSizeChars;case 9:return!!H.maximizeWin;case 10:return!!H.fullscreenWin;case 11:return!!H.getWinState;case 13:return!!H.getWinPosition;case 14:return!!H.getWinSizePixels;case 15:return!!H.getScreenSizePixels;case 16:return!!H.getCellSizePixels;case 18:return!!H.getWinSizeChars;case 19:return!!H.getScreenSizeChars;case 20:return!!H.getIconTitle;case 21:return!!H.getWinTitle;case 22:return!!H.pushTitle;case 23:return!!H.popTitle;case 24:return!!H.setWinLines}return!1}(function(U){U[U.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",U[U.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(f=r.WindowsOptionsReportType||(r.WindowsOptionsReportType={}));var B=function(){function U(H,k,O,P){this._bufferService=H,this._coreService=k,this._logService=O,this._optionsService=P,this._data=new Uint32Array(0)}return U.prototype.hook=function(H){this._data=new Uint32Array(0)},U.prototype.put=function(H,k,O){this._data=(0,a.concat)(this._data,H.subarray(k,O))},U.prototype.unhook=function(H){if(!H)return this._data=new Uint32Array(0),!0;var k=(0,g.utf32ToString)(this._data);switch(this._data=new Uint32Array(0),k){case'"q':this._coreService.triggerDataEvent(p.C0.ESC+'P1$r0"q'+p.C0.ESC+"\\");break;case'"p':this._coreService.triggerDataEvent(p.C0.ESC+'P1$r61;1"p'+p.C0.ESC+"\\");break;case"r":var O=this._bufferService.buffer.scrollTop+1+";"+(this._bufferService.buffer.scrollBottom+1)+"r";this._coreService.triggerDataEvent(p.C0.ESC+"P1$r"+O+p.C0.ESC+"\\");break;case"m":this._coreService.triggerDataEvent(p.C0.ESC+"P1$r0m"+p.C0.ESC+"\\");break;case" q":var P={block:2,underline:4,bar:6}[this._optionsService.options.cursorStyle];P-=this._optionsService.options.cursorBlink?1:0,this._coreService.triggerDataEvent(p.C0.ESC+"P1$r"+P+" q"+p.C0.ESC+"\\");break;default:this._logService.debug("Unknown DCS $q %s",k),this._coreService.triggerDataEvent(p.C0.ESC+"P0$r"+p.C0.ESC+"\\")}return!0},U}(),T=function(U){function H(k,O,P,F,K,G,Q,ee,re){re===void 0&&(re=new y.EscapeSequenceParser);var R=U.call(this)||this;R._bufferService=k,R._charsetService=O,R._coreService=P,R._dirtyRowService=F,R._logService=K,R._optionsService=G,R._coreMouseService=Q,R._unicodeService=ee,R._parser=re,R._parseBuffer=new Uint32Array(4096),R._stringDecoder=new g.StringToUtf32,R._utf8Decoder=new g.Utf8ToUtf32,R._workCell=new t.CellData,R._windowTitle="",R._iconName="",R._windowTitleStack=[],R._iconNameStack=[],R._curAttrData=u.DEFAULT_ATTR_DATA.clone(),R._eraseAttrDataInternal=u.DEFAULT_ATTR_DATA.clone(),R._onRequestBell=new i.EventEmitter,R._onRequestRefreshRows=new i.EventEmitter,R._onRequestReset=new i.EventEmitter,R._onRequestSendFocus=new i.EventEmitter,R._onRequestSyncScrollBar=new i.EventEmitter,R._onRequestWindowsOptionsReport=new i.EventEmitter,R._onA11yChar=new i.EventEmitter,R._onA11yTab=new i.EventEmitter,R._onCursorMove=new i.EventEmitter,R._onLineFeed=new i.EventEmitter,R._onScroll=new i.EventEmitter,R._onTitleChange=new i.EventEmitter,R._onColor=new i.EventEmitter,R._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},R._specialColors=[256,257,258],R.register(R._parser),R._activeBuffer=R._bufferService.buffer,R.register(R._bufferService.buffers.onBufferActivate(function(j){return R._activeBuffer=j.activeBuffer})),R._parser.setCsiHandlerFallback(function(j,J){R._logService.debug("Unknown CSI code: ",{identifier:R._parser.identToString(j),params:J.toArray()})}),R._parser.setEscHandlerFallback(function(j){R._logService.debug("Unknown ESC code: ",{identifier:R._parser.identToString(j)})}),R._parser.setExecuteHandlerFallback(function(j){R._logService.debug("Unknown EXECUTE code: ",{code:j})}),R._parser.setOscHandlerFallback(function(j,J,Z){R._logService.debug("Unknown OSC code: ",{identifier:j,action:J,data:Z})}),R._parser.setDcsHandlerFallback(function(j,J,Z){J==="HOOK"&&(Z=Z.toArray()),R._logService.debug("Unknown DCS code: ",{identifier:R._parser.identToString(j),action:J,payload:Z})}),R._parser.setPrintHandler(function(j,J,Z){return R.print(j,J,Z)}),R._parser.registerCsiHandler({final:"@"},function(j){return R.insertChars(j)}),R._parser.registerCsiHandler({intermediates:" ",final:"@"},function(j){return R.scrollLeft(j)}),R._parser.registerCsiHandler({final:"A"},function(j){return R.cursorUp(j)}),R._parser.registerCsiHandler({intermediates:" ",final:"A"},function(j){return R.scrollRight(j)}),R._parser.registerCsiHandler({final:"B"},function(j){return R.cursorDown(j)}),R._parser.registerCsiHandler({final:"C"},function(j){return R.cursorForward(j)}),R._parser.registerCsiHandler({final:"D"},function(j){return R.cursorBackward(j)}),R._parser.registerCsiHandler({final:"E"},function(j){return R.cursorNextLine(j)}),R._parser.registerCsiHandler({final:"F"},function(j){return R.cursorPrecedingLine(j)}),R._parser.registerCsiHandler({final:"G"},function(j){return R.cursorCharAbsolute(j)}),R._parser.registerCsiHandler({final:"H"},function(j){return R.cursorPosition(j)}),R._parser.registerCsiHandler({final:"I"},function(j){return R.cursorForwardTab(j)}),R._parser.registerCsiHandler({final:"J"},function(j){return R.eraseInDisplay(j)}),R._parser.registerCsiHandler({prefix:"?",final:"J"},function(j){return R.eraseInDisplay(j)}),R._parser.registerCsiHandler({final:"K"},function(j){return R.eraseInLine(j)}),R._parser.registerCsiHandler({prefix:"?",final:"K"},function(j){return R.eraseInLine(j)}),R._parser.registerCsiHandler({final:"L"},function(j){return R.insertLines(j)}),R._parser.registerCsiHandler({final:"M"},function(j){return R.deleteLines(j)}),R._parser.registerCsiHandler({final:"P"},function(j){return R.deleteChars(j)}),R._parser.registerCsiHandler({final:"S"},function(j){return R.scrollUp(j)}),R._parser.registerCsiHandler({final:"T"},function(j){return R.scrollDown(j)}),R._parser.registerCsiHandler({final:"X"},function(j){return R.eraseChars(j)}),R._parser.registerCsiHandler({final:"Z"},function(j){return R.cursorBackwardTab(j)}),R._parser.registerCsiHandler({final:"`"},function(j){return R.charPosAbsolute(j)}),R._parser.registerCsiHandler({final:"a"},function(j){return R.hPositionRelative(j)}),R._parser.registerCsiHandler({final:"b"},function(j){return R.repeatPrecedingCharacter(j)}),R._parser.registerCsiHandler({final:"c"},function(j){return R.sendDeviceAttributesPrimary(j)}),R._parser.registerCsiHandler({prefix:">",final:"c"},function(j){return R.sendDeviceAttributesSecondary(j)}),R._parser.registerCsiHandler({final:"d"},function(j){return R.linePosAbsolute(j)}),R._parser.registerCsiHandler({final:"e"},function(j){return R.vPositionRelative(j)}),R._parser.registerCsiHandler({final:"f"},function(j){return R.hVPosition(j)}),R._parser.registerCsiHandler({final:"g"},function(j){return R.tabClear(j)}),R._parser.registerCsiHandler({final:"h"},function(j){return R.setMode(j)}),R._parser.registerCsiHandler({prefix:"?",final:"h"},function(j){return R.setModePrivate(j)}),R._parser.registerCsiHandler({final:"l"},function(j){return R.resetMode(j)}),R._parser.registerCsiHandler({prefix:"?",final:"l"},function(j){return R.resetModePrivate(j)}),R._parser.registerCsiHandler({final:"m"},function(j){return R.charAttributes(j)}),R._parser.registerCsiHandler({final:"n"},function(j){return R.deviceStatus(j)}),R._parser.registerCsiHandler({prefix:"?",final:"n"},function(j){return R.deviceStatusPrivate(j)}),R._parser.registerCsiHandler({intermediates:"!",final:"p"},function(j){return R.softReset(j)}),R._parser.registerCsiHandler({intermediates:" ",final:"q"},function(j){return R.setCursorStyle(j)}),R._parser.registerCsiHandler({final:"r"},function(j){return R.setScrollRegion(j)}),R._parser.registerCsiHandler({final:"s"},function(j){return R.saveCursor(j)}),R._parser.registerCsiHandler({final:"t"},function(j){return R.windowOptions(j)}),R._parser.registerCsiHandler({final:"u"},function(j){return R.restoreCursor(j)}),R._parser.registerCsiHandler({intermediates:"'",final:"}"},function(j){return R.insertColumns(j)}),R._parser.registerCsiHandler({intermediates:"'",final:"~"},function(j){return R.deleteColumns(j)}),R._parser.setExecuteHandler(p.C0.BEL,function(){return R.bell()}),R._parser.setExecuteHandler(p.C0.LF,function(){return R.lineFeed()}),R._parser.setExecuteHandler(p.C0.VT,function(){return R.lineFeed()}),R._parser.setExecuteHandler(p.C0.FF,function(){return R.lineFeed()}),R._parser.setExecuteHandler(p.C0.CR,function(){return R.carriageReturn()}),R._parser.setExecuteHandler(p.C0.BS,function(){return R.backspace()}),R._parser.setExecuteHandler(p.C0.HT,function(){return R.tab()}),R._parser.setExecuteHandler(p.C0.SO,function(){return R.shiftOut()}),R._parser.setExecuteHandler(p.C0.SI,function(){return R.shiftIn()}),R._parser.setExecuteHandler(p.C1.IND,function(){return R.index()}),R._parser.setExecuteHandler(p.C1.NEL,function(){return R.nextLine()}),R._parser.setExecuteHandler(p.C1.HTS,function(){return R.tabSet()}),R._parser.registerOscHandler(0,new m.OscHandler(function(j){return R.setTitle(j),R.setIconName(j),!0})),R._parser.registerOscHandler(1,new m.OscHandler(function(j){return R.setIconName(j)})),R._parser.registerOscHandler(2,new m.OscHandler(function(j){return R.setTitle(j)})),R._parser.registerOscHandler(4,new m.OscHandler(function(j){return R.setOrReportIndexedColor(j)})),R._parser.registerOscHandler(10,new m.OscHandler(function(j){return R.setOrReportFgColor(j)})),R._parser.registerOscHandler(11,new m.OscHandler(function(j){return R.setOrReportBgColor(j)})),R._parser.registerOscHandler(12,new m.OscHandler(function(j){return R.setOrReportCursorColor(j)})),R._parser.registerOscHandler(104,new m.OscHandler(function(j){return R.restoreIndexedColor(j)})),R._parser.registerOscHandler(110,new m.OscHandler(function(j){return R.restoreFgColor(j)})),R._parser.registerOscHandler(111,new m.OscHandler(function(j){return R.restoreBgColor(j)})),R._parser.registerOscHandler(112,new m.OscHandler(function(j){return R.restoreCursorColor(j)})),R._parser.registerEscHandler({final:"7"},function(){return R.saveCursor()}),R._parser.registerEscHandler({final:"8"},function(){return R.restoreCursor()}),R._parser.registerEscHandler({final:"D"},function(){return R.index()}),R._parser.registerEscHandler({final:"E"},function(){return R.nextLine()}),R._parser.registerEscHandler({final:"H"},function(){return R.tabSet()}),R._parser.registerEscHandler({final:"M"},function(){return R.reverseIndex()}),R._parser.registerEscHandler({final:"="},function(){return R.keypadApplicationMode()}),R._parser.registerEscHandler({final:">"},function(){return R.keypadNumericMode()}),R._parser.registerEscHandler({final:"c"},function(){return R.fullReset()}),R._parser.registerEscHandler({final:"n"},function(){return R.setgLevel(2)}),R._parser.registerEscHandler({final:"o"},function(){return R.setgLevel(3)}),R._parser.registerEscHandler({final:"|"},function(){return R.setgLevel(3)}),R._parser.registerEscHandler({final:"}"},function(){return R.setgLevel(2)}),R._parser.registerEscHandler({final:"~"},function(){return R.setgLevel(1)}),R._parser.registerEscHandler({intermediates:"%",final:"@"},function(){return R.selectDefaultCharset()}),R._parser.registerEscHandler({intermediates:"%",final:"G"},function(){return R.selectDefaultCharset()});var W=function(j){I._parser.registerEscHandler({intermediates:"(",final:j},function(){return R.selectCharset("("+j)}),I._parser.registerEscHandler({intermediates:")",final:j},function(){return R.selectCharset(")"+j)}),I._parser.registerEscHandler({intermediates:"*",final:j},function(){return R.selectCharset("*"+j)}),I._parser.registerEscHandler({intermediates:"+",final:j},function(){return R.selectCharset("+"+j)}),I._parser.registerEscHandler({intermediates:"-",final:j},function(){return R.selectCharset("-"+j)}),I._parser.registerEscHandler({intermediates:".",final:j},function(){return R.selectCharset("."+j)}),I._parser.registerEscHandler({intermediates:"/",final:j},function(){return R.selectCharset("/"+j)})},I=this;for(var q in b.CHARSETS)W(q);return R._parser.registerEscHandler({intermediates:"#",final:"8"},function(){return R.screenAlignmentPattern()}),R._parser.setErrorHandler(function(j){return R._logService.error("Parsing error: ",j),j}),R._parser.registerDcsHandler({intermediates:"$",final:"q"},new B(R._bufferService,R._coreService,R._logService,R._optionsService)),R}return l(H,U),Object.defineProperty(H.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onRequestSendFocus",{get:function(){return this._onRequestSendFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onColor",{get:function(){return this._onColor.event},enumerable:!1,configurable:!0}),H.prototype.dispose=function(){U.prototype.dispose.call(this)},H.prototype._preserveStack=function(k,O,P,F){this._parseStack.paused=!0,this._parseStack.cursorStartX=k,this._parseStack.cursorStartY=O,this._parseStack.decodedLength=P,this._parseStack.position=F},H.prototype._logSlowResolvingAsync=function(k){this._logService.logLevel<=d.LogLevelEnum.WARN&&Promise.race([k,new Promise(function(O,P){return setTimeout(function(){return P("#SLOW_TIMEOUT")},5e3)})]).catch(function(O){if(O!=="#SLOW_TIMEOUT")throw O;console.warn("async parser handler taking longer than 5000 ms")})},H.prototype.parse=function(k,O){var P,F=this._activeBuffer.x,K=this._activeBuffer.y,G=0,Q=this._parseStack.paused;if(Q){if(P=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,O))return this._logSlowResolvingAsync(P),P;F=this._parseStack.cursorStartX,K=this._parseStack.cursorStartY,this._parseStack.paused=!1,k.length>w&&(G=this._parseStack.position+w)}if(this._logService.logLevel<=d.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof k=="string"?' "'+k+'"':""),typeof k=="string"?k.split("").map(function(W){return W.charCodeAt(0)}):k),this._parseBuffer.length<k.length&&this._parseBuffer.length<w&&(this._parseBuffer=new Uint32Array(Math.min(k.length,w))),Q||this._dirtyRowService.clearRange(),k.length>w)for(var ee=G;ee<k.length;ee+=w){var re=ee+w<k.length?ee+w:k.length,R=typeof k=="string"?this._stringDecoder.decode(k.substring(ee,re),this._parseBuffer):this._utf8Decoder.decode(k.subarray(ee,re),this._parseBuffer);if(P=this._parser.parse(this._parseBuffer,R))return this._preserveStack(F,K,R,ee),this._logSlowResolvingAsync(P),P}else if(!Q&&(R=typeof k=="string"?this._stringDecoder.decode(k,this._parseBuffer):this._utf8Decoder.decode(k,this._parseBuffer),P=this._parser.parse(this._parseBuffer,R)))return this._preserveStack(F,K,R,0),this._logSlowResolvingAsync(P),P;this._activeBuffer.x===F&&this._activeBuffer.y===K||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},H.prototype.print=function(k,O,P){var F,K,G=this._charsetService.charset,Q=this._optionsService.options.screenReaderMode,ee=this._bufferService.cols,re=this._coreService.decPrivateModes.wraparound,R=this._coreService.modes.insertMode,W=this._curAttrData,I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowService.markDirty(this._activeBuffer.y),this._activeBuffer.x&&P-O>0&&I.getWidth(this._activeBuffer.x-1)===2&&I.setCellFromCodePoint(this._activeBuffer.x-1,0,1,W.fg,W.bg,W.extended);for(var q=O;q<P;++q){if(F=k[q],K=this._unicodeService.wcwidth(F),F<127&&G){var j=G[String.fromCharCode(F)];j&&(F=j.charCodeAt(0))}if(Q&&this._onA11yChar.fire((0,g.stringFromCodePoint)(F)),K||!this._activeBuffer.x){if(this._activeBuffer.x+K-1>=ee){if(re){for(;this._activeBuffer.x<ee;)I.setCellFromCodePoint(this._activeBuffer.x++,0,1,W.fg,W.bg,W.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=ee-1,K===2)continue}if(R&&(I.insertCells(this._activeBuffer.x,K,this._activeBuffer.getNullCell(W),W),I.getWidth(ee-1)===2&&I.setCellFromCodePoint(ee-1,e.NULL_CELL_CODE,e.NULL_CELL_WIDTH,W.fg,W.bg,W.extended)),I.setCellFromCodePoint(this._activeBuffer.x++,F,K,W.fg,W.bg,W.extended),K>0)for(;--K;)I.setCellFromCodePoint(this._activeBuffer.x++,0,0,W.fg,W.bg,W.extended)}else I.getWidth(this._activeBuffer.x-1)?I.addCodepointToCell(this._activeBuffer.x-1,F):I.addCodepointToCell(this._activeBuffer.x-2,F)}P-O>0&&(I.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<ee&&P-O>0&&I.getWidth(this._activeBuffer.x)===0&&!I.hasContent(this._activeBuffer.x)&&I.setCellFromCodePoint(this._activeBuffer.x,0,1,W.fg,W.bg,W.extended),this._dirtyRowService.markDirty(this._activeBuffer.y)},H.prototype.registerCsiHandler=function(k,O){var P=this;return k.final!=="t"||k.prefix||k.intermediates?this._parser.registerCsiHandler(k,O):this._parser.registerCsiHandler(k,function(F){return!E(F.params[0],P._optionsService.options.windowOptions)||O(F)})},H.prototype.registerDcsHandler=function(k,O){return this._parser.registerDcsHandler(k,new S.DcsHandler(O))},H.prototype.registerEscHandler=function(k,O){return this._parser.registerEscHandler(k,O)},H.prototype.registerOscHandler=function(k,O){return this._parser.registerOscHandler(k,new m.OscHandler(O))},H.prototype.bell=function(){return this._onRequestBell.fire(),!0},H.prototype.lineFeed=function(){return this._dirtyRowService.markDirty(this._activeBuffer.y),this._optionsService.options.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowService.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0},H.prototype.carriageReturn=function(){return this._activeBuffer.x=0,!0},H.prototype.backspace=function(){var k;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||k===void 0?void 0:k.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;var O=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);O.hasWidth(this._activeBuffer.x)&&!O.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0},H.prototype.tab=function(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;var k=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.options.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-k),!0},H.prototype.shiftOut=function(){return this._charsetService.setgLevel(1),!0},H.prototype.shiftIn=function(){return this._charsetService.setgLevel(0),!0},H.prototype._restrictCursor=function(k){k===void 0&&(k=this._bufferService.cols-1),this._activeBuffer.x=Math.min(k,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowService.markDirty(this._activeBuffer.y)},H.prototype._setCursor=function(k,O){this._dirtyRowService.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=k,this._activeBuffer.y=this._activeBuffer.scrollTop+O):(this._activeBuffer.x=k,this._activeBuffer.y=O),this._restrictCursor(),this._dirtyRowService.markDirty(this._activeBuffer.y)},H.prototype._moveCursor=function(k,O){this._restrictCursor(),this._setCursor(this._activeBuffer.x+k,this._activeBuffer.y+O)},H.prototype.cursorUp=function(k){var O=this._activeBuffer.y-this._activeBuffer.scrollTop;return O>=0?this._moveCursor(0,-Math.min(O,k.params[0]||1)):this._moveCursor(0,-(k.params[0]||1)),!0},H.prototype.cursorDown=function(k){var O=this._activeBuffer.scrollBottom-this._activeBuffer.y;return O>=0?this._moveCursor(0,Math.min(O,k.params[0]||1)):this._moveCursor(0,k.params[0]||1),!0},H.prototype.cursorForward=function(k){return this._moveCursor(k.params[0]||1,0),!0},H.prototype.cursorBackward=function(k){return this._moveCursor(-(k.params[0]||1),0),!0},H.prototype.cursorNextLine=function(k){return this.cursorDown(k),this._activeBuffer.x=0,!0},H.prototype.cursorPrecedingLine=function(k){return this.cursorUp(k),this._activeBuffer.x=0,!0},H.prototype.cursorCharAbsolute=function(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0},H.prototype.cursorPosition=function(k){return this._setCursor(k.length>=2?(k.params[1]||1)-1:0,(k.params[0]||1)-1),!0},H.prototype.charPosAbsolute=function(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0},H.prototype.hPositionRelative=function(k){return this._moveCursor(k.params[0]||1,0),!0},H.prototype.linePosAbsolute=function(k){return this._setCursor(this._activeBuffer.x,(k.params[0]||1)-1),!0},H.prototype.vPositionRelative=function(k){return this._moveCursor(0,k.params[0]||1),!0},H.prototype.hVPosition=function(k){return this.cursorPosition(k),!0},H.prototype.tabClear=function(k){var O=k.params[0];return O===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:O===3&&(this._activeBuffer.tabs={}),!0},H.prototype.cursorForwardTab=function(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var O=k.params[0]||1;O--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0},H.prototype.cursorBackwardTab=function(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var O=k.params[0]||1;O--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0},H.prototype._eraseInBufferLine=function(k,O,P,F){F===void 0&&(F=!1);var K=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);K.replaceCells(O,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),F&&(K.isWrapped=!1)},H.prototype._resetBufferLine=function(k){var O=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);O.fill(this._activeBuffer.getNullCell(this._eraseAttrData())),O.isWrapped=!1},H.prototype.eraseInDisplay=function(k){var O;switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:for(O=this._activeBuffer.y,this._dirtyRowService.markDirty(O),this._eraseInBufferLine(O++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0);O<this._bufferService.rows;O++)this._resetBufferLine(O);this._dirtyRowService.markDirty(O);break;case 1:for(O=this._activeBuffer.y,this._dirtyRowService.markDirty(O),this._eraseInBufferLine(O,0,this._activeBuffer.x+1,!0),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(O+1).isWrapped=!1);O--;)this._resetBufferLine(O);this._dirtyRowService.markDirty(0);break;case 2:for(O=this._bufferService.rows,this._dirtyRowService.markDirty(O-1);O--;)this._resetBufferLine(O);this._dirtyRowService.markDirty(0);break;case 3:var P=this._activeBuffer.lines.length-this._bufferService.rows;P>0&&(this._activeBuffer.lines.trimStart(P),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-P,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-P,0),this._onScroll.fire(0))}return!0},H.prototype.eraseInLine=function(k){switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0)}return this._dirtyRowService.markDirty(this._activeBuffer.y),!0},H.prototype.insertLines=function(k){this._restrictCursor();var O=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var P=this._activeBuffer.ybase+this._activeBuffer.y,F=this._bufferService.rows-1-this._activeBuffer.scrollBottom,K=this._bufferService.rows-1+this._activeBuffer.ybase-F+1;O--;)this._activeBuffer.lines.splice(K-1,1),this._activeBuffer.lines.splice(P,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},H.prototype.deleteLines=function(k){this._restrictCursor();var O=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;var P,F=this._activeBuffer.ybase+this._activeBuffer.y;for(P=this._bufferService.rows-1-this._activeBuffer.scrollBottom,P=this._bufferService.rows-1+this._activeBuffer.ybase-P;O--;)this._activeBuffer.lines.splice(F,1),this._activeBuffer.lines.splice(P,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},H.prototype.insertChars=function(k){this._restrictCursor();var O=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return O&&(O.insertCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},H.prototype.deleteChars=function(k){this._restrictCursor();var O=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return O&&(O.deleteCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},H.prototype.scrollUp=function(k){for(var O=k.params[0]||1;O--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},H.prototype.scrollDown=function(k){for(var O=k.params[0]||1;O--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(u.DEFAULT_ATTR_DATA));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},H.prototype.scrollLeft=function(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var O=k.params[0]||1,P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){var F=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);F.deleteCells(0,O,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),F.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},H.prototype.scrollRight=function(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var O=k.params[0]||1,P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){var F=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);F.insertCells(0,O,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),F.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},H.prototype.insertColumns=function(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var O=k.params[0]||1,P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){var F=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);F.insertCells(this._activeBuffer.x,O,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),F.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},H.prototype.deleteColumns=function(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var O=k.params[0]||1,P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){var F=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);F.deleteCells(this._activeBuffer.x,O,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),F.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},H.prototype.eraseChars=function(k){this._restrictCursor();var O=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return O&&(O.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(k.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},H.prototype.repeatPrecedingCharacter=function(k){if(!this._parser.precedingCodepoint)return!0;for(var O=k.params[0]||1,P=new Uint32Array(O),F=0;F<O;++F)P[F]=this._parser.precedingCodepoint;return this.print(P,0,P.length),!0},H.prototype.sendDeviceAttributesPrimary=function(k){return k.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(p.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(p.C0.ESC+"[?6c")),!0},H.prototype.sendDeviceAttributesSecondary=function(k){return k.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(p.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(p.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(k.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(p.C0.ESC+"[>83;40003;0c")),!0},H.prototype._is=function(k){return(this._optionsService.options.termName+"").indexOf(k)===0},H.prototype.setMode=function(k){for(var O=0;O<k.length;O++)k.params[O]===4&&(this._coreService.modes.insertMode=!0);return!0},H.prototype.setModePrivate=function(k){for(var O=0;O<k.length;O++)switch(k.params[O]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,b.DEFAULT_CHARSET),this._charsetService.setgCharset(1,b.DEFAULT_CHARSET),this._charsetService.setgCharset(2,b.DEFAULT_CHARSET),this._charsetService.setgCharset(3,b.DEFAULT_CHARSET);break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0},H.prototype.resetMode=function(k){for(var O=0;O<k.length;O++)k.params[O]===4&&(this._coreService.modes.insertMode=!1);return!0},H.prototype.resetModePrivate=function(k){for(var O=0;O<k.length;O++)switch(k.params[O]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),k.params[O]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0},H.prototype._updateAttrColor=function(k,O,P,F,K){return O===2?(k|=50331648,k&=-16777216,k|=h.AttributeData.fromColorRGB([P,F,K])):O===5&&(k&=-50331904,k|=33554432|255&P),k},H.prototype._extractColor=function(k,O,P){var F=[0,0,-1,0,0,0],K=0,G=0;do{if(F[G+K]=k.params[O+G],k.hasSubParams(O+G)){var Q=k.getSubParams(O+G),ee=0;do F[1]===5&&(K=1),F[G+ee+1+K]=Q[ee];while(++ee<Q.length&&ee+G+1+K<F.length);break}if(F[1]===5&&G+K>=2||F[1]===2&&G+K>=5)break;F[1]&&(K=1)}while(++G+O<k.length&&G+K<F.length);for(ee=2;ee<F.length;++ee)F[ee]===-1&&(F[ee]=0);switch(F[0]){case 38:P.fg=this._updateAttrColor(P.fg,F[1],F[3],F[4],F[5]);break;case 48:P.bg=this._updateAttrColor(P.bg,F[1],F[3],F[4],F[5]);break;case 58:P.extended=P.extended.clone(),P.extended.underlineColor=this._updateAttrColor(P.extended.underlineColor,F[1],F[3],F[4],F[5])}return G},H.prototype._processUnderline=function(k,O){O.extended=O.extended.clone(),(!~k||k>5)&&(k=1),O.extended.underlineStyle=k,O.fg|=268435456,k===0&&(O.fg&=-268435457),O.updateExtended()},H.prototype.charAttributes=function(k){if(k.length===1&&k.params[0]===0)return this._curAttrData.fg=u.DEFAULT_ATTR_DATA.fg,this._curAttrData.bg=u.DEFAULT_ATTR_DATA.bg,!0;for(var O,P=k.length,F=this._curAttrData,K=0;K<P;K++)(O=k.params[K])>=30&&O<=37?(F.fg&=-50331904,F.fg|=16777216|O-30):O>=40&&O<=47?(F.bg&=-50331904,F.bg|=16777216|O-40):O>=90&&O<=97?(F.fg&=-50331904,F.fg|=16777224|O-90):O>=100&&O<=107?(F.bg&=-50331904,F.bg|=16777224|O-100):O===0?(F.fg=u.DEFAULT_ATTR_DATA.fg,F.bg=u.DEFAULT_ATTR_DATA.bg):O===1?F.fg|=134217728:O===3?F.bg|=67108864:O===4?(F.fg|=268435456,this._processUnderline(k.hasSubParams(K)?k.getSubParams(K)[0]:1,F)):O===5?F.fg|=536870912:O===7?F.fg|=67108864:O===8?F.fg|=1073741824:O===9?F.fg|=2147483648:O===2?F.bg|=134217728:O===21?this._processUnderline(2,F):O===22?(F.fg&=-134217729,F.bg&=-134217729):O===23?F.bg&=-67108865:O===24?F.fg&=-268435457:O===25?F.fg&=-536870913:O===27?F.fg&=-67108865:O===28?F.fg&=-1073741825:O===29?F.fg&=2147483647:O===39?(F.fg&=-67108864,F.fg|=16777215&u.DEFAULT_ATTR_DATA.fg):O===49?(F.bg&=-67108864,F.bg|=16777215&u.DEFAULT_ATTR_DATA.bg):O===38||O===48||O===58?K+=this._extractColor(k,K,F):O===59?(F.extended=F.extended.clone(),F.extended.underlineColor=-1,F.updateExtended()):O===100?(F.fg&=-67108864,F.fg|=16777215&u.DEFAULT_ATTR_DATA.fg,F.bg&=-67108864,F.bg|=16777215&u.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",O);return!0},H.prototype.deviceStatus=function(k){switch(k.params[0]){case 5:this._coreService.triggerDataEvent(p.C0.ESC+"[0n");break;case 6:var O=this._activeBuffer.y+1,P=this._activeBuffer.x+1;this._coreService.triggerDataEvent(p.C0.ESC+"["+O+";"+P+"R")}return!0},H.prototype.deviceStatusPrivate=function(k){if(k.params[0]===6){var O=this._activeBuffer.y+1,P=this._activeBuffer.x+1;this._coreService.triggerDataEvent(p.C0.ESC+"[?"+O+";"+P+"R")}return!0},H.prototype.softReset=function(k){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0},H.prototype.setCursorStyle=function(k){var O=k.params[0]||1;switch(O){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}var P=O%2==1;return this._optionsService.options.cursorBlink=P,!0},H.prototype.setScrollRegion=function(k){var O,P=k.params[0]||1;return(k.length<2||(O=k.params[1])>this._bufferService.rows||O===0)&&(O=this._bufferService.rows),O>P&&(this._activeBuffer.scrollTop=P-1,this._activeBuffer.scrollBottom=O-1,this._setCursor(0,0)),!0},H.prototype.windowOptions=function(k){if(!E(k.params[0],this._optionsService.options.windowOptions))return!0;var O=k.length>1?k.params[1]:0;switch(k.params[0]){case 14:O!==2&&this._onRequestWindowsOptionsReport.fire(f.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(f.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(p.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:O!==0&&O!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),O!==0&&O!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:O!==0&&O!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),O!==0&&O!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0},H.prototype.saveCursor=function(k){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0},H.prototype.restoreCursor=function(k){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0},H.prototype.setTitle=function(k){return this._windowTitle=k,this._onTitleChange.fire(k),!0},H.prototype.setIconName=function(k){return this._iconName=k,!0},H.prototype.setOrReportIndexedColor=function(k){for(var O=[],P=k.split(";");P.length>1;){var F=P.shift(),K=P.shift();if(/^\d+$/.exec(F)){var G=parseInt(F);if(0<=G&&G<256)if(K==="?")O.push({type:0,index:G});else{var Q=(0,L.parseColor)(K);Q&&O.push({type:1,index:G,color:Q})}}}return O.length&&this._onColor.fire(O),!0},H.prototype._setOrReportSpecialColor=function(k,O){for(var P=k.split(";"),F=0;F<P.length&&!(O>=this._specialColors.length);++F,++O)if(P[F]==="?")this._onColor.fire([{type:0,index:this._specialColors[O]}]);else{var K=(0,L.parseColor)(P[F]);K&&this._onColor.fire([{type:1,index:this._specialColors[O],color:K}])}return!0},H.prototype.setOrReportFgColor=function(k){return this._setOrReportSpecialColor(k,0)},H.prototype.setOrReportBgColor=function(k){return this._setOrReportSpecialColor(k,1)},H.prototype.setOrReportCursorColor=function(k){return this._setOrReportSpecialColor(k,2)},H.prototype.restoreIndexedColor=function(k){if(!k)return this._onColor.fire([{type:2}]),!0;for(var O=[],P=k.split(";"),F=0;F<P.length;++F)if(/^\d+$/.exec(P[F])){var K=parseInt(P[F]);0<=K&&K<256&&O.push({type:2,index:K})}return O.length&&this._onColor.fire(O),!0},H.prototype.restoreFgColor=function(k){return this._onColor.fire([{type:2,index:256}]),!0},H.prototype.restoreBgColor=function(k){return this._onColor.fire([{type:2,index:257}]),!0},H.prototype.restoreCursorColor=function(k){return this._onColor.fire([{type:2,index:258}]),!0},H.prototype.nextLine=function(){return this._activeBuffer.x=0,this.index(),!0},H.prototype.keypadApplicationMode=function(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0},H.prototype.keypadNumericMode=function(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0},H.prototype.selectDefaultCharset=function(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,b.DEFAULT_CHARSET),!0},H.prototype.selectCharset=function(k){return k.length!==2?(this.selectDefaultCharset(),!0):(k[0]==="/"||this._charsetService.setgCharset(A[k[0]],b.CHARSETS[k[1]]||b.DEFAULT_CHARSET),!0)},H.prototype.index=function(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0},H.prototype.tabSet=function(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0},H.prototype.reverseIndex=function(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){var k=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,k,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0},H.prototype.fullReset=function(){return this._parser.reset(),this._onRequestReset.fire(),!0},H.prototype.reset=function(){this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=u.DEFAULT_ATTR_DATA.clone()},H.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},H.prototype.setgLevel=function(k){return this._charsetService.setgLevel(k),!0},H.prototype.screenAlignmentPattern=function(){var k=new t.CellData;k.content=1<<22|"E".charCodeAt(0),k.fg=this._curAttrData.fg,k.bg=this._curAttrData.bg,this._setCursor(0,0);for(var O=0;O<this._bufferService.rows;++O){var P=this._activeBuffer.ybase+this._activeBuffer.y+O,F=this._activeBuffer.lines.get(P);F&&(F.fill(k),F.isWrapped=!1)}return this._dirtyRowService.markAllDirty(),this._setCursor(0,0),!0},H}(o.Disposable);r.InputHandler=T},844:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getDisposeArrayDisposable=r.disposeArray=r.Disposable=void 0;var _=function(){function l(){this._disposables=[],this._isDisposed=!1}return l.prototype.dispose=function(){this._isDisposed=!0;for(var f=0,p=this._disposables;f<p.length;f++)p[f].dispose();this._disposables.length=0},l.prototype.register=function(f){return this._disposables.push(f),f},l.prototype.unregister=function(f){var p=this._disposables.indexOf(f);p!==-1&&this._disposables.splice(p,1)},l}();function s(l){for(var f=0,p=l;f<p.length;f++)p[f].dispose();l.length=0}r.Disposable=_,r.disposeArray=s,r.getDisposeArrayDisposable=function(l){return{dispose:function(){return s(l)}}}},6114:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isLinux=r.isWindows=r.isIphone=r.isIpad=r.isMac=r.isSafari=r.isFirefox=void 0;var _=typeof navigator=="undefined",s=_?"node":navigator.userAgent,l=_?"node":navigator.platform;r.isFirefox=s.includes("Firefox"),r.isSafari=/^((?!chrome|android).)*safari/i.test(s),r.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(l),r.isIpad=l==="iPad",r.isIphone=l==="iPhone",r.isWindows=["Windows","Win16","Win32","WinCE"].includes(l),r.isLinux=l.indexOf("Linux")>=0},8273:(x,r)=>{function _(s,l,f,p){if(f===void 0&&(f=0),p===void 0&&(p=s.length),f>=s.length)return s;f=(s.length+f)%s.length,p=p>=s.length?s.length:(s.length+p)%s.length;for(var b=f;b<p;++b)s[b]=l;return s}Object.defineProperty(r,"__esModule",{value:!0}),r.concat=r.fillFallback=r.fill=void 0,r.fill=function(s,l,f,p){return s.fill?s.fill(l,f,p):_(s,l,f,p)},r.fillFallback=_,r.concat=function(s,l){var f=new s.constructor(s.length+l.length);return f.set(s),f.set(l,s.length),f}},9282:(x,r,_)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.updateWindowsModeWrappedState=void 0;var s=_(643);r.updateWindowsModeWrappedState=function(l){var f=l.buffer.lines.get(l.buffer.ybase+l.buffer.y-1),p=f==null?void 0:f.get(l.cols-1),b=l.buffer.lines.get(l.buffer.ybase+l.buffer.y);b&&p&&(b.isWrapped=p[s.CHAR_DATA_CODE_INDEX]!==s.NULL_CELL_CODE&&p[s.CHAR_DATA_CODE_INDEX]!==s.WHITESPACE_CELL_CODE)}},3734:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ExtendedAttrs=r.AttributeData=void 0;var _=function(){function l(){this.fg=0,this.bg=0,this.extended=new s}return l.toColorRGB=function(f){return[f>>>16&255,f>>>8&255,255&f]},l.fromColorRGB=function(f){return(255&f[0])<<16|(255&f[1])<<8|255&f[2]},l.prototype.clone=function(){var f=new l;return f.fg=this.fg,f.bg=this.bg,f.extended=this.extended.clone(),f},l.prototype.isInverse=function(){return 67108864&this.fg},l.prototype.isBold=function(){return 134217728&this.fg},l.prototype.isUnderline=function(){return 268435456&this.fg},l.prototype.isBlink=function(){return 536870912&this.fg},l.prototype.isInvisible=function(){return 1073741824&this.fg},l.prototype.isItalic=function(){return 67108864&this.bg},l.prototype.isDim=function(){return 134217728&this.bg},l.prototype.isStrikethrough=function(){return 2147483648&this.fg},l.prototype.getFgColorMode=function(){return 50331648&this.fg},l.prototype.getBgColorMode=function(){return 50331648&this.bg},l.prototype.isFgRGB=function(){return(50331648&this.fg)==50331648},l.prototype.isBgRGB=function(){return(50331648&this.bg)==50331648},l.prototype.isFgPalette=function(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432},l.prototype.isBgPalette=function(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432},l.prototype.isFgDefault=function(){return(50331648&this.fg)==0},l.prototype.isBgDefault=function(){return(50331648&this.bg)==0},l.prototype.isAttributeDefault=function(){return this.fg===0&&this.bg===0},l.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},l.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},l.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},l.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},l.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},l.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},l.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()},l.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()},l.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()},l.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},l}();r.AttributeData=_;var s=function(){function l(f,p){f===void 0&&(f=0),p===void 0&&(p=-1),this.underlineStyle=f,this.underlineColor=p}return l.prototype.clone=function(){return new l(this.underlineStyle,this.underlineColor)},l.prototype.isEmpty=function(){return this.underlineStyle===0},l}();r.ExtendedAttrs=s},9092:(x,r,_)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferStringIterator=r.Buffer=r.MAX_BUFFER_SIZE=void 0;var s=_(6349),l=_(8437),f=_(511),p=_(643),b=_(4634),y=_(4863),o=_(7116),a=_(3734);r.MAX_BUFFER_SIZE=4294967295;var g=function(){function i(e,t,h){this._hasScrollback=e,this._optionsService=t,this._bufferService=h,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=l.DEFAULT_ATTR_DATA.clone(),this.savedCharset=o.DEFAULT_CHARSET,this.markers=[],this._nullCell=f.CellData.fromCharData([0,p.NULL_CELL_CHAR,p.NULL_CELL_WIDTH,p.NULL_CELL_CODE]),this._whitespaceCell=f.CellData.fromCharData([0,p.WHITESPACE_CELL_CHAR,p.WHITESPACE_CELL_WIDTH,p.WHITESPACE_CELL_CODE]),this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new s.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return i.prototype.getNullCell=function(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new a.ExtendedAttrs),this._nullCell},i.prototype.getWhitespaceCell=function(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new a.ExtendedAttrs),this._whitespaceCell},i.prototype.getBlankLine=function(e,t){return new l.BufferLine(this._bufferService.cols,this.getNullCell(e),t)},Object.defineProperty(i.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isCursorInViewport",{get:function(){var e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows},enumerable:!1,configurable:!0}),i.prototype._getCorrectBufferLength=function(e){if(!this._hasScrollback)return e;var t=e+this._optionsService.options.scrollback;return t>r.MAX_BUFFER_SIZE?r.MAX_BUFFER_SIZE:t},i.prototype.fillViewportRows=function(e){if(this.lines.length===0){e===void 0&&(e=l.DEFAULT_ATTR_DATA);for(var t=this._rows;t--;)this.lines.push(this.getBlankLine(e))}},i.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new s.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},i.prototype.resize=function(e,t){var h=this.getNullCell(l.DEFAULT_ATTR_DATA),d=this._getCorrectBufferLength(t);if(d>this.lines.maxLength&&(this.lines.maxLength=d),this.lines.length>0){if(this._cols<e)for(var m=0;m<this.lines.length;m++)this.lines.get(m).resize(e,h);var S=0;if(this._rows<t)for(var L=this._rows;L<t;L++)this.lines.length<t+this.ybase&&(this._optionsService.options.windowsMode?this.lines.push(new l.BufferLine(e,h)):this.ybase>0&&this.lines.length<=this.ybase+this.y+S+1?(this.ybase--,S++,this.ydisp>0&&this.ydisp--):this.lines.push(new l.BufferLine(e,h)));else for(L=this._rows;L>t;L--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(d<this.lines.maxLength){var A=this.lines.length-d;A>0&&(this.lines.trimStart(A),this.ybase=Math.max(this.ybase-A,0),this.ydisp=Math.max(this.ydisp-A,0),this.savedY=Math.max(this.savedY-A,0)),this.lines.maxLength=d}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),S&&(this.y+=S),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(m=0;m<this.lines.length;m++)this.lines.get(m).resize(e,h);this._cols=e,this._rows=t},Object.defineProperty(i.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.options.windowsMode},enumerable:!1,configurable:!0}),i.prototype._reflow=function(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))},i.prototype._reflowLarger=function(e,t){var h=(0,b.reflowLargerGetLinesToRemove)(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(l.DEFAULT_ATTR_DATA));if(h.length>0){var d=(0,b.reflowLargerCreateNewLayout)(this.lines,h);(0,b.reflowLargerApplyNewLayout)(this.lines,d.layout),this._reflowLargerAdjustViewport(e,t,d.countRemoved)}},i.prototype._reflowLargerAdjustViewport=function(e,t,h){for(var d=this.getNullCell(l.DEFAULT_ATTR_DATA),m=h;m-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new l.BufferLine(e,d))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-h,0)},i.prototype._reflowSmaller=function(e,t){for(var h=this.getNullCell(l.DEFAULT_ATTR_DATA),d=[],m=0,S=this.lines.length-1;S>=0;S--){var L=this.lines.get(S);if(!(!L||!L.isWrapped&&L.getTrimmedLength()<=e)){for(var A=[L];L.isWrapped&&S>0;)L=this.lines.get(--S),A.unshift(L);var w=this.ybase+this.y;if(!(w>=S&&w<S+A.length)){var E,B=A[A.length-1].getTrimmedLength(),T=(0,b.reflowSmallerGetNewLineLengths)(A,this._cols,e),U=T.length-A.length;E=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+U):Math.max(0,this.lines.length-this.lines.maxLength+U);for(var H=[],k=0;k<U;k++){var O=this.getBlankLine(l.DEFAULT_ATTR_DATA,!0);H.push(O)}H.length>0&&(d.push({start:S+A.length+m,newLines:H}),m+=H.length),A.push.apply(A,H);var P=T.length-1,F=T[P];F===0&&(F=T[--P]);for(var K=A.length-U-1,G=B;K>=0;){var Q=Math.min(G,F);if(A[P].copyCellsFrom(A[K],G-Q,F-Q,Q,!0),(F-=Q)==0&&(F=T[--P]),(G-=Q)==0){K--;var ee=Math.max(K,0);G=(0,b.getWrappedLineTrimmedLength)(A,ee,this._cols)}}for(k=0;k<A.length;k++)T[k]<e&&A[k].setCell(T[k],h);for(var re=U-E;re-- >0;)this.ybase===0?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+m)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+U,this.ybase+t-1)}}}if(d.length>0){var R=[],W=[];for(k=0;k<this.lines.length;k++)W.push(this.lines.get(k));var I=this.lines.length,q=I-1,j=0,J=d[j];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+m);var Z=0;for(k=Math.min(this.lines.maxLength-1,I+m-1);k>=0;k--)if(J&&J.start>q+Z){for(var oe=J.newLines.length-1;oe>=0;oe--)this.lines.set(k--,J.newLines[oe]);k++,R.push({index:q+1,amount:J.newLines.length}),Z+=J.newLines.length,J=d[++j]}else this.lines.set(k,W[q--]);var le=0;for(k=R.length-1;k>=0;k--)R[k].index+=le,this.lines.onInsertEmitter.fire(R[k]),le+=R[k].amount;var ae=Math.max(0,I+m-this.lines.maxLength);ae>0&&this.lines.onTrimEmitter.fire(ae)}},i.prototype.stringIndexToBufferIndex=function(e,t,h){for(h===void 0&&(h=!1);t;){var d=this.lines.get(e);if(!d)return[-1,-1];for(var m=h?d.getTrimmedLength():d.length,S=0;S<m;++S)if(d.get(S)[p.CHAR_DATA_WIDTH_INDEX]&&(t-=d.get(S)[p.CHAR_DATA_CHAR_INDEX].length||1),t<0)return[e,S];e++}return[e,0]},i.prototype.translateBufferLineToString=function(e,t,h,d){h===void 0&&(h=0);var m=this.lines.get(e);return m?m.translateToString(t,h,d):""},i.prototype.getWrappedRangeForLine=function(e){for(var t=e,h=e;t>0&&this.lines.get(t).isWrapped;)t--;for(;h+1<this.lines.length&&this.lines.get(h+1).isWrapped;)h++;return{first:t,last:h}},i.prototype.setupTabStops=function(e){for(e!=null?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.options.tabStopWidth)this.tabs[e]=!0},i.prototype.prevStop=function(e){for(e==null&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e},i.prototype.nextStop=function(e){for(e==null&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e},i.prototype.addMarker=function(e){var t=this,h=new y.Marker(e);return this.markers.push(h),h.register(this.lines.onTrim(function(d){h.line-=d,h.line<0&&h.dispose()})),h.register(this.lines.onInsert(function(d){h.line>=d.index&&(h.line+=d.amount)})),h.register(this.lines.onDelete(function(d){h.line>=d.index&&h.line<d.index+d.amount&&h.dispose(),h.line>d.index&&(h.line-=d.amount)})),h.register(h.onDispose(function(){return t._removeMarker(h)})),h},i.prototype._removeMarker=function(e){this.markers.splice(this.markers.indexOf(e),1)},i.prototype.iterator=function(e,t,h,d,m){return new u(this,e,t,h,d,m)},i}();r.Buffer=g;var u=function(){function i(e,t,h,d,m,S){h===void 0&&(h=0),d===void 0&&(d=e.lines.length),m===void 0&&(m=0),S===void 0&&(S=0),this._buffer=e,this._trimRight=t,this._startIndex=h,this._endIndex=d,this._startOverscan=m,this._endOverscan=S,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return i.prototype.hasNext=function(){return this._current<this._endIndex},i.prototype.next=function(){var e=this._buffer.getWrappedRangeForLine(this._current);e.first<this._startIndex-this._startOverscan&&(e.first=this._startIndex-this._startOverscan),e.last>this._endIndex+this._endOverscan&&(e.last=this._endIndex+this._endOverscan),e.first=Math.max(e.first,0),e.last=Math.min(e.last,this._buffer.lines.length);for(var t="",h=e.first;h<=e.last;++h)t+=this._buffer.translateBufferLineToString(h,this._trimRight);return this._current=e.last+1,{range:e,content:t}},i}();r.BufferStringIterator=u},8437:(x,r,_)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferLine=r.DEFAULT_ATTR_DATA=void 0;var s=_(482),l=_(643),f=_(511),p=_(3734);r.DEFAULT_ATTR_DATA=Object.freeze(new p.AttributeData);var b=function(){function y(o,a,g){g===void 0&&(g=!1),this.isWrapped=g,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*o);for(var u=a||f.CellData.fromCharData([0,l.NULL_CELL_CHAR,l.NULL_CELL_WIDTH,l.NULL_CELL_CODE]),i=0;i<o;++i)this.setCell(i,u);this.length=o}return y.prototype.get=function(o){var a=this._data[3*o+0],g=2097151&a;return[this._data[3*o+1],2097152&a?this._combined[o]:g?(0,s.stringFromCodePoint)(g):"",a>>22,2097152&a?this._combined[o].charCodeAt(this._combined[o].length-1):g]},y.prototype.set=function(o,a){this._data[3*o+1]=a[l.CHAR_DATA_ATTR_INDEX],a[l.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[o]=a[1],this._data[3*o+0]=2097152|o|a[l.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*o+0]=a[l.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|a[l.CHAR_DATA_WIDTH_INDEX]<<22},y.prototype.getWidth=function(o){return this._data[3*o+0]>>22},y.prototype.hasWidth=function(o){return 12582912&this._data[3*o+0]},y.prototype.getFg=function(o){return this._data[3*o+1]},y.prototype.getBg=function(o){return this._data[3*o+2]},y.prototype.hasContent=function(o){return 4194303&this._data[3*o+0]},y.prototype.getCodePoint=function(o){var a=this._data[3*o+0];return 2097152&a?this._combined[o].charCodeAt(this._combined[o].length-1):2097151&a},y.prototype.isCombined=function(o){return 2097152&this._data[3*o+0]},y.prototype.getString=function(o){var a=this._data[3*o+0];return 2097152&a?this._combined[o]:2097151&a?(0,s.stringFromCodePoint)(2097151&a):""},y.prototype.loadCell=function(o,a){var g=3*o;return a.content=this._data[g+0],a.fg=this._data[g+1],a.bg=this._data[g+2],2097152&a.content&&(a.combinedData=this._combined[o]),268435456&a.bg&&(a.extended=this._extendedAttrs[o]),a},y.prototype.setCell=function(o,a){2097152&a.content&&(this._combined[o]=a.combinedData),268435456&a.bg&&(this._extendedAttrs[o]=a.extended),this._data[3*o+0]=a.content,this._data[3*o+1]=a.fg,this._data[3*o+2]=a.bg},y.prototype.setCellFromCodePoint=function(o,a,g,u,i,e){268435456&i&&(this._extendedAttrs[o]=e),this._data[3*o+0]=a|g<<22,this._data[3*o+1]=u,this._data[3*o+2]=i},y.prototype.addCodepointToCell=function(o,a){var g=this._data[3*o+0];2097152&g?this._combined[o]+=(0,s.stringFromCodePoint)(a):(2097151&g?(this._combined[o]=(0,s.stringFromCodePoint)(2097151&g)+(0,s.stringFromCodePoint)(a),g&=-2097152,g|=2097152):g=a|1<<22,this._data[3*o+0]=g)},y.prototype.insertCells=function(o,a,g,u){if((o%=this.length)&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o-1,0,1,(u==null?void 0:u.fg)||0,(u==null?void 0:u.bg)||0,(u==null?void 0:u.extended)||new p.ExtendedAttrs),a<this.length-o){for(var i=new f.CellData,e=this.length-o-a-1;e>=0;--e)this.setCell(o+a+e,this.loadCell(o+e,i));for(e=0;e<a;++e)this.setCell(o+e,g)}else for(e=o;e<this.length;++e)this.setCell(e,g);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(u==null?void 0:u.fg)||0,(u==null?void 0:u.bg)||0,(u==null?void 0:u.extended)||new p.ExtendedAttrs)},y.prototype.deleteCells=function(o,a,g,u){if(o%=this.length,a<this.length-o){for(var i=new f.CellData,e=0;e<this.length-o-a;++e)this.setCell(o+e,this.loadCell(o+a+e,i));for(e=this.length-a;e<this.length;++e)this.setCell(e,g)}else for(e=o;e<this.length;++e)this.setCell(e,g);o&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o-1,0,1,(u==null?void 0:u.fg)||0,(u==null?void 0:u.bg)||0,(u==null?void 0:u.extended)||new p.ExtendedAttrs),this.getWidth(o)!==0||this.hasContent(o)||this.setCellFromCodePoint(o,0,1,(u==null?void 0:u.fg)||0,(u==null?void 0:u.bg)||0,(u==null?void 0:u.extended)||new p.ExtendedAttrs)},y.prototype.replaceCells=function(o,a,g,u){for(o&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o-1,0,1,(u==null?void 0:u.fg)||0,(u==null?void 0:u.bg)||0,(u==null?void 0:u.extended)||new p.ExtendedAttrs),a<this.length&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a,0,1,(u==null?void 0:u.fg)||0,(u==null?void 0:u.bg)||0,(u==null?void 0:u.extended)||new p.ExtendedAttrs);o<a&&o<this.length;)this.setCell(o++,g)},y.prototype.resize=function(o,a){if(o!==this.length){if(o>this.length){var g=new Uint32Array(3*o);this.length&&(3*o<this._data.length?g.set(this._data.subarray(0,3*o)):g.set(this._data)),this._data=g;for(var u=this.length;u<o;++u)this.setCell(u,a)}else if(o){(g=new Uint32Array(3*o)).set(this._data.subarray(0,3*o)),this._data=g;var i=Object.keys(this._combined);for(u=0;u<i.length;u++){var e=parseInt(i[u],10);e>=o&&delete this._combined[e]}}else this._data=new Uint32Array(0),this._combined={};this.length=o}},y.prototype.fill=function(o){this._combined={},this._extendedAttrs={};for(var a=0;a<this.length;++a)this.setCell(a,o)},y.prototype.copyFrom=function(o){for(var a in this.length!==o.length?this._data=new Uint32Array(o._data):this._data.set(o._data),this.length=o.length,this._combined={},o._combined)this._combined[a]=o._combined[a];for(var a in this._extendedAttrs={},o._extendedAttrs)this._extendedAttrs[a]=o._extendedAttrs[a];this.isWrapped=o.isWrapped},y.prototype.clone=function(){var o=new y(0);for(var a in o._data=new Uint32Array(this._data),o.length=this.length,this._combined)o._combined[a]=this._combined[a];for(var a in this._extendedAttrs)o._extendedAttrs[a]=this._extendedAttrs[a];return o.isWrapped=this.isWrapped,o},y.prototype.getTrimmedLength=function(){for(var o=this.length-1;o>=0;--o)if(4194303&this._data[3*o+0])return o+(this._data[3*o+0]>>22);return 0},y.prototype.copyCellsFrom=function(o,a,g,u,i){var e=o._data;if(i)for(var t=u-1;t>=0;t--)for(var h=0;h<3;h++)this._data[3*(g+t)+h]=e[3*(a+t)+h];else for(t=0;t<u;t++)for(h=0;h<3;h++)this._data[3*(g+t)+h]=e[3*(a+t)+h];var d=Object.keys(o._combined);for(h=0;h<d.length;h++){var m=parseInt(d[h],10);m>=a&&(this._combined[m-a+g]=o._combined[m])}},y.prototype.translateToString=function(o,a,g){o===void 0&&(o=!1),a===void 0&&(a=0),g===void 0&&(g=this.length),o&&(g=Math.min(g,this.getTrimmedLength()));for(var u="";a<g;){var i=this._data[3*a+0],e=2097151&i;u+=2097152&i?this._combined[a]:e?(0,s.stringFromCodePoint)(e):l.WHITESPACE_CELL_CHAR,a+=i>>22||1}return u},y}();r.BufferLine=b},4841:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getRangeLength=void 0,r.getRangeLength=function(_,s){if(_.start.y>_.end.y)throw new Error("Buffer range end ("+_.end.x+", "+_.end.y+") cannot be before start ("+_.start.x+", "+_.start.y+")");return s*(_.end.y-_.start.y)+(_.end.x-_.start.x+1)}},4634:(x,r)=>{function _(s,l,f){if(l===s.length-1)return s[l].getTrimmedLength();var p=!s[l].hasContent(f-1)&&s[l].getWidth(f-1)===1,b=s[l+1].getWidth(0)===2;return p&&b?f-1:f}Object.defineProperty(r,"__esModule",{value:!0}),r.getWrappedLineTrimmedLength=r.reflowSmallerGetNewLineLengths=r.reflowLargerApplyNewLayout=r.reflowLargerCreateNewLayout=r.reflowLargerGetLinesToRemove=void 0,r.reflowLargerGetLinesToRemove=function(s,l,f,p,b){for(var y=[],o=0;o<s.length-1;o++){var a=o,g=s.get(++a);if(g.isWrapped){for(var u=[s.get(o)];a<s.length&&g.isWrapped;)u.push(g),g=s.get(++a);if(p>=o&&p<a)o+=u.length-1;else{for(var i=0,e=_(u,i,l),t=1,h=0;t<u.length;){var d=_(u,t,l),m=d-h,S=f-e,L=Math.min(m,S);u[i].copyCellsFrom(u[t],h,e,L,!1),(e+=L)===f&&(i++,e=0),(h+=L)===d&&(t++,h=0),e===0&&i!==0&&u[i-1].getWidth(f-1)===2&&(u[i].copyCellsFrom(u[i-1],f-1,e++,1,!1),u[i-1].setCell(f-1,b))}u[i].replaceCells(e,f,b);for(var A=0,w=u.length-1;w>0&&(w>i||u[w].getTrimmedLength()===0);w--)A++;A>0&&(y.push(o+u.length-A),y.push(A)),o+=u.length-1}}}return y},r.reflowLargerCreateNewLayout=function(s,l){for(var f=[],p=0,b=l[p],y=0,o=0;o<s.length;o++)if(b===o){var a=l[++p];s.onDeleteEmitter.fire({index:o-y,amount:a}),o+=a-1,y+=a,b=l[++p]}else f.push(o);return{layout:f,countRemoved:y}},r.reflowLargerApplyNewLayout=function(s,l){for(var f=[],p=0;p<l.length;p++)f.push(s.get(l[p]));for(p=0;p<f.length;p++)s.set(p,f[p]);s.length=l.length},r.reflowSmallerGetNewLineLengths=function(s,l,f){for(var p=[],b=s.map(function(e,t){return _(s,t,l)}).reduce(function(e,t){return e+t}),y=0,o=0,a=0;a<b;){if(b-a<f){p.push(b-a);break}y+=f;var g=_(s,o,l);y>g&&(y-=g,o++);var u=s[o].getWidth(y-1)===2;u&&y--;var i=u?f-1:f;p.push(i),a+=i}return p},r.getWrappedLineTrimmedLength=_},5295:function(x,r,_){var s,l=this&&this.__extends||(s=function(y,o){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,g){a.__proto__=g}||function(a,g){for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&(a[u]=g[u])},s(y,o)},function(y,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function a(){this.constructor=y}s(y,o),y.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)});Object.defineProperty(r,"__esModule",{value:!0}),r.BufferSet=void 0;var f=_(9092),p=_(8460),b=function(y){function o(a,g){var u=y.call(this)||this;return u._optionsService=a,u._bufferService=g,u._onBufferActivate=u.register(new p.EventEmitter),u.reset(),u}return l(o,y),Object.defineProperty(o.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),o.prototype.reset=function(){this._normal=new f.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new f.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()},Object.defineProperty(o.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),o.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},o.prototype.activateAltBuffer=function(a){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(a),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},o.prototype.resize=function(a,g){this._normal.resize(a,g),this._alt.resize(a,g)},o.prototype.setupTabStops=function(a){this._normal.setupTabStops(a),this._alt.setupTabStops(a)},o}(_(844).Disposable);r.BufferSet=b},511:function(x,r,_){var s,l=this&&this.__extends||(s=function(o,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,u){g.__proto__=u}||function(g,u){for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(g[i]=u[i])},s(o,a)},function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function g(){this.constructor=o}s(o,a),o.prototype=a===null?Object.create(a):(g.prototype=a.prototype,new g)});Object.defineProperty(r,"__esModule",{value:!0}),r.CellData=void 0;var f=_(482),p=_(643),b=_(3734),y=function(o){function a(){var g=o!==null&&o.apply(this,arguments)||this;return g.content=0,g.fg=0,g.bg=0,g.extended=new b.ExtendedAttrs,g.combinedData="",g}return l(a,o),a.fromCharData=function(g){var u=new a;return u.setFromCharData(g),u},a.prototype.isCombined=function(){return 2097152&this.content},a.prototype.getWidth=function(){return this.content>>22},a.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,f.stringFromCodePoint)(2097151&this.content):""},a.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},a.prototype.setFromCharData=function(g){this.fg=g[p.CHAR_DATA_ATTR_INDEX],this.bg=0;var u=!1;if(g[p.CHAR_DATA_CHAR_INDEX].length>2)u=!0;else if(g[p.CHAR_DATA_CHAR_INDEX].length===2){var i=g[p.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=i&&i<=56319){var e=g[p.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=e&&e<=57343?this.content=1024*(i-55296)+e-56320+65536|g[p.CHAR_DATA_WIDTH_INDEX]<<22:u=!0}else u=!0}else this.content=g[p.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|g[p.CHAR_DATA_WIDTH_INDEX]<<22;u&&(this.combinedData=g[p.CHAR_DATA_CHAR_INDEX],this.content=2097152|g[p.CHAR_DATA_WIDTH_INDEX]<<22)},a.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},a}(b.AttributeData);r.CellData=y},643:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.WHITESPACE_CELL_CODE=r.WHITESPACE_CELL_WIDTH=r.WHITESPACE_CELL_CHAR=r.NULL_CELL_CODE=r.NULL_CELL_WIDTH=r.NULL_CELL_CHAR=r.CHAR_DATA_CODE_INDEX=r.CHAR_DATA_WIDTH_INDEX=r.CHAR_DATA_CHAR_INDEX=r.CHAR_DATA_ATTR_INDEX=r.DEFAULT_ATTR=r.DEFAULT_COLOR=void 0,r.DEFAULT_COLOR=256,r.DEFAULT_ATTR=256|r.DEFAULT_COLOR<<9,r.CHAR_DATA_ATTR_INDEX=0,r.CHAR_DATA_CHAR_INDEX=1,r.CHAR_DATA_WIDTH_INDEX=2,r.CHAR_DATA_CODE_INDEX=3,r.NULL_CELL_CHAR="",r.NULL_CELL_WIDTH=1,r.NULL_CELL_CODE=0,r.WHITESPACE_CELL_CHAR=" ",r.WHITESPACE_CELL_WIDTH=1,r.WHITESPACE_CELL_CODE=32},4863:function(x,r,_){var s,l=this&&this.__extends||(s=function(b,y){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var g in a)Object.prototype.hasOwnProperty.call(a,g)&&(o[g]=a[g])},s(b,y)},function(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function o(){this.constructor=b}s(b,y),b.prototype=y===null?Object.create(y):(o.prototype=y.prototype,new o)});Object.defineProperty(r,"__esModule",{value:!0}),r.Marker=void 0;var f=_(8460),p=function(b){function y(o){var a=b.call(this)||this;return a.line=o,a._id=y._nextId++,a.isDisposed=!1,a._onDispose=new f.EventEmitter,a}return l(y,b),Object.defineProperty(y.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),y.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),b.prototype.dispose.call(this))},y._nextId=1,y}(_(844).Disposable);r.Marker=p},7116:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_CHARSET=r.CHARSETS=void 0,r.CHARSETS={},r.DEFAULT_CHARSET=r.CHARSETS.B,r.CHARSETS[0]={"`":"\u25C6",a:"\u2592",b:"\u2409",c:"\u240C",d:"\u240D",e:"\u240A",f:"\xB0",g:"\xB1",h:"\u2424",i:"\u240B",j:"\u2518",k:"\u2510",l:"\u250C",m:"\u2514",n:"\u253C",o:"\u23BA",p:"\u23BB",q:"\u2500",r:"\u23BC",s:"\u23BD",t:"\u251C",u:"\u2524",v:"\u2534",w:"\u252C",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03C0","|":"\u2260","}":"\xA3","~":"\xB7"},r.CHARSETS.A={"#":"\xA3"},r.CHARSETS.B=void 0,r.CHARSETS[4]={"#":"\xA3","@":"\xBE","[":"ij","\\":"\xBD","]":"|","{":"\xA8","|":"f","}":"\xBC","~":"\xB4"},r.CHARSETS.C=r.CHARSETS[5]={"[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},r.CHARSETS.R={"#":"\xA3","@":"\xE0","[":"\xB0","\\":"\xE7","]":"\xA7","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xA8"},r.CHARSETS.Q={"@":"\xE0","[":"\xE2","\\":"\xE7","]":"\xEA","^":"\xEE","`":"\xF4","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xFB"},r.CHARSETS.K={"@":"\xA7","[":"\xC4","\\":"\xD6","]":"\xDC","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xDF"},r.CHARSETS.Y={"#":"\xA3","@":"\xA7","[":"\xB0","\\":"\xE7","]":"\xE9","`":"\xF9","{":"\xE0","|":"\xF2","}":"\xE8","~":"\xEC"},r.CHARSETS.E=r.CHARSETS[6]={"@":"\xC4","[":"\xC6","\\":"\xD8","]":"\xC5","^":"\xDC","`":"\xE4","{":"\xE6","|":"\xF8","}":"\xE5","~":"\xFC"},r.CHARSETS.Z={"#":"\xA3","@":"\xA7","[":"\xA1","\\":"\xD1","]":"\xBF","{":"\xB0","|":"\xF1","}":"\xE7"},r.CHARSETS.H=r.CHARSETS[7]={"@":"\xC9","[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},r.CHARSETS["="]={"#":"\xF9","@":"\xE0","[":"\xE9","\\":"\xE7","]":"\xEA","^":"\xEE",_:"\xE8","`":"\xF4","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xFB"}},2584:(x,r)=>{var _,s;Object.defineProperty(r,"__esModule",{value:!0}),r.C1=r.C0=void 0,(s=r.C0||(r.C0={})).NUL="\0",s.SOH="",s.STX="",s.ETX="",s.EOT="",s.ENQ="",s.ACK="",s.BEL="\x07",s.BS="\b",s.HT="	",s.LF=`
`,s.VT="\v",s.FF="\f",s.CR="\r",s.SO="",s.SI="",s.DLE="",s.DC1="",s.DC2="",s.DC3="",s.DC4="",s.NAK="",s.SYN="",s.ETB="",s.CAN="",s.EM="",s.SUB="",s.ESC="",s.FS="",s.GS="",s.RS="",s.US="",s.SP=" ",s.DEL="\x7F",(_=r.C1||(r.C1={})).PAD="\x80",_.HOP="\x81",_.BPH="\x82",_.NBH="\x83",_.IND="\x84",_.NEL="\x85",_.SSA="\x86",_.ESA="\x87",_.HTS="\x88",_.HTJ="\x89",_.VTS="\x8A",_.PLD="\x8B",_.PLU="\x8C",_.RI="\x8D",_.SS2="\x8E",_.SS3="\x8F",_.DCS="\x90",_.PU1="\x91",_.PU2="\x92",_.STS="\x93",_.CCH="\x94",_.MW="\x95",_.SPA="\x96",_.EPA="\x97",_.SOS="\x98",_.SGCI="\x99",_.SCI="\x9A",_.CSI="\x9B",_.ST="\x9C",_.OSC="\x9D",_.PM="\x9E",_.APC="\x9F"},7399:(x,r,_)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.evaluateKeyboardEvent=void 0;var s=_(2584),l={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};r.evaluateKeyboardEvent=function(f,p,b,y){var o={type:0,cancel:!1,key:void 0},a=(f.shiftKey?1:0)|(f.altKey?2:0)|(f.ctrlKey?4:0)|(f.metaKey?8:0);switch(f.keyCode){case 0:f.key==="UIKeyInputUpArrow"?o.key=p?s.C0.ESC+"OA":s.C0.ESC+"[A":f.key==="UIKeyInputLeftArrow"?o.key=p?s.C0.ESC+"OD":s.C0.ESC+"[D":f.key==="UIKeyInputRightArrow"?o.key=p?s.C0.ESC+"OC":s.C0.ESC+"[C":f.key==="UIKeyInputDownArrow"&&(o.key=p?s.C0.ESC+"OB":s.C0.ESC+"[B");break;case 8:if(f.shiftKey){o.key=s.C0.BS;break}if(f.altKey){o.key=s.C0.ESC+s.C0.DEL;break}o.key=s.C0.DEL;break;case 9:if(f.shiftKey){o.key=s.C0.ESC+"[Z";break}o.key=s.C0.HT,o.cancel=!0;break;case 13:o.key=f.altKey?s.C0.ESC+s.C0.CR:s.C0.CR,o.cancel=!0;break;case 27:o.key=s.C0.ESC,f.altKey&&(o.key=s.C0.ESC+s.C0.ESC),o.cancel=!0;break;case 37:if(f.metaKey)break;a?(o.key=s.C0.ESC+"[1;"+(a+1)+"D",o.key===s.C0.ESC+"[1;3D"&&(o.key=s.C0.ESC+(b?"b":"[1;5D"))):o.key=p?s.C0.ESC+"OD":s.C0.ESC+"[D";break;case 39:if(f.metaKey)break;a?(o.key=s.C0.ESC+"[1;"+(a+1)+"C",o.key===s.C0.ESC+"[1;3C"&&(o.key=s.C0.ESC+(b?"f":"[1;5C"))):o.key=p?s.C0.ESC+"OC":s.C0.ESC+"[C";break;case 38:if(f.metaKey)break;a?(o.key=s.C0.ESC+"[1;"+(a+1)+"A",b||o.key!==s.C0.ESC+"[1;3A"||(o.key=s.C0.ESC+"[1;5A")):o.key=p?s.C0.ESC+"OA":s.C0.ESC+"[A";break;case 40:if(f.metaKey)break;a?(o.key=s.C0.ESC+"[1;"+(a+1)+"B",b||o.key!==s.C0.ESC+"[1;3B"||(o.key=s.C0.ESC+"[1;5B")):o.key=p?s.C0.ESC+"OB":s.C0.ESC+"[B";break;case 45:f.shiftKey||f.ctrlKey||(o.key=s.C0.ESC+"[2~");break;case 46:o.key=a?s.C0.ESC+"[3;"+(a+1)+"~":s.C0.ESC+"[3~";break;case 36:o.key=a?s.C0.ESC+"[1;"+(a+1)+"H":p?s.C0.ESC+"OH":s.C0.ESC+"[H";break;case 35:o.key=a?s.C0.ESC+"[1;"+(a+1)+"F":p?s.C0.ESC+"OF":s.C0.ESC+"[F";break;case 33:f.shiftKey?o.type=2:o.key=s.C0.ESC+"[5~";break;case 34:f.shiftKey?o.type=3:o.key=s.C0.ESC+"[6~";break;case 112:o.key=a?s.C0.ESC+"[1;"+(a+1)+"P":s.C0.ESC+"OP";break;case 113:o.key=a?s.C0.ESC+"[1;"+(a+1)+"Q":s.C0.ESC+"OQ";break;case 114:o.key=a?s.C0.ESC+"[1;"+(a+1)+"R":s.C0.ESC+"OR";break;case 115:o.key=a?s.C0.ESC+"[1;"+(a+1)+"S":s.C0.ESC+"OS";break;case 116:o.key=a?s.C0.ESC+"[15;"+(a+1)+"~":s.C0.ESC+"[15~";break;case 117:o.key=a?s.C0.ESC+"[17;"+(a+1)+"~":s.C0.ESC+"[17~";break;case 118:o.key=a?s.C0.ESC+"[18;"+(a+1)+"~":s.C0.ESC+"[18~";break;case 119:o.key=a?s.C0.ESC+"[19;"+(a+1)+"~":s.C0.ESC+"[19~";break;case 120:o.key=a?s.C0.ESC+"[20;"+(a+1)+"~":s.C0.ESC+"[20~";break;case 121:o.key=a?s.C0.ESC+"[21;"+(a+1)+"~":s.C0.ESC+"[21~";break;case 122:o.key=a?s.C0.ESC+"[23;"+(a+1)+"~":s.C0.ESC+"[23~";break;case 123:o.key=a?s.C0.ESC+"[24;"+(a+1)+"~":s.C0.ESC+"[24~";break;default:if(!f.ctrlKey||f.shiftKey||f.altKey||f.metaKey)if(b&&!y||!f.altKey||f.metaKey)!b||f.altKey||f.ctrlKey||f.shiftKey||!f.metaKey?f.key&&!f.ctrlKey&&!f.altKey&&!f.metaKey&&f.keyCode>=48&&f.key.length===1?o.key=f.key:f.key&&f.ctrlKey&&f.key==="_"&&(o.key=s.C0.US):f.keyCode===65&&(o.type=1);else{var g=l[f.keyCode],u=g==null?void 0:g[f.shiftKey?1:0];if(u)o.key=s.C0.ESC+u;else if(f.keyCode>=65&&f.keyCode<=90){var i=f.ctrlKey?f.keyCode-64:f.keyCode+32;o.key=s.C0.ESC+String.fromCharCode(i)}}else f.keyCode>=65&&f.keyCode<=90?o.key=String.fromCharCode(f.keyCode-64):f.keyCode===32?o.key=s.C0.NUL:f.keyCode>=51&&f.keyCode<=55?o.key=String.fromCharCode(f.keyCode-51+27):f.keyCode===56?o.key=s.C0.DEL:f.keyCode===219?o.key=s.C0.ESC:f.keyCode===220?o.key=s.C0.FS:f.keyCode===221&&(o.key=s.C0.GS)}return o}},482:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Utf8ToUtf32=r.StringToUtf32=r.utf32ToString=r.stringFromCodePoint=void 0,r.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},r.utf32ToString=function(l,f,p){f===void 0&&(f=0),p===void 0&&(p=l.length);for(var b="",y=f;y<p;++y){var o=l[y];o>65535?(o-=65536,b+=String.fromCharCode(55296+(o>>10))+String.fromCharCode(o%1024+56320)):b+=String.fromCharCode(o)}return b};var _=function(){function l(){this._interim=0}return l.prototype.clear=function(){this._interim=0},l.prototype.decode=function(f,p){var b=f.length;if(!b)return 0;var y=0,o=0;this._interim&&(56320<=(u=f.charCodeAt(o++))&&u<=57343?p[y++]=1024*(this._interim-55296)+u-56320+65536:(p[y++]=this._interim,p[y++]=u),this._interim=0);for(var a=o;a<b;++a){var g=f.charCodeAt(a);if(55296<=g&&g<=56319){if(++a>=b)return this._interim=g,y;var u;56320<=(u=f.charCodeAt(a))&&u<=57343?p[y++]=1024*(g-55296)+u-56320+65536:(p[y++]=g,p[y++]=u)}else g!==65279&&(p[y++]=g)}return y},l}();r.StringToUtf32=_;var s=function(){function l(){this.interim=new Uint8Array(3)}return l.prototype.clear=function(){this.interim.fill(0)},l.prototype.decode=function(f,p){var b=f.length;if(!b)return 0;var y,o,a,g,u=0,i=0,e=0;if(this.interim[0]){var t=!1,h=this.interim[0];h&=(224&h)==192?31:(240&h)==224?15:7;for(var d=0,m=void 0;(m=63&this.interim[++d])&&d<4;)h<<=6,h|=m;for(var S=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,L=S-d;e<L;){if(e>=b)return 0;if((192&(m=f[e++]))!=128){e--,t=!0;break}this.interim[d++]=m,h<<=6,h|=63&m}t||(S===2?h<128?e--:p[u++]=h:S===3?h<2048||h>=55296&&h<=57343||h===65279||(p[u++]=h):h<65536||h>1114111||(p[u++]=h)),this.interim.fill(0)}for(var A=b-4,w=e;w<b;){for(;!(!(w<A)||128&(y=f[w])||128&(o=f[w+1])||128&(a=f[w+2])||128&(g=f[w+3]));)p[u++]=y,p[u++]=o,p[u++]=a,p[u++]=g,w+=4;if((y=f[w++])<128)p[u++]=y;else if((224&y)==192){if(w>=b)return this.interim[0]=y,u;if((192&(o=f[w++]))!=128){w--;continue}if((i=(31&y)<<6|63&o)<128){w--;continue}p[u++]=i}else if((240&y)==224){if(w>=b)return this.interim[0]=y,u;if((192&(o=f[w++]))!=128){w--;continue}if(w>=b)return this.interim[0]=y,this.interim[1]=o,u;if((192&(a=f[w++]))!=128){w--;continue}if((i=(15&y)<<12|(63&o)<<6|63&a)<2048||i>=55296&&i<=57343||i===65279)continue;p[u++]=i}else if((248&y)==240){if(w>=b)return this.interim[0]=y,u;if((192&(o=f[w++]))!=128){w--;continue}if(w>=b)return this.interim[0]=y,this.interim[1]=o,u;if((192&(a=f[w++]))!=128){w--;continue}if(w>=b)return this.interim[0]=y,this.interim[1]=o,this.interim[2]=a,u;if((192&(g=f[w++]))!=128){w--;continue}if((i=(7&y)<<18|(63&o)<<12|(63&a)<<6|63&g)<65536||i>1114111)continue;p[u++]=i}}return u},l}();r.Utf8ToUtf32=s},225:(x,r,_)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.UnicodeV6=void 0;var s,l=_(8273),f=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],p=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],b=function(){function y(){if(this.version="6",!s){s=new Uint8Array(65536),(0,l.fill)(s,1),s[0]=0,(0,l.fill)(s,0,1,32),(0,l.fill)(s,0,127,160),(0,l.fill)(s,2,4352,4448),s[9001]=2,s[9002]=2,(0,l.fill)(s,2,11904,42192),s[12351]=1,(0,l.fill)(s,2,44032,55204),(0,l.fill)(s,2,63744,64256),(0,l.fill)(s,2,65040,65050),(0,l.fill)(s,2,65072,65136),(0,l.fill)(s,2,65280,65377),(0,l.fill)(s,2,65504,65511);for(var o=0;o<f.length;++o)(0,l.fill)(s,0,f[o][0],f[o][1]+1)}}return y.prototype.wcwidth=function(o){return o<32?0:o<127?1:o<65536?s[o]:function(a,g){var u,i=0,e=g.length-1;if(a<g[0][0]||a>g[e][1])return!1;for(;e>=i;)if(a>g[u=i+e>>1][1])i=u+1;else{if(!(a<g[u][0]))return!0;e=u-1}return!1}(o,p)?0:o>=131072&&o<=196605||o>=196608&&o<=262141?2:1},y}();r.UnicodeV6=b},5981:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.WriteBuffer=void 0;var _=typeof queueMicrotask=="undefined"?function(l){Promise.resolve().then(l)}:queueMicrotask,s=function(){function l(f){this._action=f,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0}return l.prototype.writeSync=function(f,p){if(p!==void 0&&this._syncCalls>p)this._syncCalls=0;else if(this._pendingData+=f.length,this._writeBuffer.push(f),this._callbacks.push(void 0),this._syncCalls++,!this._isSyncWriting){var b;for(this._isSyncWriting=!0;b=this._writeBuffer.shift();){this._action(b);var y=this._callbacks.shift();y&&y()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}},l.prototype.write=function(f,p){var b=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout(function(){return b._innerWrite()})),this._pendingData+=f.length,this._writeBuffer.push(f),this._callbacks.push(p)},l.prototype._innerWrite=function(f,p){var b=this;f===void 0&&(f=0),p===void 0&&(p=!0);for(var y=f||Date.now();this._writeBuffer.length>this._bufferOffset;){var o=this._writeBuffer[this._bufferOffset],a=this._action(o,p);if(a)return void a.catch(function(u){return _(function(){throw u}),Promise.resolve(!1)}).then(function(u){return Date.now()-y>=12?setTimeout(function(){return b._innerWrite(0,u)}):b._innerWrite(y,u)});var g=this._callbacks[this._bufferOffset];if(g&&g(),this._bufferOffset++,this._pendingData-=o.length,Date.now()-y>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(function(){return b._innerWrite()})):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0)},l}();r.WriteBuffer=s},5941:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.toRgbString=r.parseColor=void 0;var _=/^([\da-f]{1})\/([\da-f]{1})\/([\da-f]{1})$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,s=/^[\da-f]+$/;function l(f,p){var b=f.toString(16),y=b.length<2?"0"+b:b;switch(p){case 4:return b[0];case 8:return y;case 12:return(y+y).slice(0,3);default:return y+y}}r.parseColor=function(f){if(f){var p=f.toLowerCase();if(p.indexOf("rgb:")===0){p=p.slice(4);var b=_.exec(p);if(b){var y=b[1]?15:b[4]?255:b[7]?4095:65535;return[Math.round(parseInt(b[1]||b[4]||b[7]||b[10],16)/y*255),Math.round(parseInt(b[2]||b[5]||b[8]||b[11],16)/y*255),Math.round(parseInt(b[3]||b[6]||b[9]||b[12],16)/y*255)]}}else if(p.indexOf("#")===0&&(p=p.slice(1),s.exec(p)&&[3,6,9,12].includes(p.length))){for(var o=p.length/3,a=[0,0,0],g=0;g<3;++g){var u=parseInt(p.slice(o*g,o*g+o),16);a[g]=o===1?u<<4:o===2?u:o===3?u>>4:u>>8}return a}}},r.toRgbString=function(f,p){p===void 0&&(p=16);var b=f[0],y=f[1],o=f[2];return"rgb:"+l(b,p)+"/"+l(y,p)+"/"+l(o,p)}},5770:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PAYLOAD_LIMIT=void 0,r.PAYLOAD_LIMIT=1e7},6351:(x,r,_)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DcsHandler=r.DcsParser=void 0;var s=_(482),l=_(8742),f=_(5770),p=[],b=function(){function a(){this._handlers=Object.create(null),this._active=p,this._ident=0,this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return a.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=p},a.prototype.registerHandler=function(g,u){this._handlers[g]===void 0&&(this._handlers[g]=[]);var i=this._handlers[g];return i.push(u),{dispose:function(){var e=i.indexOf(u);e!==-1&&i.splice(e,1)}}},a.prototype.clearHandler=function(g){this._handlers[g]&&delete this._handlers[g]},a.prototype.setHandlerFallback=function(g){this._handlerFb=g},a.prototype.reset=function(){if(this._active.length)for(var g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].unhook(!1);this._stack.paused=!1,this._active=p,this._ident=0},a.prototype.hook=function(g,u){if(this.reset(),this._ident=g,this._active=this._handlers[g]||p,this._active.length)for(var i=this._active.length-1;i>=0;i--)this._active[i].hook(u);else this._handlerFb(this._ident,"HOOK",u)},a.prototype.put=function(g,u,i){if(this._active.length)for(var e=this._active.length-1;e>=0;e--)this._active[e].put(g,u,i);else this._handlerFb(this._ident,"PUT",(0,s.utf32ToString)(g,u,i))},a.prototype.unhook=function(g,u){if(u===void 0&&(u=!0),this._active.length){var i=!1,e=this._active.length-1,t=!1;if(this._stack.paused&&(e=this._stack.loopPosition-1,i=u,t=this._stack.fallThrough,this._stack.paused=!1),!t&&i===!1){for(;e>=0&&(i=this._active[e].unhook(g))!==!0;e--)if(i instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=e,this._stack.fallThrough=!1,i;e--}for(;e>=0;e--)if((i=this._active[e].unhook(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=e,this._stack.fallThrough=!0,i}else this._handlerFb(this._ident,"UNHOOK",g);this._active=p,this._ident=0},a}();r.DcsParser=b;var y=new l.Params;y.addParam(0);var o=function(){function a(g){this._handler=g,this._data="",this._params=y,this._hitLimit=!1}return a.prototype.hook=function(g){this._params=g.length>1||g.params[0]?g.clone():y,this._data="",this._hitLimit=!1},a.prototype.put=function(g,u,i){this._hitLimit||(this._data+=(0,s.utf32ToString)(g,u,i),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},a.prototype.unhook=function(g){var u=this,i=!1;if(this._hitLimit)i=!1;else if(g&&(i=this._handler(this._data,this._params))instanceof Promise)return i.then(function(e){return u._params=y,u._data="",u._hitLimit=!1,e});return this._params=y,this._data="",this._hitLimit=!1,i},a}();r.DcsHandler=o},2015:function(x,r,_){var s,l=this&&this.__extends||(s=function(i,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,h){t.__proto__=h}||function(t,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(t[d]=h[d])},s(i,e)},function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=i}s(i,e),i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.EscapeSequenceParser=r.VT500_TRANSITION_TABLE=r.TransitionTable=void 0;var f=_(844),p=_(8273),b=_(8742),y=_(6242),o=_(6351),a=function(){function i(e){this.table=new Uint8Array(e)}return i.prototype.setDefault=function(e,t){(0,p.fill)(this.table,e<<4|t)},i.prototype.add=function(e,t,h,d){this.table[t<<8|e]=h<<4|d},i.prototype.addMany=function(e,t,h,d){for(var m=0;m<e.length;m++)this.table[t<<8|e[m]]=h<<4|d},i}();r.TransitionTable=a;var g=160;r.VT500_TRANSITION_TABLE=function(){var i=new a(4095),e=Array.apply(null,Array(256)).map(function(L,A){return A}),t=function(L,A){return e.slice(L,A)},h=t(32,127),d=t(0,24);d.push(25),d.push.apply(d,t(28,32));var m,S=t(0,14);for(m in i.setDefault(1,0),i.addMany(h,0,2,0),S)i.addMany([24,26,153,154],m,3,0),i.addMany(t(128,144),m,3,0),i.addMany(t(144,152),m,3,0),i.add(156,m,0,0),i.add(27,m,11,1),i.add(157,m,4,8),i.addMany([152,158,159],m,0,7),i.add(155,m,11,3),i.add(144,m,11,9);return i.addMany(d,0,3,0),i.addMany(d,1,3,1),i.add(127,1,0,1),i.addMany(d,8,0,8),i.addMany(d,3,3,3),i.add(127,3,0,3),i.addMany(d,4,3,4),i.add(127,4,0,4),i.addMany(d,6,3,6),i.addMany(d,5,3,5),i.add(127,5,0,5),i.addMany(d,2,3,2),i.add(127,2,0,2),i.add(93,1,4,8),i.addMany(h,8,5,8),i.add(127,8,5,8),i.addMany([156,27,24,26,7],8,6,0),i.addMany(t(28,32),8,0,8),i.addMany([88,94,95],1,0,7),i.addMany(h,7,0,7),i.addMany(d,7,0,7),i.add(156,7,0,0),i.add(127,7,0,7),i.add(91,1,11,3),i.addMany(t(64,127),3,7,0),i.addMany(t(48,60),3,8,4),i.addMany([60,61,62,63],3,9,4),i.addMany(t(48,60),4,8,4),i.addMany(t(64,127),4,7,0),i.addMany([60,61,62,63],4,0,6),i.addMany(t(32,64),6,0,6),i.add(127,6,0,6),i.addMany(t(64,127),6,0,0),i.addMany(t(32,48),3,9,5),i.addMany(t(32,48),5,9,5),i.addMany(t(48,64),5,0,6),i.addMany(t(64,127),5,7,0),i.addMany(t(32,48),4,9,5),i.addMany(t(32,48),1,9,2),i.addMany(t(32,48),2,9,2),i.addMany(t(48,127),2,10,0),i.addMany(t(48,80),1,10,0),i.addMany(t(81,88),1,10,0),i.addMany([89,90,92],1,10,0),i.addMany(t(96,127),1,10,0),i.add(80,1,11,9),i.addMany(d,9,0,9),i.add(127,9,0,9),i.addMany(t(28,32),9,0,9),i.addMany(t(32,48),9,9,12),i.addMany(t(48,60),9,8,10),i.addMany([60,61,62,63],9,9,10),i.addMany(d,11,0,11),i.addMany(t(32,128),11,0,11),i.addMany(t(28,32),11,0,11),i.addMany(d,10,0,10),i.add(127,10,0,10),i.addMany(t(28,32),10,0,10),i.addMany(t(48,60),10,8,10),i.addMany([60,61,62,63],10,0,11),i.addMany(t(32,48),10,9,12),i.addMany(d,12,0,12),i.add(127,12,0,12),i.addMany(t(28,32),12,0,12),i.addMany(t(32,48),12,9,12),i.addMany(t(48,64),12,0,11),i.addMany(t(64,127),12,12,13),i.addMany(t(64,127),10,12,13),i.addMany(t(64,127),9,12,13),i.addMany(d,13,13,13),i.addMany(h,13,13,13),i.add(127,13,0,13),i.addMany([27,156,24,26],13,14,0),i.add(g,0,2,0),i.add(g,8,5,8),i.add(g,6,0,6),i.add(g,11,0,11),i.add(g,13,13,13),i}();var u=function(i){function e(t){t===void 0&&(t=r.VT500_TRANSITION_TABLE);var h=i.call(this)||this;return h._transitions=t,h._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},h.initialState=0,h.currentState=h.initialState,h._params=new b.Params,h._params.addParam(0),h._collect=0,h.precedingCodepoint=0,h._printHandlerFb=function(d,m,S){},h._executeHandlerFb=function(d){},h._csiHandlerFb=function(d,m){},h._escHandlerFb=function(d){},h._errorHandlerFb=function(d){return d},h._printHandler=h._printHandlerFb,h._executeHandlers=Object.create(null),h._csiHandlers=Object.create(null),h._escHandlers=Object.create(null),h._oscParser=new y.OscParser,h._dcsParser=new o.DcsParser,h._errorHandler=h._errorHandlerFb,h.registerEscHandler({final:"\\"},function(){return!0}),h}return l(e,i),e.prototype._identifier=function(t,h){h===void 0&&(h=[64,126]);var d=0;if(t.prefix){if(t.prefix.length>1)throw new Error("only one byte as prefix supported");if((d=t.prefix.charCodeAt(0))&&60>d||d>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(t.intermediates){if(t.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var m=0;m<t.intermediates.length;++m){var S=t.intermediates.charCodeAt(m);if(32>S||S>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");d<<=8,d|=S}}if(t.final.length!==1)throw new Error("final must be a single byte");var L=t.final.charCodeAt(0);if(h[0]>L||L>h[1])throw new Error("final must be in range "+h[0]+" .. "+h[1]);return(d<<=8)|L},e.prototype.identToString=function(t){for(var h=[];t;)h.push(String.fromCharCode(255&t)),t>>=8;return h.reverse().join("")},e.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},e.prototype.setPrintHandler=function(t){this._printHandler=t},e.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},e.prototype.registerEscHandler=function(t,h){var d=this._identifier(t,[48,126]);this._escHandlers[d]===void 0&&(this._escHandlers[d]=[]);var m=this._escHandlers[d];return m.push(h),{dispose:function(){var S=m.indexOf(h);S!==-1&&m.splice(S,1)}}},e.prototype.clearEscHandler=function(t){this._escHandlers[this._identifier(t,[48,126])]&&delete this._escHandlers[this._identifier(t,[48,126])]},e.prototype.setEscHandlerFallback=function(t){this._escHandlerFb=t},e.prototype.setExecuteHandler=function(t,h){this._executeHandlers[t.charCodeAt(0)]=h},e.prototype.clearExecuteHandler=function(t){this._executeHandlers[t.charCodeAt(0)]&&delete this._executeHandlers[t.charCodeAt(0)]},e.prototype.setExecuteHandlerFallback=function(t){this._executeHandlerFb=t},e.prototype.registerCsiHandler=function(t,h){var d=this._identifier(t);this._csiHandlers[d]===void 0&&(this._csiHandlers[d]=[]);var m=this._csiHandlers[d];return m.push(h),{dispose:function(){var S=m.indexOf(h);S!==-1&&m.splice(S,1)}}},e.prototype.clearCsiHandler=function(t){this._csiHandlers[this._identifier(t)]&&delete this._csiHandlers[this._identifier(t)]},e.prototype.setCsiHandlerFallback=function(t){this._csiHandlerFb=t},e.prototype.registerDcsHandler=function(t,h){return this._dcsParser.registerHandler(this._identifier(t),h)},e.prototype.clearDcsHandler=function(t){this._dcsParser.clearHandler(this._identifier(t))},e.prototype.setDcsHandlerFallback=function(t){this._dcsParser.setHandlerFallback(t)},e.prototype.registerOscHandler=function(t,h){return this._oscParser.registerHandler(t,h)},e.prototype.clearOscHandler=function(t){this._oscParser.clearHandler(t)},e.prototype.setOscHandlerFallback=function(t){this._oscParser.setHandlerFallback(t)},e.prototype.setErrorHandler=function(t){this._errorHandler=t},e.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},e.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])},e.prototype._preserveStack=function(t,h,d,m,S){this._parseStack.state=t,this._parseStack.handlers=h,this._parseStack.handlerPos=d,this._parseStack.transition=m,this._parseStack.chunkPos=S},e.prototype.parse=function(t,h,d){var m,S=0,L=0,A=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,A=this._parseStack.chunkPos+1;else{if(d===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");var w=this._parseStack.handlers,E=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(d===!1&&E>-1){for(;E>=0&&(m=w[E](this._params))!==!0;E--)if(m instanceof Promise)return this._parseStack.handlerPos=E,m}this._parseStack.handlers=[];break;case 4:if(d===!1&&E>-1){for(;E>=0&&(m=w[E]())!==!0;E--)if(m instanceof Promise)return this._parseStack.handlerPos=E,m}this._parseStack.handlers=[];break;case 6:if(S=t[this._parseStack.chunkPos],m=this._dcsParser.unhook(S!==24&&S!==26,d))return m;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(S=t[this._parseStack.chunkPos],m=this._oscParser.end(S!==24&&S!==26,d))return m;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,A=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(var B=A;B<h;++B){switch(S=t[B],(L=this._transitions.table[this.currentState<<8|(S<160?S:g)])>>4){case 2:for(var T=B+1;;++T){if(T>=h||(S=t[T])<32||S>126&&S<g){this._printHandler(t,B,T),B=T-1;break}if(++T>=h||(S=t[T])<32||S>126&&S<g){this._printHandler(t,B,T),B=T-1;break}if(++T>=h||(S=t[T])<32||S>126&&S<g){this._printHandler(t,B,T),B=T-1;break}if(++T>=h||(S=t[T])<32||S>126&&S<g){this._printHandler(t,B,T),B=T-1;break}}break;case 3:this._executeHandlers[S]?this._executeHandlers[S]():this._executeHandlerFb(S),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:B,code:S,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:for(var U=(w=this._csiHandlers[this._collect<<8|S])?w.length-1:-1;U>=0&&(m=w[U](this._params))!==!0;U--)if(m instanceof Promise)return this._preserveStack(3,w,U,L,B),m;U<0&&this._csiHandlerFb(this._collect<<8|S,this._params),this.precedingCodepoint=0;break;case 8:do switch(S){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(S-48)}while(++B<h&&(S=t[B])>47&&S<60);B--;break;case 9:this._collect<<=8,this._collect|=S;break;case 10:for(var H=this._escHandlers[this._collect<<8|S],k=H?H.length-1:-1;k>=0&&(m=H[k]())!==!0;k--)if(m instanceof Promise)return this._preserveStack(4,H,k,L,B),m;k<0&&this._escHandlerFb(this._collect<<8|S),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|S,this._params);break;case 13:for(var O=B+1;;++O)if(O>=h||(S=t[O])===24||S===26||S===27||S>127&&S<g){this._dcsParser.put(t,B,O),B=O-1;break}break;case 14:if(m=this._dcsParser.unhook(S!==24&&S!==26))return this._preserveStack(6,[],0,L,B),m;S===27&&(L|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(var P=B+1;;P++)if(P>=h||(S=t[P])<32||S>127&&S<g){this._oscParser.put(t,B,P),B=P-1;break}break;case 6:if(m=this._oscParser.end(S!==24&&S!==26))return this._preserveStack(5,[],0,L,B),m;S===27&&(L|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&L}},e}(f.Disposable);r.EscapeSequenceParser=u},6242:(x,r,_)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.OscHandler=r.OscParser=void 0;var s=_(5770),l=_(482),f=[],p=function(){function y(){this._state=0,this._active=f,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return y.prototype.registerHandler=function(o,a){this._handlers[o]===void 0&&(this._handlers[o]=[]);var g=this._handlers[o];return g.push(a),{dispose:function(){var u=g.indexOf(a);u!==-1&&g.splice(u,1)}}},y.prototype.clearHandler=function(o){this._handlers[o]&&delete this._handlers[o]},y.prototype.setHandlerFallback=function(o){this._handlerFb=o},y.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=f},y.prototype.reset=function(){if(this._state===2)for(var o=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;o>=0;--o)this._active[o].end(!1);this._stack.paused=!1,this._active=f,this._id=-1,this._state=0},y.prototype._start=function(){if(this._active=this._handlers[this._id]||f,this._active.length)for(var o=this._active.length-1;o>=0;o--)this._active[o].start();else this._handlerFb(this._id,"START")},y.prototype._put=function(o,a,g){if(this._active.length)for(var u=this._active.length-1;u>=0;u--)this._active[u].put(o,a,g);else this._handlerFb(this._id,"PUT",(0,l.utf32ToString)(o,a,g))},y.prototype.start=function(){this.reset(),this._state=1},y.prototype.put=function(o,a,g){if(this._state!==3){if(this._state===1)for(;a<g;){var u=o[a++];if(u===59){this._state=2,this._start();break}if(u<48||57<u)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+u-48}this._state===2&&g-a>0&&this._put(o,a,g)}},y.prototype.end=function(o,a){if(a===void 0&&(a=!0),this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){var g=!1,u=this._active.length-1,i=!1;if(this._stack.paused&&(u=this._stack.loopPosition-1,g=a,i=this._stack.fallThrough,this._stack.paused=!1),!i&&g===!1){for(;u>=0&&(g=this._active[u].end(o))!==!0;u--)if(g instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=u,this._stack.fallThrough=!1,g;u--}for(;u>=0;u--)if((g=this._active[u].end(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=u,this._stack.fallThrough=!0,g}else this._handlerFb(this._id,"END",o);this._active=f,this._id=-1,this._state=0}},y}();r.OscParser=p;var b=function(){function y(o){this._handler=o,this._data="",this._hitLimit=!1}return y.prototype.start=function(){this._data="",this._hitLimit=!1},y.prototype.put=function(o,a,g){this._hitLimit||(this._data+=(0,l.utf32ToString)(o,a,g),this._data.length>s.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},y.prototype.end=function(o){var a=this,g=!1;if(this._hitLimit)g=!1;else if(o&&(g=this._handler(this._data))instanceof Promise)return g.then(function(u){return a._data="",a._hitLimit=!1,u});return this._data="",this._hitLimit=!1,g},y}();r.OscHandler=b},8742:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Params=void 0;var _=2147483647,s=function(){function l(f,p){if(f===void 0&&(f=32),p===void 0&&(p=32),this.maxLength=f,this.maxSubParamsLength=p,p>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(f),this.length=0,this._subParams=new Int32Array(p),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(f),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return l.fromArray=function(f){var p=new l;if(!f.length)return p;for(var b=Array.isArray(f[0])?1:0;b<f.length;++b){var y=f[b];if(Array.isArray(y))for(var o=0;o<y.length;++o)p.addSubParam(y[o]);else p.addParam(y)}return p},l.prototype.clone=function(){var f=new l(this.maxLength,this.maxSubParamsLength);return f.params.set(this.params),f.length=this.length,f._subParams.set(this._subParams),f._subParamsLength=this._subParamsLength,f._subParamsIdx.set(this._subParamsIdx),f._rejectDigits=this._rejectDigits,f._rejectSubDigits=this._rejectSubDigits,f._digitIsSub=this._digitIsSub,f},l.prototype.toArray=function(){for(var f=[],p=0;p<this.length;++p){f.push(this.params[p]);var b=this._subParamsIdx[p]>>8,y=255&this._subParamsIdx[p];y-b>0&&f.push(Array.prototype.slice.call(this._subParams,b,y))}return f},l.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},l.prototype.addParam=function(f){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=f>_?_:f}},l.prototype.addSubParam=function(f){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=f>_?_:f,this._subParamsIdx[this.length-1]++}},l.prototype.hasSubParams=function(f){return(255&this._subParamsIdx[f])-(this._subParamsIdx[f]>>8)>0},l.prototype.getSubParams=function(f){var p=this._subParamsIdx[f]>>8,b=255&this._subParamsIdx[f];return b-p>0?this._subParams.subarray(p,b):null},l.prototype.getSubParamsAll=function(){for(var f={},p=0;p<this.length;++p){var b=this._subParamsIdx[p]>>8,y=255&this._subParamsIdx[p];y-b>0&&(f[p]=this._subParams.slice(b,y))}return f},l.prototype.addDigit=function(f){var p;if(!(this._rejectDigits||!(p=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var b=this._digitIsSub?this._subParams:this.params,y=b[p-1];b[p-1]=~y?Math.min(10*y+f,_):f}},l}();r.Params=s},5741:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.AddonManager=void 0;var _=function(){function s(){this._addons=[]}return s.prototype.dispose=function(){for(var l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()},s.prototype.loadAddon=function(l,f){var p=this,b={instance:f,dispose:f.dispose,isDisposed:!1};this._addons.push(b),f.dispose=function(){return p._wrappedAddonDispose(b)},f.activate(l)},s.prototype._wrappedAddonDispose=function(l){if(!l.isDisposed){for(var f=-1,p=0;p<this._addons.length;p++)if(this._addons[p]===l){f=p;break}if(f===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(f,1)}},s}();r.AddonManager=_},8771:(x,r,_)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferApiView=void 0;var s=_(3785),l=_(511),f=function(){function p(b,y){this._buffer=b,this.type=y}return p.prototype.init=function(b){return this._buffer=b,this},Object.defineProperty(p.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),p.prototype.getLine=function(b){var y=this._buffer.lines.get(b);if(y)return new s.BufferLineApiView(y)},p.prototype.getNullCell=function(){return new l.CellData},p}();r.BufferApiView=f},3785:(x,r,_)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferLineApiView=void 0;var s=_(511),l=function(){function f(p){this._line=p}return Object.defineProperty(f.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),f.prototype.getCell=function(p,b){if(!(p<0||p>=this._line.length))return b?(this._line.loadCell(p,b),b):this._line.loadCell(p,new s.CellData)},f.prototype.translateToString=function(p,b,y){return this._line.translateToString(p,b,y)},f}();r.BufferLineApiView=l},8285:(x,r,_)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferNamespaceApi=void 0;var s=_(8771),l=_(8460),f=function(){function p(b){var y=this;this._core=b,this._onBufferChange=new l.EventEmitter,this._normal=new s.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new s.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(function(){return y._onBufferChange.fire(y.active)})}return Object.defineProperty(p.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"active",{get:function(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"normal",{get:function(){return this._normal.init(this._core.buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"alternate",{get:function(){return this._alternate.init(this._core.buffers.alt)},enumerable:!1,configurable:!0}),p}();r.BufferNamespaceApi=f},7975:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ParserApi=void 0;var _=function(){function s(l){this._core=l}return s.prototype.registerCsiHandler=function(l,f){return this._core.registerCsiHandler(l,function(p){return f(p.toArray())})},s.prototype.addCsiHandler=function(l,f){return this.registerCsiHandler(l,f)},s.prototype.registerDcsHandler=function(l,f){return this._core.registerDcsHandler(l,function(p,b){return f(p,b.toArray())})},s.prototype.addDcsHandler=function(l,f){return this.registerDcsHandler(l,f)},s.prototype.registerEscHandler=function(l,f){return this._core.registerEscHandler(l,f)},s.prototype.addEscHandler=function(l,f){return this.registerEscHandler(l,f)},s.prototype.registerOscHandler=function(l,f){return this._core.registerOscHandler(l,f)},s.prototype.addOscHandler=function(l,f){return this.registerOscHandler(l,f)},s}();r.ParserApi=_},7090:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.UnicodeApi=void 0;var _=function(){function s(l){this._core=l}return s.prototype.register=function(l){this._core.unicodeService.register(l)},Object.defineProperty(s.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(l){this._core.unicodeService.activeVersion=l},enumerable:!1,configurable:!0}),s}();r.UnicodeApi=_},744:function(x,r,_){var s,l=this&&this.__extends||(s=function(u,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var h in t)Object.prototype.hasOwnProperty.call(t,h)&&(e[h]=t[h])},s(u,i)},function(u,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=u}s(u,i),u.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}),f=this&&this.__decorate||function(u,i,e,t){var h,d=arguments.length,m=d<3?i:t===null?t=Object.getOwnPropertyDescriptor(i,e):t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,i,e,t);else for(var S=u.length-1;S>=0;S--)(h=u[S])&&(m=(d<3?h(m):d>3?h(i,e,m):h(i,e))||m);return d>3&&m&&Object.defineProperty(i,e,m),m},p=this&&this.__param||function(u,i){return function(e,t){i(e,t,u)}};Object.defineProperty(r,"__esModule",{value:!0}),r.BufferService=r.MINIMUM_ROWS=r.MINIMUM_COLS=void 0;var b=_(2585),y=_(5295),o=_(8460),a=_(844);r.MINIMUM_COLS=2,r.MINIMUM_ROWS=1;var g=function(u){function i(e){var t=u.call(this)||this;return t._optionsService=e,t.isUserScrolling=!1,t._onResize=new o.EventEmitter,t._onScroll=new o.EventEmitter,t.cols=Math.max(e.options.cols||0,r.MINIMUM_COLS),t.rows=Math.max(e.options.rows||0,r.MINIMUM_ROWS),t.buffers=new y.BufferSet(e,t),t}return l(i,u),Object.defineProperty(i.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),i.prototype.dispose=function(){u.prototype.dispose.call(this),this.buffers.dispose()},i.prototype.resize=function(e,t){this.cols=e,this.rows=t,this.buffers.resize(e,t),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:e,rows:t})},i.prototype.reset=function(){this.buffers.reset(),this.isUserScrolling=!1},i.prototype.scroll=function(e,t){t===void 0&&(t=!1);var h,d=this.buffer;(h=this._cachedBlankLine)&&h.length===this.cols&&h.getFg(0)===e.fg&&h.getBg(0)===e.bg||(h=d.getBlankLine(e,t),this._cachedBlankLine=h),h.isWrapped=t;var m=d.ybase+d.scrollTop,S=d.ybase+d.scrollBottom;if(d.scrollTop===0){var L=d.lines.isFull;S===d.lines.length-1?L?d.lines.recycle().copyFrom(h):d.lines.push(h.clone()):d.lines.splice(S+1,0,h.clone()),L?this.isUserScrolling&&(d.ydisp=Math.max(d.ydisp-1,0)):(d.ybase++,this.isUserScrolling||d.ydisp++)}else{var A=S-m+1;d.lines.shiftElements(m+1,A-1,-1),d.lines.set(S,h.clone())}this.isUserScrolling||(d.ydisp=d.ybase),this._onScroll.fire(d.ydisp)},i.prototype.scrollLines=function(e,t,h){var d=this.buffer;if(e<0){if(d.ydisp===0)return;this.isUserScrolling=!0}else e+d.ydisp>=d.ybase&&(this.isUserScrolling=!1);var m=d.ydisp;d.ydisp=Math.max(Math.min(d.ydisp+e,d.ybase),0),m!==d.ydisp&&(t||this._onScroll.fire(d.ydisp))},i.prototype.scrollPages=function(e){this.scrollLines(e*(this.rows-1))},i.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},i.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},i.prototype.scrollToLine=function(e){var t=e-this.buffer.ydisp;t!==0&&this.scrollLines(t)},f([p(0,b.IOptionsService)],i)}(a.Disposable);r.BufferService=g},7994:(x,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CharsetService=void 0;var _=function(){function s(){this.glevel=0,this._charsets=[]}return s.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},s.prototype.setgLevel=function(l){this.glevel=l,this.charset=this._charsets[l]},s.prototype.setgCharset=function(l,f){this._charsets[l]=f,this.glevel===l&&(this.charset=f)},s}();r.CharsetService=_},1753:function(x,r,_){var s=this&&this.__decorate||function(u,i,e,t){var h,d=arguments.length,m=d<3?i:t===null?t=Object.getOwnPropertyDescriptor(i,e):t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,i,e,t);else for(var S=u.length-1;S>=0;S--)(h=u[S])&&(m=(d<3?h(m):d>3?h(i,e,m):h(i,e))||m);return d>3&&m&&Object.defineProperty(i,e,m),m},l=this&&this.__param||function(u,i){return function(e,t){i(e,t,u)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CoreMouseService=void 0;var f=_(2585),p=_(8460),b={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(u){return u.button!==4&&u.action===1&&(u.ctrl=!1,u.alt=!1,u.shift=!1,!0)}},VT200:{events:19,restrict:function(u){return u.action!==32}},DRAG:{events:23,restrict:function(u){return u.action!==32||u.button!==3}},ANY:{events:31,restrict:function(u){return!0}}};function y(u,i){var e=(u.ctrl?16:0)|(u.shift?4:0)|(u.alt?8:0);return u.button===4?(e|=64,e|=u.action):(e|=3&u.button,4&u.button&&(e|=64),8&u.button&&(e|=128),u.action===32?e|=32:u.action!==0||i||(e|=3)),e}var o=String.fromCharCode,a={DEFAULT:function(u){var i=[y(u,!1)+32,u.col+32,u.row+32];return i[0]>255||i[1]>255||i[2]>255?"":"[M"+o(i[0])+o(i[1])+o(i[2])},SGR:function(u){var i=u.action===0&&u.button!==4?"m":"M";return"[<"+y(u,!0)+";"+u.col+";"+u.row+i}},g=function(){function u(i,e){this._bufferService=i,this._coreService=e,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new p.EventEmitter,this._lastEvent=null;for(var t=0,h=Object.keys(b);t<h.length;t++){var d=h[t];this.addProtocol(d,b[d])}for(var m=0,S=Object.keys(a);m<S.length;m++){var L=S[m];this.addEncoding(L,a[L])}this.reset()}return u.prototype.addProtocol=function(i,e){this._protocols[i]=e},u.prototype.addEncoding=function(i,e){this._encodings[i]=e},Object.defineProperty(u.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(i){if(!this._protocols[i])throw new Error('unknown protocol "'+i+'"');this._activeProtocol=i,this._onProtocolChange.fire(this._protocols[i].events)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"areMouseEventsActive",{get:function(){return this._protocols[this._activeProtocol].events!==0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(i){if(!this._encodings[i])throw new Error('unknown encoding "'+i+'"');this._activeEncoding=i},enumerable:!1,configurable:!0}),u.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(u.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),u.prototype.triggerMouseEvent=function(i){if(i.col<0||i.col>=this._bufferService.cols||i.row<0||i.row>=this._bufferService.rows||i.button===4&&i.action===32||i.button===3&&i.action!==32||i.button!==4&&(i.action===2||i.action===3)||(i.col++,i.row++,i.action===32&&this._lastEvent&&this._compareEvents(this._lastEvent,i))||!this._protocols[this._activeProtocol].restrict(i))return!1;var e=this._encodings[this._activeEncoding](i);return e&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(e):this._coreService.triggerDataEvent(e,!0)),this._lastEvent=i,!0},u.prototype.explainEvents=function(i){return{down:!!(1&i),up:!!(2&i),drag:!!(4&i),move:!!(8&i),wheel:!!(16&i)}},u.prototype._compareEvents=function(i,e){return i.col===e.col&&i.row===e.row&&i.button===e.button&&i.action===e.action&&i.ctrl===e.ctrl&&i.alt===e.alt&&i.shift===e.shift},s([l(0,f.IBufferService),l(1,f.ICoreService)],u)}();r.CoreMouseService=g},6975:function(x,r,_){var s,l=this&&this.__extends||(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(h[m]=d[m])},s(e,t)},function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function h(){this.constructor=e}s(e,t),e.prototype=t===null?Object.create(t):(h.prototype=t.prototype,new h)}),f=this&&this.__decorate||function(e,t,h,d){var m,S=arguments.length,L=S<3?t:d===null?d=Object.getOwnPropertyDescriptor(t,h):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(e,t,h,d);else for(var A=e.length-1;A>=0;A--)(m=e[A])&&(L=(S<3?m(L):S>3?m(t,h,L):m(t,h))||L);return S>3&&L&&Object.defineProperty(t,h,L),L},p=this&&this.__param||function(e,t){return function(h,d){t(h,d,e)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CoreService=void 0;var b=_(2585),y=_(8460),o=_(1439),a=_(844),g=Object.freeze({insertMode:!1}),u=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),i=function(e){function t(h,d,m,S){var L=e.call(this)||this;return L._bufferService=d,L._logService=m,L._optionsService=S,L.isCursorInitialized=!1,L.isCursorHidden=!1,L._onData=L.register(new y.EventEmitter),L._onUserInput=L.register(new y.EventEmitter),L._onBinary=L.register(new y.EventEmitter),L._scrollToBottom=h,L.register({dispose:function(){return L._scrollToBottom=void 0}}),L.modes=(0,o.clone)(g),L.decPrivateModes=(0,o.clone)(u),L}return l(t,e),Object.defineProperty(t.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.modes=(0,o.clone)(g),this.decPrivateModes=(0,o.clone)(u)},t.prototype.triggerDataEvent=function(h,d){if(d===void 0&&(d=!1),!this._optionsService.options.disableStdin){var m=this._bufferService.buffer;m.ybase!==m.ydisp&&this._scrollToBottom(),d&&this._onUserInput.fire(),this._logService.debug('sending data "'+h+'"',function(){return h.split("").map(function(S){return S.charCodeAt(0)})}),this._onData.fire(h)}},t.prototype.triggerBinaryEvent=function(h){this._optionsService.options.disableStdin||(this._logService.debug('sending binary "'+h+'"',function(){return h.split("").map(function(d){return d.charCodeAt(0)})}),this._onBinary.fire(h))},f([p(1,b.IBufferService),p(2,b.ILogService),p(3,b.IOptionsService)],t)}(a.Disposable);r.CoreService=i},3730:function(x,r,_){var s=this&&this.__decorate||function(b,y,o,a){var g,u=arguments.length,i=u<3?y:a===null?a=Object.getOwnPropertyDescriptor(y,o):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(b,y,o,a);else for(var e=b.length-1;e>=0;e--)(g=b[e])&&(i=(u<3?g(i):u>3?g(y,o,i):g(y,o))||i);return u>3&&i&&Object.defineProperty(y,o,i),i},l=this&&this.__param||function(b,y){return function(o,a){y(o,a,b)}};Object.defineProperty(r,"__esModule",{value:!0}),r.DirtyRowService=void 0;var f=_(2585),p=function(){function b(y){this._bufferService=y,this.clearRange()}return Object.defineProperty(b.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),b.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},b.prototype.markDirty=function(y){y<this._start?this._start=y:y>this._end&&(this._end=y)},b.prototype.markRangeDirty=function(y,o){if(y>o){var a=y;y=o,o=a}y<this._start&&(this._start=y),o>this._end&&(this._end=o)},b.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},s([l(0,f.IBufferService)],b)}();r.DirtyRowService=p},4348:function(x,r,_){var s=this&&this.__spreadArray||function(y,o,a){if(a||arguments.length===2)for(var g,u=0,i=o.length;u<i;u++)!g&&u in o||(g||(g=Array.prototype.slice.call(o,0,u)),g[u]=o[u]);return y.concat(g||Array.prototype.slice.call(o))};Object.defineProperty(r,"__esModule",{value:!0}),r.InstantiationService=r.ServiceCollection=void 0;var l=_(2585),f=_(8343),p=function(){function y(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];this._entries=new Map;for(var g=0,u=o;g<u.length;g++){var i=u[g],e=i[0],t=i[1];this.set(e,t)}}return y.prototype.set=function(o,a){var g=this._entries.get(o);return this._entries.set(o,a),g},y.prototype.forEach=function(o){this._entries.forEach(function(a,g){return o(g,a)})},y.prototype.has=function(o){return this._entries.has(o)},y.prototype.get=function(o){return this._entries.get(o)},y}();r.ServiceCollection=p;var b=function(){function y(){this._services=new p,this._services.set(l.IInstantiationService,this)}return y.prototype.setService=function(o,a){this._services.set(o,a)},y.prototype.getService=function(o){return this._services.get(o)},y.prototype.createInstance=function(o){for(var a=[],g=1;g<arguments.length;g++)a[g-1]=arguments[g];for(var u=(0,f.getServiceDependencies)(o).sort(function(S,L){return S.index-L.index}),i=[],e=0,t=u;e<t.length;e++){var h=t[e],d=this._services.get(h.id);if(!d)throw new Error("[createInstance] "+o.name+" depends on UNKNOWN service "+h.id+".");i.push(d)}var m=u.length>0?u[0].index:a.length;if(a.length!==m)throw new Error("[createInstance] First service dependency of "+o.name+" at position "+(m+1)+" conflicts with "+a.length+" static arguments");return new(o.bind.apply(o,s([void 0],s(s([],a,!0),i,!0),!1)))},y}();r.InstantiationService=b},7866:function(x,r,_){var s=this&&this.__decorate||function(o,a,g,u){var i,e=arguments.length,t=e<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,g):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(o,a,g,u);else for(var h=o.length-1;h>=0;h--)(i=o[h])&&(t=(e<3?i(t):e>3?i(a,g,t):i(a,g))||t);return e>3&&t&&Object.defineProperty(a,g,t),t},l=this&&this.__param||function(o,a){return function(g,u){a(g,u,o)}},f=this&&this.__spreadArray||function(o,a,g){if(g||arguments.length===2)for(var u,i=0,e=a.length;i<e;i++)!u&&i in a||(u||(u=Array.prototype.slice.call(a,0,i)),u[i]=a[i]);return o.concat(u||Array.prototype.slice.call(a))};Object.defineProperty(r,"__esModule",{value:!0}),r.LogService=void 0;var p=_(2585),b={debug:p.LogLevelEnum.DEBUG,info:p.LogLevelEnum.INFO,warn:p.LogLevelEnum.WARN,error:p.LogLevelEnum.ERROR,off:p.LogLevelEnum.OFF},y=function(){function o(a){var g=this;this._optionsService=a,this.logLevel=p.LogLevelEnum.OFF,this._updateLogLevel(),this._optionsService.onOptionChange(function(u){u==="logLevel"&&g._updateLogLevel()})}return o.prototype._updateLogLevel=function(){this.logLevel=b[this._optionsService.options.logLevel]},o.prototype._evalLazyOptionalParams=function(a){for(var g=0;g<a.length;g++)typeof a[g]=="function"&&(a[g]=a[g]())},o.prototype._log=function(a,g,u){this._evalLazyOptionalParams(u),a.call.apply(a,f([console,"xterm.js: "+g],u,!1))},o.prototype.debug=function(a){for(var g=[],u=1;u<arguments.length;u++)g[u-1]=arguments[u];this.logLevel<=p.LogLevelEnum.DEBUG&&this._log(console.log,a,g)},o.prototype.info=function(a){for(var g=[],u=1;u<arguments.length;u++)g[u-1]=arguments[u];this.logLevel<=p.LogLevelEnum.INFO&&this._log(console.info,a,g)},o.prototype.warn=function(a){for(var g=[],u=1;u<arguments.length;u++)g[u-1]=arguments[u];this.logLevel<=p.LogLevelEnum.WARN&&this._log(console.warn,a,g)},o.prototype.error=function(a){for(var g=[],u=1;u<arguments.length;u++)g[u-1]=arguments[u];this.logLevel<=p.LogLevelEnum.ERROR&&this._log(console.error,a,g)},s([l(0,p.IOptionsService)],o)}();r.LogService=y},7302:function(x,r,_){var s=this&&this.__assign||function(){return s=Object.assign||function(y){for(var o,a=1,g=arguments.length;a<g;a++)for(var u in o=arguments[a])Object.prototype.hasOwnProperty.call(o,u)&&(y[u]=o[u]);return y},s.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.OptionsService=r.DEFAULT_OPTIONS=r.DEFAULT_BELL_SOUND=void 0;var l=_(8460),f=_(6114);r.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",r.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,bellSound:r.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:f.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1};var p=["normal","bold","100","200","300","400","500","600","700","800","900"],b=function(){function y(o){for(var a in this._onOptionChange=new l.EventEmitter,this._options=s({},r.DEFAULT_OPTIONS),o)if(a in this._options)try{var g=o[a];this._options[a]=this._sanitizeAndValidateOption(a,g)}catch(u){console.error(u)}this.options=this._setupOptions(this._options)}return Object.defineProperty(y.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),y.prototype._setupOptions=function(o){var a=this,g=s({},o),u=function(e){Object.defineProperty(g,e,{get:function(){if(!(e in r.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');return a._options[e]},set:function(t){if(!(e in r.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');t=a._sanitizeAndValidateOption(e,t),a._options[e]!==t&&(a._options[e]=t,a._onOptionChange.fire(e))}})};for(var i in g)u(i);return g},y.prototype.setOption=function(o,a){this.options[o]=a},y.prototype._sanitizeAndValidateOption=function(o,a){switch(o){case"bellStyle":case"cursorStyle":case"rendererType":case"wordSeparator":a||(a=r.DEFAULT_OPTIONS[o]);break;case"fontWeight":case"fontWeightBold":if(typeof a=="number"&&1<=a&&a<=1e3)break;a=p.includes(a)?a:r.DEFAULT_OPTIONS[o];break;case"cursorWidth":a=Math.floor(a);case"lineHeight":case"tabStopWidth":if(a<1)throw new Error(o+" cannot be less than 1, value: "+a);break;case"minimumContrastRatio":a=Math.max(1,Math.min(21,Math.round(10*a)/10));break;case"scrollback":if((a=Math.min(a,4294967295))<0)throw new Error(o+" cannot be less than 0, value: "+a);break;case"fastScrollSensitivity":case"scrollSensitivity":if(a<=0)throw new Error(o+" cannot be less than or equal to 0, value: "+a);case"rows":case"cols":if(!a&&a!==0)throw new Error(o+" must be numeric, value: "+a)}return a},y.prototype.getOption=function(o){return this.options[o]},y}();r.OptionsService=b},8343:(x,r)=>{function _(s,l,f){l.di$target===l?l.di$dependencies.push({id:s,index:f}):(l.di$dependencies=[{id:s,index:f}],l.di$target=l)}Object.defineProperty(r,"__esModule",{value:!0}),r.createDecorator=r.getServiceDependencies=r.serviceRegistry=void 0,r.serviceRegistry=new Map,r.getServiceDependencies=function(s){return s.di$dependencies||[]},r.createDecorator=function(s){if(r.serviceRegistry.has(s))return r.serviceRegistry.get(s);var l=function(f,p,b){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");_(l,f,b)};return l.toString=function(){return s},r.serviceRegistry.set(s,l),l}},2585:(x,r,_)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.IUnicodeService=r.IOptionsService=r.ILogService=r.LogLevelEnum=r.IInstantiationService=r.IDirtyRowService=r.ICharsetService=r.ICoreService=r.ICoreMouseService=r.IBufferService=void 0;var s,l=_(8343);r.IBufferService=(0,l.createDecorator)("BufferService"),r.ICoreMouseService=(0,l.createDecorator)("CoreMouseService"),r.ICoreService=(0,l.createDecorator)("CoreService"),r.ICharsetService=(0,l.createDecorator)("CharsetService"),r.IDirtyRowService=(0,l.createDecorator)("DirtyRowService"),r.IInstantiationService=(0,l.createDecorator)("InstantiationService"),(s=r.LogLevelEnum||(r.LogLevelEnum={}))[s.DEBUG=0]="DEBUG",s[s.INFO=1]="INFO",s[s.WARN=2]="WARN",s[s.ERROR=3]="ERROR",s[s.OFF=4]="OFF",r.ILogService=(0,l.createDecorator)("LogService"),r.IOptionsService=(0,l.createDecorator)("OptionsService"),r.IUnicodeService=(0,l.createDecorator)("UnicodeService")},1480:(x,r,_)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.UnicodeService=void 0;var s=_(8460),l=_(225),f=function(){function p(){this._providers=Object.create(null),this._active="",this._onChange=new s.EventEmitter;var b=new l.UnicodeV6;this.register(b),this._active=b.version,this._activeProvider=b}return Object.defineProperty(p.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"activeVersion",{get:function(){return this._active},set:function(b){if(!this._providers[b])throw new Error('unknown Unicode version "'+b+'"');this._active=b,this._activeProvider=this._providers[b],this._onChange.fire(b)},enumerable:!1,configurable:!0}),p.prototype.register=function(b){this._providers[b.version]=b},p.prototype.wcwidth=function(b){return this._activeProvider.wcwidth(b)},p.prototype.getStringCellWidth=function(b){for(var y=0,o=b.length,a=0;a<o;++a){var g=b.charCodeAt(a);if(55296<=g&&g<=56319){if(++a>=o)return y+this.wcwidth(g);var u=b.charCodeAt(a);56320<=u&&u<=57343?g=1024*(g-55296)+u-56320+65536:y+=this.wcwidth(u)}y+=this.wcwidth(g)}return y},p}();r.UnicodeService=f}},C={};function M(x){var r=C[x];if(r!==void 0)return r.exports;var _=C[x]={exports:{}};return v[x].call(_.exports,_,_.exports,M),_.exports}var D={};return(()=>{var x=D;Object.defineProperty(x,"__esModule",{value:!0}),x.Terminal=void 0;var r=M(3236),_=M(9042),s=M(7975),l=M(7090),f=M(5741),p=M(8285),b=["cols","rows"],y=function(){function o(a){var g=this;this._core=new r.Terminal(a),this._addonManager=new f.AddonManager,this._publicOptions={};var u=function(t){Object.defineProperty(i._publicOptions,t,{get:function(){return g._core.options[t]},set:function(h){g._checkReadonlyOptions(t),g._core.options[t]=h}})},i=this;for(var e in this._core.options)u(e)}return o.prototype._checkReadonlyOptions=function(a){if(b.includes(a))throw new Error('Option "'+a+'" can only be set in the constructor')},o.prototype._checkProposedApi=function(){if(!this._core.optionsService.options.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(o.prototype,"onBell",{get:function(){return this._core.onBell},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new s.ParserApi(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"unicode",{get:function(){return this._checkProposedApi(),new l.UnicodeApi(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"buffer",{get:function(){return this._checkProposedApi(),this._buffer||(this._buffer=new p.BufferNamespaceApi(this._core)),this._buffer},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"modes",{get:function(){var a=this._core.coreService.decPrivateModes,g="none";switch(this._core.coreMouseService.activeProtocol){case"X10":g="x10";break;case"VT200":g="vt200";break;case"DRAG":g="drag";break;case"ANY":g="any"}return{applicationCursorKeysMode:a.applicationCursorKeys,applicationKeypadMode:a.applicationKeypad,bracketedPasteMode:a.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:g,originMode:a.origin,reverseWraparoundMode:a.reverseWraparound,sendFocusMode:a.sendFocus,wraparoundMode:a.wraparound}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"options",{get:function(){return this._publicOptions},set:function(a){for(var g in a)this._publicOptions[g]=a[g]},enumerable:!1,configurable:!0}),o.prototype.blur=function(){this._core.blur()},o.prototype.focus=function(){this._core.focus()},o.prototype.resize=function(a,g){this._verifyIntegers(a,g),this._core.resize(a,g)},o.prototype.open=function(a){this._core.open(a)},o.prototype.attachCustomKeyEventHandler=function(a){this._core.attachCustomKeyEventHandler(a)},o.prototype.registerLinkMatcher=function(a,g,u){return this._checkProposedApi(),this._core.registerLinkMatcher(a,g,u)},o.prototype.deregisterLinkMatcher=function(a){this._checkProposedApi(),this._core.deregisterLinkMatcher(a)},o.prototype.registerLinkProvider=function(a){return this._checkProposedApi(),this._core.registerLinkProvider(a)},o.prototype.registerCharacterJoiner=function(a){return this._checkProposedApi(),this._core.registerCharacterJoiner(a)},o.prototype.deregisterCharacterJoiner=function(a){this._checkProposedApi(),this._core.deregisterCharacterJoiner(a)},o.prototype.registerMarker=function(a){return this._checkProposedApi(),this._verifyIntegers(a),this._core.addMarker(a)},o.prototype.addMarker=function(a){return this.registerMarker(a)},o.prototype.hasSelection=function(){return this._core.hasSelection()},o.prototype.select=function(a,g,u){this._verifyIntegers(a,g,u),this._core.select(a,g,u)},o.prototype.getSelection=function(){return this._core.getSelection()},o.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},o.prototype.clearSelection=function(){this._core.clearSelection()},o.prototype.selectAll=function(){this._core.selectAll()},o.prototype.selectLines=function(a,g){this._verifyIntegers(a,g),this._core.selectLines(a,g)},o.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},o.prototype.scrollLines=function(a){this._verifyIntegers(a),this._core.scrollLines(a)},o.prototype.scrollPages=function(a){this._verifyIntegers(a),this._core.scrollPages(a)},o.prototype.scrollToTop=function(){this._core.scrollToTop()},o.prototype.scrollToBottom=function(){this._core.scrollToBottom()},o.prototype.scrollToLine=function(a){this._verifyIntegers(a),this._core.scrollToLine(a)},o.prototype.clear=function(){this._core.clear()},o.prototype.write=function(a,g){this._core.write(a,g)},o.prototype.writeUtf8=function(a,g){this._core.write(a,g)},o.prototype.writeln=function(a,g){this._core.write(a),this._core.write(`\r
`,g)},o.prototype.paste=function(a){this._core.paste(a)},o.prototype.getOption=function(a){return this._core.optionsService.getOption(a)},o.prototype.setOption=function(a,g){this._checkReadonlyOptions(a),this._core.optionsService.setOption(a,g)},o.prototype.refresh=function(a,g){this._verifyIntegers(a,g),this._core.refresh(a,g)},o.prototype.reset=function(){this._core.reset()},o.prototype.clearTextureAtlas=function(){this._core.clearTextureAtlas()},o.prototype.loadAddon=function(a){return this._addonManager.loadAddon(this,a)},Object.defineProperty(o,"strings",{get:function(){return _},enumerable:!1,configurable:!0}),o.prototype._verifyIntegers=function(){for(var a=[],g=0;g<arguments.length;g++)a[g]=arguments[g];for(var u=0,i=a;u<i.length;u++){var e=i[u];if(e===1/0||isNaN(e)||e%1!=0)throw new Error("This API only accepts integers")}},o}();x.Terminal=y})(),D})()})})(Go);var Xo={exports:{}};(function(c,n){(function(v,C){c.exports=C()})(self,function(){return(()=>{var v={775:(M,D)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.FitAddon=void 0;var x=function(){function r(){}return r.prototype.activate=function(_){this._terminal=_},r.prototype.dispose=function(){},r.prototype.fit=function(){var _=this.proposeDimensions();if(_&&this._terminal){var s=this._terminal._core;this._terminal.rows===_.rows&&this._terminal.cols===_.cols||(s._renderService.clear(),this._terminal.resize(_.cols,_.rows))}},r.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var _=this._terminal._core;if(_._renderService.dimensions.actualCellWidth!==0&&_._renderService.dimensions.actualCellHeight!==0){var s=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(s.getPropertyValue("height")),f=Math.max(0,parseInt(s.getPropertyValue("width"))),p=window.getComputedStyle(this._terminal.element),b=l-(parseInt(p.getPropertyValue("padding-top"))+parseInt(p.getPropertyValue("padding-bottom"))),y=f-(parseInt(p.getPropertyValue("padding-right"))+parseInt(p.getPropertyValue("padding-left")))-_.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(y/_._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(b/_._renderService.dimensions.actualCellHeight))}}}},r}();D.FitAddon=x}},C={};return function M(D){if(C[D])return C[D].exports;var x=C[D]={exports:{}};return v[D](x,x.exports,M),x.exports}(775)})()})})(Xo);const Lf=["id","data-id"],Af={class:"window-content"},xf={class:"window-title base-title"},kf=N("header",null,"\u7EC8\u7AEF",-1),Mf={class:"opt"},Rf=N("div",{style:{padding:"0px"},class:"window-body"},[N("div",{id:"xterm-container"})],-1),Of={props:{item:Object,actionWindowId:String},setup(c){const n=c;let v=null;n.item.events=function(l,f){l=="close"&&v.disconnect()};const C=new Xo.exports.FitAddon,M=new Go.exports.Terminal({fontSize:16,rightClickSelectsWord:!0,letterSpacing:0,allowTransparency:!0,cursorBlink:!0,cursorStyle:"bar",cols:80,rows:24,theme:{background:"#00000000"}});M.loadAddon(C),M.onData(l=>{D(l)}),M.onKey(function(l){});const D=(l,f=!1)=>{f&&(l=l+"\r"),v.send("/desktop/desktop",{},l)},x=(l,f)=>(Array(f).join(0)+l).slice(-f);Ui(()=>{Ca().listenTo(document.getElementById(n.item.id),p=>{C.fit();var b="setSize"+x(M.cols,4)+x(M.rows,4)+x(p.offsetWidth,4)+x(p.offsetHeight,4);console.log(v.connected),v.connected&&v.send("/desktop/desktop",{},b)});let f=document.querySelector("#"+n.item.id+" #xterm-container");M.open(f),s()});const r=l=>{v.subscribe("/topic/ssh",f=>{M.write(f.body)}),D(`cd ${n.item.data.path}`,!0)},_=l=>{M.writeln("\u8FDE\u63A5\u5DF2\u65AD\u5F00\uFF01\u3002")},s=()=>{let l="/desktop-socket-endpoint",f=new SockJS(l);v=Ef.over(f),v.connect({},r,_),v.debug=null};return(l,f)=>(ie(),se("div",{id:c.item.id,"data-id":c.item.id,class:ue([{"hide-window":c.item.hideWindow,"close-window-transition":c.item.closeWindowTransition,"window-transition":c.item.windowTransition,"window-scale":c.item.windowScale,"min-window":c.item.minState,"max-window":c.item.maxState,"window-z-height":c.item.actionWindow,terminal:c.item.windowType=="terminal"},"window-item window-item-resize"]),onMousedown:f[3]||(f[3]=(...p)=>V(Y).windowMove&&V(Y).windowMove(...p)),onMouseup:f[4]||(f[4]=(...p)=>V(Y).windowMouseUp&&V(Y).windowMouseUp(...p))},[N("div",Af,[N("div",xf,[kf,N("div",Mf,[N("i",{class:"iconfont icon-tzuixiaohua",onClick:f[0]||(f[0]=p=>V(Y).windowMin(c.item.id))}),N("i",{class:"iconfont icon-big",onClick:f[1]||(f[1]=p=>V(Y).windowFullScreen(c.item.id))}),N("i",{class:"iconfont icon-webicon309",onClick:f[2]||(f[2]=p=>V(Y).closeWindow(c.item.id))})])]),Rf])],42,Lf))}},Tf=["data-id"],Df={class:"window-content"},Bf={class:"window-title base-title"},Pf=N("header",{class:"base-title"},"\u6587\u4EF6\u5C5E\u6027",-1),If={class:"opt"},Hf={class:"window-body"},Ff={class:"icon"},Wf=["src"],jf={class:"item-info"},Uf=N("span",{class:"name"},"\u6587\u4EF6\u540D\u79F0:",-1),Nf={class:"value"},qf={class:"item-info"},zf=N("span",{class:"name"},"\u5927\u5C0F:",-1),$f={class:"value"},Vf={class:"item-info"},Kf=N("span",{class:"name"},"\u521B\u5EFA\u65F6\u95F4:",-1),Gf={class:"value"},Xf={class:"item-info"},Jf=N("span",{class:"name"},"\u6700\u540E\u4FEE\u6539\u65F6\u95F4:",-1),Yf={class:"value"},Zf={class:"item-info"},Qf=N("span",{class:"name"},"\u6700\u540E\u8BBF\u95EE\u65F6\u95F4:",-1),ed={class:"value"},td={class:"item-info"},rd=N("span",{class:"name"},"\u6240\u6709\u8005:",-1),id={class:"value"},nd={props:{item:Object,actionWindowId:String},setup(c){const n=c;let v=ht("/");const C=x=>x<1024?x+"\u5B57\u8282":x/1024<1024?Math.floor(x/1024)+"KB":Math.round(x/1024/1024)+"MB",M=x=>{var r=new Date(x),_=r.getFullYear()+"-",s=(r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1)+"-",l=(r.getDate()<10?"0"+r.getDate():r.getDate())+" ",f=(r.getHours()<10?"0"+r.getHours():r.getHours())+":",p=(r.getMinutes()<10?"0"+r.getMinutes():r.getMinutes())+":",b=r.getSeconds()<10?"0"+r.getSeconds():r.getSeconds();return _+s+l+f+p+b};let D=ut({attribute:{}});return Du(n.item.data.path).then(x=>{D.attribute=x.data.data,console.log(D)}),(x,r)=>(ie(),se("div",{"data-id":c.item.id,class:ue([{"hide-window":c.item.hideWindow,"close-window-transition":c.item.closeWindowTransition,"window-transition":c.item.windowTransition,"window-scale":c.item.windowScale,"min-window":c.item.minState,"max-window":c.item.maxState,"window-z-height":c.item.actionWindow,"fil-attribute":c.item.windowType=="file-attribute"},"window-item"]),onMousedown:r[2]||(r[2]=(..._)=>V(Y).windowMove&&V(Y).windowMove(..._)),onMouseup:r[3]||(r[3]=(..._)=>V(Y).windowMouseUp&&V(Y).windowMouseUp(..._))},[N("div",{onClick:r[0]||(r[0]=_=>V(Y).setWindowPos(c.item.id)),class:ue([{action:c.actionWindowId==c.item.id},"window-mask"])},null,2),N("div",Df,[N("div",Bf,[Pf,N("div",If,[N("i",{class:"iconfont icon-webicon309",onClick:r[1]||(r[1]=_=>V(Y).closeWindow(c.item.id))})])]),N("div",Hf,[N("header",Ff,[N("img",{src:V(v)+"desktop/api/file/getFileIconByType?type="+V(D).attribute.type,alt:""},null,8,Wf)]),N("div",jf,[Uf,N("span",Nf,ke(V(D).attribute.name),1)]),N("div",qf,[zf,N("span",$f,ke(C(V(D).attribute.fileSize)),1)]),N("div",Vf,[Kf,N("span",Gf,ke(M(V(D).attribute.createTimer)),1)]),N("div",Xf,[Jf,N("span",Yf,ke(M(V(D).attribute.lastModifiedTime)),1)]),N("div",Zf,[Qf,N("span",ed,ke(M(V(D).attribute.lastAccessTime)),1)]),N("div",td,[rd,N("span",id,ke(V(D).attribute.owner),1)])])])],42,Tf))}};const od={class:"app-list"},sd=N("div",{class:"app-item"},[N("div",{class:"app-icon"},[N("img",{src:Wn,alt:""})]),N("div",{class:"app-name"},"\u6587\u4EF6")],-1),ad=[sd],cd=N("div",{class:"app-item"},[N("div",{class:"app-icon"},[N("img",{src:Wn,alt:""})]),N("div",{class:"app-name"},"\u4E0A\u4F20\u7BA1\u7406\u5668")],-1),ld=[cd],ud={class:"work-region"},hd={class:"task-bar"},fd=N("div",{class:"task-bar-mask"},null,-1),dd={class:"task-bar-content"},pd=N("div",{class:"task-item"},[N("img",{src:ns})],-1),_d=[pd],vd=["onClick"],gd={class:"task-item"},yd=["src"],Sd={setup(c){return be.startNewTerminal("/home"),Ui(()=>{setTimeout(()=>{te.desktopScale=!1},10)}),(n,v)=>(ie(),se("div",{class:ue([{"desktop-none":V(te).desktopScale},"desktop"])},[N("div",{class:ue(["app-starter",{"app-starter-visible":V(te).appStarterVisible}])},[N("div",od,[N("ul",null,[N("li",{onDblclick:v[0]||(v[0]=C=>V(be).openNewFolder())},ad,32),N("li",{onDblclick:v[1]||(v[1]=C=>V(be).openFileUploadManager())},ld,32)])])],2),N("div",ud,[(ie(!0),se(xt,null,Kt(V(te).windowsCollection,C=>(ie(),se(xt,{key:C},[C.windowType=="dialog-create-file"?(ie(),$e(Ys,{key:0,actionWindowId:V(te).actionWindowId,item:C},null,8,["actionWindowId","item"])):ve("",!0),C.windowType=="upload-manager"?(ie(),$e(ef,{key:1,actionWindowId:V(te).actionWindowId,item:C},null,8,["actionWindowId","item"])):ve("",!0),C.windowType=="folder"?(ie(),$e(ph,{key:2,actionWindowId:V(te).actionWindowId,item:C},null,8,["actionWindowId","item"])):ve("",!0),C.windowType=="web"?(ie(),$e(wh,{key:3,actionWindowId:V(te).actionWindowId,item:C},null,8,["actionWindowId","item"])):ve("",!0),C.windowType=="error-message"?(ie(),$e(Mh,{key:4,actionWindowId:V(te).actionWindowId,item:C},null,8,["actionWindowId","item"])):ve("",!0),C.windowType=="success-message"?(ie(),$e(Ih,{key:5,actionWindowId:V(te).actionWindowId,item:C},null,8,["actionWindowId","item"])):ve("",!0),C.windowType=="dialog-select"?(ie(),$e(Ns,{key:6,actionWindowId:V(te).actionWindowId,item:C},null,8,["actionWindowId","item"])):ve("",!0),C.windowType=="file-attribute"?(ie(),$e(nd,{key:7,actionWindowId:V(te).actionWindowId,item:C},null,8,["actionWindowId","item"])):ve("",!0),C.windowType=="terminal"?(ie(),$e(Of,{key:8,actionWindowId:V(te).actionWindowId,item:C},null,8,["actionWindowId","item"])):ve("",!0)],64))),128))]),N("div",hd,[fd,N("div",dd,[N("ul",null,[N("li",{onClick:v[2]||(v[2]=C=>V(be).openStarter())},_d),(ie(!0),se(xt,null,Kt(V(te).windowsCollection,C=>(ie(),se("li",{key:C,onClick:M=>V(Y).showWindow(C.id)},[N("div",gd,[N("img",{class:ue({select:C.id==V(te).actionWindowId}),src:C.icon,alt:""},null,10,yd),N("span",{class:ue({select:C.id==V(te).actionWindowId})},null,2)])],8,vd))),128))])])])],2))}};export{Sd as default};
