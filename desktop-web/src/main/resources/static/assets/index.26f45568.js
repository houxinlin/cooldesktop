var gr=Object.defineProperty;var dr=Object.getOwnPropertySymbols;var mr=Object.prototype.hasOwnProperty,yr=Object.prototype.propertyIsEnumerable;var cr=(e,t,n)=>t in e?gr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,He=(e,t)=>{for(var n in t||(t={}))mr.call(t,n)&&cr(e,n,t[n]);if(dr)for(var n of dr(t))yr.call(t,n)&&cr(e,n,t[n]);return e};var ue=(e,t,n)=>(cr(e,typeof t!="symbol"?t+"":t,n),n);import{e as reactive,f as ref,o as openBlock,g as createElementBlock,h as createBaseVNode,u as unref,n as normalizeClass,w as withDirectives,v as vModelText,i as vModelRadio,j as createTextVNode,t as toDisplayString,k as onMounted,l as normalizeStyle,p as createCommentVNode,F as Fragment,q as renderList,s as isRef,x as withModifiers,y as getCurrentInstance,z as isString$2,A as hyphenate,N as NOOP,B as extend$1,C as isObject$1,D as isArray$5,E as makeMap,G as EMPTY_OBJ,H as capitalize,I as camelize$1,P as PatchFlagNames,J as isSymbol$1,K as isOn,L as toHandlerKey,M as NO,O as isReservedProp,Q as isVoidTag,R as isHTMLTag,S as isSVGTag,T as parseStringStyle,U as generateCodeFrame,V as runtimeDom_esmBundler,W as shared_esmBundler,X as createVNode,c as createBlock}from"./vendor.a2ed5c7d.js";var _imports_0$3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAf1JREFUaEPtWj1LA0EQneE2d6QRISHhogEL02gjNiJYxMp/IJb+M1v/gpWp/EBsxNgoJJB4CyFnIyQc2bAyEkGPVefwgoKz9duXvfnYe28uGEXRKQA0gbEQ8RIADsIw7KbhWusja+0hg4YgV4i4n+bRWq8AwLG1dovJ08IoiiwT/AqbTqe79Xq9ld6TB0+v12t6nkcBZS95gLdQSQYAQEqI0znSxLMouQIhJSQlxIlA3iWktb7I8OoGpVSjUqk8ON7EbElCe108g8Fg1Rhzz40DSRsk/WGMIQ3y7VJKDcIwvHMBO53OolJq41sSAPA877lWq127sFrrNWNMhcOjlOoiB/iXMfIAv50dycCvZ0Ac2SwF4gfEDzC7UfxA3mIuj+ajM+XBI4aG0wbSA9IDH+uEDM2ZtXabUz6ECYKgXiqV+j91ZC6eOI6XkyTpcc+CiOevapS6n7PJNdR9v4/L4/v+U7VavfnsN7k8dB6R05zMzRMjGZhndDncOBwOl8bjcYMDDoKg75oJ0d44jhdGo9Emh+er8QzNhpIkWebwFIvFe7pGb62165wNhEHEdddsKIuz+4yHZkLW2naGs7TlE9NbtESNiqVkdo7IaZHTKTmdx+0hnngW1H9r6tnfthCxXSgU9srl8mP60sr4d5uu7/s7aR7SZZPJ5CSDtGm9AAg0CqS22P2EAAAAAElFTkSuQmCC",getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(e){return typeof e=="string"&&REGEX.test(e)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify$2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(byteToHex[e[t+0]]+byteToHex[e[t+1]]+byteToHex[e[t+2]]+byteToHex[e[t+3]]+"-"+byteToHex[e[t+4]]+byteToHex[e[t+5]]+"-"+byteToHex[e[t+6]]+byteToHex[e[t+7]]+"-"+byteToHex[e[t+8]]+byteToHex[e[t+9]]+"-"+byteToHex[e[t+10]]+byteToHex[e[t+11]]+byteToHex[e[t+12]]+byteToHex[e[t+13]]+byteToHex[e[t+14]]+byteToHex[e[t+15]]).toLowerCase();if(!validate(n))throw TypeError("Stringified UUID is invalid");return n}function v4(e,t,n){e=e||{};var o=e.random||(e.rng||rng)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){n=n||0;for(var h=0;h<16;++h)t[n+h]=o[h];return t}return stringify$2(o)}function randId(){return v4()}class LinuxPath{constructor(t){this.path=t,this.pathBlock=[],this.parse()}range(t){let n=this.pathBlock.slice(0,t+1);if(this.pathBlock=n,n.length==1){this.path=n.join("/");return}this.path=n.join("/").substring(1)}append(t){if(this.path==""&&t=="/"){this.path="/",this.parse();return}if(this.path=="/"){this.path=this.path+t,this.parse();return}this.path=this.path+"/"+t,this.parse()}getPath(){return this.path}parse(){if(this.path=="/"){this.pathBlock=["/"];return}let t=this.path.split("/");t[0]="/",this.pathBlock=t}}class Folder{constructor(t,n){this.path=new LinuxPath(t),this.child=n,this.select="",this.currentSelectName="",this.contextMenuPoint={x:0,y:0},this.contextMenuVisible=!1,this.folderContextMenuVisible=!1,this.folderContextMenuPoint={x:0,y:0},this.selectFileItem=null}}const createFolder=(e,t)=>new Folder(e,t);let actionMoveId="";class WindowActions{constructor(){ue(this,"setCanResize",(t,n)=>{this.getAppById(t).instance.canResize=n});ue(this,"closeWindowByType",t=>{let n=[];for(let o=0;o<state.windowsCollection.length;o++)state.windowsCollection[o].windowType==t&&n.push(o);for(const o of n)state.windowsCollection.splice(o,1)});ue(this,"hideWindow",t=>{if(t){state.windowVisibleState=state.windowsCollection.filter(n=>n.hideWindow==!0);for(const n of state.windowsCollection)n.hideWindow=!0;return}for(const n of state.windowsCollection)n.hideWindow=!1});ue(this,"getAppById",t=>{let n=state.windowsCollection.findIndex(o=>o.id==t);return{instance:state.windowsCollection[n],index:n}});ue(this,"setWindowPos",t=>{for(const n of state.windowsCollection)n.actionWindow=!1;if(state.actionWindowId=t,this.getAppById(t).instance.actionWindow=!0,this.getAppById(t).instance.minState){this.getAppById(t).instance.minState=!1;return}});ue(this,"windowMouseUp",(t,n)=>{for(const o of state.windowsCollection)o.pointerEvents=!1});ue(this,"showWindow",t=>{if(state.appStarterVisible){hideWindow(!1),state.appStarterVisible=!1;return}let n=this.getAppById(t);if(n.instance.actionWindow==!0){n.instance.windowScale=!0,setTimeout(()=>{n.instance.windowScale=!1},301);return}n.instance.minState&&(n.instance.minState=!1),this.setWindowPos(t)});ue(this,"windowMin",t=>{this.getAppById(t).instance.minState=!this.getAppById(t).instance.minState,this.getAppById(t).instance.actionWindow=!1,state.actionWindowId=-1});ue(this,"closeWindow",t=>{this.postWindowEvents(t,"close",{}),this.getAppById(t).instance.closeWindowTransition=!0,setTimeout(()=>{state.windowsCollection.splice(this.getAppById(t).index,1),state.actionWindowId==t&&(state.actionWindowId="")},200)});ue(this,"windowFullScreen",t=>{for(const o of state.windowsCollection)o.pointerEvents=!0;let n=this.getAppById(t);n.instance.maxState?(n.instance.maxState=!n.instance.maxState,setTimeout(()=>{n.instance.windowTransition=!n.instance.windowTransition;for(const o of state.windowsCollection)o.pointerEvents=!1},500)):(n.instance.windowTransition=!n.instance.windowTransition,setTimeout(()=>{n.instance.maxState=!n.instance.maxState;for(const o of state.windowsCollection)o.pointerEvents=!1},10))});ue(this,"postWindowEvents",(t,n,o)=>{let h=this.getAppById(t).instance.events;typeof h=="function"&&h(n,o)});ue(this,"windowMove",t=>{if(t.which==3)return;for(const r of state.windowsCollection)r.pointerEvents=!0;let n=t.target,o=n,h=[];for(;h.findIndex(r=>r=="window-item")==-1;){n=n.parentNode;let r=n.classList;if(r==null)return;h=[...r]}actionMoveId=n.getAttribute("data-id"),this.setWindowPos(actionMoveId),n.style.zIndex=9999;for(const r of document.querySelectorAll(".window-item"))r!=n&&(r.style.zIndex=1e3);if([...o.classList].findIndex(r=>r=="window-title")==-1&&o.nodeName!="HEADER")return;let _=t.clientX-n.offsetLeft,g=t.clientY-n.offsetTop;document.onmousemove=r=>{let a=r.clientX-_,s=r.clientY-g;if(s<=-10){document.onmousemove=null,document.onmouseup=null,this.windowFullScreen(actionMoveId);return}this.postWindowEvents(actionMoveId,"move",{left:a,top:s}),n.style.left=a+"px",n.style.top=s+"px"},document.onmouseup=r=>{document.onmousemove=null,document.onmouseup=null}})}}let defaultAppList=[{name:"\u6587\u4EF6",icon:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAudJREFUeF7tW01IVFEU/s68eTXZn2G1McdoGxQFQZCDI1qLaCMtgmhjQRGTZu2CwHERtAj6GQssmoRo0SIpxFUDhZNCLQTbuYgYpcAinTQTnu+9EzPk2BQ5P8y7Pp0zy8e55/vu98659368uYQy/1GZzx8igFTAXwoEIolTIM8RgPcC2OO0QAyeIKIRMI/aQN/ghdqXTmP+mT+rBQJdiTsAtaok8A8W42a81X9ZFYeMAIGuxARA21UBL4lDeB4P+ZtVcEkLUHd3/BYxX1QBmC8GER0fCNX05htfbBwFb4xutXzrvhabwMFxSZhmfbx913sHMUCBSOIQiN44CVJ0bhst8TZ/T9Hj8xhIdZHEWSLqziNWeQgRrg2E/FedBE4JECaiDidBis/Nz5jtruLHZ4+c503Db9uqprO2QXcLUKqpL+YhQp9p4dJQm/9D6qnLK6D0AixktE2tdrC9eqxsBQBTf7y15lhOAU7s3+Lca1CQ+enw1H9RmK2GnAKcPliFA7UVCqiWHmLo4ywev5tcQgDuFAFy7QJSAeXUAkReeLS1AGmZvtm3owLVm/XSN6iCjONJAyOf5jJIbM+DbQPMVvoZ8+81wOPROzR9IzTvegW0lh/CMmdhGlOLAqzxbevwaL7lZ6aQgWkkYc7PdFJ99+QTXa88qRDbNVDG3Jfb1HB/ul/zbjjqGlYKiZjGzAtqePDjlaZVBBXiugbKsn6+FgGkAqQFZA2QRVB2AdkG5RwgByHXHM8UEpGToByFxQuIGRI3KG5Q3KC4QXGD4gbFDYobFDeo0IS5BirtBpseWmG49m9yDmuV+josAkgFSAuU+RoQ5RaAow4vN65Mz7bdTId7uJFtjrmSoaOk6LNJ2J2+MdIYtXsJUHJFxdE5FZKcuTN2Rgtn7gw1Rfk8wPcKybFiY4mvx1q0Kyn+WbfGgo+4Ugd2smlWrtjJLUXc6/0GA2Oxc/R9IUxujq7KN13ApKQCChBrVYb+ApRNrTi6D+vLAAAAAElFTkSuQmCC",self.location).href,action:()=>{coolWindow.openNewFolder()}},{name:"\u6587\u4EF6\u4E0A\u4F20\u7BA1\u7406\u5668",icon:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAACLJJREFUeF7tWn1wVFcV/533QoBCyb6NiMgwFQomWZK3SQpDrR0keRvlo0L9AFtLbR2+6/RD/9GxzhQcrZ3+0yqKJBTHzoAgmTqUtKlMsgEdW6hAkt1Nk9DWCm3BIkl2Q2gp2d17nJfhI2Tf3ffebsAZyP0z93e+fnvuueeeF8JNvugmjx8jBIxkwE3OwMgRuMkTYKQIXpcjsL8tWsqMeQyUEGMGM88EKfkAjhNwnAnHidHSdza+c+ndE/uuZ1ZeMwKCkdhXwXwfAQEGpjoNisE1KuXUVZRMeMWpTDa4YScgGOl9ECxWAZiXjWMAHQTwnKF7arPTk1562AjY/28eI87FngHj8eF1mGsZ/FxAzzcJGfY1LAQ0tvX5FE5UM+PuYffwskJafi2yIWsCzOBJJHYDmHXtgr+kefhJyIoAF8GfAxAGc5gV5QhIPZhMfnxCVcf6iFEoROJ2heg7ABXakzi8JGRFQDASrQPjnnROM7iaFTxdVex93y64xlDs20S8BkCVHZaAA4Joe646qn6eb9x/7PCy/YwJCIZ6ngTRL+SG6U0B/lWVrr3sxLlgOPowAQ8xMN8JfhDmlGCxdfSoMdWZEJERAftCXXNzSD0kc1Sw2BhVvU8vL6Z+J8E0hLo3KKQ85QSbBnNKCDxTVaptcqMnIwIaw9HtBDxgaYjxF8OvfcupE/tCH43LodFvA/i8Uxmbm/1Phu6x9s1C0DUBwXDPQoDqJU6EeZRaGSia0O00mMa23jkkxD+d4p3gmGhfoMSzwAnWNQFNkeiLzPheinLm80LQoqoy7YATw4MxTZFoCzNKJXImmacIGCCVAR+Az9rZMI9hlT9/gx3OFQED3V5f7F+SdH3e0LUf2hm02m9oic5XVOwYpDdtYWsKRZcw4V4A309nzwkJ7giInL1HcLLOyigxBSr9nmAmBJgyf2//eHK8vz+gqGrU6UMoGI4tA/hJAH6pXSbD8HuaZPuOCXjjDR57flxsOwjftFD2vqFrt2UafDZy+4+d/QxfSNbKr0+qN3TP4qwICLZ+MoWUC9ulRgi/Nkq0J7IJJFvZxnD0PQKmWelhplUBv2ebZebaGd4Xik3LId4DQJdhRRIVbouf75H945MJz0KCmMUqNR/7ffleO1/S7TeFzhYwJY8CGDcUZ3aNlbpWkREBwXBsB8DfTWdcSWJaRZl23GkAResOFzPUajDuuiJDDUSJH3VsmdPmVM9Q3MWaYD7MUpaha5bHPW0NaGiNPqoo+I28wOAMiP9g6N6fOHXat7qlVCi8E4DVw6dTEXR/+9ayVqf6UkmIspWsLEulBPyj88ytF+I5ETBkxe2PShIb3fzyvnWtZQJiNxgzpAES3lWgLG/fUtqSCQmytlp2JUoJCIZjqwGusXaCf2vo3kfdOOhb3TpLkHgVJCX0ijrGCYWVxe1bS99yY8PEyt8VXGvo3uUW9cHaRDAcNe/0SovdvYauLXXjWNHalpkM3g9gigu5kwSq6Kgue8eFDC42Vaatq5asEFpmgHntQbnwoZuzJHOyaGXzbZyDNwFMchPIRexpSmBux7byE05l5YWQXjN0zyJHGSBjEYQ6o0Rb4tSZojVHJjMpEQDmN4BMVzexKOmome1o6CE7AgzsCOjaCkcEBEOxVSDeOhTMzJsDfu8PnEQya2WbN5nT/x6APCd4G0yvmsid/ta24h47XcFwz26AllngNhm69pgjAhpDPT8lol+mgunZSt3zYzsnfI+0jRfJ/tMAbrHDutj/RFFzJ7VvLjbni9IVDEfNPiJlQOvqFmgMda8kUl5IscK81/B70xZA37K2XKH194GQ6yI4Z1BGvxLNvbW9tthy0tTQ2v01RVH+alm7BMqrSrWUq9WyCDZFehczC4tPU3zM0L1pJ7eFa5uTABRnEWWEEp3V5aqVpOzXB9Bi6Fq5lYwlAfsi3VNzWLGc4pKiLq0snmDZtxeubTavH7dDzUxYONBZXX5Vb5/m7CPdXCBdI3QI4Lkp3hF1GSWeiUP/XrCu5QFi3m4XDTMtJ2LLft2Utdu/pJ+JVhzbUmYOUdAU7l3EEK9KbL8bV5S5C4rzLAuonIBI9CkwZCOlo4auzR5ssHDN0Q0gSjvZHQhOSZwBqymNymVdlKxgkTMxHUkDWOaNNeu++Lt4TuJZAA9LiSc8ZpTIJ8VSAl4Jx7SxwEGAC6yV06fEWFHp97xk7hesb15CAtJvAGbwx2rKagvXHZ5vR0DnljkHCta0LEtHwoI7tOqv3+kx7/WU5+/lLAFeDuiaOTpLw0+6KyUSWw/mzekUMPgDgtJpfvb6+c4Pv3E6Gp8+FL9ojqd24Zy8dvPvr7ef+8KuA90PyXTeNz//xS/7xg88rV873OurP2yOva5edxaOx4NGyikcCuuNnzs3fcFdU9P2DrYjMbcfLeoPx9DQHEN/gqFPuwVVZXmYPnnMZefeOfkpnt8jb+qeuHcyZk65gu/44DzqDkVx4r8XkDdORYU/b0Cn7SKaYZR4zAFu2mVLgCkdDMfqAV5op+zSfjzB6Dobx2RvaivgloBLOk9292NKvoPWgugjIl5QWayFnPjriABTUWOoZxcNfMHNbmVKgBOrDOxRR6urKwomdDnBmxjHBAxkwkBNMP8DRFYY7c1eEwIYrzOLTYHS/D/be3A1whUBpqh5O4zm5OMqKV/J4Esuho0Axhko9BIL8beA37vLbeCX8K4JGGzI/JiRSCbKhUh8DqBJDLY9pG5ugcG2FFCcSelSFHQl49ztdgotIygrAjJh3WkfkInuTGRGCMiEtWxkRjLAYSucDcluZK//EVh/9A4IOiJzUrAoertmdqebILLBXncCStaHtbhIyPrzQ53V5V/KJiC3stedANNB2dOZCPd3bCnP+E53G7zrTjATAzKZgecu+Gcg6GCECbSpo6YsdQ45nEYtdP1fMuAax+RK/QgBrui6AcEjGXAD/qiuQhrJAFd03YDgmz4D/gf8JHZudytI8AAAAABJRU5ErkJggg==",self.location).href,action:()=>{coolWindow.openFileUploadManager()}},{name:"\u7EC8\u7AEF",icon:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABACAYAAAC0oEFtAAAAAXNSR0IArs4c6QAAAttJREFUeF7t3L1rFFEUBfBzZlPYWaioaGEpNraJCFooWlhYaZUJC/4DomJhoaVgI0oQlWBkSxtbC7EVbGwELSxENMZN/ALBfOwcmUlWJX7Mzt03OJO5W2xg99235/1yZ+dNAkOsPubieIeoMwRHBYz1X/efmcBTgI+TJLm/tdN5kL7A9Gk2ji9FxEVHGkRAU1vudk5xvt3ekyS9Z4OU+Ji+AM+xOxFfAXDWUYoJsDsx/gjgwWJlPjrtODlDcQGHK26WVTicwxkFjGXecQ5nFDCWecc5nFHAWOYd53BGAWOZd5wZLo79z0kGPHYdzsCWXnI5nMOZBIxF3nEOZxQwlnnHOZxRwFjmHedwRgFjmXecwxkFjGXBOy6hNkbiZ2Oe2pQFhcvQwNMAr0L6VBsFQ9BgcD/RVlIQuibxgyFTLUqCwK1F66+cwnUB87WQKBgyCBwjjEk48qfPJjQpsVswV+WHB4HLDs1/4AG6AXG28hoFAgaDy8UTbgKYKZCt0kODwuXiQbcgvq20yIDhgsPl4UXE7STBmwHzVXZYKXB5eACnIL2urMoAwUqDy8MjcEfCqwEyVnJIqXB/29+t7pBfsKd7IpcrKZMTqjS49YyWHU1l/HtwvaOVAtcEtOBwTUELCtcktGBwZaER2BDijCvgW4h5fp0jwMkhARDtB3Hot3DEUFsOEUcJjA6zaAqXKwq3sitjhMMS9v1Y5JBo6TxNgAMiEAmOg9iLAGjNgUtXGqEF4ESoK4JmdNzqMUppJNRlVKPghvkiX1u7zs+qIanqM1eA7Uh9FhsyqcMZNR3O4YwCxjLvOCvcXByfV6CLaWOGWpbxfTs+yR521zL9fwrNSAv82B4/sNzz+44U+R0IeJ7dW2luYvyCxJEixU0eu7S0NJnBfYnjTYvAMQG7mgySt3ZFWojQerh5evpJBtd/pDeoWk6SnS1pe94kTXqfLb1jjzOL0sttnc7XdO3fAZIMfBS7QvzjAAAAAElFTkSuQmCC",self.location).href,action:()=>{coolWindow.startNewTerminal()}},{name:"\u8F6F\u4EF6\u5546\u5E97",icon:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABdlJREFUaEPtmW1sU2UUx//n9oW71Q1dHAwECb4EwTFntkkItoUE2N1UEIl+cCyALxAUNRKJBjGwEE3I1CgSvkiUFxEBFRGEQhYzug3NxiJsBY2CIRpxuEkc0Hbt2nvMvVuX0d7b3paOjYTnU3Ofc87z/z3neS/hBi90g+vHTYDBzuCQygAfnzgKbM2jkpM/Ge2YQQfgpvxKCCgHUwmAu3uF+wA0AHQSJG+nIk+LHlDaAS7OnDlcDJgmyCY5KATC7RnBzn+oublbSwAfL6gG+LUEvd0F0EYqblmpZXfNADy1NKfLIpQx83MgTAAwKqYhwlkwWsD0myyEa2zV570QqMHoMFHtGBeopDUv2idlAL+z1C4zLRSApxjISkaMcEc3TPl+mOxeUKacjOvHVNy6pL9D0gC+h2dPAdEbIHo8mZY10397CGa7F2b7FeOhiJ+gIs/eiENSAH5HWYUM3kBAjvEWE1ua7uuCdcm/iQ17LM5CDBdS/mmVWhPA75CelYGxioEAsNxrR8Aao60ka0e3hSG+1WbQTbBT8cl6TQCvQ1o7kELjKaQsGWLV34khGC9RSetG3Qz4nKV7IdOt6uQn5BBQkDhqeiyU+WCZ15kgGG+mYs/zugDR3j6H9CeAMemRmDiKpfQSzKWX9Q2J91ORZ44hAJ9TmgrGsf7RzE8/CdPUh3QbCH21D+FadYjCJM2CuWympm24+QRC23Zq1lmXdsA0IaDdBnMVlXjWXgVwxS4tEgifJu4fQPx2F2h4tq5puLEZwZWr1fqMo4f6fkccmBkIhWGeWw75RCtC3xyIiSWMDcK6rAMkcmw7xI9RkUd16luFBhLA7yzThLUsqlC/d2/ZoV0/txNmp9YeERpNxT+rs70PoH3anCyRgkXKR7PAoxmkHRXJZyBVAOGeAIa90BEFxyup2PNu5KPmPuCzl24C0TK9MZLsEEoVQGlfXNsGyg73SqFGKm6Z0l+XNoBDUo6vk4cCgHXhRZge8PdIGcZ5NNlzIS5A2+zZtuwuIe7h5HpmoHdJ/R5iuIzyTwejOzUmA16nVEKMxnirUboAzIsq1EmoN4nVSToy1JSxp0Z3zY4BMLIaWZYvgckxTZcxtGM3Qvu+U+utVatgmm7XtJVbTyGwPNF9Bk2ZbpdxgME8C+n0yLlMt2u8Xm/FDqFBPMxpiSTAm+F23ZJWAGUDMi9eoBmTOzsRXLEK8pnfexaOD9ZDmKjcNLVLcM3bCP/YpFvPQLvN7RphGMDnlF4G48N4k1g5HnQtXAo+90eMmTLezfMeReCV10EjR0DcvTVeKIS2f4HuzXFsGLWZda4ZhgGC08sLQ7Ic911GAdDbnITCAlgWV6QNgIFNNrfrRcMAiqHPISldq97ItMr1BAAwP9Pt+jo5ALu0DYTKIQDgvyTKuXlHjniTBCifD5K/HGwAImzJOOpaHG8SaZ6FuKjI4rfl/gLgriEwhCISmgRZWCDWH/y1vybdZxWfXXoVhPe1AMT9u9D93kbwf7F3V1PhZNDYMQiuWw8anQdxZ/w7Umjr5+j+ZHvclSpSKQh8r1h7+IwhAMXI75AOMPBIdHQadyesK7QXBu64qIqPFMszlaDx47QFBoLqEsptF8BAlSyjVo9EgHzZVn+kOUZLPHTl3dNvofPKfmSoi67BKCxjRla9SxcgqUnc31h5jWPwZ9egzZArAwcB9G3JJqBRdLuUb3GLoadFn0NSAHousNepKEA2tytm+CY1hPobex3SagLWDZh+vnr8M+Goze1Sn07iFUMZiAQI2KUCWcBuZvV/gLQVZn7HVnf4zVQCJgUQacDnkKoBJLyJGBDUQozqjDpXynMsJQBF2BVnaaWJhUoGzzIgNNrkLxBvyAhmf0Q/7Om9sacQRe95PZlQXkfZgwDPJcYkEjCJGfdH+ytnemKcIuIGGXQsYA015NTUJHrBNSQj5QzEi37ZXpZrBXKDzCNAdCqr7lC7ITUpGA0IQAo6Una5CZBy16XJ8YbPwP9qw1hPbsg6FAAAAABJRU5ErkJggg==",self.location).href,action:()=>{coolWindow.startSoftware()}}],BASE_WINDOW_PROPERTYS={minState:!1,maxState:!1,actionWindow:!0,windowTransition:!1,windowType:"web",pointerEvents:!1,hideWindow:!1,canMax:!0,canMin:!0,canClose:!0,icon:"",id:"",x:0,y:0,closeWindowTransition:!1,canResize:!0};function getWindowProperty(e,t={}){return Object.assign({},BASE_WINDOW_PROPERTYS,e,{data:t})}function ErrorMessage(e){return getWindowProperty({windowType:"error-message"},e)}function SuccessMessage(e){return getWindowProperty({windowType:"success-message"},e)}function WebWindow(e){return getWindowProperty({windowType:"web"},e)}function DialogSelect(e){return getWindowProperty({windowType:"dialog-select"},e)}function FileAttribute(e){return getWindowProperty({windowType:"file-attribute"},e)}function DialogCreateFile(e){return getWindowProperty({windowType:"dialog-create-file"},e)}function LoadingView(e){return getWindowProperty({windowType:"loading-view",canClose:!1},e)}function FolderWindow(e={}){return getWindowProperty({windowType:"folder",icon:defaultAppList[0].icon},e)}function UploadManager(e){return getWindowProperty({windowType:"upload-manager",icon:defaultAppList[1].icon},e)}function Terminal(e){return getWindowProperty({windowType:"terminal",icon:defaultAppList[2].icon},e)}function Software(e){return getWindowProperty({windowType:"software",icon:defaultAppList[3].icon},e)}class Queue extends Array{constructor(){super();Object.defineProperty(this,"head",{value:0,writable:!0})}remove(t){return this.splice(t,1),this}enqueue(t){return this.push(t),this}dequeue(){var t;return this.head<this.length?(t=this[this.head],delete this[this.head++],t):void 0}peek(){return this[this.head]}size(){return this.length}}const limit={max:3,current:0},uploads=reactive({files:[]}),uploadQueue={files:new Proxy(new Queue,{get(e,t){let n=e[t];return t=="dequeue"&&n!=null&&limit.current++,n},set:function(e,t,n){return e[t]=n,!0}})},addProgress=e=>{e.controller=new AbortController,uploads.files.push(e)},getController=e=>uploads.files.find(n=>n.id==e).controller||null,cancel=e=>{let t=getController(e);t!=null&&t.abort();let n=-1;for(n=uploadQueue.files.findIndex(h=>h!=null&&h.uploadId==e);n>=0;)uploadQueue.files.splice(n,1),n=uploadQueue.files.findIndex(h=>h!=null&&h.uploadId==e);let o=uploads.files.findIndex(h=>h.id==e);o>=0&&uploads.files.splice(o,1)},removeById=e=>{var t=uploads.files.findIndex(n=>n.id==e);uploads.files.splice(t,1),uploads.files.length==0},changeProgress=(e,t)=>{t==100&&removeById(e);for(const n of uploads.files)n.id==e&&(n.progress=t)},state=reactive({desktopScale:!0,positionX:0,positionY:0,actionWindowId:"",windowsCollection:[],appStarterVisible:!1,windowVisibleState:[]}),removeWindowActionState=()=>{for(const e of state.windowsCollection)e.actionWindow=!1},startNewWindow=(e={})=>{removeWindowActionState(),wact.hideWindow(!1),e.actionWindow=!0,state.appStarterVisible=!1,state.actionWindowId=e.id,state.windowsCollection.push(e)},createWindowByType=(e,t={})=>{let n=e(t);return n.id="window-id"+randId(),n.closeWindow=()=>{wact.closeWindow(n.id)},n};class CoolWindowStarter{constructor(){ue(this,"openStarter",()=>{wact.hideWindow(!state.appStarterVisible),state.appStarterVisible=!state.appStarterVisible});ue(this,"openNewFolder",(t="/")=>{startNewWindow(createWindowByType(FolderWindow,createFolder(t,[])))});ue(this,"openFileUploadManager",()=>{startNewWindow(createWindowByType(UploadManager,uploads))});ue(this,"startNewErrorMessageDialog",t=>{startNewWindow(createWindowByType(ErrorMessage,{message:t}))});ue(this,"startNewSuccessMessageDialog",t=>{startNewWindow(createWindowByType(SuccessMessage,{message:t}))});ue(this,"startNewDialogSelect",(t,n)=>{startNewWindow(createWindowByType(DialogSelect,{targetName:t,callback:n}))});ue(this,"startNewFileAttribute",t=>{startNewWindow(createWindowByType(FileAttribute,{path:t}))});ue(this,"startNewDialogCreateFile",t=>{startNewWindow(createWindowByType(DialogCreateFile,{callback:t}))});ue(this,"startNewTerminal",(t=null)=>{startNewWindow(createWindowByType(Terminal,{path:t}))});ue(this,"startNewWebView",(t,n,o,h)=>{let _=createWindowByType(WebWindow,{url:t,type:n,handlerApp:o});_.icon=h,startNewWindow(_)});ue(this,"startNewLoadingView",(t="")=>{let n=createWindowByType(LoadingView,{message:t});return startNewWindow(n),n});ue(this,"startSoftware",(t={})=>{startNewWindow(createWindowByType(Software,{data:t}))})}}const coolWindow=new CoolWindowStarter,wact=new WindowActions,_hoisted_1$b=["data-id"],_hoisted_2$b={class:"window-content"},_hoisted_3$b={class:"window-title base-title"},_hoisted_4$b=createBaseVNode("header",null,"\u538B\u7F29",-1),_hoisted_5$b={class:"opt"},_hoisted_6$a={class:"window-body"},_hoisted_7$8={class:"item"},_hoisted_8$8=createBaseVNode("header",null,"\u5F52\u6863\u540D\u79F0:",-1),_hoisted_9$6={class:"item"},_hoisted_10$6=createBaseVNode("header",null,"\u5F52\u6863\u7C7B\u578B:",-1),_hoisted_11$5=createTextVNode(".zip"),_hoisted_12$5=createTextVNode("tar.xz"),_hoisted_13$5=createTextVNode("7z"),_sfc_main$b={props:{item:Object,actionWindowId:String},setup(e){const t=e,n=ref("zip"),o=ref(t.item.data.targetName),h=()=>{wact.closeWindow(t.item.id),t.item.data.callback({targetName:o.value,type:n.value},t.item)};return(_,g)=>(openBlock(),createElementBlock("div",{"data-id":e.item.id,class:normalizeClass([{"hide-window":e.item.hideWindow,"close-window-transition":e.item.closeWindowTransition,"window-transition":e.item.windowTransition,"window-scale":e.item.windowScale,"min-window":e.item.minState,"max-window":e.item.maxState,"window-z-height":e.item.actionWindow,"dialog-select":e.item.windowType=="dialog-select"},"window-item"]),onMousedown:g[9]||(g[9]=(...r)=>unref(wact).windowMove&&unref(wact).windowMove(...r)),onMouseup:g[10]||(g[10]=(...r)=>unref(wact).windowMouseUp&&unref(wact).windowMouseUp(...r))},[createBaseVNode("div",{onClick:g[0]||(g[0]=r=>unref(wact).setWindowPos(e.item.id)),class:normalizeClass([{action:e.actionWindowId==e.item.id},"window-mask"])},null,2),createBaseVNode("div",_hoisted_2$b,[createBaseVNode("div",_hoisted_3$b,[_hoisted_4$b,createBaseVNode("div",_hoisted_5$b,[createBaseVNode("i",{class:"iconfont icon-tzuixiaohua",onClick:g[1]||(g[1]=r=>unref(wact).windowMin(e.item.id))}),createBaseVNode("i",{class:"iconfont icon-big",onClick:g[2]||(g[2]=r=>unref(wact).windowFullScreen(e.item.id))}),createBaseVNode("i",{class:"iconfont icon-webicon309",onClick:g[3]||(g[3]=r=>unref(wact).closeWindow(e.item.id))})])]),createBaseVNode("div",_hoisted_6$a,[createBaseVNode("div",_hoisted_7$8,[_hoisted_8$8,withDirectives(createBaseVNode("input",{"onUpdate:modelValue":g[4]||(g[4]=r=>o.value=r),type:"text"},null,512),[[vModelText,o.value]])]),createBaseVNode("div",_hoisted_9$6,[_hoisted_10$6,createBaseVNode("form",null,[createBaseVNode("span",null,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":g[5]||(g[5]=r=>n.value=r),value:"zip",name:"select",type:"radio"},null,512),[[vModelRadio,n.value]]),_hoisted_11$5]),createBaseVNode("span",null,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":g[6]||(g[6]=r=>n.value=r),value:"tar",name:"select",type:"radio"},null,512),[[vModelRadio,n.value]]),_hoisted_12$5]),createBaseVNode("span",null,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":g[7]||(g[7]=r=>n.value=r),value:"7z",name:"select",type:"radio"},null,512),[[vModelRadio,n.value]]),_hoisted_13$5])])]),createBaseVNode("button",{onClick:g[8]||(g[8]=r=>h())},"\u786E\u8BA4")])])],42,_hoisted_1$b))}},_hoisted_1$a=["data-id"],_hoisted_2$a={class:"window-content"},_hoisted_3$a={class:"window-title base-title"},_hoisted_4$a=createBaseVNode("header",null,"\u65B0\u5EFA\u6587\u4EF6",-1),_hoisted_5$a={class:"opt"},_hoisted_6$9={class:"window-body"},_hoisted_7$7={class:"item"},_hoisted_8$7=createBaseVNode("header",null,"\u540D\u79F0:",-1),_sfc_main$a={props:{item:Object,actionWindowId:String},setup(e){const t=e;ref("zip");const n=ref(t.item.data.targetName),o=()=>{wact.closeWindow(t.item.id),t.item.data.callback({targetName:n.value},t.item)};return(h,_)=>(openBlock(),createElementBlock("div",{"data-id":e.item.id,class:normalizeClass([{"hide-window":e.item.hideWindow,"close-window-transition":e.item.closeWindowTransition,"window-transition":e.item.windowTransition,"window-scale":e.item.windowScale,"min-window":e.item.minState,"max-window":e.item.maxState,"window-z-height":e.item.actionWindow,"dialog-create-file":e.item.windowType=="dialog-create-file"},"window-item"]),onMousedown:_[4]||(_[4]=(...g)=>unref(wact).windowMove&&unref(wact).windowMove(...g)),onMouseup:_[5]||(_[5]=(...g)=>unref(wact).windowMouseUp&&unref(wact).windowMouseUp(...g))},[createBaseVNode("div",{onClick:_[0]||(_[0]=g=>unref(wact).setWindowPos(e.item.id)),class:normalizeClass([{action:e.actionWindowId==e.item.id},"window-mask"])},null,2),createBaseVNode("div",_hoisted_2$a,[createBaseVNode("div",_hoisted_3$a,[_hoisted_4$a,createBaseVNode("div",_hoisted_5$a,[createBaseVNode("i",{class:"iconfont icon-webicon309",onClick:_[1]||(_[1]=g=>unref(wact).closeWindow(e.item.id))})])]),createBaseVNode("div",_hoisted_6$9,[createBaseVNode("div",_hoisted_7$7,[_hoisted_8$7,withDirectives(createBaseVNode("input",{class:"base-input","onUpdate:modelValue":_[2]||(_[2]=g=>n.value=g),type:"text"},null,512),[[vModelText,n.value]])]),createBaseVNode("button",{class:"base-button blue",onClick:_[3]||(_[3]=g=>o())},"\u521B\u5EFA")])])],42,_hoisted_1$a))}};var loadingView_vue_vue_type_style_index_0_lang="";const _hoisted_1$9=["data-id"],_hoisted_2$9={class:"window-content"},_hoisted_3$9={class:"window-title"},_hoisted_4$9=createBaseVNode("header",null,null,-1),_hoisted_5$9={class:"opt"},_hoisted_6$8={class:"window-body"},_hoisted_7$6={class:"message"},_hoisted_8$6=createBaseVNode("div",{class:"loading"},[createBaseVNode("figure",null,[createBaseVNode("section",null,[createBaseVNode("div")]),createBaseVNode("section",null,[createBaseVNode("div")]),createBaseVNode("section",null,[createBaseVNode("div")]),createBaseVNode("section",null,[createBaseVNode("div")]),createBaseVNode("section",null,[createBaseVNode("div")]),createBaseVNode("section",null,[createBaseVNode("div")]),createBaseVNode("section",null,[createBaseVNode("div")]),createBaseVNode("section",null,[createBaseVNode("div")])])],-1),_sfc_main$9={props:{item:Object,actionWindowId:String},setup(e){let n=reactive(He({},e.item.data));return(o,h)=>(openBlock(),createElementBlock("div",{"data-id":e.item.id,class:normalizeClass([{"hide-window":e.item.hideWindow,"close-window-transition":e.item.closeWindowTransition,"window-transition":e.item.windowTransition,"window-scale":e.item.windowScale,"min-window":e.item.minState,"max-window":e.item.maxState,"window-z-height":e.item.actionWindow,"loading-view":e.item.windowType=="loading-view"},"window-item"]),onMousedown:h[4]||(h[4]=(..._)=>unref(wact).windowMove&&unref(wact).windowMove(..._)),onMouseup:h[5]||(h[5]=(..._)=>unref(wact).windowMouseUp&&unref(wact).windowMouseUp(..._))},[createBaseVNode("div",{onClick:h[0]||(h[0]=_=>unref(wact).setWindowPos(e.item.id)),class:normalizeClass([{action:e.actionWindowId==e.item.id},"window-mask"])},null,2),createBaseVNode("div",_hoisted_2$9,[createBaseVNode("div",_hoisted_3$9,[_hoisted_4$9,createBaseVNode("div",_hoisted_5$9,[createBaseVNode("i",{class:"iconfont icon-tzuixiaohua",onClick:h[1]||(h[1]=_=>unref(wact).windowMin(e.item.id))}),createBaseVNode("i",{class:"iconfont icon-big",onClick:h[2]||(h[2]=_=>unref(wact).windowFullScreen(e.item.id))}),createBaseVNode("i",{class:"iconfont icon-webicon309",onClick:h[3]||(h[3]=_=>unref(wact).closeWindow(e.item.id))})])]),createBaseVNode("div",_hoisted_6$8,[createBaseVNode("div",_hoisted_7$6,toDisplayString(unref(n).message),1),_hoisted_8$6])])],42,_hoisted_1$9))}};var _imports_0$2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA1RJREFUWEfVlk9MJFUQxr96TSaGxIMhYkzYAypsAiLTr3oYhEhUTh40AgmePLgSkr1sggc9umcP61UT2cSDf/CAhoMkJiqRuOJ09xuGwG52N4gXYjxIzHpQpNNl3mY6aWBgeoYF4rt1d72qX1fV++oRznnROcfH/w+gVCo90dLSMmwzF0XRjwMDA7+cJIuZMmCMGRWR14hoSER60wGJaENEbhDRnNb620Zh6gKUy+VrcRzPpBzfAvAzAAfAEIAnk29Kqfdd132rEYhjAYwxt0Wkm4h2LYTjOIuu6/6aDuD7/tNKqdcBvG3fE9EdrfXFrBBHAoRh+AOA5wDM7e3tTQ8ODt47zqnv+8NKKQvxCoBlZh7JAlETwBjzpoh8RERLWusXsjiyNuvr67nd3d1FAC8S0ZTWerbe3kMAxphnbVMB2GbmjnoODn4vlUoXlFILRJS3Tau1/uk4H7UAZkXkEoAJZp5vFMDah2H4BoDrIvKB53mXGwWwjde+ubn52OTk5L9NAjwF4C6AG8x8XzOOWvsyUC6Xu+I4vgPgK2YeayZ4sicIgk2lVLvW+uHMAEnqALzHzO+cBCAMwxUARQA9zGy1o+bal4EUwDwzT5wQwJbAliI7QKoEa8zcfxKAIAj+UErlGiqBDVhVvwuO43Tl8/ntZiCMMf0istpwE1YBkmPYdB+EYXgNwEyzxzARor8BDDLzWiNZqFQqHVEU2b9va0qIqlm4L8UAFnK53HRfX9/vWSCWl5cfaW1t/RjAy01LcRIoGUYichvAFc/zvjkOwvf9i0Q0S0RWeL5j5tEs0JnGcdXR53Ecf1goFJbSjo0xnohMARgH8KgdxyJyOY7jEcdxvtBa38wsRLUMD15I7IRM24nI88lzciHxff+qUupdAGtRFL1aLBa3MgnRUUbVK9kYEfWKCANI5PUvIgpFZIOIvkyuZMaYHhH5DMAzAFZEZNzzvN9q+a97Jau1aXV1tdu+z+fzdm7UXJVKpTOKIgth5fh7pdS467p/HjRuCiBLc1mbIAgeV0p9asskIl+3tbVNdHZ2/pPef6oANlD1aH4C4CUAh2bMqQNYiK2trYd2dnYshD0p/WlxOxOAJOX2dBQKhatnWoJ6/XKmGXhgx7DeXzXy/T9G8XAw0QXSDgAAAABJRU5ErkJggg==";const CANTHANDLE_FILE_TYPE="\u672A\u77E5\u6587\u4EF6\u7C7B\u578B\uFF0C\u65E0\u6CD5\u5904\u7406",NOTFOUND_APPLICATION="\u6CA1\u6709\u627E\u5230\u80FD\u5904\u7406\u6B64\u7C7B\u578B\u7684\u7A0B\u5E8F\uFF0C\u8BF7\u5C1D\u8BD5\u5230\u5E94\u7528\u5546\u5E97\u4E0B\u8F7D";var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t}var axios$2={exports:{}},bind$4=function(t,n){return function(){for(var h=new Array(arguments.length),_=0;_<h.length;_++)h[_]=arguments[_];return t.apply(n,h)}},bind$3=bind$4,toString=Object.prototype.toString;function isArray$4(e){return toString.call(e)==="[object Array]"}function isUndefined(e){return typeof e=="undefined"}function isBuffer$1(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function isArrayBuffer(e){return toString.call(e)==="[object ArrayBuffer]"}function isFormData(e){return typeof FormData!="undefined"&&e instanceof FormData}function isArrayBufferView(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function isString$1(e){return typeof e=="string"}function isNumber$1(e){return typeof e=="number"}function isObject(e){return e!==null&&typeof e=="object"}function isPlainObject(e){if(toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function isDate$1(e){return toString.call(e)==="[object Date]"}function isFile(e){return toString.call(e)==="[object File]"}function isBlob(e){return toString.call(e)==="[object Blob]"}function isFunction(e){return toString.call(e)==="[object Function]"}function isStream(e){return isObject(e)&&isFunction(e.pipe)}function isURLSearchParams(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function trim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function forEach$2(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),isArray$4(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&t.call(null,e[h],h,e)}function merge$1(){var e={};function t(h,_){isPlainObject(e[_])&&isPlainObject(h)?e[_]=merge$1(e[_],h):isPlainObject(h)?e[_]=merge$1({},h):isArray$4(h)?e[_]=h.slice():e[_]=h}for(var n=0,o=arguments.length;n<o;n++)forEach$2(arguments[n],t);return e}function extend(e,t,n){return forEach$2(t,function(h,_){n&&typeof h=="function"?e[_]=bind$3(h,n):e[_]=h}),e}function stripBOM(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var utils$k={isArray:isArray$4,isArrayBuffer,isBuffer:isBuffer$1,isFormData,isArrayBufferView,isString:isString$1,isNumber:isNumber$1,isObject,isPlainObject,isUndefined,isDate:isDate$1,isFile,isBlob,isFunction,isStream,isURLSearchParams,isStandardBrowserEnv,forEach:forEach$2,merge:merge$1,extend,trim,stripBOM},utils$j=utils$k;function encode$1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$2=function(t,n,o){if(!n)return t;var h;if(o)h=o(n);else if(utils$j.isURLSearchParams(n))h=n.toString();else{var _=[];utils$j.forEach(n,function(a,s){a===null||typeof a=="undefined"||(utils$j.isArray(a)?s=s+"[]":a=[a],utils$j.forEach(a,function(p){utils$j.isDate(p)?p=p.toISOString():utils$j.isObject(p)&&(p=JSON.stringify(p)),_.push(encode$1(s)+"="+encode$1(p))}))}),h=_.join("&")}if(h){var g=t.indexOf("#");g!==-1&&(t=t.slice(0,g)),t+=(t.indexOf("?")===-1?"?":"&")+h}return t},utils$i=utils$k;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(t,n,o){return this.handlers.push({fulfilled:t,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};InterceptorManager$1.prototype.forEach=function(t){utils$i.forEach(this.handlers,function(o){o!==null&&t(o)})};var InterceptorManager_1=InterceptorManager$1,utils$h=utils$k,normalizeHeaderName$1=function(t,n){utils$h.forEach(t,function(h,_){_!==n&&_.toUpperCase()===n.toUpperCase()&&(t[n]=h,delete t[_])})},enhanceError$2=function(t,n,o,h,_){return t.config=n,o&&(t.code=o),t.request=h,t.response=_,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},enhanceError$1=enhanceError$2,createError$2=function(t,n,o,h,_){var g=new Error(t);return enhanceError$1(g,n,o,h,_)},createError$1=createError$2,settle$1=function(t,n,o){var h=o.config.validateStatus;!o.status||!h||h(o.status)?t(o):n(createError$1("Request failed with status code "+o.status,o.config,null,o.request,o))},utils$g=utils$k,cookies$1=utils$g.isStandardBrowserEnv()?function(){return{write:function(n,o,h,_,g,r){var a=[];a.push(n+"="+encodeURIComponent(o)),utils$g.isNumber(h)&&a.push("expires="+new Date(h).toGMTString()),utils$g.isString(_)&&a.push("path="+_),utils$g.isString(g)&&a.push("domain="+g),r===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(n){var o=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),isAbsoluteURL$1=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},combineURLs$1=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$1=function(t,n){return t&&!isAbsoluteURL(n)?combineURLs(t,n):n},utils$f=utils$k,ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders$1=function(t){var n={},o,h,_;return t&&utils$f.forEach(t.split(`
`),function(r){if(_=r.indexOf(":"),o=utils$f.trim(r.substr(0,_)).toLowerCase(),h=utils$f.trim(r.substr(_+1)),o){if(n[o]&&ignoreDuplicateOf.indexOf(o)>=0)return;o==="set-cookie"?n[o]=(n[o]?n[o]:[]).concat([h]):n[o]=n[o]?n[o]+", "+h:h}}),n},utils$e=utils$k,isURLSameOrigin$1=utils$e.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),o;function h(_){var g=_;return t&&(n.setAttribute("href",g),g=n.href),n.setAttribute("href",g),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return o=h(window.location.href),function(g){var r=utils$e.isString(g)?h(g):g;return r.protocol===o.protocol&&r.host===o.host}}():function(){return function(){return!0}}();function Cancel$3(e){this.message=e}Cancel$3.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Cancel$3.prototype.__CANCEL__=!0;var Cancel_1=Cancel$3,utils$d=utils$k,settle=settle$1,cookies=cookies$1,buildURL$1=buildURL$2,buildFullPath=buildFullPath$1,parseHeaders=parseHeaders$1,isURLSameOrigin=isURLSameOrigin$1,createError=createError$2,defaults$6=defaults_1,Cancel$2=Cancel_1,xhr=function(t){return new Promise(function(o,h){var _=t.data,g=t.headers,r=t.responseType,a;function s(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}utils$d.isFormData(_)&&delete g["Content-Type"];var u=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";g.Authorization="Basic "+btoa(p+":"+m)}var w=buildFullPath(t.baseURL,t.url);u.open(t.method.toUpperCase(),buildURL$1(w,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function E(){if(!!u){var v="getAllResponseHeaders"in u?parseHeaders(u.getAllResponseHeaders()):null,C=!r||r==="text"||r==="json"?u.responseText:u.response,y={data:C,status:u.status,statusText:u.statusText,headers:v,config:t,request:u};settle(function(c){o(c),s()},function(c){h(c),s()},y),u=null}}if("onloadend"in u?u.onloadend=E:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(E)},u.onabort=function(){!u||(h(createError("Request aborted",t,"ECONNABORTED",u)),u=null)},u.onerror=function(){h(createError("Network Error",t,null,u)),u=null},u.ontimeout=function(){var C=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",y=t.transitional||defaults$6.transitional;t.timeoutErrorMessage&&(C=t.timeoutErrorMessage),h(createError(C,t,y.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",u)),u=null},utils$d.isStandardBrowserEnv()){var d=(t.withCredentials||isURLSameOrigin(w))&&t.xsrfCookieName?cookies.read(t.xsrfCookieName):void 0;d&&(g[t.xsrfHeaderName]=d)}"setRequestHeader"in u&&utils$d.forEach(g,function(C,y){typeof _=="undefined"&&y.toLowerCase()==="content-type"?delete g[y]:u.setRequestHeader(y,C)}),utils$d.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),r&&r!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(a=function(v){!u||(h(!v||v&&v.type?new Cancel$2("canceled"):v),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a))),_||(_=null),u.send(_)})},utils$c=utils$k,normalizeHeaderName=normalizeHeaderName$1,enhanceError=enhanceError$2,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!utils$c.isUndefined(e)&&utils$c.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function getDefaultAdapter(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=xhr),e}function stringifySafely(e,t,n){if(utils$c.isString(e))try{return(t||JSON.parse)(e),utils$c.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(e)}var defaults$5={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:getDefaultAdapter(),transformRequest:[function(t,n){return normalizeHeaderName(n,"Accept"),normalizeHeaderName(n,"Content-Type"),utils$c.isFormData(t)||utils$c.isArrayBuffer(t)||utils$c.isBuffer(t)||utils$c.isStream(t)||utils$c.isFile(t)||utils$c.isBlob(t)?t:utils$c.isArrayBufferView(t)?t.buffer:utils$c.isURLSearchParams(t)?(setContentTypeIfUnset(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):utils$c.isObject(t)||n&&n["Content-Type"]==="application/json"?(setContentTypeIfUnset(n,"application/json"),stringifySafely(t)):t}],transformResponse:[function(t){var n=this.transitional||defaults$5.transitional,o=n&&n.silentJSONParsing,h=n&&n.forcedJSONParsing,_=!o&&this.responseType==="json";if(_||h&&utils$c.isString(t)&&t.length)try{return JSON.parse(t)}catch(g){if(_)throw g.name==="SyntaxError"?enhanceError(g,this,"E_JSON_PARSE"):g}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$c.forEach(["delete","get","head"],function(t){defaults$5.headers[t]={}});utils$c.forEach(["post","put","patch"],function(t){defaults$5.headers[t]=utils$c.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$5,utils$b=utils$k,defaults$4=defaults_1,transformData$1=function(t,n,o){var h=this||defaults$4;return utils$b.forEach(o,function(g){t=g.call(h,t,n)}),t},isCancel$1=function(t){return!!(t&&t.__CANCEL__)},utils$a=utils$k,transformData=transformData$1,isCancel=isCancel$1,defaults$3=defaults_1,Cancel$1=Cancel_1;function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cancel$1("canceled")}var dispatchRequest$1=function(t){throwIfCancellationRequested(t),t.headers=t.headers||{},t.data=transformData.call(t,t.data,t.headers,t.transformRequest),t.headers=utils$a.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),utils$a.forEach(["delete","get","head","post","put","patch","common"],function(h){delete t.headers[h]});var n=t.adapter||defaults$3.adapter;return n(t).then(function(h){return throwIfCancellationRequested(t),h.data=transformData.call(t,h.data,h.headers,t.transformResponse),h},function(h){return isCancel(h)||(throwIfCancellationRequested(t),h&&h.response&&(h.response.data=transformData.call(t,h.response.data,h.response.headers,t.transformResponse))),Promise.reject(h)})},utils$9=utils$k,mergeConfig$2=function(t,n){n=n||{};var o={};function h(u,p){return utils$9.isPlainObject(u)&&utils$9.isPlainObject(p)?utils$9.merge(u,p):utils$9.isPlainObject(p)?utils$9.merge({},p):utils$9.isArray(p)?p.slice():p}function _(u){if(utils$9.isUndefined(n[u])){if(!utils$9.isUndefined(t[u]))return h(void 0,t[u])}else return h(t[u],n[u])}function g(u){if(!utils$9.isUndefined(n[u]))return h(void 0,n[u])}function r(u){if(utils$9.isUndefined(n[u])){if(!utils$9.isUndefined(t[u]))return h(void 0,t[u])}else return h(void 0,n[u])}function a(u){if(u in n)return h(t[u],n[u]);if(u in t)return h(void 0,t[u])}var s={url:g,method:g,data:g,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:a};return utils$9.forEach(Object.keys(t).concat(Object.keys(n)),function(p){var m=s[p]||_,w=m(p);utils$9.isUndefined(w)&&m!==a||(o[p]=w)}),o},data={version:"0.24.0"},VERSION=data.version,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){validators$1[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});var deprecatedWarnings={};validators$1.transitional=function(t,n,o){function h(_,g){return"[Axios v"+VERSION+"] Transitional option '"+_+"'"+g+(o?". "+o:"")}return function(_,g,r){if(t===!1)throw new Error(h(g," has been removed"+(n?" in "+n:"")));return n&&!deprecatedWarnings[g]&&(deprecatedWarnings[g]=!0,console.warn(h(g," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(_,g,r):!0}};function assertOptions(e,t,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var o=Object.keys(e),h=o.length;h-- >0;){var _=o[h],g=t[_];if(g){var r=e[_],a=r===void 0||g(r,_,e);if(a!==!0)throw new TypeError("option "+_+" must be "+a);continue}if(n!==!0)throw Error("Unknown option "+_)}}var validator$1={assertOptions,validators:validators$1},utils$8=utils$k,buildURL=buildURL$2,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,validator=validator$1,validators=validator.validators;function Axios$1(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=mergeConfig$1(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;n!==void 0&&validator.assertOptions(n,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var o=[],h=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(h=h&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});var _=[];this.interceptors.response.forEach(function(m){_.push(m.fulfilled,m.rejected)});var g;if(!h){var r=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(r,o),r=r.concat(_),g=Promise.resolve(t);r.length;)g=g.then(r.shift(),r.shift());return g}for(var a=t;o.length;){var s=o.shift(),u=o.shift();try{a=s(a)}catch(p){u(p);break}}try{g=dispatchRequest(a)}catch(p){return Promise.reject(p)}for(;_.length;)g=g.then(_.shift(),_.shift());return g};Axios$1.prototype.getUri=function(t){return t=mergeConfig$1(this.defaults,t),buildURL(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};utils$8.forEach(["delete","get","head","options"],function(t){Axios$1.prototype[t]=function(n,o){return this.request(mergeConfig$1(o||{},{method:t,url:n,data:(o||{}).data}))}});utils$8.forEach(["post","put","patch"],function(t){Axios$1.prototype[t]=function(n,o,h){return this.request(mergeConfig$1(h||{},{method:t,url:n,data:o}))}});var Axios_1=Axios$1,Cancel=Cancel_1;function CancelToken(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(h){t=h});var n=this;this.promise.then(function(o){if(!!n._listeners){var h,_=n._listeners.length;for(h=0;h<_;h++)n._listeners[h](o);n._listeners=null}}),this.promise.then=function(o){var h,_=new Promise(function(g){n.subscribe(g),h=g}).then(o);return _.cancel=function(){n.unsubscribe(h)},_},e(function(h){n.reason||(n.reason=new Cancel(h),t(n.reason))})}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};CancelToken.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};CancelToken.prototype.unsubscribe=function(t){if(!!this._listeners){var n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}};CancelToken.source=function(){var t,n=new CancelToken(function(h){t=h});return{token:n,cancel:t}};var CancelToken_1=CancelToken,spread=function(t){return function(o){return t.apply(null,o)}},isAxiosError=function(t){return typeof t=="object"&&t.isAxiosError===!0},utils$7=utils$k,bind$2=bind$4,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults$2=defaults_1;function createInstance(e){var t=new Axios(e),n=bind$2(Axios.prototype.request,t);return utils$7.extend(n,Axios.prototype,t),utils$7.extend(n,t),n.create=function(h){return createInstance(mergeConfig(e,h))},n}var axios$1=createInstance(defaults$2);axios$1.Axios=Axios;axios$1.Cancel=Cancel_1;axios$1.CancelToken=CancelToken_1;axios$1.isCancel=isCancel$1;axios$1.VERSION=data.version;axios$1.all=function(t){return Promise.all(t)};axios$1.spread=spread;axios$1.isAxiosError=isAxiosError;axios$2.exports=axios$1;axios$2.exports.default=axios$1;var axios=axios$2.exports,instance=axios.create({baseURL:"/",timeout:4e3}),softwareServer=axios.create({baseURL:"http://www.houxinlin.com:8081/",timeout:4e3}),shams=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),o=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var h=42;t[n]=h;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var _=Object.getOwnPropertySymbols(t);if(_.length!==1||_[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var g=Object.getOwnPropertyDescriptor(t,n);if(g.value!==h||g.enumerable!==!0)return!1}return!0},origSymbol=typeof Symbol!="undefined"&&Symbol,hasSymbolSham=shams,hasSymbols$1=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice=Array.prototype.slice,toStr$1=Object.prototype.toString,funcType="[object Function]",implementation$1=function(t){var n=this;if(typeof n!="function"||toStr$1.call(n)!==funcType)throw new TypeError(ERROR_MESSAGE+n);for(var o=slice.call(arguments,1),h,_=function(){if(this instanceof h){var u=n.apply(this,o.concat(slice.call(arguments)));return Object(u)===u?u:this}else return n.apply(t,o.concat(slice.call(arguments)))},g=Math.max(0,n.length-o.length),r=[],a=0;a<g;a++)r.push("$"+a);if(h=Function("binder","return function ("+r.join(",")+"){ return binder.apply(this,arguments); }")(_),n.prototype){var s=function(){};s.prototype=n.prototype,h.prototype=new s,s.prototype=null}return h},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,bind$1=functionBind,src=bind$1.call(Function.call,Object.prototype.hasOwnProperty),undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError$1=TypeError,getEvalledConstructor=function(e){try{return $Function('"use strict"; return ('+e+").constructor;")()}catch{}},$gOPD=Object.getOwnPropertyDescriptor;if($gOPD)try{$gOPD({},"")}catch{$gOPD=null}var throwTypeError=function(){throw new $TypeError$1},ThrowTypeError=$gOPD?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),getProto=Object.getPrototypeOf||function(e){return e.__proto__},needsEval={},TypedArray=typeof Uint8Array=="undefined"?undefined$1:getProto(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError=="undefined"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics=="undefined"?undefined$1:Atomics,"%BigInt%":typeof BigInt=="undefined"?undefined$1:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array=="undefined"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map=="undefined"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!hasSymbols?undefined$1:getProto(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?undefined$1:Promise,"%Proxy%":typeof Proxy=="undefined"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!hasSymbols?undefined$1:getProto(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$1,"%Uint8Array%":typeof Uint8Array=="undefined"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?undefined$1:WeakSet},doEval=function e(t){var n;if(t==="%AsyncFunction%")n=getEvalledConstructor("async function () {}");else if(t==="%GeneratorFunction%")n=getEvalledConstructor("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=getEvalledConstructor("async function* () {}");else if(t==="%AsyncGenerator%"){var o=e("%AsyncGeneratorFunction%");o&&(n=o.prototype)}else if(t==="%AsyncIteratorPrototype%"){var h=e("%AsyncGenerator%");h&&(n=getProto(h.prototype))}return INTRINSICS[t]=n,n},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn$1=src,$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(t){var n=$strSlice(t,0,1),o=$strSlice(t,-1);if(n==="%"&&o!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&n!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var h=[];return $replace(t,rePropName,function(_,g,r,a){h[h.length]=r?$replace(a,reEscapeChar,"$1"):g||_}),h},getBaseIntrinsic=function(t,n){var o=t,h;if(hasOwn$1(LEGACY_ALIASES,o)&&(h=LEGACY_ALIASES[o],o="%"+h[0]+"%"),hasOwn$1(INTRINSICS,o)){var _=INTRINSICS[o];if(_===needsEval&&(_=doEval(o)),typeof _=="undefined"&&!n)throw new $TypeError$1("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:h,name:o,value:_}}throw new $SyntaxError("intrinsic "+t+" does not exist!")},getIntrinsic=function(t,n){if(typeof t!="string"||t.length===0)throw new $TypeError$1("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new $TypeError$1('"allowMissing" argument must be a boolean');var o=stringToPath(t),h=o.length>0?o[0]:"",_=getBaseIntrinsic("%"+h+"%",n),g=_.name,r=_.value,a=!1,s=_.alias;s&&(h=s[0],$spliceApply(o,$concat([0,1],s)));for(var u=1,p=!0;u<o.length;u+=1){var m=o[u],w=$strSlice(m,0,1),E=$strSlice(m,-1);if((w==='"'||w==="'"||w==="`"||E==='"'||E==="'"||E==="`")&&w!==E)throw new $SyntaxError("property names with quotes must have matching quotes");if((m==="constructor"||!p)&&(a=!0),h+="."+m,g="%"+h+"%",hasOwn$1(INTRINSICS,g))r=INTRINSICS[g];else if(r!=null){if(!(m in r)){if(!n)throw new $TypeError$1("base intrinsic for "+t+" exists, but the property is not available.");return}if($gOPD&&u+1>=o.length){var d=$gOPD(r,m);p=!!d,p&&"get"in d&&!("originalValue"in d.get)?r=d.get:r=r[m]}else p=hasOwn$1(r,m),r=r[m];p&&!a&&(INTRINSICS[g]=r)}}return r},callBind$1={exports:{}};(function(e){var t=functionBind,n=getIntrinsic,o=n("%Function.prototype.apply%"),h=n("%Function.prototype.call%"),_=n("%Reflect.apply%",!0)||t.call(h,o),g=n("%Object.getOwnPropertyDescriptor%",!0),r=n("%Object.defineProperty%",!0),a=n("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}e.exports=function(p){var m=_(t,h,arguments);if(g&&r){var w=g(m,"length");w.configurable&&r(m,"length",{value:1+a(0,p.length-(arguments.length-1))})}return m};var s=function(){return _(t,o,arguments)};r?r(e.exports,"apply",{value:s}):e.exports.apply=s})(callBind$1);var GetIntrinsic$1=getIntrinsic,callBind=callBind$1.exports,$indexOf=callBind(GetIntrinsic$1("String.prototype.indexOf")),callBound$1=function(t,n){var o=GetIntrinsic$1(t,!!n);return typeof o=="function"&&$indexOf(t,".prototype.")>-1?callBind(o):o},__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:__viteBrowserExternal}),require$$1$1=getAugmentedNamespace(__viteBrowserExternal$1),hasMap=typeof Map=="function"&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&typeof mapSizeDescriptor.get=="function"?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet=typeof Set=="function"&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&typeof setSizeDescriptor.get=="function"?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,hasWeakMap=typeof WeakMap=="function"&&WeakMap.prototype,weakMapHas=hasWeakMap?WeakMap.prototype.has:null,hasWeakSet=typeof WeakSet=="function"&&WeakSet.prototype,weakSetHas=hasWeakSet?WeakSet.prototype.has:null,hasWeakRef=typeof WeakRef=="function"&&WeakRef.prototype,weakRefDeref=hasWeakRef?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,functionToString=Function.prototype.toString,match=String.prototype.match,bigIntValueOf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hasShammedSymbols=typeof Symbol=="function"&&typeof Symbol.iterator=="object",toStringTag=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hasShammedSymbols?"object":"symbol")?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),inspectCustom=require$$1$1.custom,inspectSymbol=inspectCustom&&isSymbol(inspectCustom)?inspectCustom:null,objectInspect=function e(t,n,o,h){var _=n||{};if(has$3(_,"quoteStyle")&&_.quoteStyle!=="single"&&_.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has$3(_,"maxStringLength")&&(typeof _.maxStringLength=="number"?_.maxStringLength<0&&_.maxStringLength!==1/0:_.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var g=has$3(_,"customInspect")?_.customInspect:!0;if(typeof g!="boolean"&&g!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has$3(_,"indent")&&_.indent!==null&&_.indent!=="	"&&!(parseInt(_.indent,10)===_.indent&&_.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof t=="undefined")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return inspectString(t,_);if(typeof t=="number")return t===0?1/0/t>0?"0":"-0":String(t);if(typeof t=="bigint")return String(t)+"n";var r=typeof _.depth=="undefined"?5:_.depth;if(typeof o=="undefined"&&(o=0),o>=r&&r>0&&typeof t=="object")return isArray$3(t)?"[Array]":"[Object]";var a=getIndent(_,o);if(typeof h=="undefined")h=[];else if(indexOf(h,t)>=0)return"[Circular]";function s(x,M,O){if(M&&(h=h.slice(),h.push(M)),O){var T={depth:_.depth};return has$3(_,"quoteStyle")&&(T.quoteStyle=_.quoteStyle),e(x,T,o+1,h)}return e(x,_,o+1,h)}if(typeof t=="function"){var u=nameOf(t),p=arrObjKeys(t,s);return"[Function"+(u?": "+u:" (anonymous)")+"]"+(p.length>0?" { "+p.join(", ")+" }":"")}if(isSymbol(t)){var m=hasShammedSymbols?String(t).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(t);return typeof t=="object"&&!hasShammedSymbols?markBoxed(m):m}if(isElement$1(t)){for(var w="<"+String(t.nodeName).toLowerCase(),E=t.attributes||[],d=0;d<E.length;d++)w+=" "+E[d].name+"="+wrapQuotes(quote(E[d].value),"double",_);return w+=">",t.childNodes&&t.childNodes.length&&(w+="..."),w+="</"+String(t.nodeName).toLowerCase()+">",w}if(isArray$3(t)){if(t.length===0)return"[]";var v=arrObjKeys(t,s);return a&&!singleLineValues(v)?"["+indentedJoin(v,a)+"]":"[ "+v.join(", ")+" ]"}if(isError(t)){var C=arrObjKeys(t,s);return C.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+C.join(", ")+" }"}if(typeof t=="object"&&g){if(inspectSymbol&&typeof t[inspectSymbol]=="function")return t[inspectSymbol]();if(g!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(isMap(t)){var y=[];return mapForEach.call(t,function(x,M){y.push(s(M,t,!0)+" => "+s(x,t))}),collectionOf("Map",mapSize.call(t),y,a)}if(isSet(t)){var f=[];return setForEach.call(t,function(x){f.push(s(x,t))}),collectionOf("Set",setSize.call(t),f,a)}if(isWeakMap(t))return weakCollectionOf("WeakMap");if(isWeakSet(t))return weakCollectionOf("WeakSet");if(isWeakRef(t))return weakCollectionOf("WeakRef");if(isNumber(t))return markBoxed(s(Number(t)));if(isBigInt(t))return markBoxed(s(bigIntValueOf.call(t)));if(isBoolean(t))return markBoxed(booleanValueOf.call(t));if(isString(t))return markBoxed(s(String(t)));if(!isDate(t)&&!isRegExp$1(t)){var c=arrObjKeys(t,s),l=gPO?gPO(t)===Object.prototype:t instanceof Object||t.constructor===Object,b=t instanceof Object?"":"null prototype",S=!l&&toStringTag&&Object(t)===t&&toStringTag in t?toStr(t).slice(8,-1):b?"Object":"",A=l||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",L=A+(S||b?"["+[].concat(S||[],b||[]).join(": ")+"] ":"");return c.length===0?L+"{}":a?L+"{"+indentedJoin(c,a)+"}":L+"{ "+c.join(", ")+" }"}return String(t)};function wrapQuotes(e,t,n){var o=(n.quoteStyle||t)==="double"?'"':"'";return o+e+o}function quote(e){return String(e).replace(/"/g,"&quot;")}function isArray$3(e){return toStr(e)==="[object Array]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isDate(e){return toStr(e)==="[object Date]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isRegExp$1(e){return toStr(e)==="[object RegExp]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isError(e){return toStr(e)==="[object Error]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isString(e){return toStr(e)==="[object String]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isNumber(e){return toStr(e)==="[object Number]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isBoolean(e){return toStr(e)==="[object Boolean]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isSymbol(e){if(hasShammedSymbols)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!symToString)return!1;try{return symToString.call(e),!0}catch{}return!1}function isBigInt(e){if(!e||typeof e!="object"||!bigIntValueOf)return!1;try{return bigIntValueOf.call(e),!0}catch{}return!1}var hasOwn=Object.prototype.hasOwnProperty||function(e){return e in this};function has$3(e,t){return hasOwn.call(e,t)}function toStr(e){return objectToString.call(e)}function nameOf(e){if(e.name)return e.name;var t=match.call(functionToString.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function indexOf(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1}function isMap(e){if(!mapSize||!e||typeof e!="object")return!1;try{mapSize.call(e);try{setSize.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function isWeakMap(e){if(!weakMapHas||!e||typeof e!="object")return!1;try{weakMapHas.call(e,weakMapHas);try{weakSetHas.call(e,weakSetHas)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function isWeakRef(e){if(!weakRefDeref||!e||typeof e!="object")return!1;try{return weakRefDeref.call(e),!0}catch{}return!1}function isSet(e){if(!setSize||!e||typeof e!="object")return!1;try{setSize.call(e);try{mapSize.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function isWeakSet(e){if(!weakSetHas||!e||typeof e!="object")return!1;try{weakSetHas.call(e,weakSetHas);try{weakMapHas.call(e,weakMapHas)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function isElement$1(e){return!e||typeof e!="object"?!1:typeof HTMLElement!="undefined"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function inspectString(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,o="... "+n+" more character"+(n>1?"s":"");return inspectString(e.slice(0,t.maxStringLength),t)+o}var h=e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,lowbyte);return wrapQuotes(h,"single",t)}function lowbyte(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16).toUpperCase()}function markBoxed(e){return"Object("+e+")"}function weakCollectionOf(e){return e+" { ? }"}function collectionOf(e,t,n,o){var h=o?indentedJoin(n,o):n.join(", ");return e+" ("+t+") {"+h+"}"}function singleLineValues(e){for(var t=0;t<e.length;t++)if(indexOf(e[t],`
`)>=0)return!1;return!0}function getIndent(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=Array(e.indent+1).join(" ");else return null;return{base:n,prev:Array(t+1).join(n)}}function indentedJoin(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+e.join(","+n)+`
`+t.prev}function arrObjKeys(e,t){var n=isArray$3(e),o=[];if(n){o.length=e.length;for(var h=0;h<e.length;h++)o[h]=has$3(e,h)?t(e[h],e):""}var _=typeof gOPS=="function"?gOPS(e):[],g;if(hasShammedSymbols){g={};for(var r=0;r<_.length;r++)g["$"+_[r]]=_[r]}for(var a in e)!has$3(e,a)||n&&String(Number(a))===a&&a<e.length||hasShammedSymbols&&g["$"+a]instanceof Symbol||(/[^\w$]/.test(a)?o.push(t(a,e)+": "+t(e[a],e)):o.push(a+": "+t(e[a],e)));if(typeof gOPS=="function")for(var s=0;s<_.length;s++)isEnumerable.call(e,_[s])&&o.push("["+t(_[s])+"]: "+t(e[_[s]],e));return o}var GetIntrinsic=getIntrinsic,callBound=callBound$1,inspect=objectInspect,$TypeError=GetIntrinsic("%TypeError%"),$WeakMap=GetIntrinsic("%WeakMap%",!0),$Map=GetIntrinsic("%Map%",!0),$weakMapGet=callBound("WeakMap.prototype.get",!0),$weakMapSet=callBound("WeakMap.prototype.set",!0),$weakMapHas=callBound("WeakMap.prototype.has",!0),$mapGet=callBound("Map.prototype.get",!0),$mapSet=callBound("Map.prototype.set",!0),$mapHas=callBound("Map.prototype.has",!0),listGetNode=function(e,t){for(var n=e,o;(o=n.next)!==null;n=o)if(o.key===t)return n.next=o.next,o.next=e.next,e.next=o,o},listGet=function(e,t){var n=listGetNode(e,t);return n&&n.value},listSet=function(e,t,n){var o=listGetNode(e,t);o?o.value=n:e.next={key:t,next:e.next,value:n}},listHas=function(e,t){return!!listGetNode(e,t)},sideChannel=function(){var t,n,o,h={assert:function(_){if(!h.has(_))throw new $TypeError("Side channel does not contain "+inspect(_))},get:function(_){if($WeakMap&&_&&(typeof _=="object"||typeof _=="function")){if(t)return $weakMapGet(t,_)}else if($Map){if(n)return $mapGet(n,_)}else if(o)return listGet(o,_)},has:function(_){if($WeakMap&&_&&(typeof _=="object"||typeof _=="function")){if(t)return $weakMapHas(t,_)}else if($Map){if(n)return $mapHas(n,_)}else if(o)return listHas(o,_);return!1},set:function(_,g){$WeakMap&&_&&(typeof _=="object"||typeof _=="function")?(t||(t=new $WeakMap),$weakMapSet(t,_,g)):$Map?(n||(n=new $Map),$mapSet(n,_,g)):(o||(o={key:{},next:null}),listSet(o,_,g))}};return h},replace=String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats$3={default:Format.RFC3986,formatters:{RFC1738:function(e){return replace.call(e,percentTwenties,"+")},RFC3986:function(e){return String(e)}},RFC1738:Format.RFC1738,RFC3986:Format.RFC3986},formats$2=formats$3,has$2=Object.prototype.hasOwnProperty,isArray$2=Array.isArray,hexTable=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),compactQueue=function(t){for(;t.length>1;){var n=t.pop(),o=n.obj[n.prop];if(isArray$2(o)){for(var h=[],_=0;_<o.length;++_)typeof o[_]!="undefined"&&h.push(o[_]);n.obj[n.prop]=h}}},arrayToObject=function(t,n){for(var o=n&&n.plainObjects?Object.create(null):{},h=0;h<t.length;++h)typeof t[h]!="undefined"&&(o[h]=t[h]);return o},merge=function e(t,n,o){if(!n)return t;if(typeof n!="object"){if(isArray$2(t))t.push(n);else if(t&&typeof t=="object")(o&&(o.plainObjects||o.allowPrototypes)||!has$2.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var h=t;return isArray$2(t)&&!isArray$2(n)&&(h=arrayToObject(t,o)),isArray$2(t)&&isArray$2(n)?(n.forEach(function(_,g){if(has$2.call(t,g)){var r=t[g];r&&typeof r=="object"&&_&&typeof _=="object"?t[g]=e(r,_,o):t.push(_)}else t[g]=_}),t):Object.keys(n).reduce(function(_,g){var r=n[g];return has$2.call(_,g)?_[g]=e(_[g],r,o):_[g]=r,_},h)},assign=function(t,n){return Object.keys(n).reduce(function(o,h){return o[h]=n[h],o},t)},decode=function(e,t,n){var o=e.replace(/\+/g," ");if(n==="iso-8859-1")return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch{return o}},encode=function(t,n,o,h,_){if(t.length===0)return t;var g=t;if(typeof t=="symbol"?g=Symbol.prototype.toString.call(t):typeof t!="string"&&(g=String(t)),o==="iso-8859-1")return escape(g).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var r="",a=0;a<g.length;++a){var s=g.charCodeAt(a);if(s===45||s===46||s===95||s===126||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||_===formats$2.RFC1738&&(s===40||s===41)){r+=g.charAt(a);continue}if(s<128){r=r+hexTable[s];continue}if(s<2048){r=r+(hexTable[192|s>>6]+hexTable[128|s&63]);continue}if(s<55296||s>=57344){r=r+(hexTable[224|s>>12]+hexTable[128|s>>6&63]+hexTable[128|s&63]);continue}a+=1,s=65536+((s&1023)<<10|g.charCodeAt(a)&1023),r+=hexTable[240|s>>18]+hexTable[128|s>>12&63]+hexTable[128|s>>6&63]+hexTable[128|s&63]}return r},compact=function(t){for(var n=[{obj:{o:t},prop:"o"}],o=[],h=0;h<n.length;++h)for(var _=n[h],g=_.obj[_.prop],r=Object.keys(g),a=0;a<r.length;++a){var s=r[a],u=g[s];typeof u=="object"&&u!==null&&o.indexOf(u)===-1&&(n.push({obj:g,prop:s}),o.push(u))}return compactQueue(n),t},isRegExp=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},isBuffer=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},combine=function(t,n){return[].concat(t,n)},maybeMap=function(t,n){if(isArray$2(t)){for(var o=[],h=0;h<t.length;h+=1)o.push(n(t[h]));return o}return n(t)},utils$6={arrayToObject,assign,combine,compact,decode,encode,isBuffer,isRegExp,maybeMap,merge},getSideChannel=sideChannel,utils$5=utils$6,formats$1=formats$3,has$1=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},isArray$1=Array.isArray,split=String.prototype.split,push=Array.prototype.push,pushToArray=function(e,t){push.apply(e,isArray$1(t)?t:[t])},toISO=Date.prototype.toISOString,defaultFormat=formats$1.default,defaults$1={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils$5.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats$1.formatters[defaultFormat],indices:!1,serializeDate:function(t){return toISO.call(t)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},sentinel={},stringify$1=function e(t,n,o,h,_,g,r,a,s,u,p,m,w,E,d){for(var v=t,C=d,y=0,f=!1;(C=C.get(sentinel))!==void 0&&!f;){var c=C.get(t);if(y+=1,typeof c!="undefined"){if(c===y)throw new RangeError("Cyclic object value");f=!0}typeof C.get(sentinel)=="undefined"&&(y=0)}if(typeof r=="function"?v=r(n,v):v instanceof Date?v=u(v):o==="comma"&&isArray$1(v)&&(v=utils$5.maybeMap(v,function(F){return F instanceof Date?u(F):F})),v===null){if(h)return g&&!w?g(n,defaults$1.encoder,E,"key",p):n;v=""}if(isNonNullishPrimitive(v)||utils$5.isBuffer(v)){if(g){var l=w?n:g(n,defaults$1.encoder,E,"key",p);if(o==="comma"&&w){for(var b=split.call(String(v),","),S="",A=0;A<b.length;++A)S+=(A===0?"":",")+m(g(b[A],defaults$1.encoder,E,"value",p));return[m(l)+"="+S]}return[m(l)+"="+m(g(v,defaults$1.encoder,E,"value",p))]}return[m(n)+"="+m(String(v))]}var L=[];if(typeof v=="undefined")return L;var x;if(o==="comma"&&isArray$1(v))x=[{value:v.length>0?v.join(",")||null:void 0}];else if(isArray$1(r))x=r;else{var M=Object.keys(v);x=a?M.sort(a):M}for(var O=0;O<x.length;++O){var T=x[O],I=typeof T=="object"&&T.value!==void 0?T.value:v[T];if(!(_&&I===null)){var P=isArray$1(v)?typeof o=="function"?o(n,T):n:n+(s?"."+T:"["+T+"]");d.set(t,y);var $=getSideChannel();$.set(sentinel,d),pushToArray(L,e(I,P,o,h,_,g,r,a,s,u,p,m,w,E,$))}}return L},normalizeStringifyOptions=function(t){if(!t)return defaults$1;if(t.encoder!==null&&t.encoder!==void 0&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||defaults$1.charset;if(typeof t.charset!="undefined"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=formats$1.default;if(typeof t.format!="undefined"){if(!has$1.call(formats$1.formatters,t.format))throw new TypeError("Unknown format option provided.");o=t.format}var h=formats$1.formatters[o],_=defaults$1.filter;return(typeof t.filter=="function"||isArray$1(t.filter))&&(_=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:defaults$1.addQueryPrefix,allowDots:typeof t.allowDots=="undefined"?defaults$1.allowDots:!!t.allowDots,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:defaults$1.charsetSentinel,delimiter:typeof t.delimiter=="undefined"?defaults$1.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:defaults$1.encode,encoder:typeof t.encoder=="function"?t.encoder:defaults$1.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:defaults$1.encodeValuesOnly,filter:_,format:o,formatter:h,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:defaults$1.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:defaults$1.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:defaults$1.strictNullHandling}},stringify_1=function(e,t){var n=e,o=normalizeStringifyOptions(t),h,_;typeof o.filter=="function"?(_=o.filter,n=_("",n)):isArray$1(o.filter)&&(_=o.filter,h=_);var g=[];if(typeof n!="object"||n===null)return"";var r;t&&t.arrayFormat in arrayPrefixGenerators?r=t.arrayFormat:t&&"indices"in t?r=t.indices?"indices":"repeat":r="indices";var a=arrayPrefixGenerators[r];h||(h=Object.keys(n)),o.sort&&h.sort(o.sort);for(var s=getSideChannel(),u=0;u<h.length;++u){var p=h[u];o.skipNulls&&n[p]===null||pushToArray(g,stringify$1(n[p],p,a,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,s))}var m=g.join(o.delimiter),w=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),m.length>0?w+m:""},utils$4=utils$6,has=Object.prototype.hasOwnProperty,isArray=Array.isArray,defaults={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils$4.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},parseArrayValue=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},isoSentinel="utf8=%26%2310003%3B",charsetSentinel="utf8=%E2%9C%93",parseValues=function(t,n){var o={},h=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,_=n.parameterLimit===1/0?void 0:n.parameterLimit,g=h.split(n.delimiter,_),r=-1,a,s=n.charset;if(n.charsetSentinel)for(a=0;a<g.length;++a)g[a].indexOf("utf8=")===0&&(g[a]===charsetSentinel?s="utf-8":g[a]===isoSentinel&&(s="iso-8859-1"),r=a,a=g.length);for(a=0;a<g.length;++a)if(a!==r){var u=g[a],p=u.indexOf("]="),m=p===-1?u.indexOf("="):p+1,w,E;m===-1?(w=n.decoder(u,defaults.decoder,s,"key"),E=n.strictNullHandling?null:""):(w=n.decoder(u.slice(0,m),defaults.decoder,s,"key"),E=utils$4.maybeMap(parseArrayValue(u.slice(m+1),n),function(d){return n.decoder(d,defaults.decoder,s,"value")})),E&&n.interpretNumericEntities&&s==="iso-8859-1"&&(E=interpretNumericEntities(E)),u.indexOf("[]=")>-1&&(E=isArray(E)?[E]:E),has.call(o,w)?o[w]=utils$4.combine(o[w],E):o[w]=E}return o},parseObject=function(e,t,n,o){for(var h=o?t:parseArrayValue(t,n),_=e.length-1;_>=0;--_){var g,r=e[_];if(r==="[]"&&n.parseArrays)g=[].concat(h);else{g=n.plainObjects?Object.create(null):{};var a=r.charAt(0)==="["&&r.charAt(r.length-1)==="]"?r.slice(1,-1):r,s=parseInt(a,10);!n.parseArrays&&a===""?g={0:h}:!isNaN(s)&&r!==a&&String(s)===a&&s>=0&&n.parseArrays&&s<=n.arrayLimit?(g=[],g[s]=h):g[a]=h}h=g}return h},parseKeys=function(t,n,o,h){if(!!t){var _=o.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,g=/(\[[^[\]]*])/,r=/(\[[^[\]]*])/g,a=o.depth>0&&g.exec(_),s=a?_.slice(0,a.index):_,u=[];if(s){if(!o.plainObjects&&has.call(Object.prototype,s)&&!o.allowPrototypes)return;u.push(s)}for(var p=0;o.depth>0&&(a=r.exec(_))!==null&&p<o.depth;){if(p+=1,!o.plainObjects&&has.call(Object.prototype,a[1].slice(1,-1))&&!o.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+_.slice(a.index)+"]"),parseObject(u,n,o,h)}},normalizeParseOptions=function(t){if(!t)return defaults;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset!="undefined"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset=="undefined"?defaults.charset:t.charset;return{allowDots:typeof t.allowDots=="undefined"?defaults.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:defaults.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:defaults.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:defaults.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:defaults.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:defaults.comma,decoder:typeof t.decoder=="function"?t.decoder:defaults.decoder,delimiter:typeof t.delimiter=="string"||utils$4.isRegExp(t.delimiter)?t.delimiter:defaults.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:defaults.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:defaults.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:defaults.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:defaults.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:defaults.strictNullHandling}},parse$2=function(e,t){var n=normalizeParseOptions(t);if(e===""||e===null||typeof e=="undefined")return n.plainObjects?Object.create(null):{};for(var o=typeof e=="string"?parseValues(e,n):e,h=n.plainObjects?Object.create(null):{},_=Object.keys(o),g=0;g<_.length;++g){var r=_[g],a=parseKeys(r,o[r],n,typeof e=="string");h=utils$4.merge(h,a,n)}return n.allowSparse===!0?h:utils$4.compact(h)},stringify=stringify_1,parse$1=parse$2,formats=formats$3,lib={formats,parse:parse$1,stringify};function apiListDirectory(e){return instance.get("/desktop/api/file/list?",{params:{root:e}})}function apiDeleteFileOrFolder(e){return instance.get("/desktop/api/file/delete?",{params:{path:e}})}function apiChunkFileUpload(e,t){return instance.post("/desktop/api/file/chunkUpload",e,t)}function apiFileCopy(e){return instance.post("/desktop/api/file/fileCopy",lib.stringify({path:e}))}function apiFilePaste(e){return instance.post("/desktop/api/file/filePaste",lib.stringify({path:e}),{timeout:60*1e3*30})}function apiFileCut(e){return instance.post("/desktop/api/file/fileCut",lib.stringify({path:e}))}function apiFileRename(e,t){return instance.post("/desktop/api/file/fileRename",lib.stringify({newName:t,source:e}))}function apiFileCompress(e,t,n){return instance.post("/desktop/api/file/fileCompress",lib.stringify({path:e,targetName:t,compressType:n}))}function apiFileDecompression(e){return instance.post("/desktop/api/file/fileDecompression",lib.stringify({path:e}))}function apiFileAttribute(e){return instance.post("/desktop/api/file/getFileAttribute",lib.stringify({path:e}))}function apiCreateFile(e,t,n){return instance.post("/desktop/api/file/createFile",lib.stringify({parent:e,name:t,type:n}))}const UPLOAD_TIMER_OUT=1e3*60*15,CHUNK_SIZE_MB=15*1024*1024;function sum(e){let t=0;for(var n in e)t+=e[n];return t}class FileItemInfo{constructor(t,n,o,h,_,g,r,a){this.file=t,this.uploadId=n,this.blobId=o,this.isChunks=h,this.progress=_,this.target=g,this.fileName=r,this.total=a}}const getChunk=e=>{let t=Math.ceil(e.size/CHUNK_SIZE_MB),n=[];for(let o=0;o<t;o++){let h=o*CHUNK_SIZE_MB,_=h+CHUNK_SIZE_MB,g=e.slice(h,_);n.push({id:o,data:g})}return n};let isStart=!1,intervalId=null;const handlerItem=e=>{let t={signal:getController(e.uploadId).signal,timeout:UPLOAD_TIMER_OUT,headers:{},onUploadProgress:e.progress},n=createFormData(e.file,e.uploadId,e.blobId,e.target,e.fileName,e.total);apiChunkFileUpload(n,t).then(o=>{limit.current>0&&limit.current--}).catch(o=>{limit.current>0&&limit.current--})},fileDequeue=()=>{if(limit.current<limit.max){let e=uploadQueue.files.dequeue();if(e!=null){handlerItem(e);return}limit.current=0,clearInterval(intervalId),isStart=!1}},startConsumer=()=>{isStart||(isStart=!0,intervalId=setInterval(fileDequeue,120))};function createChunksUpload(e,t){let n=randId(),o=getChunk(e);addProgress({id:n,name:e.name,progress:"0"});let h=[...new Array(o.length).keys()];for(const _ of o){let g=r=>{var a=Math.round(r.loaded*100/r.total);h[parseInt(_.id)]=a;let s=sum(h)/(o.length*100);return changeProgress(n,s*100),a};uploadQueue.files.enqueue(new FileItemInfo(_.data,n,_.id,!0,g,t,e.name,e.size))}}function createSingleFileUpload(e,t){let n=randId(),o=h=>{var _=Math.round(h.loaded*100/h.total);return changeProgress(n,_),_};addProgress({id:n,name:e.name,progress:"0"}),uploadQueue.files.enqueue(new FileItemInfo(e,n,"0",!1,o,t,e.name,e.size))}class FileUpload{constructor(){}start(t,n,o){if(startConsumer(),t.size>CHUNK_SIZE_MB){createChunksUpload(t,n);return}createSingleFileUpload(t,n)}}const createFormData=(e,t,n,o,h,_)=>{let g=new FormData;return g.append("target",o),g.append("fileBinary",e),g.append("chunkId",t),g.append("blobId",n),g.append("fileName",h),g.append("total",_),g};function apiListApplication(){return instance.get("/desktop/api/application/list")}let applicationState=reactive({applications:[]});const getApplicationByMedia=e=>{let t=[];for(let n of applicationState.applications)n.handlerMediaTypes.findIndex(o=>o==e)!=-1&&t.push(n);return t},getApplicationById=e=>{for(let t of applicationState.applications)if(t.applicationId==e)return t;return null},refreshApplication=()=>{apiListApplication().then(e=>{applicationState.applications=e.data.data})},_hoisted_1$8=["id","data-id"],_hoisted_2$8={class:"item-group"},_hoisted_3$8={class:"item-group"},_hoisted_4$8={class:"item-group"},_hoisted_5$8={class:"item-group"},_hoisted_6$7={key:0,class:"item-group"},_hoisted_7$5={class:"item-group"},_hoisted_8$5={class:"item-group"},_hoisted_9$5={class:"item-group"},_hoisted_10$5={class:"item-group"},_hoisted_11$4={class:"window-content"},_hoisted_12$4={class:"window-title"},_hoisted_13$4=["onClick"],_hoisted_14$4={class:"infos"},_hoisted_15$4={class:"search"},_hoisted_16$3={class:"opt"},_hoisted_17$3={key:0},_hoisted_18$3=["onContextmenu","onClick","onDblclick"],_hoisted_19$3={class:"file-item"},_hoisted_20$2=["src"],_hoisted_21$2=["src"],_hoisted_22$2=["onKeydown","onBlur"],_hoisted_23$2={key:3},_hoisted_24$2={class:"tip"},_sfc_main$8={props:{item:Object,actionWindowId:String,folderInfo:Object},setup(e){const t=e;let n=reactive(He({},t.item.data)),o=ref("/"),h=ref(""),_=[],{proxy:g}=getCurrentInstance(),r=new Map,a=!1;const s=()=>{coolWindow.openFileUploadManager()},u=()=>{f(),coolWindow.startNewTerminal(w())},p=()=>{n.searchInputVisible=!n.searchInputVisible,document.querySelector(`#${t.item.id} #searchInput`).focus()},m=D=>{let B=h.value;n.child=_.filter(W=>W.name.startsWith(B))},w=()=>n.path.getPath(),E=()=>{f();var D=document.createElement("a");D.download,D.style.display="none",D.href=o.value+`desktop/api/file/download?path=${F().path}`,document.body.appendChild(D),D.click()},d=D=>{f(),coolWindow.startNewDialogCreateFile(B=>{console.log(B,n.path.getPath()),apiCreateFile(w(),B.targetName,D).then(W=>{W.data.status!=0&&coolWindow.startNewErrorMessageDialog(W.data.msg),N()})})},v=D=>{let B=F()||{path:D};coolWindow.startNewFileAttribute(B.path),f()},C=()=>{f(),apiFileDecompression(F().path).then(D=>{})},y=()=>{f();let D=F(),B="";if(D.baseFileAttribute.directory)B=D.name;else{let W=D.name.indexOf(".");W==0?B=D.name:B=D.name.substring(0,W)}coolWindow.startNewDialogSelect(B,function(W,H){apiFileCompress(F().path,W.targetName,W.type).then(J=>{coolWindow.startNewSuccessMessageDialog("\u4EFB\u52A1\u8C03\u7528\u6210\u529F")})})},f=()=>{n.folderContextMenuVisible=!1,n.contextMenuVisible=!1},c=()=>{f(),apiFileCopy(F().path).then(D=>{})},l=()=>{f();let D=coolWindow.startNewLoadingView("\u6587\u4EF6\u590D\u5236\u4E2D...");a=!0,apiFilePaste(n.path.getPath()).then(B=>{ee(B.data.data,()=>{D.closeWindow(),N()}),B.data.status!=0&&coolWindow.startNewErrorMessageDialog(B.data.msg),a=!1}).catch(B=>{a=!1})},b=()=>{apiFileCut(F().path).then(D=>{}),f()},S=D=>{var B=document.querySelector(D);if(document.body.createTextRange){var W=document.body.createTextRange();W.moveToElementText(B),W.select()}else if(window.getSelection){var H=window.getSelection(),W=document.createRange();W.selectNodeContents(B),H.removeAllRanges(),H.addRange(W)}},A=(D,B)=>{if(D.keyCode==13){let W=document.querySelector(`.window-body ul li:nth-child(${B+1}) span`);apiFileRename(n.child[B].path,W.textContent).then(H=>{N(),H.data.status!=0&&coolWindow.startNewErrorMessageDialog(H.data.msg)}),D.preventDefault(),D.stopPropagation()}},L=D=>{n.child[D].edit=!1},x=()=>{let D=F(),B=n.child.findIndex(W=>W==D);setTimeout(function(){document.querySelector(`.window-body ul li:nth-child(${B+1}) span`).focus(),S(`.window-body ul li:nth-child(${B+1}) span`)},0),n.child[B].edit=!0,f()},M=(D,B)=>{n.selectFileItem=B,n.folderContextMenuVisible=!1,n.currentSelectName=B.name,n.contextMenuVisible=!0;let W=document.getElementById(t.item.id);n.contextMenuPoint.x=D.x-W.offsetLeft,n.contextMenuPoint.y=D.y-W.offsetTop,D.preventDefault(),D.stopPropagation()},O=D=>{n.currentSelectName="",n.folderContextMenuVisible=!0,n.contextMenuVisible=!1;let B=document.getElementById(t.item.id);n.folderContextMenuPoint.x=D.x-B.offsetLeft,n.folderContextMenuPoint.y=D.y-B.offsetTop,D.preventDefault()},T=D=>{apiListDirectory(D).then(B=>{n.child=B.data.data,n.searchInputVisible=!1,_=n.child;for(const W of n.child)W.edit=!1})},I=D=>{if(D.type=="none"){postMessage({action:"notification",param:{message:CANTHANDLE_FILE_TYPE,type:"error"}});return}let B=getApplicationByMedia(D.type)[0];if(B==null){postMessage({action:"notification",param:{message:NOTFOUND_APPLICATION,type:"error"}});return}let W=`${o.value}desktop/webapplication/${B.applicationId}/index.html?path=${D.path}`;coolWindow.startNewWebView(W,"text-editor",B,`${o.value}desktop/webapplication/${B.applicationId}/logo.png`)},P=D=>{if(D.type!="folder"){I(D);return}n.child.length=0,n.contextMenuVisible=!1,n.path.append(D.name),T(n.path.getPath())},$=D=>{n.path.range(D),n.contextMenuVisible=!1,T(n.path.getPath()),f()},F=()=>n.selectFileItem,R=()=>{n.contextMenuVisible=!1,F().type=="folder"&&(f(),coolWindow.openNewFolder(F().path))},N=()=>{f(),T(n.path.getPath())},j=()=>{n.contextMenuVisible=!1,apiDeleteFileOrFolder(F().path).then(D=>{if(D.data.status==0){N();return}coolWindow.startNewErrorMessageDialog(D.data.msg)})},V=D=>{D.dataTransfer.effectAllowed="all",D.dataTransfer.dropEffect="move"},K=D=>{console.log("enter"),D.preventDefault()},G=D=>{console.log("leaver")},Y=D=>{D.preventDefault(),console.log(D);let B=D.dataTransfer.files,W=n.path.path,H=new FileUpload;for(let J=0;J<B.length;J++){const X=B[J];H.start(X,W,re=>{re.data.status==0&&coolWindow.startNewSuccessMessageDialog("\u4E0A\u4F20\u6210\u529F"),re.data.status!=0&&coolWindow.startNewErrorMessageDialog(re.data.msg)})}},ee=(D,B)=>{r.set(D,B)},Q=D=>{if(a){setTimeout(()=>{Q(D)},50);return}D.result.code!=0&&coolWindow.startNewErrorMessageDialog(D.result.msg);let B=r.get(D.id)||{};B instanceof Function&&B(),r.delete(D.id)};return(()=>{g.eventBus.on("/file/events",D=>{Q(D)})})(),onMounted(()=>{T(n.path.getPath())}),(D,B)=>(openBlock(),createElementBlock("div",{id:e.item.id,"data-id":e.item.id,class:normalizeClass([{"min-window":e.item.minState,"max-window":e.item.maxState,"window-item-resize":e.item.canResize,"action-window-border":e.item.actionWindow,"hide-window":e.item.hideWindow,"close-window-transition":e.item.closeWindowTransition,"window-transition":e.item.windowTransition,"window-scale":e.item.windowScale,"window-z-height":e.item.actionWindow,folder:e.item.windowType=="folder"},"window-item"]),onMousedown:B[22]||(B[22]=(...W)=>unref(wact).windowMove&&unref(wact).windowMove(...W)),onMouseup:B[23]||(B[23]=(...W)=>unref(wact).windowMouseUp&&unref(wact).windowMouseUp(...W))},[unref(n).folderContextMenuVisible?(openBlock(),createElementBlock("div",{key:0,style:normalizeStyle({left:unref(n).folderContextMenuPoint.x+"px",top:unref(n).folderContextMenuPoint.y+"px"}),class:"file-menu"},[createBaseVNode("menu",null,[createBaseVNode("div",_hoisted_2$8,[createBaseVNode("li",{onClick:B[0]||(B[0]=W=>u())},"\u5728\u6B64\u5904\u6253\u5F00\u7EC8\u7AEF")]),createBaseVNode("div",_hoisted_3$8,[createBaseVNode("li",{onClick:B[1]||(B[1]=W=>d("director"))},"\u521B\u5EFA\u6587\u4EF6\u5939"),createBaseVNode("li",{onClick:B[2]||(B[2]=W=>d("file"))},"\u521B\u5EFA\u6587\u4EF6")]),createBaseVNode("div",_hoisted_4$8,[createBaseVNode("li",{onClick:B[3]||(B[3]=W=>l())},"\u7C98\u8D34")]),createBaseVNode("div",_hoisted_5$8,[createBaseVNode("li",{onClick:B[4]||(B[4]=W=>v(w()))},"\u5C5E\u6027")])])],4)):createCommentVNode("",!0),unref(n).contextMenuVisible?(openBlock(),createElementBlock("div",{key:1,style:normalizeStyle({left:unref(n).contextMenuPoint.x+"px",top:unref(n).contextMenuPoint.y+"px"}),class:"file-menu"},[createBaseVNode("menu",null,[unref(n).selectFileItem.type=="folder"?(openBlock(),createElementBlock("div",_hoisted_6$7,[createBaseVNode("li",{onClick:B[5]||(B[5]=W=>R())},"\u5728\u65B0\u7A97\u53E3\u6253\u5F00")])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_7$5,[createBaseVNode("li",{onClick:B[6]||(B[6]=W=>j())},"\u5220\u9664"),createBaseVNode("li",{onClick:B[7]||(B[7]=W=>c())},"\u590D\u5236"),createBaseVNode("li",{onClick:B[8]||(B[8]=W=>b())},"\u526A\u5207"),createBaseVNode("li",{onClick:B[9]||(B[9]=W=>x())},"\u91CD\u590D\u540D")]),createBaseVNode("div",_hoisted_8$5,[createBaseVNode("li",{onClick:B[10]||(B[10]=W=>E())},"\u4E0B\u8F7D")]),createBaseVNode("div",_hoisted_9$5,[createBaseVNode("li",{onClick:B[11]||(B[11]=W=>y())},"\u538B\u7F29"),createBaseVNode("li",{onClick:B[12]||(B[12]=W=>C())},"\u89E3\u538B")]),createBaseVNode("div",_hoisted_10$5,[createBaseVNode("li",{onClick:B[13]||(B[13]=W=>v())},"\u5C5E\u6027")])])],4)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_11$4,[createBaseVNode("div",_hoisted_12$4,[createBaseVNode("header",null,[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n).path.pathBlock,(W,H)=>(openBlock(),createElementBlock("li",{key:W,onClick:J=>$(H)},toDisplayString(W),9,_hoisted_13$4))),128))]),createBaseVNode("div",_hoisted_14$4,[createBaseVNode("div",_hoisted_15$4,[withDirectives(createBaseVNode("input",{id:"searchInput",class:normalizeClass([{open:unref(n).searchInputVisible},"base-input close"]),placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5B57\u7B26","onUpdate:modelValue":B[14]||(B[14]=W=>isRef(h)?h.value=W:h=W),onInput:m,type:"text"},null,34),[[vModelText,unref(h)]]),createBaseVNode("img",{onClick:B[15]||(B[15]=W=>p()),src:_imports_0$2,alt:""})]),unref(uploads).files.length>0?(openBlock(),createElementBlock("div",{key:0,onClick:B[16]||(B[16]=withModifiers(W=>s(),["stop"])),class:"loader"})):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_16$3,[createBaseVNode("i",{class:"iconfont icon-tzuixiaohua",onClick:B[17]||(B[17]=W=>unref(wact).windowMin(e.item.id))}),createBaseVNode("i",{class:"iconfont icon-big",onClick:B[18]||(B[18]=W=>unref(wact).windowFullScreen(e.item.id))}),createBaseVNode("i",{class:"iconfont icon-webicon309",onClick:B[19]||(B[19]=W=>unref(wact).closeWindow(e.item.id))})])]),createBaseVNode("div",{onDragstart:V,onDragover:K,onDragleave:G,onDrop:Y,onContextmenu:B[20]||(B[20]=withModifiers(W=>O(W),["prevent"])),onClick:B[21]||(B[21]=W=>{unref(n).contextMenuVisible=!1,unref(n).folderContextMenuVisible=!1}),class:"window-body"},[e.item.windowType=="folder"?(openBlock(),createElementBlock("ul",_hoisted_17$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n).child,(W,H)=>(openBlock(),createElementBlock("li",{key:W,onContextmenu:withModifiers(J=>M(J,W),["prevent"]),class:normalizeClass({select:unref(n).currentSelectName==W.name}),onClick:J=>{unref(n).currentSelectName=W.name,unref(n).contextMenuVisible=!1},onDblclick:J=>P(W)},[createBaseVNode("div",_hoisted_19$3,[W.type!="image"?(openBlock(),createElementBlock("img",{key:0,src:unref(o)+"desktop/api/file/getFileIconByType?type="+W.rawType},null,8,_hoisted_20$2)):createCommentVNode("",!0),W.type=="image"?(openBlock(),createElementBlock("img",{key:1,src:unref(o)+"desktop/api/file/getImageThumbnail?path="+encodeURIComponent(W.path),alt:""},null,8,_hoisted_21$2)):createCommentVNode("",!0),W.edit?(openBlock(),createElementBlock("span",{key:2,onKeydown:J=>A(J,H),onBlur:J=>L(H),class:"contenteditable",contenteditable:"true"},toDisplayString(W.name),41,_hoisted_22$2)):createCommentVNode("",!0),W.edit==!1?(openBlock(),createElementBlock("span",_hoisted_23$2,toDisplayString(W.name),1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_24$2,toDisplayString(W.name),1)])],42,_hoisted_18$3))),128))])):createCommentVNode("",!0)],32)])],42,_hoisted_1$8))}},_hoisted_1$7=["id","data-id"],_hoisted_2$7={class:"window-content"},_hoisted_3$7={class:"window-title base-title"},_hoisted_4$7=createBaseVNode("header",null,null,-1),_hoisted_5$7={class:"opt"},_hoisted_6$6={style:{padding:"0px"},class:"iframe window-body"},_hoisted_7$4={key:0,class:"menu"},_hoisted_8$4={class:"first-menu"},_hoisted_9$4=["onClick"],_hoisted_10$4=["src"],_sfc_main$7={props:{item:Object,actionWindowId:String},setup(e){const t=e;t.item.events=function(a,s){a=="close"&&(document.querySelector(`#${t.actionWindowId} #iframe`).style.display="none")};const n=a=>{document.getElementById("iframe").contentWindow.postMessage({"menu-event":{action:a}},"*")};let o=reactive(He({},t.item.data)),h=o.handlerApp.menus,_=reactive([]),g=new Map;return(()=>{for(const u of h){let p=u.split("/"),m=g.get(p[0])||[];m.push(p[1]),g.set(p[0],m)}for(var[a,s]of g)_.push({name:a,subMenu:s})})(),(a,s)=>(openBlock(),createElementBlock("div",{id:e.item.id,"data-id":e.item.id,class:normalizeClass([{"hide-window":e.item.hideWindow,"close-window-transition":e.item.closeWindowTransition,"window-transition":e.item.windowTransition,"window-scale":e.item.windowScale,"min-window":e.item.minState,"max-window":e.item.maxState,"window-z-height":e.item.actionWindow,web:e.item.windowType=="web"},"window-item window-item-resize"]),onMousedown:s[3]||(s[3]=(...u)=>unref(wact).windowMove&&unref(wact).windowMove(...u)),onMouseup:s[4]||(s[4]=(...u)=>unref(wact).windowMouseUp&&unref(wact).windowMouseUp(...u))},[createBaseVNode("div",_hoisted_2$7,[createBaseVNode("div",_hoisted_3$7,[_hoisted_4$7,createBaseVNode("div",_hoisted_5$7,[createBaseVNode("i",{class:"iconfont icon-tzuixiaohua",onClick:s[0]||(s[0]=u=>unref(wact).windowMin(e.item.id))}),createBaseVNode("i",{class:"iconfont icon-big",onClick:s[1]||(s[1]=u=>unref(wact).windowFullScreen(e.item.id))}),createBaseVNode("i",{class:"iconfont icon-webicon309",onClick:s[2]||(s[2]=u=>unref(wact).closeWindow(e.item.id))})])]),createBaseVNode("div",_hoisted_6$6,[unref(_).length!=0?(openBlock(),createElementBlock("menu",_hoisted_7$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(_),u=>(openBlock(),createElementBlock("li",{key:u.name,class:"menu-item"},[createBaseVNode("div",_hoisted_8$4,toDisplayString(u.name),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(u.subMenu,p=>(openBlock(),createElementBlock("menu",{key:p,class:"second-menu"},[createBaseVNode("div",{onClick:m=>n(u.name+"/"+p),class:"second-name"},toDisplayString(p),9,_hoisted_9$4)]))),128))]))),128))])):createCommentVNode("",!0),createBaseVNode("iframe",{id:"iframe",class:normalizeClass({"iframe-pointer-events":unref(o).pointerEvents}),src:unref(o).url},null,10,_hoisted_10$4)])])],42,_hoisted_1$7))}},_hoisted_1$6=["data-id"],_hoisted_2$6={class:"window-content"},_hoisted_3$6={class:"window-title"},_hoisted_4$6=createBaseVNode("header",null,null,-1),_hoisted_5$6={class:"opt"},_hoisted_6$5={class:"window-body"},_sfc_main$6={props:{item:Object,actionWindowId:String},setup(e){let n=reactive(He({},e.item.data));return(o,h)=>(openBlock(),createElementBlock("div",{"data-id":e.item.id,class:normalizeClass([{"hide-window":e.item.hideWindow,"close-window-transition":e.item.closeWindowTransition,"window-transition":e.item.windowTransition,"window-scale":e.item.windowScale,"min-window":e.item.minState,"max-window":e.item.maxState,"window-z-height":e.item.actionWindow,"error-message":e.item.windowType=="error-message"},"window-item"]),onMousedown:h[4]||(h[4]=(..._)=>unref(wact).windowMove&&unref(wact).windowMove(..._)),onMouseup:h[5]||(h[5]=(..._)=>unref(wact).windowMouseUp&&unref(wact).windowMouseUp(..._))},[createBaseVNode("div",{onClick:h[0]||(h[0]=_=>unref(wact).setWindowPos(e.item.id)),class:normalizeClass([{action:e.actionWindowId==e.item.id},"window-mask"])},null,2),createBaseVNode("div",_hoisted_2$6,[createBaseVNode("div",_hoisted_3$6,[_hoisted_4$6,createBaseVNode("div",_hoisted_5$6,[createBaseVNode("i",{class:"iconfont icon-tzuixiaohua",onClick:h[1]||(h[1]=_=>unref(wact).windowMin(e.item.id))}),createBaseVNode("i",{class:"iconfont icon-big",onClick:h[2]||(h[2]=_=>unref(wact).windowFullScreen(e.item.id))}),createBaseVNode("i",{class:"iconfont icon-webicon309",onClick:h[3]||(h[3]=_=>unref(wact).closeWindow(e.item.id))})])]),createBaseVNode("div",_hoisted_6$5,toDisplayString(unref(n).message),1)])],42,_hoisted_1$6))}},_hoisted_1$5=["data-id"],_hoisted_2$5={class:"window-content"},_hoisted_3$5={class:"window-title"},_hoisted_4$5=createBaseVNode("header",null,null,-1),_hoisted_5$5={class:"opt"},_hoisted_6$4={class:"window-body"},_sfc_main$5={props:{item:Object,actionWindowId:String},setup(e){let n=reactive(He({},e.item.data));return(o,h)=>(openBlock(),createElementBlock("div",{"data-id":e.item.id,class:normalizeClass([{"hide-window":e.item.hideWindow,"close-window-transition":e.item.closeWindowTransition,"window-transition":e.item.windowTransition,"window-scale":e.item.windowScale,"min-window":e.item.minState,"max-window":e.item.maxState,"window-z-height":e.item.actionWindow,"success-message":e.item.windowType=="success-message"},"window-item"]),onMousedown:h[4]||(h[4]=(..._)=>unref(wact).windowMove&&unref(wact).windowMove(..._)),onMouseup:h[5]||(h[5]=(..._)=>unref(wact).windowMouseUp&&unref(wact).windowMouseUp(..._))},[createBaseVNode("div",{onClick:h[0]||(h[0]=_=>unref(wact).setWindowPos(e.item.id)),class:normalizeClass([{action:e.actionWindowId==e.item.id},"window-mask"])},null,2),createBaseVNode("div",_hoisted_2$5,[createBaseVNode("div",_hoisted_3$5,[_hoisted_4$5,createBaseVNode("div",_hoisted_5$5,[createBaseVNode("i",{class:"iconfont icon-tzuixiaohua",onClick:h[1]||(h[1]=_=>unref(wact).windowMin(e.item.id))}),createBaseVNode("i",{class:"iconfont icon-big",onClick:h[2]||(h[2]=_=>unref(wact).windowFullScreen(e.item.id))}),createBaseVNode("i",{class:"iconfont icon-webicon309",onClick:h[3]||(h[3]=_=>unref(wact).closeWindow(e.item.id))})])]),createBaseVNode("div",_hoisted_6$4,toDisplayString(unref(n).message),1)])],42,_hoisted_1$5))}};var _imports_0$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAs1JREFUaEPtmTFv00AUx38vkZou9AMwwQhDUUoqFliAkRUmYCGxKKIjLDAygVhAUJq0E0xlZQRGBCQlAiEYYeIDlKWplBxyGjex49ix/c6lAs93f7/fvXv33rsTDvgnB9x+/gGAJTNPlzMIZQwLQBn4gOEjwlcKNHkm7VSeVNCO9kDNXEF4AhyKMHAbeEhd7iaCUNKeDOCY18C5BEZ9py7HpxqvqB0O4JhvwLGpjPEPekNdzkfOU9YeB3DMPeBOCuN3pxiu0pDnofMtaPsBrpsyPd4Bs6kB4DdFTrMiX3walrT9AI5xgNUMxntTb1IXN/iHnyVtP0DNPEJYzgwgrLMqVZ+OJe2gB94DpzIDQJu6uDlj1ANWtIMARsH4XYm65KJtywM2AXzetRMDNj0QiC9bp5BND/hOOBt5wGYMjOUY/UzsnQI2gjgky2vXQsNDTB8gtM7SrEb9J7AuwMRKV6MfCE8dOgCxvUZ8SxneNcXnu/QAibq9eIB4U/d1xH+AfV1++OuuVdwdkaigjN9CSkHcWaskMWwTw1vovSjVPvk7u4DLcztGEwLsmWmQldLckWW59LIbtl1zS2RpAQZGt2eke0GutX8FIXIrJTICuHa3Z+aOLgY9kVsxpwCAu51mq80bo17IrZzWAOgbbnonRgM7t4ZGD4AHpVrrtueF3FpKNQDYLFVblXAAx2hdfYy1lIoAlKqtvYXP5erDXS1lgIKXsW1dq4xdbCkDTPCApeu/gQdawEmF4i8yBqxd7nYalfsItzIDmKhTyNIVeN8DjYV5pPA5O0BUHnDVLTxCeEZvry0+FcxSWoj4TOwpKz8DebJm42JxZ+tHc/DSmZRjylpoCGHlkc+slw/vmOKrhBAJq1EPQukpNLjUric6Wz8fT7Od0vcD3l8VHqMn7ZV+YFO4jHA2cMQqdWRJd2n28RZ64uxGWVWIb+qt/j67+B97Cn1A2CG5uAAAAABJRU5ErkJggg==",_imports_1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAgdJREFUWEfNV11LG0EUPbewk/9Q2Mnj7v4TX/ooKC0oFS0ttigqlRbqB9j6SUvjB41YKiiKvvkL+ug/2M1jNvTJX5AN5Mpukxgzs26MsdN9nL1zz5lzZu7MJV+KxSeEAWbYAJ+5YW0aj/gFtrUDYBBEl4T6OgVSXAB41sQkwqlTjoYfg0MpL06YMdTKzfw7JvAHwNMOwGM3jF70k0QgxRGA57dyMl9RIK2vAE11ghFw6ITRaD9IlKT4xcCIkot5l+JBRZpmJOOnW4nGHkIisMUBCC+VBTasTgjEn1YiAAza98LqRC8kSjL3g8G6uS2LWwQSJdKkItpzy9U39yER5HO7YH6dZe0tAokSKZIx87ZXqb3thkRJWt8ZpMZqLFUIxAC+zBUJPK6C8besOpG+qanohNVXGkX0a0qTkJm3vEptVjcrsMUGCOq/OyzUKtBM7ttWgYgmNWBrbhjNt48HUqwCeK+ukAtOWHuXZt2dBP6eDn2dYMJnrxx9TCzLixVifOjFskwCCYBtbRLRTCcAA8vxGAGf1CKDTbcSzWVt2q4INOqEVuIUAMWini1on5gu9U1UuzVZq2+o103YTYwvxZJW8qRqYtkLo4X7ZOzagtbJMEnAqAVp5/yfbEKjx9BoITJaio1eRkavY6MPEqNPMqOPUqPPcuONyX/QmhlsToFzMtmeM9W/XAOpb13f7mgI7QAAAABJRU5ErkJggg==";const _hoisted_1$4=["data-id"],_hoisted_2$4={class:"window-content"},_hoisted_3$4={class:"window-title base-title"},_hoisted_4$4=createBaseVNode("header",{class:"base-title"},"\u6587\u4EF6\u4E0A\u4F20\u7BA1\u7406\u5668",-1),_hoisted_5$4={class:"opt"},_hoisted_6$3={class:"window-body"},_hoisted_7$3={key:0,class:"empty"},_hoisted_8$3=createBaseVNode("svg",{t:"1640616804409",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5084",width:"60",height:"60"},[createBaseVNode("path",{d:"M459.485 887.553v-1.398 1.398z m55.893-60.475c-30.733 0-55.893 23.867-55.893 53.996v0.67c0 6.163 4.87 10.975 11.139 10.975 6.262 0 11.139-4.812 11.139-10.975v-0.67c0-17.808 14.618-32.82 33.516-32.82s33.516 15.012 33.516 32.82v0.67c0 6.163 4.87 10.975 11.14 10.975 6.262 0 11.139-4.812 11.139-10.975v-0.67c0.197-29.453-24.963-53.996-55.696-53.996zM381.766 710.664c-15.846-3.57-39.457-2.776-44.465 13.391-2.862 9.826 13.594 11.316 28.724 14.789 12.164 2.776 18.708 9.124 17.277 11.31-2.862 3.57-20.854-3.473-37.317 2.087-15.845 5.652-12.878 19.745-3.577 23.217 9.308 3.571 24.438-0.696 59.602 4.963 17.985 2.776 28.724-2.783 30.87-13.398 4.09-23.912-28.927-51.396-51.114-56.359z m209.394 56.49c2.146 10.424 12.163 16.03 30.87 13.28 35.164-5.606 50.294-1.379 59.596-4.923 9.3-3.44 12.163-18.19-3.578-23.007-15.845-5.606-33.74 1.378-37.31-2.068-2.146-2.757 5.008-9.045 17.27-11.9 15.032-3.545 31.586-4.917 28.724-14.652-5.008-16.036-28.008-16.718-44.464-13.279-22.384 4.923-55.5 32.164-51.108 56.55z m420.835-294.726l-195.28-181.004c-6.302-6.374-15.492-9.163-24.596-9.163H232.473a35.814 35.814 0 0 0-23.893 9.163L11.9 472.428C4.202 479.498 0 488.668 0 499.321v443.39C0 987.24 35.794 1024 80.79 1024h862.414c44.195 0 80.79-36.759 80.79-81.29V499.322c-0.098-9.958-5.002-19.823-11.999-26.893z m-351.965-2.54c-12.65 0-23.29 10.62-23.29 24.143 0 66.809-56.398 122.997-123.338 122.997S390.063 560.84 390.063 494.031c0-12.82-10.542-24.143-23.283-24.143H91.897l146.621-135.115H786.88l145.217 135.115H660.023z m311.452 48.679v425.962c0 15.576-11.92 26.958-26.749 26.958H80.666c-15.53 0-28.153-12.077-28.153-26.958V518.567h292.763c5.613 36.844 23.244 71.594 51.397 97.85 32.36 31.154 73.846 47.53 117.53 47.53 43.585 0 85.162-16.974 117.523-47.523 27.457-26.965 45.79-60.914 51.396-97.857h288.36z m-723.23-315.049l-89.835-83.941a23.447 23.447 0 0 1-0.807-33.477c9.176-9.432 24.398-9.82 33.982-0.788l89.73 83.942a23.447 23.447 0 0 1 0.913 33.476 24.313 24.313 0 0 1-33.982 0.788z m241.887-39.39a23.65 23.65 0 0 1-7.647-16.64l-3.315-122.913C478.868 11.303 489.614 0.406 503.155 0.012c13.64-0.295 24.904 10.103 25.318 23.277l3.216 122.912a23.808 23.808 0 0 1-14.572 22.383 25.239 25.239 0 0 1-26.978-4.457z m232.702 32.688a23.913 23.913 0 0 1-7.351-16.837 24.123 24.123 0 0 1 6.459-17.132l84.02-89.77a23.453 23.453 0 0 1 33.463-0.8 24.3 24.3 0 0 1 0.795 33.975l-84.02 89.77a24.011 24.011 0 0 1-16.575 7.47c-6.157 0-12.209-2.298-16.784-6.676z",fill:"#ffffff4a","p-id":"5085"})],-1),_hoisted_9$3=[_hoisted_8$3],_hoisted_10$3=createBaseVNode("img",{class:"file",src:_imports_0$1,alt:""},null,-1),_hoisted_11$3=["onClick"],_hoisted_12$3=createBaseVNode("img",{src:_imports_1,alt:""},null,-1),_hoisted_13$3=[_hoisted_12$3],_hoisted_14$3={class:"info"},_hoisted_15$3={class:"name"},_sfc_main$4={props:{item:Object,actionWindowId:String},setup(e){let n=reactive(He({},e.item.data));const o=h=>{cancel(h)};return(h,_)=>(openBlock(),createElementBlock("div",{"data-id":e.item.id,class:normalizeClass([{"hide-window":e.item.hideWindow,"close-window-transition":e.item.closeWindowTransition,"window-transition":e.item.windowTransition,"window-scale":e.item.windowScale,"min-window":e.item.minState,"max-window":e.item.maxState,"window-z-height":e.item.actionWindow,"file-upload-manager":e.item.windowType=="upload-manager"},"window-item"]),onMousedown:_[4]||(_[4]=(...g)=>unref(wact).windowMove&&unref(wact).windowMove(...g)),onMouseup:_[5]||(_[5]=(...g)=>unref(wact).windowMouseUp&&unref(wact).windowMouseUp(...g))},[createBaseVNode("div",{onClick:_[0]||(_[0]=g=>unref(wact).setWindowPos(e.item.id)),class:normalizeClass([{action:e.actionWindowId==e.item.id},"window-mask"])},null,2),createBaseVNode("div",_hoisted_2$4,[createBaseVNode("div",_hoisted_3$4,[_hoisted_4$4,createBaseVNode("div",_hoisted_5$4,[createBaseVNode("i",{class:"iconfont icon-tzuixiaohua",onClick:_[1]||(_[1]=g=>unref(wact).windowMin(e.item.id))}),createBaseVNode("i",{class:"iconfont icon-big",onClick:_[2]||(_[2]=g=>unref(wact).windowFullScreen(e.item.id))}),createBaseVNode("i",{class:"iconfont icon-webicon309",onClick:_[3]||(_[3]=g=>unref(wact).closeWindow(e.item.id))})])]),createBaseVNode("div",_hoisted_6$3,[unref(n)!=null&&unref(n).files.length==0?(openBlock(),createElementBlock("div",_hoisted_7$3,_hoisted_9$3)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n).files,g=>(openBlock(),createElementBlock("div",{key:g.id,class:"item"},[_hoisted_10$3,createBaseVNode("div",{onClick:r=>o(g.id),class:"cancel"},_hoisted_13$3,8,_hoisted_11$3),createBaseVNode("div",_hoisted_14$3,[createBaseVNode("span",_hoisted_15$3,toDisplayString(g.name),1),createBaseVNode("div",{style:normalizeStyle({width:g.progress+"%"}),class:"progress"},null,4)])]))),128))])])],42,_hoisted_1$4))}};var collectionUtils={exports:{}},utils$3=collectionUtils.exports={};utils$3.forEach=function(e,t){for(var n=0;n<e.length;n++){var o=t(e[n]);if(o)return o}};var elementUtils=function(e){var t=e.stateHandler.getState;function n(g){var r=t(g);return r&&!!r.isDetectable}function o(g){t(g).isDetectable=!0}function h(g){return!!t(g).busy}function _(g,r){t(g).busy=!!r}return{isDetectable:n,markAsDetectable:o,isBusy:h,markBusy:_}},listenerHandler=function(e){var t={};function n(g){var r=e.get(g);return r===void 0?[]:t[r]||[]}function o(g,r){var a=e.get(g);t[a]||(t[a]=[]),t[a].push(r)}function h(g,r){for(var a=n(g),s=0,u=a.length;s<u;++s)if(a[s]===r){a.splice(s,1);break}}function _(g){var r=n(g);!r||(r.length=0)}return{get:n,add:o,removeListener:h,removeAllListeners:_}},idGenerator=function(){var e=1;function t(){return e++}return{generate:t}},idHandler=function(e){var t=e.idGenerator,n=e.stateHandler.getState;function o(_){var g=n(_);return g&&g.id!==void 0?g.id:null}function h(_){var g=n(_);if(!g)throw new Error("setId required the element to have a resize detection state.");var r=t.generate();return g.id=r,r}return{get:o,set:h}},reporter=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var o=function(h,_){h[_]=function(){var r=console[_];if(r.apply)r.apply(console,arguments);else for(var a=0;a<arguments.length;a++)r(arguments[a])}};o(n,"log"),o(n,"warn"),o(n,"error")}return n},browserDetector$2={exports:{}},detector=browserDetector$2.exports={};detector.isIE=function(e){function t(){var o=navigator.userAgent.toLowerCase();return o.indexOf("msie")!==-1||o.indexOf("trident")!==-1||o.indexOf(" edge/")!==-1}if(!t())return!1;if(!e)return!0;var n=function(){var o,h=3,_=document.createElement("div"),g=_.getElementsByTagName("i");do _.innerHTML="<!--[if gt IE "+ ++h+"]><i></i><![endif]-->";while(g[0]);return h>4?h:o}();return e===n};detector.isLegacyOpera=function(){return!!window.opera};var utils$2={exports:{}},utils$1=utils$2.exports={};utils$1.getOption=getOption$1;function getOption$1(e,t,n){var o=e[t];return o==null&&n!==void 0?n:o}var utils=utils$2.exports,batchProcessor=function(t){t=t||{};var n=t.reporter,o=utils.getOption(t,"async",!0),h=utils.getOption(t,"auto",!0);h&&!o&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),o=!0);var _=Batch(),g,r=!1;function a(E,d){!r&&h&&o&&_.size()===0&&p(),_.add(E,d)}function s(){for(r=!0;_.size();){var E=_;_=Batch(),E.process()}r=!1}function u(E){r||(E===void 0&&(E=o),g&&(m(g),g=null),E?p():s())}function p(){g=w(s)}function m(E){var d=clearTimeout;return d(E)}function w(E){var d=function(v){return setTimeout(v,0)};return d(E)}return{add:a,force:u}};function Batch(){var e={},t=0,n=0,o=0;function h(r,a){a||(a=r,r=0),r>n?n=r:r<o&&(o=r),e[r]||(e[r]=[]),e[r].push(a),t++}function _(){for(var r=o;r<=n;r++)for(var a=e[r],s=0;s<a.length;s++){var u=a[s];u()}}function g(){return t}return{add:h,process:_,size:g}}var prop="_erd";function initState(e){return e[prop]={},getState(e)}function getState(e){return e[prop]}function cleanState(e){delete e[prop]}var stateHandler$1={initState,getState,cleanState},browserDetector$1=browserDetector$2.exports,object=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,o=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function h(s,u){function p(){u(s)}if(browserDetector$1.isIE(8))o(s).object={proxy:p},s.attachEvent("onresize",p);else{var m=r(s);if(!m)throw new Error("Element is not detectable by this strategy.");m.contentDocument.defaultView.addEventListener("resize",p)}}function _(s){var u=e.important?" !important; ":"; ";return(s.join(u)+u).trim()}function g(s,u,p){p||(p=u,u=s,s=null),s=s||{},s.debug;function m(w,E){var d=_(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),v=!1,C=window.getComputedStyle(w),y=w.offsetWidth,f=w.offsetHeight;o(w).startSize={width:y,height:f};function c(){function l(){if(C.position==="static"){w.style.setProperty("position","relative",s.important?"important":"");var A=function(L,x,M,O){function T(P){return P.replace(/[^-\d\.]/g,"")}var I=M[O];I!=="auto"&&T(I)!=="0"&&(L.warn("An element that is positioned static has style."+O+"="+I+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+O+" will be set to 0. Element: ",x),x.style.setProperty(O,"0",s.important?"important":""))};A(t,w,C,"top"),A(t,w,C,"right"),A(t,w,C,"bottom"),A(t,w,C,"left")}}function b(){v||l();function A(x,M){if(!x.contentDocument){var O=o(x);O.checkForObjectDocumentTimeoutId&&window.clearTimeout(O.checkForObjectDocumentTimeoutId),O.checkForObjectDocumentTimeoutId=setTimeout(function(){O.checkForObjectDocumentTimeoutId=0,A(x,M)},100);return}M(x.contentDocument)}var L=this;A(L,function(M){E(w)})}C.position!==""&&(l(),v=!0);var S=document.createElement("object");S.style.cssText=d,S.tabIndex=-1,S.type="text/html",S.setAttribute("aria-hidden","true"),S.onload=b,browserDetector$1.isIE()||(S.data="about:blank"),!!o(w)&&(w.appendChild(S),o(w).object=S,browserDetector$1.isIE()&&(S.data="about:blank"))}n?n.add(c):c()}browserDetector$1.isIE(8)?p(u):m(u,p)}function r(s){return o(s).object}function a(s){if(!!o(s)){var u=r(s);!u||(browserDetector$1.isIE(8)?s.detachEvent("onresize",u.proxy):s.removeChild(u),o(s).checkForObjectDocumentTimeoutId&&window.clearTimeout(o(s).checkForObjectDocumentTimeoutId),delete o(s).object)}}return{makeDetectable:g,addListener:h,uninstall:a}},forEach$1=collectionUtils.exports.forEach,scroll=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,o=e.stateHandler.getState;e.stateHandler.hasState;var h=e.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var _=u(),g="erd_scroll_detection_scrollbar_style",r="erd_scroll_detection_container";function a(c){p(c,g,r)}a(window.document);function s(c){var l=e.important?" !important; ":"; ";return(c.join(l)+l).trim()}function u(){var c=500,l=500,b=document.createElement("div");b.style.cssText=s(["position: absolute","width: "+c*2+"px","height: "+l*2+"px","visibility: hidden","margin: 0","padding: 0"]);var S=document.createElement("div");S.style.cssText=s(["position: absolute","width: "+c+"px","height: "+l+"px","overflow: scroll","visibility: none","top: "+-c*3+"px","left: "+-l*3+"px","visibility: hidden","margin: 0","padding: 0"]),S.appendChild(b),document.body.insertBefore(S,document.body.firstChild);var A=c-S.clientWidth,L=l-S.clientHeight;return document.body.removeChild(S),{width:A,height:L}}function p(c,l,b){function S(M,O){O=O||function(I){c.head.appendChild(I)};var T=c.createElement("style");return T.innerHTML=M,T.id=l,O(T),T}if(!c.getElementById(l)){var A=b+"_animation",L=b+"_animation_active",x=`/* Created by the element-resize-detector library. */
`;x+="."+b+" > div::-webkit-scrollbar { "+s(["display: none"])+` }

`,x+="."+L+" { "+s(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+A,"animation-name: "+A])+` }
`,x+="@-webkit-keyframes "+A+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,x+="@keyframes "+A+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",S(x)}}function m(c){c.className+=" "+r+"_animation_active"}function w(c,l,b){if(c.addEventListener)c.addEventListener(l,b);else if(c.attachEvent)c.attachEvent("on"+l,b);else return t.error("[scroll] Don't know how to add event listeners.")}function E(c,l,b){if(c.removeEventListener)c.removeEventListener(l,b);else if(c.detachEvent)c.detachEvent("on"+l,b);else return t.error("[scroll] Don't know how to remove event listeners.")}function d(c){return o(c).container.childNodes[0].childNodes[0].childNodes[0]}function v(c){return o(c).container.childNodes[0].childNodes[0].childNodes[1]}function C(c,l){var b=o(c).listeners;if(!b.push)throw new Error("Cannot add listener to an element that is not detectable.");o(c).listeners.push(l)}function y(c,l,b){b||(b=l,l=c,c=null),c=c||{};function S(){if(c.debug){var B=Array.prototype.slice.call(arguments);if(B.unshift(h.get(l),"Scroll: "),t.log.apply)t.log.apply(null,B);else for(var W=0;W<B.length;W++)t.log(B[W])}}function A(B){function W(H){var J=H.getRootNode&&H.getRootNode().contains(H);return H===H.ownerDocument.body||H.ownerDocument.body.contains(H)||J}return!W(B)||window.getComputedStyle(B)===null}function L(B){var W=o(B).container.childNodes[0],H=window.getComputedStyle(W);return!H.width||H.width.indexOf("px")===-1}function x(){var B=window.getComputedStyle(l),W={};return W.position=B.position,W.width=l.offsetWidth,W.height=l.offsetHeight,W.top=B.top,W.right=B.right,W.bottom=B.bottom,W.left=B.left,W.widthCSS=B.width,W.heightCSS=B.height,W}function M(){var B=x();o(l).startSize={width:B.width,height:B.height},S("Element start size",o(l).startSize)}function O(){o(l).listeners=[]}function T(){if(S("storeStyle invoked."),!o(l)){S("Aborting because element has been uninstalled");return}var B=x();o(l).style=B}function I(B,W,H){o(B).lastWidth=W,o(B).lastHeight=H}function P(B){return d(B).childNodes[0]}function $(){return 2*_.width+1}function F(){return 2*_.height+1}function R(B){return B+10+$()}function N(B){return B+10+F()}function j(B){return B*2+$()}function V(B){return B*2+F()}function K(B,W,H){var J=d(B),X=v(B),re=R(W),ce=N(H),ae=j(W),q=V(H);J.scrollLeft=re,J.scrollTop=ce,X.scrollLeft=ae,X.scrollTop=q}function G(){var B=o(l).container;if(!B){B=document.createElement("div"),B.className=r,B.style.cssText=s(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),o(l).container=B,m(B),l.appendChild(B);var W=function(){o(l).onRendered&&o(l).onRendered()};w(B,"animationstart",W),o(l).onAnimationStart=W}return B}function Y(){function B(){var le=o(l).style;if(le.position==="static"){l.style.setProperty("position","relative",c.important?"important":"");var ge=function(ye,Se,Ne,Ee){function We(Z){return Z.replace(/[^-\d\.]/g,"")}var ie=Ne[Ee];ie!=="auto"&&We(ie)!=="0"&&(ye.warn("An element that is positioned static has style."+Ee+"="+ie+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Ee+" will be set to 0. Element: ",Se),Se.style[Ee]=0)};ge(t,l,le,"top"),ge(t,l,le,"right"),ge(t,l,le,"bottom"),ge(t,l,le,"left")}}function W(le,ge,ye,Se){return le=le?le+"px":"0",ge=ge?ge+"px":"0",ye=ye?ye+"px":"0",Se=Se?Se+"px":"0",["left: "+le,"top: "+ge,"right: "+Se,"bottom: "+ye]}if(S("Injecting elements"),!o(l)){S("Aborting because element has been uninstalled");return}B();var H=o(l).container;H||(H=G());var J=_.width,X=_.height,re=s(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),ce=s(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(W(-(1+J),-(1+X),-X,-J))),ae=s(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),q=s(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),oe=s(["position: absolute","left: 0","top: 0"]),fe=s(["position: absolute","width: 200%","height: 200%"]),de=document.createElement("div"),ve=document.createElement("div"),me=document.createElement("div"),Te=document.createElement("div"),we=document.createElement("div"),xe=document.createElement("div");de.dir="ltr",de.style.cssText=re,de.className=r,ve.className=r,ve.style.cssText=ce,me.style.cssText=ae,Te.style.cssText=oe,we.style.cssText=q,xe.style.cssText=fe,me.appendChild(Te),we.appendChild(xe),ve.appendChild(me),ve.appendChild(we),de.appendChild(ve),H.appendChild(de);function Me(){var le=o(l);le&&le.onExpand?le.onExpand():S("Aborting expand scroll handler: element has been uninstalled")}function Le(){var le=o(l);le&&le.onShrink?le.onShrink():S("Aborting shrink scroll handler: element has been uninstalled")}w(me,"scroll",Me),w(we,"scroll",Le),o(l).onExpandScroll=Me,o(l).onShrinkScroll=Le}function ee(){function B(ae,q,oe){var fe=P(ae),de=R(q),ve=N(oe);fe.style.setProperty("width",de+"px",c.important?"important":""),fe.style.setProperty("height",ve+"px",c.important?"important":"")}function W(ae){var q=l.offsetWidth,oe=l.offsetHeight,fe=q!==o(l).lastWidth||oe!==o(l).lastHeight;S("Storing current size",q,oe),I(l,q,oe),n.add(0,function(){if(!!fe){if(!o(l)){S("Aborting because element has been uninstalled");return}if(!H()){S("Aborting because element container has not been initialized");return}if(c.debug){var ve=l.offsetWidth,me=l.offsetHeight;(ve!==q||me!==oe)&&t.warn(h.get(l),"Scroll: Size changed before updating detector elements.")}B(l,q,oe)}}),n.add(1,function(){if(!o(l)){S("Aborting because element has been uninstalled");return}if(!H()){S("Aborting because element container has not been initialized");return}K(l,q,oe)}),fe&&ae&&n.add(2,function(){if(!o(l)){S("Aborting because element has been uninstalled");return}if(!H()){S("Aborting because element container has not been initialized");return}ae()})}function H(){return!!o(l).container}function J(){function ae(){return o(l).lastNotifiedWidth===void 0}S("notifyListenersIfNeeded invoked");var q=o(l);if(ae()&&q.lastWidth===q.startSize.width&&q.lastHeight===q.startSize.height)return S("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(q.lastWidth===q.lastNotifiedWidth&&q.lastHeight===q.lastNotifiedHeight)return S("Not notifying: Size already notified");S("Current size not notified, notifying..."),q.lastNotifiedWidth=q.lastWidth,q.lastNotifiedHeight=q.lastHeight,forEach$1(o(l).listeners,function(oe){oe(l)})}function X(){if(S("startanimation triggered."),L(l)){S("Ignoring since element is still unrendered...");return}S("Element rendered.");var ae=d(l),q=v(l);(ae.scrollLeft===0||ae.scrollTop===0||q.scrollLeft===0||q.scrollTop===0)&&(S("Scrollbars out of sync. Updating detector elements..."),W(J))}function re(){if(S("Scroll detected."),L(l)){S("Scroll event fired while unrendered. Ignoring...");return}W(J)}if(S("registerListenersAndPositionElements invoked."),!o(l)){S("Aborting because element has been uninstalled");return}o(l).onRendered=X,o(l).onExpand=re,o(l).onShrink=re;var ce=o(l).style;B(l,ce.width,ce.height)}function Q(){if(S("finalizeDomMutation invoked."),!o(l)){S("Aborting because element has been uninstalled");return}var B=o(l).style;I(l,B.width,B.height),K(l,B.width,B.height)}function k(){b(l)}function D(){S("Installing..."),O(),M(),n.add(0,T),n.add(1,Y),n.add(2,ee),n.add(3,Q),n.add(4,k)}S("Making detectable..."),A(l)?(S("Element is detached"),G(),S("Waiting until element is attached..."),o(l).onRendered=function(){S("Element is now attached"),D()}):D()}function f(c){var l=o(c);!l||(l.onExpandScroll&&E(d(c),"scroll",l.onExpandScroll),l.onShrinkScroll&&E(v(c),"scroll",l.onShrinkScroll),l.onAnimationStart&&E(l.container,"animationstart",l.onAnimationStart),l.container&&c.removeChild(l.container))}return{makeDetectable:y,addListener:C,uninstall:f,initDocument:a}},forEach=collectionUtils.exports.forEach,elementUtilsMaker=elementUtils,listenerHandlerMaker=listenerHandler,idGeneratorMaker=idGenerator,idHandlerMaker=idHandler,reporterMaker=reporter,browserDetector=browserDetector$2.exports,batchProcessorMaker=batchProcessor,stateHandler=stateHandler$1,objectStrategyMaker=object,scrollStrategyMaker=scroll;function isCollection(e){return Array.isArray(e)||e.length!==void 0}function toArray(e){if(Array.isArray(e))return e;var t=[];return forEach(e,function(n){t.push(n)}),t}function isElement(e){return e&&e.nodeType===1}var elementResizeDetector=function(e){e=e||{};var t;if(e.idHandler)t={get:function(y){return e.idHandler.get(y,!0)},set:e.idHandler.set};else{var n=idGeneratorMaker(),o=idHandlerMaker({idGenerator:n,stateHandler});t=o}var h=e.reporter;if(!h){var _=h===!1;h=reporterMaker(_)}var g=getOption(e,"batchProcessor",batchProcessorMaker({reporter:h})),r={};r.callOnAdd=!!getOption(e,"callOnAdd",!0),r.debug=!!getOption(e,"debug",!1);var a=listenerHandlerMaker(t),s=elementUtilsMaker({stateHandler}),u,p=getOption(e,"strategy","object"),m=getOption(e,"important",!1),w={reporter:h,batchProcessor:g,stateHandler,idHandler:t,important:m};if(p==="scroll"&&(browserDetector.isLegacyOpera()?(h.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),p="object"):browserDetector.isIE(9)&&(h.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),p="object")),p==="scroll")u=scrollStrategyMaker(w);else if(p==="object")u=objectStrategyMaker(w);else throw new Error("Invalid strategy name: "+p);var E={};function d(y,f,c){function l(M){var O=a.get(M);forEach(O,function(I){I(M)})}function b(M,O,T){a.add(O,T),M&&T(O)}if(c||(c=f,f=y,y={}),!f)throw new Error("At least one element required.");if(!c)throw new Error("Listener required.");if(isElement(f))f=[f];else if(isCollection(f))f=toArray(f);else return h.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var S=0,A=getOption(y,"callOnAdd",r.callOnAdd),L=getOption(y,"onReady",function(){}),x=getOption(y,"debug",r.debug);forEach(f,function(O){stateHandler.getState(O)||(stateHandler.initState(O),t.set(O));var T=t.get(O);if(x&&h.log("Attaching listener to element",T,O),!s.isDetectable(O)){if(x&&h.log(T,"Not detectable."),s.isBusy(O)){x&&h.log(T,"System busy making it detectable"),b(A,O,c),E[T]=E[T]||[],E[T].push(function(){S++,S===f.length&&L()});return}return x&&h.log(T,"Making detectable..."),s.markBusy(O,!0),u.makeDetectable({debug:x,important:m},O,function(P){if(x&&h.log(T,"onElementDetectable"),stateHandler.getState(P)){s.markAsDetectable(P),s.markBusy(P,!1),u.addListener(P,l),b(A,P,c);var $=stateHandler.getState(P);if($&&$.startSize){var F=P.offsetWidth,R=P.offsetHeight;($.startSize.width!==F||$.startSize.height!==R)&&l(P)}E[T]&&forEach(E[T],function(N){N()})}else x&&h.log(T,"Element uninstalled before being detectable.");delete E[T],S++,S===f.length&&L()})}x&&h.log(T,"Already detecable, adding listener."),b(A,O,c),S++}),S===f.length&&L()}function v(y){if(!y)return h.error("At least one element is required.");if(isElement(y))y=[y];else if(isCollection(y))y=toArray(y);else return h.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");forEach(y,function(f){a.removeAllListeners(f),u.uninstall(f),stateHandler.cleanState(f)})}function C(y){u.initDocument&&u.initDocument(y)}return{listenTo:d,removeListener:a.removeListener,removeAllListeners:a.removeAllListeners,uninstall:v,initDocument:C}};function getOption(e,t,n){var o=e[t];return o==null&&n!==void 0?n:o}var stompjs={exports:{}},stomp={};(function(e){(function(){var t,n,o,h,_={}.hasOwnProperty,g=[].slice;t={LF:`
`,NULL:"\0"},o=function(){var r;function a(s,u,p){this.command=s,this.headers=u!=null?u:{},this.body=p!=null?p:""}return a.prototype.toString=function(){var s,u,p,m,w;s=[this.command],p=this.headers["content-length"]===!1,p&&delete this.headers["content-length"],w=this.headers;for(u in w)!_.call(w,u)||(m=w[u],s.push(""+u+":"+m));return this.body&&!p&&s.push("content-length:"+a.sizeOfUTF8(this.body)),s.push(t.LF+this.body),s.join(t.LF)},a.sizeOfUTF8=function(s){return s?encodeURI(s).match(/%..|./g).length:0},r=function(s){var u,p,m,w,E,d,v,C,y,f,c,l,b,S,A,L,x;for(w=s.search(RegExp(""+t.LF+t.LF)),E=s.substring(0,w).split(t.LF),m=E.shift(),d={},l=function(M){return M.replace(/^\s+|\s+$/g,"")},L=E.reverse(),b=0,A=L.length;b<A;b++)f=L[b],C=f.indexOf(":"),d[l(f.substring(0,C))]=l(f.substring(C+1));if(u="",c=w+2,d["content-length"])y=parseInt(d["content-length"]),u=(""+s).substring(c,c+y);else for(p=null,v=S=c,x=s.length;(c<=x?S<x:S>x)&&(p=s.charAt(v),p!==t.NULL);v=c<=x?++S:--S)u+=p;return new a(m,d,u)},a.unmarshall=function(s){var u;return function(){var p,m,w,E;for(w=s.split(RegExp(""+t.NULL+t.LF+"*")),E=[],p=0,m=w.length;p<m;p++)u=w[p],(u!=null?u.length:void 0)>0&&E.push(r(u));return E}()},a.marshall=function(s,u,p){var m;return m=new a(s,u,p),m.toString()+t.NULL},a}(),n=function(){var r;function a(s){this.ws=s,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16*1024,this.subscriptions={}}return a.prototype.debug=function(s){var u;return typeof window!="undefined"&&window!==null&&(u=window.console)!=null?u.log(s):void 0},r=function(){return Date.now?Date.now():new Date().valueOf},a.prototype._transmit=function(s,u,p){var m;for(m=o.marshall(s,u,p),typeof this.debug=="function"&&this.debug(">>> "+m);;)if(m.length>this.maxWebSocketFrameSize)this.ws.send(m.substring(0,this.maxWebSocketFrameSize)),m=m.substring(this.maxWebSocketFrameSize),typeof this.debug=="function"&&this.debug("remaining = "+m.length);else return this.ws.send(m)},a.prototype._setupHeartbeat=function(s){var u,p,m,w,E,d;if(!((E=s.version)!==h.VERSIONS.V1_1&&E!==h.VERSIONS.V1_2)&&(d=function(){var v,C,y,f;for(y=s["heart-beat"].split(","),f=[],v=0,C=y.length;v<C;v++)w=y[v],f.push(parseInt(w));return f}(),p=d[0],u=d[1],this.heartbeat.outgoing===0||u===0||(m=Math.max(this.heartbeat.outgoing,u),typeof this.debug=="function"&&this.debug("send PING every "+m+"ms"),this.pinger=h.setInterval(m,function(v){return function(){return v.ws.send(t.LF),typeof v.debug=="function"?v.debug(">>> PING"):void 0}}(this))),!(this.heartbeat.incoming===0||p===0)))return m=Math.max(this.heartbeat.incoming,p),typeof this.debug=="function"&&this.debug("check PONG every "+m+"ms"),this.ponger=h.setInterval(m,function(v){return function(){var C;if(C=r()-v.serverActivity,C>m*2)return typeof v.debug=="function"&&v.debug("did not receive server activity for the last "+C+"ms"),v.ws.close()}}(this))},a.prototype._parseConnect=function(){var s,u,p,m;switch(s=1<=arguments.length?g.call(arguments,0):[],m={},s.length){case 2:m=s[0],u=s[1];break;case 3:s[1]instanceof Function?(m=s[0],u=s[1],p=s[2]):(m.login=s[0],m.passcode=s[1],u=s[2]);break;case 4:m.login=s[0],m.passcode=s[1],u=s[2],p=s[3];break;default:m.login=s[0],m.passcode=s[1],u=s[2],p=s[3],m.host=s[4]}return[m,u,p]},a.prototype.connect=function(){var s,u,p,m;return s=1<=arguments.length?g.call(arguments,0):[],m=this._parseConnect.apply(this,s),p=m[0],this.connectCallback=m[1],u=m[2],typeof this.debug=="function"&&this.debug("Opening Web Socket..."),this.ws.onmessage=function(w){return function(E){var d,v,C,y,f,c,l,b,S,A,L,x;if(y=typeof ArrayBuffer!="undefined"&&E.data instanceof ArrayBuffer?(d=new Uint8Array(E.data),typeof w.debug=="function"&&w.debug("--- got data length: "+d.length),function(){var M,O,T;for(T=[],M=0,O=d.length;M<O;M++)v=d[M],T.push(String.fromCharCode(v));return T}().join("")):E.data,w.serverActivity=r(),y===t.LF){typeof w.debug=="function"&&w.debug("<<< PONG");return}for(typeof w.debug=="function"&&w.debug("<<< "+y),L=o.unmarshall(y),x=[],S=0,A=L.length;S<A;S++)switch(f=L[S],f.command){case"CONNECTED":typeof w.debug=="function"&&w.debug("connected to server "+f.headers.server),w.connected=!0,w._setupHeartbeat(f.headers),x.push(typeof w.connectCallback=="function"?w.connectCallback(f):void 0);break;case"MESSAGE":b=f.headers.subscription,l=w.subscriptions[b]||w.onreceive,l?(C=w,c=f.headers["message-id"],f.ack=function(M){return M==null&&(M={}),C.ack(c,b,M)},f.nack=function(M){return M==null&&(M={}),C.nack(c,b,M)},x.push(l(f))):x.push(typeof w.debug=="function"?w.debug("Unhandled received MESSAGE: "+f):void 0);break;case"RECEIPT":x.push(typeof w.onreceipt=="function"?w.onreceipt(f):void 0);break;case"ERROR":x.push(typeof u=="function"?u(f):void 0);break;default:x.push(typeof w.debug=="function"?w.debug("Unhandled frame: "+f):void 0)}return x}}(this),this.ws.onclose=function(w){return function(){var E;return E="Whoops! Lost connection to "+w.ws.url,typeof w.debug=="function"&&w.debug(E),w._cleanUp(),typeof u=="function"?u(E):void 0}}(this),this.ws.onopen=function(w){return function(){return typeof w.debug=="function"&&w.debug("Web Socket Opened..."),p["accept-version"]=h.VERSIONS.supportedVersions(),p["heart-beat"]=[w.heartbeat.outgoing,w.heartbeat.incoming].join(","),w._transmit("CONNECT",p)}}(this)},a.prototype.disconnect=function(s,u){return u==null&&(u={}),this._transmit("DISCONNECT",u),this.ws.onclose=null,this.ws.close(),this._cleanUp(),typeof s=="function"?s():void 0},a.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&h.clearInterval(this.pinger),this.ponger)return h.clearInterval(this.ponger)},a.prototype.send=function(s,u,p){return u==null&&(u={}),p==null&&(p=""),u.destination=s,this._transmit("SEND",u,p)},a.prototype.subscribe=function(s,u,p){var m;return p==null&&(p={}),p.id||(p.id="sub-"+this.counter++),p.destination=s,this.subscriptions[p.id]=u,this._transmit("SUBSCRIBE",p),m=this,{id:p.id,unsubscribe:function(){return m.unsubscribe(p.id)}}},a.prototype.unsubscribe=function(s){return delete this.subscriptions[s],this._transmit("UNSUBSCRIBE",{id:s})},a.prototype.begin=function(s){var u,p;return p=s||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:p}),u=this,{id:p,commit:function(){return u.commit(p)},abort:function(){return u.abort(p)}}},a.prototype.commit=function(s){return this._transmit("COMMIT",{transaction:s})},a.prototype.abort=function(s){return this._transmit("ABORT",{transaction:s})},a.prototype.ack=function(s,u,p){return p==null&&(p={}),p["message-id"]=s,p.subscription=u,this._transmit("ACK",p)},a.prototype.nack=function(s,u,p){return p==null&&(p={}),p["message-id"]=s,p.subscription=u,this._transmit("NACK",p)},a}(),h={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(r,a){var s,u;return a==null&&(a=["v10.stomp","v11.stomp"]),s=h.WebSocketClass||WebSocket,u=new s(r,a),new n(u)},over:function(r){return new n(r)},Frame:o},e!==null&&(e.Stomp=h),typeof window!="undefined"&&window!==null?(h.setInterval=function(r,a){return window.setInterval(a,r)},h.clearInterval=function(r){return window.clearInterval(r)},window.Stomp=h):e||(self.Stomp=h)}).call(commonjsGlobal)})(stomp);var stompNode={};const name="websocket",description="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",keywords=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],author="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",contributors=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],version$1="1.0.34",repository={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},homepage="https://github.com/theturtle32/WebSocket-Node",engines={node:">=4.0.0"},dependencies={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},devDependencies={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},config={verbose:!1},scripts={test:"tape test/unit/*.js",gulp:"gulp"},main="index",directories={lib:"./lib"},browser$1="lib/browser.js",license="Apache-2.0";var require$$0$1={name,description,keywords,author,contributors,version:version$1,repository,homepage,engines,dependencies,devDependencies,config,scripts,main,directories,browser:browser$1,license},version=require$$0$1.version,_globalThis;if(typeof globalThis=="object")_globalThis=globalThis;else try{_globalThis=require("es5-ext/global")}catch{}finally{if(!_globalThis&&typeof window!="undefined"&&(_globalThis=window),!_globalThis)throw new Error("Could not determine global this")}var NativeWebSocket=_globalThis.WebSocket||_globalThis.MozWebSocket,websocket_version=version;function W3CWebSocket(e,t){var n;return t?n=new NativeWebSocket(e,t):n=new NativeWebSocket(e),n}NativeWebSocket&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e){Object.defineProperty(W3CWebSocket,e,{get:function(){return NativeWebSocket[e]}})});var browser={w3cwebsocket:NativeWebSocket?W3CWebSocket:null,version:websocket_version};(function(){var e,t,n,o,h,_;e=stomp,t=require$$1$1,e.Stomp.setInterval=function(g,r){return setInterval(r,g)},e.Stomp.clearInterval=function(g){return clearInterval(g)},h=function(g,r){var a,s;return a=null,s={url:"tcp:// "+r+":"+g,send:function(u){return a.write(u)},close:function(){return a.end()}},a=t.connect(g,r,function(u){return s.onopen()}),a.on("error",function(u){return typeof s.onclose=="function"?s.onclose(u):void 0}),a.on("close",function(u){return typeof s.onclose=="function"?s.onclose(u):void 0}),a.on("data",function(u){var p;return p={data:u.toString()},s.onmessage(p)}),s},_=function(g){var r,a,s,u;return r=browser.client,a=null,u={url:g,send:function(p){return a.sendUTF(p)},close:function(){return a.close()}},s=new r,s.on("connect",function(p){return a=p,u.onopen(),a.on("error",function(m){return typeof u.onclose=="function"?u.onclose(m):void 0}),a.on("close",function(){return typeof u.onclose=="function"?u.onclose():void 0}),a.on("message",function(m){var w;if(m.type==="utf8")return w={data:m.utf8Data},u.onmessage(w)})}),s.connect(g),u},n=function(g,r){var a;return a=h(r,g),e.Stomp.over(a)},o=function(g){var r;return r=_(g),e.Stomp.over(r)},stompNode.overTCP=n,stompNode.overWS=o}).call(commonjsGlobal);var Stomp=stomp,StompNode=stompNode;stompjs.exports=Stomp.Stomp;stompjs.exports.overTCP=StompNode.overTCP;stompjs.exports.overWS=StompNode.overWS;var Stomp$1=stompjs.exports,xterm={exports:{}};(function(e,t){(function(n,o){e.exports=o()})(self,function(){return(()=>{var n={4567:function(g,r,a){var s,u=this&&this.__extends||(s=function(f,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,b){l.__proto__=b}||function(l,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(l[S]=b[S])},s(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function l(){this.constructor=f}s(f,c),f.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)});Object.defineProperty(r,"__esModule",{value:!0}),r.AccessibilityManager=void 0;var p=a(9042),m=a(6114),w=a(9924),E=a(3656),d=a(844),v=a(5596),C=a(9631),y=function(f){function c(l,b){var S=f.call(this)||this;S._terminal=l,S._renderService=b,S._liveRegionLineCount=0,S._charsToConsume=[],S._charsToAnnounce="",S._accessibilityTreeRoot=document.createElement("div"),S._accessibilityTreeRoot.setAttribute("role","document"),S._accessibilityTreeRoot.classList.add("xterm-accessibility"),S._accessibilityTreeRoot.tabIndex=0,S._rowContainer=document.createElement("div"),S._rowContainer.setAttribute("role","list"),S._rowContainer.classList.add("xterm-accessibility-tree"),S._rowElements=[];for(var A=0;A<S._terminal.rows;A++)S._rowElements[A]=S._createAccessibilityTreeNode(),S._rowContainer.appendChild(S._rowElements[A]);if(S._topBoundaryFocusListener=function(L){return S._onBoundaryFocus(L,0)},S._bottomBoundaryFocusListener=function(L){return S._onBoundaryFocus(L,1)},S._rowElements[0].addEventListener("focus",S._topBoundaryFocusListener),S._rowElements[S._rowElements.length-1].addEventListener("focus",S._bottomBoundaryFocusListener),S._refreshRowsDimensions(),S._accessibilityTreeRoot.appendChild(S._rowContainer),S._renderRowsDebouncer=new w.TimeBasedDebouncer(S._renderRows.bind(S)),S._refreshRows(),S._liveRegion=document.createElement("div"),S._liveRegion.classList.add("live-region"),S._liveRegion.setAttribute("aria-live","assertive"),S._accessibilityTreeRoot.appendChild(S._liveRegion),!S._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return S._terminal.element.insertAdjacentElement("afterbegin",S._accessibilityTreeRoot),S.register(S._renderRowsDebouncer),S.register(S._terminal.onResize(function(L){return S._onResize(L.rows)})),S.register(S._terminal.onRender(function(L){return S._refreshRows(L.start,L.end)})),S.register(S._terminal.onScroll(function(){return S._refreshRows()})),S.register(S._terminal.onA11yChar(function(L){return S._onChar(L)})),S.register(S._terminal.onLineFeed(function(){return S._onChar(`
`)})),S.register(S._terminal.onA11yTab(function(L){return S._onTab(L)})),S.register(S._terminal.onKey(function(L){return S._onKey(L.key)})),S.register(S._terminal.onBlur(function(){return S._clearLiveRegion()})),S.register(S._renderService.onDimensionsChange(function(){return S._refreshRowsDimensions()})),S._screenDprMonitor=new v.ScreenDprMonitor,S.register(S._screenDprMonitor),S._screenDprMonitor.setListener(function(){return S._refreshRowsDimensions()}),S.register((0,E.addDisposableDomListener)(window,"resize",function(){return S._refreshRowsDimensions()})),S}return u(c,f),c.prototype.dispose=function(){f.prototype.dispose.call(this),(0,C.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0},c.prototype._onBoundaryFocus=function(l,b){var S=l.target,A=this._rowElements[b===0?1:this._rowElements.length-2];if(S.getAttribute("aria-posinset")!==(b===0?"1":""+this._terminal.buffer.lines.length)&&l.relatedTarget===A){var L,x;if(b===0?(L=S,x=this._rowElements.pop(),this._rowContainer.removeChild(x)):(L=this._rowElements.shift(),x=S,this._rowContainer.removeChild(L)),L.removeEventListener("focus",this._topBoundaryFocusListener),x.removeEventListener("focus",this._bottomBoundaryFocusListener),b===0){var M=this._createAccessibilityTreeNode();this._rowElements.unshift(M),this._rowContainer.insertAdjacentElement("afterbegin",M)}else M=this._createAccessibilityTreeNode(),this._rowElements.push(M),this._rowContainer.appendChild(M);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(b===0?-1:1),this._rowElements[b===0?1:this._rowElements.length-2].focus(),l.preventDefault(),l.stopImmediatePropagation()}},c.prototype._onResize=function(l){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var b=this._rowContainer.children.length;b<this._terminal.rows;b++)this._rowElements[b]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[b]);for(;this._rowElements.length>l;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},c.prototype._createAccessibilityTreeNode=function(){var l=document.createElement("div");return l.setAttribute("role","listitem"),l.tabIndex=-1,this._refreshRowDimensions(l),l},c.prototype._onTab=function(l){for(var b=0;b<l;b++)this._onChar(" ")},c.prototype._onChar=function(l){var b=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==l&&(this._charsToAnnounce+=l):this._charsToAnnounce+=l,l===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=p.tooMuchOutput)),m.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(function(){b._accessibilityTreeRoot.appendChild(b._liveRegion)},0))},c.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,m.isMac&&(0,C.removeElementFromParent)(this._liveRegion)},c.prototype._onKey=function(l){this._clearLiveRegion(),this._charsToConsume.push(l)},c.prototype._refreshRows=function(l,b){this._renderRowsDebouncer.refresh(l,b,this._terminal.rows)},c.prototype._renderRows=function(l,b){for(var S=this._terminal.buffer,A=S.lines.length.toString(),L=l;L<=b;L++){var x=S.translateBufferLineToString(S.ydisp+L,!0),M=(S.ydisp+L+1).toString(),O=this._rowElements[L];O&&(x.length===0?O.innerText="\xA0":O.textContent=x,O.setAttribute("aria-posinset",M),O.setAttribute("aria-setsize",A))}this._announceCharacters()},c.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var l=0;l<this._terminal.rows;l++)this._refreshRowDimensions(this._rowElements[l])}},c.prototype._refreshRowDimensions=function(l){l.style.height=this._renderService.dimensions.actualCellHeight+"px"},c.prototype._announceCharacters=function(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},c}(d.Disposable);r.AccessibilityManager=y},3614:(g,r)=>{function a(m){return m.replace(/\r?\n/g,"\r")}function s(m,w){return w?"[200~"+m+"[201~":m}function u(m,w,E){m=s(m=a(m),E.decPrivateModes.bracketedPasteMode),E.triggerDataEvent(m,!0),w.value=""}function p(m,w,E){var d=E.getBoundingClientRect(),v=m.clientX-d.left-10,C=m.clientY-d.top-10;w.style.width="20px",w.style.height="20px",w.style.left=v+"px",w.style.top=C+"px",w.style.zIndex="1000",w.focus()}Object.defineProperty(r,"__esModule",{value:!0}),r.rightClickHandler=r.moveTextAreaUnderMouseCursor=r.paste=r.handlePasteEvent=r.copyHandler=r.bracketTextForPaste=r.prepareTextForTerminal=void 0,r.prepareTextForTerminal=a,r.bracketTextForPaste=s,r.copyHandler=function(m,w){m.clipboardData&&m.clipboardData.setData("text/plain",w.selectionText),m.preventDefault()},r.handlePasteEvent=function(m,w,E){m.stopPropagation(),m.clipboardData&&u(m.clipboardData.getData("text/plain"),w,E)},r.paste=u,r.moveTextAreaUnderMouseCursor=p,r.rightClickHandler=function(m,w,E,d,v){p(m,w,E),v&&d.rightClickSelect(m),w.value=d.selectionText,w.select()}},4774:(g,r)=>{var a,s,u,p;function m(E){var d=E.toString(16);return d.length<2?"0"+d:d}function w(E,d){return E<d?(d+.05)/(E+.05):(E+.05)/(d+.05)}Object.defineProperty(r,"__esModule",{value:!0}),r.contrastRatio=r.toPaddedHex=r.rgba=r.rgb=r.css=r.color=r.channels=void 0,function(E){E.toCss=function(d,v,C,y){return y!==void 0?"#"+m(d)+m(v)+m(C)+m(y):"#"+m(d)+m(v)+m(C)},E.toRgba=function(d,v,C,y){return y===void 0&&(y=255),(d<<24|v<<16|C<<8|y)>>>0}}(a=r.channels||(r.channels={})),(s=r.color||(r.color={})).blend=function(E,d){var v=(255&d.rgba)/255;if(v===1)return{css:d.css,rgba:d.rgba};var C=d.rgba>>24&255,y=d.rgba>>16&255,f=d.rgba>>8&255,c=E.rgba>>24&255,l=E.rgba>>16&255,b=E.rgba>>8&255,S=c+Math.round((C-c)*v),A=l+Math.round((y-l)*v),L=b+Math.round((f-b)*v);return{css:a.toCss(S,A,L),rgba:a.toRgba(S,A,L)}},s.isOpaque=function(E){return(255&E.rgba)==255},s.ensureContrastRatio=function(E,d,v){var C=p.ensureContrastRatio(E.rgba,d.rgba,v);if(C)return p.toColor(C>>24&255,C>>16&255,C>>8&255)},s.opaque=function(E){var d=(255|E.rgba)>>>0,v=p.toChannels(d),C=v[0],y=v[1],f=v[2];return{css:a.toCss(C,y,f),rgba:d}},s.opacity=function(E,d){var v=Math.round(255*d),C=p.toChannels(E.rgba),y=C[0],f=C[1],c=C[2];return{css:a.toCss(y,f,c,v),rgba:a.toRgba(y,f,c,v)}},s.toColorRGB=function(E){return[E.rgba>>24&255,E.rgba>>16&255,E.rgba>>8&255]},(r.css||(r.css={})).toColor=function(E){switch(E.length){case 7:return{css:E,rgba:(parseInt(E.slice(1),16)<<8|255)>>>0};case 9:return{css:E,rgba:parseInt(E.slice(1),16)>>>0}}throw new Error("css.toColor: Unsupported css format")},function(E){function d(v,C,y){var f=v/255,c=C/255,l=y/255;return .2126*(f<=.03928?f/12.92:Math.pow((f+.055)/1.055,2.4))+.7152*(c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4))+.0722*(l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4))}E.relativeLuminance=function(v){return d(v>>16&255,v>>8&255,255&v)},E.relativeLuminance2=d}(u=r.rgb||(r.rgb={})),function(E){function d(C,y,f){for(var c=C>>24&255,l=C>>16&255,b=C>>8&255,S=y>>24&255,A=y>>16&255,L=y>>8&255,x=w(u.relativeLuminance2(S,L,A),u.relativeLuminance2(c,l,b));x<f&&(S>0||A>0||L>0);)S-=Math.max(0,Math.ceil(.1*S)),A-=Math.max(0,Math.ceil(.1*A)),L-=Math.max(0,Math.ceil(.1*L)),x=w(u.relativeLuminance2(S,L,A),u.relativeLuminance2(c,l,b));return(S<<24|A<<16|L<<8|255)>>>0}function v(C,y,f){for(var c=C>>24&255,l=C>>16&255,b=C>>8&255,S=y>>24&255,A=y>>16&255,L=y>>8&255,x=w(u.relativeLuminance2(S,L,A),u.relativeLuminance2(c,l,b));x<f&&(S<255||A<255||L<255);)S=Math.min(255,S+Math.ceil(.1*(255-S))),A=Math.min(255,A+Math.ceil(.1*(255-A))),L=Math.min(255,L+Math.ceil(.1*(255-L))),x=w(u.relativeLuminance2(S,L,A),u.relativeLuminance2(c,l,b));return(S<<24|A<<16|L<<8|255)>>>0}E.ensureContrastRatio=function(C,y,f){var c=u.relativeLuminance(C>>8),l=u.relativeLuminance(y>>8);if(w(c,l)<f)return l<c?d(C,y,f):v(C,y,f)},E.reduceLuminance=d,E.increaseLuminance=v,E.toChannels=function(C){return[C>>24&255,C>>16&255,C>>8&255,255&C]},E.toColor=function(C,y,f){return{css:a.toCss(C,y,f),rgba:a.toRgba(C,y,f)}}}(p=r.rgba||(r.rgba={})),r.toPaddedHex=m,r.contrastRatio=w},7239:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ColorContrastCache=void 0;var a=function(){function s(){this._color={},this._rgba={}}return s.prototype.clear=function(){this._color={},this._rgba={}},s.prototype.setCss=function(u,p,m){this._rgba[u]||(this._rgba[u]={}),this._rgba[u][p]=m},s.prototype.getCss=function(u,p){return this._rgba[u]?this._rgba[u][p]:void 0},s.prototype.setColor=function(u,p,m){this._color[u]||(this._color[u]={}),this._color[u][p]=m},s.prototype.getColor=function(u,p){return this._color[u]?this._color[u][p]:void 0},s}();r.ColorContrastCache=a},5680:function(g,r,a){var s=this&&this.__spreadArray||function(y,f,c){if(c||arguments.length===2)for(var l,b=0,S=f.length;b<S;b++)!l&&b in f||(l||(l=Array.prototype.slice.call(f,0,b)),l[b]=f[b]);return y.concat(l||Array.prototype.slice.call(f))};Object.defineProperty(r,"__esModule",{value:!0}),r.ColorManager=r.DEFAULT_ANSI_COLORS=void 0;var u=a(4774),p=a(7239),m=u.css.toColor("#ffffff"),w=u.css.toColor("#000000"),E=u.css.toColor("#ffffff"),d=u.css.toColor("#000000"),v={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};r.DEFAULT_ANSI_COLORS=Object.freeze(function(){for(var y=[u.css.toColor("#2e3436"),u.css.toColor("#cc0000"),u.css.toColor("#4e9a06"),u.css.toColor("#c4a000"),u.css.toColor("#3465a4"),u.css.toColor("#75507b"),u.css.toColor("#06989a"),u.css.toColor("#d3d7cf"),u.css.toColor("#555753"),u.css.toColor("#ef2929"),u.css.toColor("#8ae234"),u.css.toColor("#fce94f"),u.css.toColor("#729fcf"),u.css.toColor("#ad7fa8"),u.css.toColor("#34e2e2"),u.css.toColor("#eeeeec")],f=[0,95,135,175,215,255],c=0;c<216;c++){var l=f[c/36%6|0],b=f[c/6%6|0],S=f[c%6];y.push({css:u.channels.toCss(l,b,S),rgba:u.channels.toRgba(l,b,S)})}for(c=0;c<24;c++){var A=8+10*c;y.push({css:u.channels.toCss(A,A,A),rgba:u.channels.toRgba(A,A,A)})}return y}());var C=function(){function y(f,c){this.allowTransparency=c;var l=f.createElement("canvas");l.width=1,l.height=1;var b=l.getContext("2d");if(!b)throw new Error("Could not get rendering context");this._ctx=b,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new p.ColorContrastCache,this.colors={foreground:m,background:w,cursor:E,cursorAccent:d,selectionTransparent:v,selectionOpaque:u.color.blend(w,v),ansi:r.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors()}return y.prototype.onOptionsChange=function(f){f==="minimumContrastRatio"&&this._contrastCache.clear()},y.prototype.setTheme=function(f){f===void 0&&(f={}),this.colors.foreground=this._parseColor(f.foreground,m),this.colors.background=this._parseColor(f.background,w),this.colors.cursor=this._parseColor(f.cursor,E,!0),this.colors.cursorAccent=this._parseColor(f.cursorAccent,d,!0),this.colors.selectionTransparent=this._parseColor(f.selection,v,!0),this.colors.selectionOpaque=u.color.blend(this.colors.background,this.colors.selectionTransparent),u.color.isOpaque(this.colors.selectionTransparent)&&(this.colors.selectionTransparent=u.color.opacity(this.colors.selectionTransparent,.3)),this.colors.ansi[0]=this._parseColor(f.black,r.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(f.red,r.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(f.green,r.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(f.yellow,r.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(f.blue,r.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(f.magenta,r.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(f.cyan,r.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(f.white,r.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(f.brightBlack,r.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(f.brightRed,r.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(f.brightGreen,r.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(f.brightYellow,r.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(f.brightBlue,r.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(f.brightMagenta,r.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(f.brightCyan,r.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(f.brightWhite,r.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear(),this._updateRestoreColors()},y.prototype.restoreColor=function(f){if(f!==void 0)switch(f){case 256:this.colors.foreground=this._restoreColors.foreground;break;case 257:this.colors.background=this._restoreColors.background;break;case 258:this.colors.cursor=this._restoreColors.cursor;break;default:this.colors.ansi[f]=this._restoreColors.ansi[f]}else for(var c=0;c<this._restoreColors.ansi.length;++c)this.colors.ansi[c]=this._restoreColors.ansi[c]},y.prototype._updateRestoreColors=function(){this._restoreColors={foreground:this.colors.foreground,background:this.colors.background,cursor:this.colors.cursor,ansi:s([],this.colors.ansi,!0)}},y.prototype._parseColor=function(f,c,l){if(l===void 0&&(l=this.allowTransparency),f===void 0)return c;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=f,typeof this._ctx.fillStyle!="string")return console.warn("Color: "+f+" is invalid using fallback "+c.css),c;this._ctx.fillRect(0,0,1,1);var b=this._ctx.getImageData(0,0,1,1).data;if(b[3]!==255){if(!l)return console.warn("Color: "+f+" is using transparency, but allowTransparency is false. Using fallback "+c.css+"."),c;var S=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map(function(T){return Number(T)}),A=S[0],L=S[1],x=S[2],M=S[3],O=Math.round(255*M);return{rgba:u.channels.toRgba(A,L,x,O),css:f}}return{css:this._ctx.fillStyle,rgba:u.channels.toRgba(b[0],b[1],b[2],b[3])}},y}();r.ColorManager=C},9631:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.removeElementFromParent=void 0,r.removeElementFromParent=function(){for(var a,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];for(var p=0,m=s;p<m.length;p++){var w=m[p];(a=w==null?void 0:w.parentElement)===null||a===void 0||a.removeChild(w)}}},3656:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.addDisposableDomListener=void 0,r.addDisposableDomListener=function(a,s,u,p){a.addEventListener(s,u,p);var m=!1;return{dispose:function(){m||(m=!0,a.removeEventListener(s,u,p))}}}},3551:function(g,r,a){var s=this&&this.__decorate||function(d,v,C,y){var f,c=arguments.length,l=c<3?v:y===null?y=Object.getOwnPropertyDescriptor(v,C):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(d,v,C,y);else for(var b=d.length-1;b>=0;b--)(f=d[b])&&(l=(c<3?f(l):c>3?f(v,C,l):f(v,C))||l);return c>3&&l&&Object.defineProperty(v,C,l),l},u=this&&this.__param||function(d,v){return function(C,y){v(C,y,d)}};Object.defineProperty(r,"__esModule",{value:!0}),r.MouseZone=r.Linkifier=void 0;var p=a(8460),m=a(2585),w=function(){function d(v,C,y){this._bufferService=v,this._logService=C,this._unicodeService=y,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new p.EventEmitter,this._onHideLinkUnderline=new p.EventEmitter,this._onLinkTooltip=new p.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(d.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),d.prototype.attachToDom=function(v,C){this._element=v,this._mouseZoneManager=C},d.prototype.linkifyRows=function(v,C){var y=this;this._mouseZoneManager&&(this._rowsToLinkify.start===void 0||this._rowsToLinkify.end===void 0?(this._rowsToLinkify.start=v,this._rowsToLinkify.end=C):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,v),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,C)),this._mouseZoneManager.clearAll(v,C),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return y._linkifyRows()},d._timeBeforeLatency))},d.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var v=this._bufferService.buffer;if(this._rowsToLinkify.start!==void 0&&this._rowsToLinkify.end!==void 0){var C=v.ydisp+this._rowsToLinkify.start;if(!(C>=v.lines.length)){for(var y=v.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,f=Math.ceil(2e3/this._bufferService.cols),c=this._bufferService.buffer.iterator(!1,C,y,f,f);c.hasNext();)for(var l=c.next(),b=0;b<this._linkMatchers.length;b++)this._doLinkifyRow(l.range.first,l.content,this._linkMatchers[b]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},d.prototype.registerLinkMatcher=function(v,C,y){if(y===void 0&&(y={}),!C)throw new Error("handler must be defined");var f={id:this._nextLinkMatcherId++,regex:v,handler:C,matchIndex:y.matchIndex,validationCallback:y.validationCallback,hoverTooltipCallback:y.tooltipCallback,hoverLeaveCallback:y.leaveCallback,willLinkActivate:y.willLinkActivate,priority:y.priority||0};return this._addLinkMatcherToList(f),f.id},d.prototype._addLinkMatcherToList=function(v){if(this._linkMatchers.length!==0){for(var C=this._linkMatchers.length-1;C>=0;C--)if(v.priority<=this._linkMatchers[C].priority)return void this._linkMatchers.splice(C+1,0,v);this._linkMatchers.splice(0,0,v)}else this._linkMatchers.push(v)},d.prototype.deregisterLinkMatcher=function(v){for(var C=0;C<this._linkMatchers.length;C++)if(this._linkMatchers[C].id===v)return this._linkMatchers.splice(C,1),!0;return!1},d.prototype._doLinkifyRow=function(v,C,y){for(var f,c=this,l=new RegExp(y.regex.source,(y.regex.flags||"")+"g"),b=-1,S=function(){var L=f[typeof y.matchIndex!="number"?0:y.matchIndex];if(!L)return A._logService.debug("match found without corresponding matchIndex",f,y),"break";if(b=C.indexOf(L,b+1),l.lastIndex=b+L.length,b<0)return"break";var x=A._bufferService.buffer.stringIndexToBufferIndex(v,b);if(x[0]<0)return"break";var M=A._bufferService.buffer.lines.get(x[0]);if(!M)return"break";var O=M.getFg(x[1]),T=O?O>>9&511:void 0;y.validationCallback?y.validationCallback(L,function(I){c._rowsTimeoutId||I&&c._addLink(x[1],x[0]-c._bufferService.buffer.ydisp,L,y,T)}):A._addLink(x[1],x[0]-A._bufferService.buffer.ydisp,L,y,T)},A=this;(f=l.exec(C))!==null&&S()!=="break";);},d.prototype._addLink=function(v,C,y,f,c){var l=this;if(this._mouseZoneManager&&this._element){var b=this._unicodeService.getStringCellWidth(y),S=v%this._bufferService.cols,A=C+Math.floor(v/this._bufferService.cols),L=(S+b)%this._bufferService.cols,x=A+Math.floor((S+b)/this._bufferService.cols);L===0&&(L=this._bufferService.cols,x--),this._mouseZoneManager.add(new E(S+1,A+1,L+1,x+1,function(M){if(f.handler)return f.handler(M,y);var O=window.open();O?(O.opener=null,O.location.href=y):console.warn("Opening link blocked as opener could not be cleared")},function(){l._onShowLinkUnderline.fire(l._createLinkHoverEvent(S,A,L,x,c)),l._element.classList.add("xterm-cursor-pointer")},function(M){l._onLinkTooltip.fire(l._createLinkHoverEvent(S,A,L,x,c)),f.hoverTooltipCallback&&f.hoverTooltipCallback(M,y,{start:{x:S,y:A},end:{x:L,y:x}})},function(){l._onHideLinkUnderline.fire(l._createLinkHoverEvent(S,A,L,x,c)),l._element.classList.remove("xterm-cursor-pointer"),f.hoverLeaveCallback&&f.hoverLeaveCallback()},function(M){return!f.willLinkActivate||f.willLinkActivate(M,y)}))}},d.prototype._createLinkHoverEvent=function(v,C,y,f,c){return{x1:v,y1:C,x2:y,y2:f,cols:this._bufferService.cols,fg:c}},d._timeBeforeLatency=200,d=s([u(0,m.IBufferService),u(1,m.ILogService),u(2,m.IUnicodeService)],d)}();r.Linkifier=w;var E=function(d,v,C,y,f,c,l,b,S){this.x1=d,this.y1=v,this.x2=C,this.y2=y,this.clickCallback=f,this.hoverCallback=c,this.tooltipCallback=l,this.leaveCallback=b,this.willLinkActivate=S};r.MouseZone=E},6465:function(g,r,a){var s,u=this&&this.__extends||(s=function(y,f){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var b in l)Object.prototype.hasOwnProperty.call(l,b)&&(c[b]=l[b])},s(y,f)},function(y,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function c(){this.constructor=y}s(y,f),y.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}),p=this&&this.__decorate||function(y,f,c,l){var b,S=arguments.length,A=S<3?f:l===null?l=Object.getOwnPropertyDescriptor(f,c):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(y,f,c,l);else for(var L=y.length-1;L>=0;L--)(b=y[L])&&(A=(S<3?b(A):S>3?b(f,c,A):b(f,c))||A);return S>3&&A&&Object.defineProperty(f,c,A),A},m=this&&this.__param||function(y,f){return function(c,l){f(c,l,y)}};Object.defineProperty(r,"__esModule",{value:!0}),r.Linkifier2=void 0;var w=a(2585),E=a(8460),d=a(844),v=a(3656),C=function(y){function f(c){var l=y.call(this)||this;return l._bufferService=c,l._linkProviders=[],l._linkCacheDisposables=[],l._isMouseOut=!0,l._activeLine=-1,l._onShowLinkUnderline=l.register(new E.EventEmitter),l._onHideLinkUnderline=l.register(new E.EventEmitter),l.register((0,d.getDisposeArrayDisposable)(l._linkCacheDisposables)),l}return u(f,y),Object.defineProperty(f.prototype,"currentLink",{get:function(){return this._currentLink},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),f.prototype.registerLinkProvider=function(c){var l=this;return this._linkProviders.push(c),{dispose:function(){var b=l._linkProviders.indexOf(c);b!==-1&&l._linkProviders.splice(b,1)}}},f.prototype.attachToDom=function(c,l,b){var S=this;this._element=c,this._mouseService=l,this._renderService=b,this.register((0,v.addDisposableDomListener)(this._element,"mouseleave",function(){S._isMouseOut=!0,S._clearCurrentLink()})),this.register((0,v.addDisposableDomListener)(this._element,"mousemove",this._onMouseMove.bind(this))),this.register((0,v.addDisposableDomListener)(this._element,"click",this._onClick.bind(this)))},f.prototype._onMouseMove=function(c){if(this._lastMouseEvent=c,this._element&&this._mouseService){var l=this._positionFromMouseEvent(c,this._element,this._mouseService);if(l){this._isMouseOut=!1;for(var b=c.composedPath(),S=0;S<b.length;S++){var A=b[S];if(A.classList.contains("xterm"))break;if(A.classList.contains("xterm-hover"))return}this._lastBufferCell&&l.x===this._lastBufferCell.x&&l.y===this._lastBufferCell.y||(this._onHover(l),this._lastBufferCell=l)}}},f.prototype._onHover=function(c){if(this._activeLine!==c.y)return this._clearCurrentLink(),void this._askForLink(c,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,c)||(this._clearCurrentLink(),this._askForLink(c,!0))},f.prototype._askForLink=function(c,l){var b,S=this;this._activeProviderReplies&&l||((b=this._activeProviderReplies)===null||b===void 0||b.forEach(function(L){L==null||L.forEach(function(x){x.link.dispose&&x.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=c.y);var A=!1;this._linkProviders.forEach(function(L,x){var M;l?((M=S._activeProviderReplies)===null||M===void 0?void 0:M.get(x))&&(A=S._checkLinkProviderResult(x,c,A)):L.provideLinks(c.y,function(O){var T,I;if(!S._isMouseOut){var P=O==null?void 0:O.map(function($){return{link:$}});(T=S._activeProviderReplies)===null||T===void 0||T.set(x,P),A=S._checkLinkProviderResult(x,c,A),((I=S._activeProviderReplies)===null||I===void 0?void 0:I.size)===S._linkProviders.length&&S._removeIntersectingLinks(c.y,S._activeProviderReplies)}})})},f.prototype._removeIntersectingLinks=function(c,l){for(var b=new Set,S=0;S<l.size;S++){var A=l.get(S);if(A)for(var L=0;L<A.length;L++)for(var x=A[L],M=x.link.range.start.y<c?0:x.link.range.start.x,O=x.link.range.end.y>c?this._bufferService.cols:x.link.range.end.x,T=M;T<=O;T++){if(b.has(T)){A.splice(L--,1);break}b.add(T)}}},f.prototype._checkLinkProviderResult=function(c,l,b){var S,A=this;if(!this._activeProviderReplies)return b;for(var L=this._activeProviderReplies.get(c),x=!1,M=0;M<c;M++)this._activeProviderReplies.has(M)&&!this._activeProviderReplies.get(M)||(x=!0);if(!x&&L){var O=L.find(function(I){return A._linkAtPosition(I.link,l)});O&&(b=!0,this._handleNewLink(O))}if(this._activeProviderReplies.size===this._linkProviders.length&&!b)for(M=0;M<this._activeProviderReplies.size;M++){var T=(S=this._activeProviderReplies.get(M))===null||S===void 0?void 0:S.find(function(I){return A._linkAtPosition(I.link,l)});if(T){b=!0,this._handleNewLink(T);break}}return b},f.prototype._onClick=function(c){if(this._element&&this._mouseService&&this._currentLink){var l=this._positionFromMouseEvent(c,this._element,this._mouseService);l&&this._linkAtPosition(this._currentLink.link,l)&&this._currentLink.link.activate(c,this._currentLink.link.text)}},f.prototype._clearCurrentLink=function(c,l){this._element&&this._currentLink&&this._lastMouseEvent&&(!c||!l||this._currentLink.link.range.start.y>=c&&this._currentLink.link.range.end.y<=l)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,d.disposeArray)(this._linkCacheDisposables))},f.prototype._handleNewLink=function(c){var l=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var b=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);b&&this._linkAtPosition(c.link,b)&&(this._currentLink=c,this._currentLink.state={decorations:{underline:c.link.decorations===void 0||c.link.decorations.underline,pointerCursor:c.link.decorations===void 0||c.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,c.link,this._lastMouseEvent),c.link.decorations={},Object.defineProperties(c.link.decorations,{pointerCursor:{get:function(){var S,A;return(A=(S=l._currentLink)===null||S===void 0?void 0:S.state)===null||A===void 0?void 0:A.decorations.pointerCursor},set:function(S){var A,L;((A=l._currentLink)===null||A===void 0?void 0:A.state)&&l._currentLink.state.decorations.pointerCursor!==S&&(l._currentLink.state.decorations.pointerCursor=S,l._currentLink.state.isHovered&&((L=l._element)===null||L===void 0||L.classList.toggle("xterm-cursor-pointer",S)))}},underline:{get:function(){var S,A;return(A=(S=l._currentLink)===null||S===void 0?void 0:S.state)===null||A===void 0?void 0:A.decorations.underline},set:function(S){var A,L,x;((A=l._currentLink)===null||A===void 0?void 0:A.state)&&((x=(L=l._currentLink)===null||L===void 0?void 0:L.state)===null||x===void 0?void 0:x.decorations.underline)!==S&&(l._currentLink.state.decorations.underline=S,l._currentLink.state.isHovered&&l._fireUnderlineEvent(c.link,S))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedBufferChange(function(S){var A=S.start===0?0:S.start+1+l._bufferService.buffer.ydisp;l._clearCurrentLink(A,S.end+1+l._bufferService.buffer.ydisp)})))}},f.prototype._linkHover=function(c,l,b){var S;((S=this._currentLink)===null||S===void 0?void 0:S.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(l,!0),this._currentLink.state.decorations.pointerCursor&&c.classList.add("xterm-cursor-pointer")),l.hover&&l.hover(b,l.text)},f.prototype._fireUnderlineEvent=function(c,l){var b=c.range,S=this._bufferService.buffer.ydisp,A=this._createLinkUnderlineEvent(b.start.x-1,b.start.y-S-1,b.end.x,b.end.y-S-1,void 0);(l?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(A)},f.prototype._linkLeave=function(c,l,b){var S;((S=this._currentLink)===null||S===void 0?void 0:S.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(l,!1),this._currentLink.state.decorations.pointerCursor&&c.classList.remove("xterm-cursor-pointer")),l.leave&&l.leave(b,l.text)},f.prototype._linkAtPosition=function(c,l){var b=c.range.start.y===c.range.end.y,S=c.range.start.y<l.y,A=c.range.end.y>l.y;return(b&&c.range.start.x<=l.x&&c.range.end.x>=l.x||S&&c.range.end.x>=l.x||A&&c.range.start.x<=l.x||S&&A)&&c.range.start.y<=l.y&&c.range.end.y>=l.y},f.prototype._positionFromMouseEvent=function(c,l,b){var S=b.getCoords(c,l,this._bufferService.cols,this._bufferService.rows);if(S)return{x:S[0],y:S[1]+this._bufferService.buffer.ydisp}},f.prototype._createLinkUnderlineEvent=function(c,l,b,S,A){return{x1:c,y1:l,x2:b,y2:S,cols:this._bufferService.cols,fg:A}},p([m(0,w.IBufferService)],f)}(d.Disposable);r.Linkifier2=C},9042:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.tooMuchOutput=r.promptLabel=void 0,r.promptLabel="Terminal input",r.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},6954:function(g,r,a){var s,u=this&&this.__extends||(s=function(y,f){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var b in l)Object.prototype.hasOwnProperty.call(l,b)&&(c[b]=l[b])},s(y,f)},function(y,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function c(){this.constructor=y}s(y,f),y.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}),p=this&&this.__decorate||function(y,f,c,l){var b,S=arguments.length,A=S<3?f:l===null?l=Object.getOwnPropertyDescriptor(f,c):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(y,f,c,l);else for(var L=y.length-1;L>=0;L--)(b=y[L])&&(A=(S<3?b(A):S>3?b(f,c,A):b(f,c))||A);return S>3&&A&&Object.defineProperty(f,c,A),A},m=this&&this.__param||function(y,f){return function(c,l){f(c,l,y)}};Object.defineProperty(r,"__esModule",{value:!0}),r.MouseZoneManager=void 0;var w=a(844),E=a(3656),d=a(4725),v=a(2585),C=function(y){function f(c,l,b,S,A,L){var x=y.call(this)||this;return x._element=c,x._screenElement=l,x._bufferService=b,x._mouseService=S,x._selectionService=A,x._optionsService=L,x._zones=[],x._areZonesActive=!1,x._lastHoverCoords=[void 0,void 0],x._initialSelectionLength=0,x.register((0,E.addDisposableDomListener)(x._element,"mousedown",function(M){return x._onMouseDown(M)})),x._mouseMoveListener=function(M){return x._onMouseMove(M)},x._mouseLeaveListener=function(M){return x._onMouseLeave(M)},x._clickListener=function(M){return x._onClick(M)},x}return u(f,y),f.prototype.dispose=function(){y.prototype.dispose.call(this),this._deactivate()},f.prototype.add=function(c){this._zones.push(c),this._zones.length===1&&this._activate()},f.prototype.clearAll=function(c,l){if(this._zones.length!==0){c&&l||(c=0,l=this._bufferService.rows-1);for(var b=0;b<this._zones.length;b++){var S=this._zones[b];(S.y1>c&&S.y1<=l+1||S.y2>c&&S.y2<=l+1||S.y1<c&&S.y2>l+1)&&(this._currentZone&&this._currentZone===S&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(b--,1))}this._zones.length===0&&this._deactivate()}},f.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},f.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},f.prototype._onMouseMove=function(c){this._lastHoverCoords[0]===c.pageX&&this._lastHoverCoords[1]===c.pageY||(this._onHover(c),this._lastHoverCoords=[c.pageX,c.pageY])},f.prototype._onHover=function(c){var l=this,b=this._findZoneEventAt(c);b!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),b&&(this._currentZone=b,b.hoverCallback&&b.hoverCallback(c),this._tooltipTimeout=window.setTimeout(function(){return l._onTooltip(c)},this._optionsService.options.linkTooltipHoverDuration)))},f.prototype._onTooltip=function(c){this._tooltipTimeout=void 0;var l=this._findZoneEventAt(c);l==null||l.tooltipCallback(c)},f.prototype._onMouseDown=function(c){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var l=this._findZoneEventAt(c);(l==null?void 0:l.willLinkActivate(c))&&(c.preventDefault(),c.stopImmediatePropagation())}},f.prototype._onMouseLeave=function(c){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},f.prototype._onClick=function(c){var l=this._findZoneEventAt(c),b=this._getSelectionLength();l&&b===this._initialSelectionLength&&(l.clickCallback(c),c.preventDefault(),c.stopImmediatePropagation())},f.prototype._getSelectionLength=function(){var c=this._selectionService.selectionText;return c?c.length:0},f.prototype._findZoneEventAt=function(c){var l=this._mouseService.getCoords(c,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(l)for(var b=l[0],S=l[1],A=0;A<this._zones.length;A++){var L=this._zones[A];if(L.y1===L.y2){if(S===L.y1&&b>=L.x1&&b<L.x2)return L}else if(S===L.y1&&b>=L.x1||S===L.y2&&b<L.x2||S>L.y1&&S<L.y2)return L}},p([m(2,v.IBufferService),m(3,d.IMouseService),m(4,d.ISelectionService),m(5,v.IOptionsService)],f)}(w.Disposable);r.MouseZoneManager=C},6193:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.RenderDebouncer=void 0;var a=function(){function s(u){this._renderCallback=u}return s.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},s.prototype.refresh=function(u,p,m){var w=this;this._rowCount=m,u=u!==void 0?u:0,p=p!==void 0?p:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,p):p,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return w._innerRefresh()}))},s.prototype._innerRefresh=function(){if(this._rowStart!==void 0&&this._rowEnd!==void 0&&this._rowCount!==void 0){var u=Math.max(this._rowStart,0),p=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._animationFrame=void 0,this._renderCallback(u,p)}},s}();r.RenderDebouncer=a},5596:function(g,r,a){var s,u=this&&this.__extends||(s=function(m,w){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,d){E.__proto__=d}||function(E,d){for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(E[v]=d[v])},s(m,w)},function(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function E(){this.constructor=m}s(m,w),m.prototype=w===null?Object.create(w):(E.prototype=w.prototype,new E)});Object.defineProperty(r,"__esModule",{value:!0}),r.ScreenDprMonitor=void 0;var p=function(m){function w(){var E=m!==null&&m.apply(this,arguments)||this;return E._currentDevicePixelRatio=window.devicePixelRatio,E}return u(w,m),w.prototype.setListener=function(E){var d=this;this._listener&&this.clearListener(),this._listener=E,this._outerListener=function(){d._listener&&(d._listener(window.devicePixelRatio,d._currentDevicePixelRatio),d._updateDpr())},this._updateDpr()},w.prototype.dispose=function(){m.prototype.dispose.call(this),this.clearListener()},w.prototype._updateDpr=function(){var E;this._outerListener&&((E=this._resolutionMediaMatchList)===null||E===void 0||E.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},w.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},w}(a(844).Disposable);r.ScreenDprMonitor=p},3236:function(g,r,a){var s,u=this&&this.__extends||(s=function(Q,k){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,B){D.__proto__=B}||function(D,B){for(var W in B)Object.prototype.hasOwnProperty.call(B,W)&&(D[W]=B[W])},s(Q,k)},function(Q,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function D(){this.constructor=Q}s(Q,k),Q.prototype=k===null?Object.create(k):(D.prototype=k.prototype,new D)});Object.defineProperty(r,"__esModule",{value:!0}),r.Terminal=void 0;var p=a(2950),m=a(1680),w=a(3614),E=a(2584),d=a(5435),v=a(3525),C=a(3551),y=a(9312),f=a(6114),c=a(3656),l=a(9042),b=a(357),S=a(6954),A=a(4567),L=a(1296),x=a(7399),M=a(8460),O=a(8437),T=a(5680),I=a(3230),P=a(4725),$=a(428),F=a(8934),R=a(6465),N=a(5114),j=a(8969),V=a(4774),K=a(4269),G=a(5941),Y=typeof window!="undefined"?window.document:null,ee=function(Q){function k(D){D===void 0&&(D={});var B=Q.call(this,D)||this;return B.browser=f,B._keyDownHandled=!1,B._keyPressHandled=!1,B._unprocessedDeadKey=!1,B._onCursorMove=new M.EventEmitter,B._onKey=new M.EventEmitter,B._onRender=new M.EventEmitter,B._onSelectionChange=new M.EventEmitter,B._onTitleChange=new M.EventEmitter,B._onBell=new M.EventEmitter,B._onFocus=new M.EventEmitter,B._onBlur=new M.EventEmitter,B._onA11yCharEmitter=new M.EventEmitter,B._onA11yTabEmitter=new M.EventEmitter,B._setup(),B.linkifier=B._instantiationService.createInstance(C.Linkifier),B.linkifier2=B.register(B._instantiationService.createInstance(R.Linkifier2)),B.register(B._inputHandler.onRequestBell(function(){return B.bell()})),B.register(B._inputHandler.onRequestRefreshRows(function(W,H){return B.refresh(W,H)})),B.register(B._inputHandler.onRequestSendFocus(function(){return B._reportFocus()})),B.register(B._inputHandler.onRequestReset(function(){return B.reset()})),B.register(B._inputHandler.onRequestWindowsOptionsReport(function(W){return B._reportWindowsOptions(W)})),B.register(B._inputHandler.onColor(function(W){return B._handleColorEvent(W)})),B.register((0,M.forwardEvent)(B._inputHandler.onCursorMove,B._onCursorMove)),B.register((0,M.forwardEvent)(B._inputHandler.onTitleChange,B._onTitleChange)),B.register((0,M.forwardEvent)(B._inputHandler.onA11yChar,B._onA11yCharEmitter)),B.register((0,M.forwardEvent)(B._inputHandler.onA11yTab,B._onA11yTabEmitter)),B.register(B._bufferService.onResize(function(W){return B._afterResize(W.cols,W.rows)})),B}return u(k,Q),Object.defineProperty(k.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onBell",{get:function(){return this._onBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),k.prototype._handleColorEvent=function(D){var B,W;if(this._colorManager){for(var H=0,J=D;H<J.length;H++){var X=J[H],re=void 0,ce="";switch(X.index){case 256:re="foreground",ce="10";break;case 257:re="background",ce="11";break;case 258:re="cursor",ce="12";break;default:re="ansi",ce="4;"+X.index}if(re)switch(X.type){case 0:var ae=V.color.toColorRGB(re==="ansi"?this._colorManager.colors.ansi[X.index]:this._colorManager.colors[re]);this.coreService.triggerDataEvent(E.C0.ESC+"]"+ce+";"+(0,G.toRgbString)(ae)+E.C0.BEL);break;case 1:re==="ansi"?this._colorManager.colors.ansi[X.index]=V.rgba.toColor.apply(V.rgba,X.color):this._colorManager.colors[re]=V.rgba.toColor.apply(V.rgba,X.color);break;case 2:this._colorManager.restoreColor(X.index)}}(B=this._renderService)===null||B===void 0||B.setColors(this._colorManager.colors),(W=this.viewport)===null||W===void 0||W.onThemeChange(this._colorManager.colors)}},k.prototype.dispose=function(){var D,B,W;this._isDisposed||(Q.prototype.dispose.call(this),(D=this._renderService)===null||D===void 0||D.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},(W=(B=this.element)===null||B===void 0?void 0:B.parentNode)===null||W===void 0||W.removeChild(this.element))},k.prototype._setup=function(){Q.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(k.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),k.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},k.prototype._updateOptions=function(D){var B,W,H,J;switch(Q.prototype._updateOptions.call(this,D),D){case"fontFamily":case"fontSize":(B=this._renderService)===null||B===void 0||B.clear(),(W=this._charSizeService)===null||W===void 0||W.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"customGlyphs":case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":(H=this.viewport)===null||H===void 0||H.syncScrollArea();break;case"screenReaderMode":this.optionsService.options.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new A.AccessibilityManager(this,this._renderService)):((J=this._accessibilityManager)===null||J===void 0||J.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.options.theme)}},k.prototype._onTextAreaFocus=function(D){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(E.C0.ESC+"[I"),this.updateCursorStyle(D),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},k.prototype.blur=function(){var D;return(D=this.textarea)===null||D===void 0?void 0:D.blur()},k.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(E.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},k.prototype._syncTextArea=function(){if(this.textarea&&this.buffer.isCursorInViewport&&!this._compositionHelper.isComposing&&this._renderService){var D=this.buffer.ybase+this.buffer.y,B=this.buffer.lines.get(D);if(B){var W=Math.min(this.buffer.x,this.cols-1),H=this._renderService.dimensions.actualCellHeight,J=B.getWidth(W),X=this._renderService.dimensions.actualCellWidth*J,re=this.buffer.y*this._renderService.dimensions.actualCellHeight,ce=W*this._renderService.dimensions.actualCellWidth;this.textarea.style.left=ce+"px",this.textarea.style.top=re+"px",this.textarea.style.width=X+"px",this.textarea.style.height=H+"px",this.textarea.style.lineHeight=H+"px",this.textarea.style.zIndex="-5"}}},k.prototype._initGlobal=function(){var D=this;this._bindKeys(),this.register((0,c.addDisposableDomListener)(this.element,"copy",function(W){D.hasSelection()&&(0,w.copyHandler)(W,D._selectionService)}));var B=function(W){return(0,w.handlePasteEvent)(W,D.textarea,D.coreService)};this.register((0,c.addDisposableDomListener)(this.textarea,"paste",B)),this.register((0,c.addDisposableDomListener)(this.element,"paste",B)),f.isFirefox?this.register((0,c.addDisposableDomListener)(this.element,"mousedown",function(W){W.button===2&&(0,w.rightClickHandler)(W,D.textarea,D.screenElement,D._selectionService,D.options.rightClickSelectsWord)})):this.register((0,c.addDisposableDomListener)(this.element,"contextmenu",function(W){(0,w.rightClickHandler)(W,D.textarea,D.screenElement,D._selectionService,D.options.rightClickSelectsWord)})),f.isLinux&&this.register((0,c.addDisposableDomListener)(this.element,"auxclick",function(W){W.button===1&&(0,w.moveTextAreaUnderMouseCursor)(W,D.textarea,D.screenElement)}))},k.prototype._bindKeys=function(){var D=this;this.register((0,c.addDisposableDomListener)(this.textarea,"keyup",function(B){return D._keyUp(B)},!0)),this.register((0,c.addDisposableDomListener)(this.textarea,"keydown",function(B){return D._keyDown(B)},!0)),this.register((0,c.addDisposableDomListener)(this.textarea,"keypress",function(B){return D._keyPress(B)},!0)),this.register((0,c.addDisposableDomListener)(this.textarea,"compositionstart",function(){return D._compositionHelper.compositionstart()})),this.register((0,c.addDisposableDomListener)(this.textarea,"compositionupdate",function(B){return D._compositionHelper.compositionupdate(B)})),this.register((0,c.addDisposableDomListener)(this.textarea,"compositionend",function(){return D._compositionHelper.compositionend()})),this.register((0,c.addDisposableDomListener)(this.textarea,"input",function(B){return D._inputEvent(B)},!0)),this.register(this.onRender(function(){return D._compositionHelper.updateCompositionElements()})),this.register(this.onRender(function(B){return D._queueLinkification(B.start,B.end)}))},k.prototype.open=function(D){var B=this;if(!D)throw new Error("Terminal requires a parent element.");D.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=D.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),D.appendChild(this.element);var W=Y.createDocumentFragment();this._viewportElement=Y.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),W.appendChild(this._viewportElement),this._viewportScrollArea=Y.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=Y.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=Y.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),W.appendChild(this.screenElement),this.textarea=Y.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",l.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register((0,c.addDisposableDomListener)(this.textarea,"focus",function(X){return B._onTextAreaFocus(X)})),this.register((0,c.addDisposableDomListener)(this.textarea,"blur",function(){return B._onTextAreaBlur()})),this._helperContainer.appendChild(this.textarea);var H=this._instantiationService.createInstance(N.CoreBrowserService,this.textarea);this._instantiationService.setService(P.ICoreBrowserService,H),this._charSizeService=this._instantiationService.createInstance($.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(P.ICharSizeService,this._charSizeService),this._theme=this.options.theme||this._theme,this._colorManager=new T.ColorManager(Y,this.options.allowTransparency),this.register(this.optionsService.onOptionChange(function(X){return B._colorManager.onOptionsChange(X)})),this._colorManager.setTheme(this._theme),this._characterJoinerService=this._instantiationService.createInstance(K.CharacterJoinerService),this._instantiationService.setService(P.ICharacterJoinerService,this._characterJoinerService);var J=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(I.RenderService,J,this.rows,this.screenElement)),this._instantiationService.setService(P.IRenderService,this._renderService),this.register(this._renderService.onRenderedBufferChange(function(X){return B._onRender.fire(X)})),this.onResize(function(X){return B._renderService.resize(X.cols,X.rows)}),this._compositionView=Y.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(p.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(W),this._soundService=this._instantiationService.createInstance(b.SoundService),this._instantiationService.setService(P.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(F.MouseService),this._instantiationService.setService(P.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(m.Viewport,function(X){return B.scrollLines(X,!0,1)},this._viewportElement,this._viewportScrollArea,this.element),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar(function(){return B.viewport.syncScrollArea()})),this.register(this.viewport),this.register(this.onCursorMove(function(){B._renderService.onCursorMove(),B._syncTextArea()})),this.register(this.onResize(function(){return B._renderService.onResize(B.cols,B.rows)})),this.register(this.onBlur(function(){return B._renderService.onBlur()})),this.register(this.onFocus(function(){return B._renderService.onFocus()})),this.register(this._renderService.onDimensionsChange(function(){return B.viewport.syncScrollArea()})),this._selectionService=this.register(this._instantiationService.createInstance(y.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(P.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(function(X){return B.scrollLines(X.amount,X.suppressScrollEvent)})),this.register(this._selectionService.onSelectionChange(function(){return B._onSelectionChange.fire()})),this.register(this._selectionService.onRequestRedraw(function(X){return B._renderService.onSelectionChanged(X.start,X.end,X.columnSelectMode)})),this.register(this._selectionService.onLinuxMouseSelection(function(X){B.textarea.value=X,B.textarea.focus(),B.textarea.select()})),this.register(this._onScroll.event(function(X){B.viewport.syncScrollArea(),B._selectionService.refresh()})),this.register((0,c.addDisposableDomListener)(this._viewportElement,"scroll",function(){return B._selectionService.refresh()})),this._mouseZoneManager=this._instantiationService.createInstance(S.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll(function(){return B._mouseZoneManager.clearAll()})),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register((0,c.addDisposableDomListener)(this.element,"mousedown",function(X){return B._selectionService.onMouseDown(X)})),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new A.AccessibilityManager(this,this._renderService)),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},k.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(v.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(L.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},k.prototype._setTheme=function(D){var B,W,H;this._theme=D,(B=this._colorManager)===null||B===void 0||B.setTheme(D),(W=this._renderService)===null||W===void 0||W.setColors(this._colorManager.colors),(H=this.viewport)===null||H===void 0||H.onThemeChange(this._colorManager.colors)},k.prototype.bindMouse=function(){var D=this,B=this,W=this.element;function H(q){var oe,fe,de=B._mouseService.getRawByteCoords(q,B.screenElement,B.cols,B.rows);if(!de)return!1;switch(q.overrideType||q.type){case"mousemove":fe=32,q.buttons===void 0?(oe=3,q.button!==void 0&&(oe=q.button<3?q.button:3)):oe=1&q.buttons?0:4&q.buttons?1:2&q.buttons?2:3;break;case"mouseup":fe=0,oe=q.button<3?q.button:3;break;case"mousedown":fe=1,oe=q.button<3?q.button:3;break;case"wheel":q.deltaY!==0&&(fe=q.deltaY<0?0:1),oe=4;break;default:return!1}return!(fe===void 0||oe===void 0||oe>4)&&B.coreMouseService.triggerMouseEvent({col:de.x-33,row:de.y-33,button:oe,action:fe,ctrl:q.ctrlKey,alt:q.altKey,shift:q.shiftKey})}var J={mouseup:null,wheel:null,mousedrag:null,mousemove:null},X=function(q){return H(q),q.buttons||(D._document.removeEventListener("mouseup",J.mouseup),J.mousedrag&&D._document.removeEventListener("mousemove",J.mousedrag)),D.cancel(q)},re=function(q){return H(q),D.cancel(q,!0)},ce=function(q){q.buttons&&H(q)},ae=function(q){q.buttons||H(q)};this.register(this.coreMouseService.onProtocolChange(function(q){q?(D.optionsService.options.logLevel==="debug"&&D._logService.debug("Binding to mouse events:",D.coreMouseService.explainEvents(q)),D.element.classList.add("enable-mouse-events"),D._selectionService.disable()):(D._logService.debug("Unbinding from mouse events."),D.element.classList.remove("enable-mouse-events"),D._selectionService.enable()),8&q?J.mousemove||(W.addEventListener("mousemove",ae),J.mousemove=ae):(W.removeEventListener("mousemove",J.mousemove),J.mousemove=null),16&q?J.wheel||(W.addEventListener("wheel",re,{passive:!1}),J.wheel=re):(W.removeEventListener("wheel",J.wheel),J.wheel=null),2&q?J.mouseup||(J.mouseup=X):(D._document.removeEventListener("mouseup",J.mouseup),J.mouseup=null),4&q?J.mousedrag||(J.mousedrag=ce):(D._document.removeEventListener("mousemove",J.mousedrag),J.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,c.addDisposableDomListener)(W,"mousedown",function(q){if(q.preventDefault(),D.focus(),D.coreMouseService.areMouseEventsActive&&!D._selectionService.shouldForceSelection(q))return H(q),J.mouseup&&D._document.addEventListener("mouseup",J.mouseup),J.mousedrag&&D._document.addEventListener("mousemove",J.mousedrag),D.cancel(q)})),this.register((0,c.addDisposableDomListener)(W,"wheel",function(q){if(!J.wheel){if(!D.buffer.hasScrollback){var oe=D.viewport.getLinesScrolled(q);if(oe===0)return;for(var fe=E.C0.ESC+(D.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(q.deltaY<0?"A":"B"),de="",ve=0;ve<Math.abs(oe);ve++)de+=fe;return D.coreService.triggerDataEvent(de,!0),D.cancel(q,!0)}return D.viewport.onWheel(q)?D.cancel(q):void 0}},{passive:!1})),this.register((0,c.addDisposableDomListener)(W,"touchstart",function(q){if(!D.coreMouseService.areMouseEventsActive)return D.viewport.onTouchStart(q),D.cancel(q)},{passive:!0})),this.register((0,c.addDisposableDomListener)(W,"touchmove",function(q){if(!D.coreMouseService.areMouseEventsActive)return D.viewport.onTouchMove(q)?void 0:D.cancel(q)},{passive:!1}))},k.prototype.refresh=function(D,B){var W;(W=this._renderService)===null||W===void 0||W.refreshRows(D,B)},k.prototype._queueLinkification=function(D,B){var W;(W=this.linkifier)===null||W===void 0||W.linkifyRows(D,B)},k.prototype.updateCursorStyle=function(D){var B;((B=this._selectionService)===null||B===void 0?void 0:B.shouldColumnSelect(D))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},k.prototype._showCursor=function(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},k.prototype.scrollLines=function(D,B,W){W===void 0&&(W=0),Q.prototype.scrollLines.call(this,D,B,W),this.refresh(0,this.rows-1)},k.prototype.paste=function(D){(0,w.paste)(D,this.textarea,this.coreService)},k.prototype.attachCustomKeyEventHandler=function(D){this._customKeyEventHandler=D},k.prototype.registerLinkMatcher=function(D,B,W){var H=this.linkifier.registerLinkMatcher(D,B,W);return this.refresh(0,this.rows-1),H},k.prototype.deregisterLinkMatcher=function(D){this.linkifier.deregisterLinkMatcher(D)&&this.refresh(0,this.rows-1)},k.prototype.registerLinkProvider=function(D){return this.linkifier2.registerLinkProvider(D)},k.prototype.registerCharacterJoiner=function(D){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");var B=this._characterJoinerService.register(D);return this.refresh(0,this.rows-1),B},k.prototype.deregisterCharacterJoiner=function(D){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(D)&&this.refresh(0,this.rows-1)},Object.defineProperty(k.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),k.prototype.addMarker=function(D){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+D)},k.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},k.prototype.select=function(D,B,W){this._selectionService.setSelection(D,B,W)},k.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},k.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},k.prototype.clearSelection=function(){var D;(D=this._selectionService)===null||D===void 0||D.clearSelection()},k.prototype.selectAll=function(){var D;(D=this._selectionService)===null||D===void 0||D.selectAll()},k.prototype.selectLines=function(D,B){var W;(W=this._selectionService)===null||W===void 0||W.selectLines(D,B)},k.prototype._keyDown=function(D){if(this._keyDownHandled=!1,this._customKeyEventHandler&&this._customKeyEventHandler(D)===!1)return!1;if(!this._compositionHelper.keydown(D))return this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;D.key!=="Dead"&&D.key!=="AltGraph"||(this._unprocessedDeadKey=!0);var B=(0,x.evaluateKeyboardEvent)(D,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(D),B.type===3||B.type===2){var W=this.rows-1;return this.scrollLines(B.type===2?-W:W),this.cancel(D,!0)}return B.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,D)||(B.cancel&&this.cancel(D,!0),!B.key||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(B.key!==E.C0.ETX&&B.key!==E.C0.CR||(this.textarea.value=""),this._onKey.fire({key:B.key,domEvent:D}),this._showCursor(),this.coreService.triggerDataEvent(B.key,!0),this.optionsService.options.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(D,!0))))},k.prototype._isThirdLevelShift=function(D,B){var W=D.isMac&&!this.options.macOptionIsMeta&&B.altKey&&!B.ctrlKey&&!B.metaKey||D.isWindows&&B.altKey&&B.ctrlKey&&!B.metaKey||D.isWindows&&B.getModifierState("AltGraph");return B.type==="keypress"?W:W&&(!B.keyCode||B.keyCode>47)},k.prototype._keyUp=function(D){this._customKeyEventHandler&&this._customKeyEventHandler(D)===!1||(function(B){return B.keyCode===16||B.keyCode===17||B.keyCode===18}(D)||this.focus(),this.updateCursorStyle(D),this._keyPressHandled=!1)},k.prototype._keyPress=function(D){var B;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(D)===!1)return!1;if(this.cancel(D),D.charCode)B=D.charCode;else if(D.which===null||D.which===void 0)B=D.keyCode;else{if(D.which===0||D.charCode===0)return!1;B=D.which}return!(!B||(D.altKey||D.ctrlKey||D.metaKey)&&!this._isThirdLevelShift(this.browser,D)||(B=String.fromCharCode(B),this._onKey.fire({key:B,domEvent:D}),this._showCursor(),this.coreService.triggerDataEvent(B,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))},k.prototype._inputEvent=function(D){if(D.data&&D.inputType==="insertText"&&!D.composed&&!this.optionsService.options.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;var B=D.data;return this.coreService.triggerDataEvent(B,!0),this.cancel(D),!0}return!1},k.prototype.bell=function(){var D;this._soundBell()&&((D=this._soundService)===null||D===void 0||D.playBellSound()),this._onBell.fire()},k.prototype.resize=function(D,B){D!==this.cols||B!==this.rows?Q.prototype.resize.call(this,D,B):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},k.prototype._afterResize=function(D,B){var W,H;(W=this._charSizeService)===null||W===void 0||W.measure(),(H=this.viewport)===null||H===void 0||H.syncScrollArea(!0)},k.prototype.clear=function(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var D=1;D<this.rows;D++)this.buffer.lines.push(this.buffer.getBlankLine(O.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}},k.prototype.reset=function(){var D,B;this.options.rows=this.rows,this.options.cols=this.cols;var W=this._customKeyEventHandler;this._setup(),Q.prototype.reset.call(this),(D=this._selectionService)===null||D===void 0||D.reset(),this._customKeyEventHandler=W,this.refresh(0,this.rows-1),(B=this.viewport)===null||B===void 0||B.syncScrollArea()},k.prototype.clearTextureAtlas=function(){var D;(D=this._renderService)===null||D===void 0||D.clearTextureAtlas()},k.prototype._reportFocus=function(){var D;((D=this.element)===null||D===void 0?void 0:D.classList.contains("focus"))?this.coreService.triggerDataEvent(E.C0.ESC+"[I"):this.coreService.triggerDataEvent(E.C0.ESC+"[O")},k.prototype._reportWindowsOptions=function(D){if(this._renderService)switch(D){case d.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var B=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),W=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this.coreService.triggerDataEvent(E.C0.ESC+"[4;"+W+";"+B+"t");break;case d.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var H=this._renderService.dimensions.scaledCellWidth.toFixed(0),J=this._renderService.dimensions.scaledCellHeight.toFixed(0);this.coreService.triggerDataEvent(E.C0.ESC+"[6;"+J+";"+H+"t")}},k.prototype.cancel=function(D,B){if(this.options.cancelEvents||B)return D.preventDefault(),D.stopPropagation(),!1},k.prototype._visualBell=function(){return!1},k.prototype._soundBell=function(){return this.options.bellStyle==="sound"},k}(j.CoreTerminal);r.Terminal=ee},9924:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TimeBasedDebouncer=void 0;var a=function(){function s(u,p){p===void 0&&(p=1e3),this._renderCallback=u,this._debounceThresholdMS=p,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}return s.prototype.dispose=function(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)},s.prototype.refresh=function(u,p,m){var w=this;this._rowCount=m,u=u!==void 0?u:0,p=p!==void 0?p:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,p):p;var E=Date.now();if(E-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=E,this._innerRefresh();else if(!this._additionalRefreshRequested){var d=E-this._lastRefreshMs,v=this._debounceThresholdMS-d;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(function(){w._lastRefreshMs=Date.now(),w._innerRefresh(),w._additionalRefreshRequested=!1,w._refreshTimeoutID=void 0},v)}},s.prototype._innerRefresh=function(){if(this._rowStart!==void 0&&this._rowEnd!==void 0&&this._rowCount!==void 0){var u=Math.max(this._rowStart,0),p=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,p)}},s}();r.TimeBasedDebouncer=a},1680:function(g,r,a){var s,u=this&&this.__extends||(s=function(y,f){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var b in l)Object.prototype.hasOwnProperty.call(l,b)&&(c[b]=l[b])},s(y,f)},function(y,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function c(){this.constructor=y}s(y,f),y.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}),p=this&&this.__decorate||function(y,f,c,l){var b,S=arguments.length,A=S<3?f:l===null?l=Object.getOwnPropertyDescriptor(f,c):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(y,f,c,l);else for(var L=y.length-1;L>=0;L--)(b=y[L])&&(A=(S<3?b(A):S>3?b(f,c,A):b(f,c))||A);return S>3&&A&&Object.defineProperty(f,c,A),A},m=this&&this.__param||function(y,f){return function(c,l){f(c,l,y)}};Object.defineProperty(r,"__esModule",{value:!0}),r.Viewport=void 0;var w=a(844),E=a(3656),d=a(4725),v=a(2585),C=function(y){function f(c,l,b,S,A,L,x,M){var O=y.call(this)||this;return O._scrollLines=c,O._viewportElement=l,O._scrollArea=b,O._element=S,O._bufferService=A,O._optionsService=L,O._charSizeService=x,O._renderService=M,O.scrollBarWidth=0,O._currentRowHeight=0,O._currentScaledCellHeight=0,O._lastRecordedBufferLength=0,O._lastRecordedViewportHeight=0,O._lastRecordedBufferHeight=0,O._lastTouchY=0,O._lastScrollTop=0,O._lastHadScrollBar=!1,O._wheelPartialScroll=0,O._refreshAnimationFrame=null,O._ignoreNextScrollEvent=!1,O.scrollBarWidth=O._viewportElement.offsetWidth-O._scrollArea.offsetWidth||15,O._lastHadScrollBar=!0,O.register((0,E.addDisposableDomListener)(O._viewportElement,"scroll",O._onScroll.bind(O))),O._activeBuffer=O._bufferService.buffer,O.register(O._bufferService.buffers.onBufferActivate(function(T){return O._activeBuffer=T.activeBuffer})),O._renderDimensions=O._renderService.dimensions,O.register(O._renderService.onDimensionsChange(function(T){return O._renderDimensions=T})),setTimeout(function(){return O.syncScrollArea()},0),O}return u(f,y),f.prototype.onThemeChange=function(c){this._viewportElement.style.backgroundColor=c.background.css},f.prototype._refresh=function(c){var l=this;if(c)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=requestAnimationFrame(function(){return l._innerRefresh()}))},f.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._currentScaledCellHeight=this._renderService.dimensions.scaledCellHeight,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var c=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==c&&(this._lastRecordedBufferHeight=c,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var l=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==l&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=l),this._optionsService.options.scrollback===0?this.scrollBarWidth=0:this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this._lastHadScrollBar=this.scrollBarWidth>0;var b=window.getComputedStyle(this._element),S=parseInt(b.paddingLeft)+parseInt(b.paddingRight);this._viewportElement.style.width=(this._renderService.dimensions.actualCellWidth*this._bufferService.cols+this.scrollBarWidth+(this._lastHadScrollBar?S:0)).toString()+"px",this._refreshAnimationFrame=null},f.prototype.syncScrollArea=function(c){if(c===void 0&&(c=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(c);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.scaledCellHeight===this._currentScaledCellHeight?this._lastHadScrollBar!==this._optionsService.options.scrollback>0&&this._refresh(c):this._refresh(c)},f.prototype._onScroll=function(c){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent){if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);var l=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(l)}},f.prototype._bubbleScroll=function(c,l){var b=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(l<0&&this._viewportElement.scrollTop!==0||l>0&&b<this._lastRecordedBufferHeight)||(c.cancelable&&c.preventDefault(),!1)},f.prototype.onWheel=function(c){var l=this._getPixelsScrolled(c);return l!==0&&(this._viewportElement.scrollTop+=l,this._bubbleScroll(c,l))},f.prototype._getPixelsScrolled=function(c){if(c.deltaY===0||c.shiftKey)return 0;var l=this._applyScrollModifier(c.deltaY,c);return c.deltaMode===WheelEvent.DOM_DELTA_LINE?l*=this._currentRowHeight:c.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(l*=this._currentRowHeight*this._bufferService.rows),l},f.prototype.getLinesScrolled=function(c){if(c.deltaY===0||c.shiftKey)return 0;var l=this._applyScrollModifier(c.deltaY,c);return c.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(l/=this._currentRowHeight+0,this._wheelPartialScroll+=l,l=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):c.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(l*=this._bufferService.rows),l},f.prototype._applyScrollModifier=function(c,l){var b=this._optionsService.options.fastScrollModifier;return b==="alt"&&l.altKey||b==="ctrl"&&l.ctrlKey||b==="shift"&&l.shiftKey?c*this._optionsService.options.fastScrollSensitivity*this._optionsService.options.scrollSensitivity:c*this._optionsService.options.scrollSensitivity},f.prototype.onTouchStart=function(c){this._lastTouchY=c.touches[0].pageY},f.prototype.onTouchMove=function(c){var l=this._lastTouchY-c.touches[0].pageY;return this._lastTouchY=c.touches[0].pageY,l!==0&&(this._viewportElement.scrollTop+=l,this._bubbleScroll(c,l))},p([m(4,v.IBufferService),m(5,v.IOptionsService),m(6,d.ICharSizeService),m(7,d.IRenderService)],f)}(w.Disposable);r.Viewport=C},2950:function(g,r,a){var s=this&&this.__decorate||function(E,d,v,C){var y,f=arguments.length,c=f<3?d:C===null?C=Object.getOwnPropertyDescriptor(d,v):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(E,d,v,C);else for(var l=E.length-1;l>=0;l--)(y=E[l])&&(c=(f<3?y(c):f>3?y(d,v,c):y(d,v))||c);return f>3&&c&&Object.defineProperty(d,v,c),c},u=this&&this.__param||function(E,d){return function(v,C){d(v,C,E)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CompositionHelper=void 0;var p=a(4725),m=a(2585),w=function(){function E(d,v,C,y,f,c){this._textarea=d,this._compositionView=v,this._bufferService=C,this._optionsService=y,this._coreService=f,this._renderService=c,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}return Object.defineProperty(E.prototype,"isComposing",{get:function(){return this._isComposing},enumerable:!1,configurable:!0}),E.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")},E.prototype.compositionupdate=function(d){var v=this;this._compositionView.textContent=d.data,this.updateCompositionElements(),setTimeout(function(){v._compositionPosition.end=v._textarea.value.length},0)},E.prototype.compositionend=function(){this._finalizeComposition(!0)},E.prototype.keydown=function(d){if(this._isComposing||this._isSendingComposition){if(d.keyCode===229||d.keyCode===16||d.keyCode===17||d.keyCode===18)return!1;this._finalizeComposition(!1)}return d.keyCode!==229||(this._handleAnyTextareaChanges(),!1)},E.prototype._finalizeComposition=function(d){var v=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,d){var C={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(function(){if(v._isSendingComposition){v._isSendingComposition=!1;var f;C.start+=v._dataAlreadySent.length,(f=v._isComposing?v._textarea.value.substring(C.start,C.end):v._textarea.value.substring(C.start)).length>0&&v._coreService.triggerDataEvent(f,!0)}},0)}else{this._isSendingComposition=!1;var y=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(y,!0)}},E.prototype._handleAnyTextareaChanges=function(){var d=this,v=this._textarea.value;setTimeout(function(){if(!d._isComposing){var C=d._textarea.value.replace(v,"");C.length>0&&(d._dataAlreadySent=C,d._coreService.triggerDataEvent(C,!0))}},0)},E.prototype.updateCompositionElements=function(d){var v=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var C=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),y=this._renderService.dimensions.actualCellHeight,f=this._bufferService.buffer.y*this._renderService.dimensions.actualCellHeight,c=C*this._renderService.dimensions.actualCellWidth;this._compositionView.style.left=c+"px",this._compositionView.style.top=f+"px",this._compositionView.style.height=y+"px",this._compositionView.style.lineHeight=y+"px",this._compositionView.style.fontFamily=this._optionsService.options.fontFamily,this._compositionView.style.fontSize=this._optionsService.options.fontSize+"px";var l=this._compositionView.getBoundingClientRect();this._textarea.style.left=c+"px",this._textarea.style.top=f+"px",this._textarea.style.width=Math.max(l.width,1)+"px",this._textarea.style.height=Math.max(l.height,1)+"px",this._textarea.style.lineHeight=l.height+"px"}d||setTimeout(function(){return v.updateCompositionElements(!0)},0)}},s([u(2,m.IBufferService),u(3,m.IOptionsService),u(4,m.ICoreService),u(5,p.IRenderService)],E)}();r.CompositionHelper=w},9806:(g,r)=>{function a(s,u){var p=u.getBoundingClientRect();return[s.clientX-p.left,s.clientY-p.top]}Object.defineProperty(r,"__esModule",{value:!0}),r.getRawByteCoords=r.getCoords=r.getCoordsRelativeToElement=void 0,r.getCoordsRelativeToElement=a,r.getCoords=function(s,u,p,m,w,E,d,v){if(w){var C=a(s,u);if(C)return C[0]=Math.ceil((C[0]+(v?E/2:0))/E),C[1]=Math.ceil(C[1]/d),C[0]=Math.min(Math.max(C[0],1),p+(v?1:0)),C[1]=Math.min(Math.max(C[1],1),m),C}},r.getRawByteCoords=function(s){if(s)return{x:s[0]+32,y:s[1]+32}}},9504:(g,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.moveToCellSequence=void 0;var s=a(2584);function u(v,C,y,f){var c=v-p(y,v),l=C-p(y,C),b=Math.abs(c-l)-function(S,A,L){for(var x=0,M=S-p(L,S),O=A-p(L,A),T=0;T<Math.abs(M-O);T++){var I=m(S,A)==="A"?-1:1,P=L.buffer.lines.get(M+I*T);(P==null?void 0:P.isWrapped)&&x++}return x}(v,C,y);return d(b,E(m(v,C),f))}function p(v,C){for(var y=0,f=v.buffer.lines.get(C),c=f==null?void 0:f.isWrapped;c&&C>=0&&C<v.rows;)y++,c=(f=v.buffer.lines.get(--C))==null?void 0:f.isWrapped;return y}function m(v,C){return v>C?"A":"B"}function w(v,C,y,f,c,l){for(var b=v,S=C,A="";b!==y||S!==f;)b+=c?1:-1,c&&b>l.cols-1?(A+=l.buffer.translateBufferLineToString(S,!1,v,b),b=0,v=0,S++):!c&&b<0&&(A+=l.buffer.translateBufferLineToString(S,!1,0,v+1),v=b=l.cols-1,S--);return A+l.buffer.translateBufferLineToString(S,!1,v,b)}function E(v,C){var y=C?"O":"[";return s.C0.ESC+y+v}function d(v,C){v=Math.floor(v);for(var y="",f=0;f<v;f++)y+=C;return y}r.moveToCellSequence=function(v,C,y,f){var c,l=y.buffer.x,b=y.buffer.y;if(!y.buffer.hasScrollback)return function(A,L,x,M,O,T){return u(L,M,O,T).length===0?"":d(w(A,L,A,L-p(O,L),!1,O).length,E("D",T))}(l,b,0,C,y,f)+u(b,C,y,f)+function(A,L,x,M,O,T){var I;I=u(L,M,O,T).length>0?M-p(O,M):L;var P=M,$=function(F,R,N,j,V,K){var G;return G=u(N,j,V,K).length>0?j-p(V,j):R,F<N&&G<=j||F>=N&&G<j?"C":"D"}(A,L,x,M,O,T);return d(w(A,I,x,P,$==="C",O).length,E($,T))}(l,b,v,C,y,f);if(b===C)return c=l>v?"D":"C",d(Math.abs(l-v),E(c,f));c=b>C?"D":"C";var S=Math.abs(b-C);return d(function(A,L){return L.cols-A}(b>C?v:l,y)+(S-1)*y.cols+1+((b>C?l:v)-1),E(c,f))}},1546:(g,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BaseRenderLayer=void 0;var s=a(643),u=a(8803),p=a(1420),m=a(3734),w=a(1752),E=a(4774),d=a(9631),v=a(8978),C=function(){function y(f,c,l,b,S,A,L,x){this._container=f,this._alpha=b,this._colors=S,this._rendererId=A,this._bufferService=L,this._optionsService=x,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+c+"-layer"),this._canvas.style.zIndex=l.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return y.prototype.dispose=function(){var f;(0,d.removeElementFromParent)(this._canvas),(f=this._charAtlas)===null||f===void 0||f.dispose()},y.prototype._initCanvas=function(){this._ctx=(0,w.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},y.prototype.onOptionsChanged=function(){},y.prototype.onBlur=function(){},y.prototype.onFocus=function(){},y.prototype.onCursorMove=function(){},y.prototype.onGridChanged=function(f,c){},y.prototype.onSelectionChanged=function(f,c,l){},y.prototype.setColors=function(f){this._refreshCharAtlas(f)},y.prototype._setTransparency=function(f){if(f!==this._alpha){var c=this._canvas;this._alpha=f,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,c),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},y.prototype._refreshCharAtlas=function(f){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=(0,p.acquireCharAtlas)(this._optionsService.options,this._rendererId,f,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},y.prototype.resize=function(f){this._scaledCellWidth=f.scaledCellWidth,this._scaledCellHeight=f.scaledCellHeight,this._scaledCharWidth=f.scaledCharWidth,this._scaledCharHeight=f.scaledCharHeight,this._scaledCharLeft=f.scaledCharLeft,this._scaledCharTop=f.scaledCharTop,this._canvas.width=f.scaledCanvasWidth,this._canvas.height=f.scaledCanvasHeight,this._canvas.style.width=f.canvasWidth+"px",this._canvas.style.height=f.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},y.prototype.clearTextureAtlas=function(){var f;(f=this._charAtlas)===null||f===void 0||f.clear()},y.prototype._fillCells=function(f,c,l,b){this._ctx.fillRect(f*this._scaledCellWidth,c*this._scaledCellHeight,l*this._scaledCellWidth,b*this._scaledCellHeight)},y.prototype._fillMiddleLineAtCells=function(f,c,l){l===void 0&&(l=1);var b=Math.ceil(.5*this._scaledCellHeight);this._ctx.fillRect(f*this._scaledCellWidth,(c+1)*this._scaledCellHeight-b-window.devicePixelRatio,l*this._scaledCellWidth,window.devicePixelRatio)},y.prototype._fillBottomLineAtCells=function(f,c,l){l===void 0&&(l=1),this._ctx.fillRect(f*this._scaledCellWidth,(c+1)*this._scaledCellHeight-window.devicePixelRatio-1,l*this._scaledCellWidth,window.devicePixelRatio)},y.prototype._fillLeftLineAtCell=function(f,c,l){this._ctx.fillRect(f*this._scaledCellWidth,c*this._scaledCellHeight,window.devicePixelRatio*l,this._scaledCellHeight)},y.prototype._strokeRectAtCell=function(f,c,l,b){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(f*this._scaledCellWidth+window.devicePixelRatio/2,c*this._scaledCellHeight+window.devicePixelRatio/2,l*this._scaledCellWidth-window.devicePixelRatio,b*this._scaledCellHeight-window.devicePixelRatio)},y.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},y.prototype._clearCells=function(f,c,l,b){this._alpha?this._ctx.clearRect(f*this._scaledCellWidth,c*this._scaledCellHeight,l*this._scaledCellWidth,b*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(f*this._scaledCellWidth,c*this._scaledCellHeight,l*this._scaledCellWidth,b*this._scaledCellHeight))},y.prototype._fillCharTrueColor=function(f,c,l){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline=u.TEXT_BASELINE,this._clipRow(l);var b=!1;this._optionsService.options.customGlyphs!==!1&&(b=(0,v.tryDrawCustomChar)(this._ctx,f.getChars(),c*this._scaledCellWidth,l*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),b||this._ctx.fillText(f.getChars(),c*this._scaledCellWidth+this._scaledCharLeft,l*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight)},y.prototype._drawChars=function(f,c,l){var b,S,A,L=this._getContrastColor(f);L||f.isFgRGB()||f.isBgRGB()?this._drawUncachedChars(f,c,l,L):(f.isInverse()?(S=f.isBgDefault()?u.INVERTED_DEFAULT_COLOR:f.getBgColor(),A=f.isFgDefault()?u.INVERTED_DEFAULT_COLOR:f.getFgColor()):(A=f.isBgDefault()?s.DEFAULT_COLOR:f.getBgColor(),S=f.isFgDefault()?s.DEFAULT_COLOR:f.getFgColor()),S+=this._optionsService.options.drawBoldTextInBrightColors&&f.isBold()&&S<8?8:0,this._currentGlyphIdentifier.chars=f.getChars()||s.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=f.getCode()||s.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=A,this._currentGlyphIdentifier.fg=S,this._currentGlyphIdentifier.bold=!!f.isBold(),this._currentGlyphIdentifier.dim=!!f.isDim(),this._currentGlyphIdentifier.italic=!!f.isItalic(),((b=this._charAtlas)===null||b===void 0?void 0:b.draw(this._ctx,this._currentGlyphIdentifier,c*this._scaledCellWidth+this._scaledCharLeft,l*this._scaledCellHeight+this._scaledCharTop))||this._drawUncachedChars(f,c,l))},y.prototype._drawUncachedChars=function(f,c,l,b){if(this._ctx.save(),this._ctx.font=this._getFont(!!f.isBold(),!!f.isItalic()),this._ctx.textBaseline=u.TEXT_BASELINE,f.isInverse())if(b)this._ctx.fillStyle=b.css;else if(f.isBgDefault())this._ctx.fillStyle=E.color.opaque(this._colors.background).css;else if(f.isBgRGB())this._ctx.fillStyle="rgb("+m.AttributeData.toColorRGB(f.getBgColor()).join(",")+")";else{var S=f.getBgColor();this._optionsService.options.drawBoldTextInBrightColors&&f.isBold()&&S<8&&(S+=8),this._ctx.fillStyle=this._colors.ansi[S].css}else if(b)this._ctx.fillStyle=b.css;else if(f.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(f.isFgRGB())this._ctx.fillStyle="rgb("+m.AttributeData.toColorRGB(f.getFgColor()).join(",")+")";else{var A=f.getFgColor();this._optionsService.options.drawBoldTextInBrightColors&&f.isBold()&&A<8&&(A+=8),this._ctx.fillStyle=this._colors.ansi[A].css}this._clipRow(l),f.isDim()&&(this._ctx.globalAlpha=u.DIM_OPACITY);var L=!1;this._optionsService.options.customGlyphs!==!1&&(L=(0,v.tryDrawCustomChar)(this._ctx,f.getChars(),c*this._scaledCellWidth,l*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),L||this._ctx.fillText(f.getChars(),c*this._scaledCellWidth+this._scaledCharLeft,l*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight),this._ctx.restore()},y.prototype._clipRow=function(f){this._ctx.beginPath(),this._ctx.rect(0,f*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},y.prototype._getFont=function(f,c){return(c?"italic":"")+" "+(f?this._optionsService.options.fontWeightBold:this._optionsService.options.fontWeight)+" "+this._optionsService.options.fontSize*window.devicePixelRatio+"px "+this._optionsService.options.fontFamily},y.prototype._getContrastColor=function(f){if(this._optionsService.options.minimumContrastRatio!==1){var c=this._colors.contrastCache.getColor(f.bg,f.fg);if(c!==void 0)return c||void 0;var l=f.getFgColor(),b=f.getFgColorMode(),S=f.getBgColor(),A=f.getBgColorMode(),L=!!f.isInverse(),x=!!f.isInverse();if(L){var M=l;l=S,S=M;var O=b;b=A,A=O}var T=this._resolveBackgroundRgba(A,S,L),I=this._resolveForegroundRgba(b,l,L,x),P=E.rgba.ensureContrastRatio(T,I,this._optionsService.options.minimumContrastRatio);if(P){var $={css:E.channels.toCss(P>>24&255,P>>16&255,P>>8&255),rgba:P};return this._colors.contrastCache.setColor(f.bg,f.fg,$),$}this._colors.contrastCache.setColor(f.bg,f.fg,null)}},y.prototype._resolveBackgroundRgba=function(f,c,l){switch(f){case 16777216:case 33554432:return this._colors.ansi[c].rgba;case 50331648:return c<<8;default:return l?this._colors.foreground.rgba:this._colors.background.rgba}},y.prototype._resolveForegroundRgba=function(f,c,l,b){switch(f){case 16777216:case 33554432:return this._optionsService.options.drawBoldTextInBrightColors&&b&&c<8&&(c+=8),this._colors.ansi[c].rgba;case 50331648:return c<<8;default:return l?this._colors.background.rgba:this._colors.foreground.rgba}},y}();r.BaseRenderLayer=C},2512:function(g,r,a){var s,u=this&&this.__extends||(s=function(c,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,S){b.__proto__=S}||function(b,S){for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(b[A]=S[A])},s(c,l)},function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function b(){this.constructor=c}s(c,l),c.prototype=l===null?Object.create(l):(b.prototype=l.prototype,new b)}),p=this&&this.__decorate||function(c,l,b,S){var A,L=arguments.length,x=L<3?l:S===null?S=Object.getOwnPropertyDescriptor(l,b):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(c,l,b,S);else for(var M=c.length-1;M>=0;M--)(A=c[M])&&(x=(L<3?A(x):L>3?A(l,b,x):A(l,b))||x);return L>3&&x&&Object.defineProperty(l,b,x),x},m=this&&this.__param||function(c,l){return function(b,S){l(b,S,c)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CursorRenderLayer=void 0;var w=a(1546),E=a(511),d=a(2585),v=a(4725),C=600,y=function(c){function l(b,S,A,L,x,M,O,T,I){var P=c.call(this,b,"cursor",S,!0,A,L,M,O)||this;return P._onRequestRedraw=x,P._coreService=T,P._coreBrowserService=I,P._cell=new E.CellData,P._state={x:0,y:0,isFocused:!1,style:"",width:0},P._cursorRenderers={bar:P._renderBarCursor.bind(P),block:P._renderBlockCursor.bind(P),underline:P._renderUnderlineCursor.bind(P)},P}return u(l,c),l.prototype.dispose=function(){this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0),c.prototype.dispose.call(this)},l.prototype.resize=function(b){c.prototype.resize.call(this,b),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},l.prototype.reset=function(){var b;this._clearCursor(),(b=this._cursorBlinkStateManager)===null||b===void 0||b.restartBlinkAnimation(),this.onOptionsChanged()},l.prototype.onBlur=function(){var b;(b=this._cursorBlinkStateManager)===null||b===void 0||b.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},l.prototype.onFocus=function(){var b;(b=this._cursorBlinkStateManager)===null||b===void 0||b.resume(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},l.prototype.onOptionsChanged=function(){var b,S=this;this._optionsService.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new f(this._coreBrowserService.isFocused,function(){S._render(!0)})):((b=this._cursorBlinkStateManager)===null||b===void 0||b.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},l.prototype.onCursorMove=function(){var b;(b=this._cursorBlinkStateManager)===null||b===void 0||b.restartBlinkAnimation()},l.prototype.onGridChanged=function(b,S){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},l.prototype._render=function(b){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var S=this._bufferService.buffer.ybase+this._bufferService.buffer.y,A=S-this._bufferService.buffer.ydisp;if(A<0||A>=this._bufferService.rows)this._clearCursor();else{var L=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(S).loadCell(L,this._cell),this._cell.content!==void 0){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var x=this._optionsService.options.cursorStyle;return x&&x!=="block"?this._cursorRenderers[x](L,A,this._cell):this._renderBlurCursor(L,A,this._cell),this._ctx.restore(),this._state.x=L,this._state.y=A,this._state.isFocused=!1,this._state.style=x,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===L&&this._state.y===A&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.options.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.options.cursorStyle||"block"](L,A,this._cell),this._ctx.restore(),this._state.x=L,this._state.y=A,this._state.isFocused=!1,this._state.style=this._optionsService.options.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},l.prototype._clearCursor=function(){this._state&&(window.devicePixelRatio<1?this._clearAll():this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},l.prototype._renderBarCursor=function(b,S,A){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(b,S,this._optionsService.options.cursorWidth),this._ctx.restore()},l.prototype._renderBlockCursor=function(b,S,A){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(b,S,A.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(A,b,S),this._ctx.restore()},l.prototype._renderUnderlineCursor=function(b,S,A){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(b,S),this._ctx.restore()},l.prototype._renderBlurCursor=function(b,S,A){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(b,S,A.getWidth(),1),this._ctx.restore()},p([m(5,d.IBufferService),m(6,d.IOptionsService),m(7,d.ICoreService),m(8,v.ICoreBrowserService)],l)}(w.BaseRenderLayer);r.CursorRenderLayer=y;var f=function(){function c(l,b){this._renderCallback=b,this.isCursorVisible=!0,l&&this._restartInterval()}return Object.defineProperty(c.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),c.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},c.prototype.restartBlinkAnimation=function(){var l=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){l._renderCallback(),l._animationFrame=void 0})))},c.prototype._restartInterval=function(l){var b=this;l===void 0&&(l=C),this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=window.setTimeout(function(){if(b._animationTimeRestarted){var S=C-(Date.now()-b._animationTimeRestarted);if(b._animationTimeRestarted=void 0,S>0)return void b._restartInterval(S)}b.isCursorVisible=!1,b._animationFrame=window.requestAnimationFrame(function(){b._renderCallback(),b._animationFrame=void 0}),b._blinkInterval=window.setInterval(function(){if(b._animationTimeRestarted){var A=C-(Date.now()-b._animationTimeRestarted);return b._animationTimeRestarted=void 0,void b._restartInterval(A)}b.isCursorVisible=!b.isCursorVisible,b._animationFrame=window.requestAnimationFrame(function(){b._renderCallback(),b._animationFrame=void 0})},C)},l)},c.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},c.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},c}()},8978:(g,r,a)=>{var s,u,p,m,w,E,d,v,C,y,f,c,l,b,S,A,L,x,M,O,T,I,P,$,F,R,N,j,V,K,G,Y,ee,Q,k,D,B,W,H,J,X,re,ce,ae,q,oe,fe,de,ve,me,Te,we,xe,Me,Le,le,ge,ye,Se,Ne,Ee,We,ie,Z,te,ne,se,pe,Fe,Ge,Ie,rt,it,nt,ot,st,at,ct,lt,ut,ft,dt,ht,pt,vt,_t,gt,mt,yt,St,bt,Ct,wt,Et,At,Lt,Ot,Tt,xt,Mt,Bt,Rt,kt,Pt,It,Dt,Nt,Ft,$t,Ht,Wt,jt,Ut,zt,Kt,Gt,qt,Jt,Yt,Xt,Zt,Qt,er,tr,rr,ir,nr,or;Object.defineProperty(r,"__esModule",{value:!0}),r.tryDrawCustomChar=r.boxDrawingDefinitions=r.blockElementDefinitions=void 0;var lr=a(1752);r.blockElementDefinitions={"\u2580":[{x:0,y:0,w:8,h:4}],"\u2581":[{x:0,y:7,w:8,h:1}],"\u2582":[{x:0,y:6,w:8,h:2}],"\u2583":[{x:0,y:5,w:8,h:3}],"\u2584":[{x:0,y:4,w:8,h:4}],"\u2585":[{x:0,y:3,w:8,h:5}],"\u2586":[{x:0,y:2,w:8,h:6}],"\u2587":[{x:0,y:1,w:8,h:7}],"\u2588":[{x:0,y:0,w:8,h:8}],"\u2589":[{x:0,y:0,w:7,h:8}],"\u258A":[{x:0,y:0,w:6,h:8}],"\u258B":[{x:0,y:0,w:5,h:8}],"\u258C":[{x:0,y:0,w:4,h:8}],"\u258D":[{x:0,y:0,w:3,h:8}],"\u258E":[{x:0,y:0,w:2,h:8}],"\u258F":[{x:0,y:0,w:1,h:8}],"\u2590":[{x:4,y:0,w:4,h:8}],"\u2594":[{x:0,y:0,w:9,h:1}],"\u2595":[{x:7,y:0,w:1,h:8}],"\u2596":[{x:0,y:4,w:4,h:4}],"\u2597":[{x:4,y:4,w:4,h:4}],"\u2598":[{x:0,y:0,w:4,h:4}],"\u2599":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u259A":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"\u259B":[{x:0,y:0,w:4,h:8},{x:0,y:0,w:4,h:8}],"\u259C":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"\u259D":[{x:4,y:0,w:4,h:4}],"\u259E":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"\u259F":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u{1FB70}":[{x:1,y:0,w:1,h:8}],"\u{1FB71}":[{x:2,y:0,w:1,h:8}],"\u{1FB72}":[{x:3,y:0,w:1,h:8}],"\u{1FB73}":[{x:4,y:0,w:1,h:8}],"\u{1FB74}":[{x:5,y:0,w:1,h:8}],"\u{1FB75}":[{x:6,y:0,w:1,h:8}],"\u{1FB76}":[{x:0,y:1,w:8,h:1}],"\u{1FB77}":[{x:0,y:2,w:8,h:1}],"\u{1FB78}":[{x:0,y:3,w:8,h:1}],"\u{1FB79}":[{x:0,y:4,w:8,h:1}],"\u{1FB7A}":[{x:0,y:5,w:8,h:1}],"\u{1FB7B}":[{x:0,y:6,w:8,h:1}],"\u{1FB7C}":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1FB7D}":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1FB7E}":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1FB7F}":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1FB80}":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1FB81}":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1FB82}":[{x:0,y:0,w:8,h:2}],"\u{1FB83}":[{x:0,y:0,w:8,h:3}],"\u{1FB84}":[{x:0,y:0,w:8,h:5}],"\u{1FB85}":[{x:0,y:0,w:8,h:6}],"\u{1FB86}":[{x:0,y:0,w:8,h:7}],"\u{1FB87}":[{x:6,y:0,w:2,h:8}],"\u{1FB88}":[{x:5,y:0,w:3,h:8}],"\u{1FB89}":[{x:3,y:0,w:5,h:8}],"\u{1FB8A}":[{x:2,y:0,w:6,h:8}],"\u{1FB8B}":[{x:1,y:0,w:7,h:8}],"\u{1FB95}":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"\u{1FB96}":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"\u{1FB97}":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};var hr={"\u2591":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"\u2592":[[1,0],[0,0],[0,1],[0,0]],"\u2593":[[0,1],[1,1],[1,0],[1,1]]};r.boxDrawingDefinitions={"\u2500":(s={},s[1]="M0,.5 L1,.5",s),"\u2501":(u={},u[3]="M0,.5 L1,.5",u),"\u2502":(p={},p[1]="M.5,0 L.5,1",p),"\u2503":(m={},m[3]="M.5,0 L.5,1",m),"\u250C":(w={},w[1]="M0.5,1 L.5,.5 L1,.5",w),"\u250F":(E={},E[3]="M0.5,1 L.5,.5 L1,.5",E),"\u2510":(d={},d[1]="M0,.5 L.5,.5 L.5,1",d),"\u2513":(v={},v[3]="M0,.5 L.5,.5 L.5,1",v),"\u2514":(C={},C[1]="M.5,0 L.5,.5 L1,.5",C),"\u2517":(y={},y[3]="M.5,0 L.5,.5 L1,.5",y),"\u2518":(f={},f[1]="M.5,0 L.5,.5 L0,.5",f),"\u251B":(c={},c[3]="M.5,0 L.5,.5 L0,.5",c),"\u251C":(l={},l[1]="M.5,0 L.5,1 M.5,.5 L1,.5",l),"\u2523":(b={},b[3]="M.5,0 L.5,1 M.5,.5 L1,.5",b),"\u2524":(S={},S[1]="M.5,0 L.5,1 M.5,.5 L0,.5",S),"\u252B":(A={},A[3]="M.5,0 L.5,1 M.5,.5 L0,.5",A),"\u252C":(L={},L[1]="M0,.5 L1,.5 M.5,.5 L.5,1",L),"\u2533":(x={},x[3]="M0,.5 L1,.5 M.5,.5 L.5,1",x),"\u2534":(M={},M[1]="M0,.5 L1,.5 M.5,.5 L.5,0",M),"\u253B":(O={},O[3]="M0,.5 L1,.5 M.5,.5 L.5,0",O),"\u253C":(T={},T[1]="M0,.5 L1,.5 M.5,0 L.5,1",T),"\u254B":(I={},I[3]="M0,.5 L1,.5 M.5,0 L.5,1",I),"\u2574":(P={},P[1]="M.5,.5 L0,.5",P),"\u2578":($={},$[3]="M.5,.5 L0,.5",$),"\u2575":(F={},F[1]="M.5,.5 L.5,0",F),"\u2579":(R={},R[3]="M.5,.5 L.5,0",R),"\u2576":(N={},N[1]="M.5,.5 L1,.5",N),"\u257A":(j={},j[3]="M.5,.5 L1,.5",j),"\u2577":(V={},V[1]="M.5,.5 L.5,1",V),"\u257B":(K={},K[3]="M.5,.5 L.5,1",K),"\u2550":(G={},G[1]=function(z,U){return"M0,"+(.5-U)+" L1,"+(.5-U)+" M0,"+(.5+U)+" L1,"+(.5+U)},G),"\u2551":(Y={},Y[1]=function(z,U){return"M"+(.5-z)+",0 L"+(.5-z)+",1 M"+(.5+z)+",0 L"+(.5+z)+",1"},Y),"\u2552":(ee={},ee[1]=function(z,U){return"M.5,1 L.5,"+(.5-U)+" L1,"+(.5-U)+" M.5,"+(.5+U)+" L1,"+(.5+U)},ee),"\u2553":(Q={},Q[1]=function(z,U){return"M"+(.5-z)+",1 L"+(.5-z)+",.5 L1,.5 M"+(.5+z)+",.5 L"+(.5+z)+",1"},Q),"\u2554":(k={},k[1]=function(z,U){return"M1,"+(.5-U)+" L"+(.5-z)+","+(.5-U)+" L"+(.5-z)+",1 M1,"+(.5+U)+" L"+(.5+z)+","+(.5+U)+" L"+(.5+z)+",1"},k),"\u2555":(D={},D[1]=function(z,U){return"M0,"+(.5-U)+" L.5,"+(.5-U)+" L.5,1 M0,"+(.5+U)+" L.5,"+(.5+U)},D),"\u2556":(B={},B[1]=function(z,U){return"M"+(.5+z)+",1 L"+(.5+z)+",.5 L0,.5 M"+(.5-z)+",.5 L"+(.5-z)+",1"},B),"\u2557":(W={},W[1]=function(z,U){return"M0,"+(.5+U)+" L"+(.5-z)+","+(.5+U)+" L"+(.5-z)+",1 M0,"+(.5-U)+" L"+(.5+z)+","+(.5-U)+" L"+(.5+z)+",1"},W),"\u2558":(H={},H[1]=function(z,U){return"M.5,0 L.5,"+(.5+U)+" L1,"+(.5+U)+" M.5,"+(.5-U)+" L1,"+(.5-U)},H),"\u2559":(J={},J[1]=function(z,U){return"M1,.5 L"+(.5-z)+",.5 L"+(.5-z)+",0 M"+(.5+z)+",.5 L"+(.5+z)+",0"},J),"\u255A":(X={},X[1]=function(z,U){return"M1,"+(.5-U)+" L"+(.5+z)+","+(.5-U)+" L"+(.5+z)+",0 M1,"+(.5+U)+" L"+(.5-z)+","+(.5+U)+" L"+(.5-z)+",0"},X),"\u255B":(re={},re[1]=function(z,U){return"M0,"+(.5+U)+" L.5,"+(.5+U)+" L.5,0 M0,"+(.5-U)+" L.5,"+(.5-U)},re),"\u255C":(ce={},ce[1]=function(z,U){return"M0,.5 L"+(.5+z)+",.5 L"+(.5+z)+",0 M"+(.5-z)+",.5 L"+(.5-z)+",0"},ce),"\u255D":(ae={},ae[1]=function(z,U){return"M0,"+(.5-U)+" L"+(.5-z)+","+(.5-U)+" L"+(.5-z)+",0 M0,"+(.5+U)+" L"+(.5+z)+","+(.5+U)+" L"+(.5+z)+",0"},ae),"\u255E":(q={},q[1]=function(z,U){return"M.5,0 L.5,1 M.5,"+(.5-U)+" L1,"+(.5-U)+" M.5,"+(.5+U)+" L1,"+(.5+U)},q),"\u255F":(oe={},oe[1]=function(z,U){return"M"+(.5-z)+",0 L"+(.5-z)+",1 M"+(.5+z)+",0 L"+(.5+z)+",1 M"+(.5+z)+",.5 L1,.5"},oe),"\u2560":(fe={},fe[1]=function(z,U){return"M"+(.5-z)+",0 L"+(.5-z)+",1 M1,"+(.5+U)+" L"+(.5+z)+","+(.5+U)+" L"+(.5+z)+",1 M1,"+(.5-U)+" L"+(.5+z)+","+(.5-U)+" L"+(.5+z)+",0"},fe),"\u2561":(de={},de[1]=function(z,U){return"M.5,0 L.5,1 M0,"+(.5-U)+" L.5,"+(.5-U)+" M0,"+(.5+U)+" L.5,"+(.5+U)},de),"\u2562":(ve={},ve[1]=function(z,U){return"M0,.5 L"+(.5-z)+",.5 M"+(.5-z)+",0 L"+(.5-z)+",1 M"+(.5+z)+",0 L"+(.5+z)+",1"},ve),"\u2563":(me={},me[1]=function(z,U){return"M"+(.5+z)+",0 L"+(.5+z)+",1 M0,"+(.5+U)+" L"+(.5-z)+","+(.5+U)+" L"+(.5-z)+",1 M0,"+(.5-U)+" L"+(.5-z)+","+(.5-U)+" L"+(.5-z)+",0"},me),"\u2564":(Te={},Te[1]=function(z,U){return"M0,"+(.5-U)+" L1,"+(.5-U)+" M0,"+(.5+U)+" L1,"+(.5+U)+" M.5,"+(.5+U)+" L.5,1"},Te),"\u2565":(we={},we[1]=function(z,U){return"M0,.5 L1,.5 M"+(.5-z)+",.5 L"+(.5-z)+",1 M"+(.5+z)+",.5 L"+(.5+z)+",1"},we),"\u2566":(xe={},xe[1]=function(z,U){return"M0,"+(.5-U)+" L1,"+(.5-U)+" M0,"+(.5+U)+" L"+(.5-z)+","+(.5+U)+" L"+(.5-z)+",1 M1,"+(.5+U)+" L"+(.5+z)+","+(.5+U)+" L"+(.5+z)+",1"},xe),"\u2567":(Me={},Me[1]=function(z,U){return"M.5,0 L.5,"+(.5-U)+" M0,"+(.5-U)+" L1,"+(.5-U)+" M0,"+(.5+U)+" L1,"+(.5+U)},Me),"\u2568":(Le={},Le[1]=function(z,U){return"M0,.5 L1,.5 M"+(.5-z)+",.5 L"+(.5-z)+",0 M"+(.5+z)+",.5 L"+(.5+z)+",0"},Le),"\u2569":(le={},le[1]=function(z,U){return"M0,"+(.5+U)+" L1,"+(.5+U)+" M0,"+(.5-U)+" L"+(.5-z)+","+(.5-U)+" L"+(.5-z)+",0 M1,"+(.5-U)+" L"+(.5+z)+","+(.5-U)+" L"+(.5+z)+",0"},le),"\u256A":(ge={},ge[1]=function(z,U){return"M.5,0 L.5,1 M0,"+(.5-U)+" L1,"+(.5-U)+" M0,"+(.5+U)+" L1,"+(.5+U)},ge),"\u256B":(ye={},ye[1]=function(z,U){return"M0,.5 L1,.5 M"+(.5-z)+",0 L"+(.5-z)+",1 M"+(.5+z)+",0 L"+(.5+z)+",1"},ye),"\u256C":(Se={},Se[1]=function(z,U){return"M0,"+(.5+U)+" L"+(.5-z)+","+(.5+U)+" L"+(.5-z)+",1 M1,"+(.5+U)+" L"+(.5+z)+","+(.5+U)+" L"+(.5+z)+",1 M0,"+(.5-U)+" L"+(.5-z)+","+(.5-U)+" L"+(.5-z)+",0 M1,"+(.5-U)+" L"+(.5+z)+","+(.5-U)+" L"+(.5+z)+",0"},Se),"\u2571":(Ne={},Ne[1]="M1,0 L0,1",Ne),"\u2572":(Ee={},Ee[1]="M0,0 L1,1",Ee),"\u2573":(We={},We[1]="M1,0 L0,1 M0,0 L1,1",We),"\u257C":(ie={},ie[1]="M.5,.5 L0,.5",ie[3]="M.5,.5 L1,.5",ie),"\u257D":(Z={},Z[1]="M.5,.5 L.5,0",Z[3]="M.5,.5 L.5,1",Z),"\u257E":(te={},te[1]="M.5,.5 L1,.5",te[3]="M.5,.5 L0,.5",te),"\u257F":(ne={},ne[1]="M.5,.5 L.5,1",ne[3]="M.5,.5 L.5,0",ne),"\u250D":(se={},se[1]="M.5,.5 L.5,1",se[3]="M.5,.5 L1,.5",se),"\u250E":(pe={},pe[1]="M.5,.5 L1,.5",pe[3]="M.5,.5 L.5,1",pe),"\u2511":(Fe={},Fe[1]="M.5,.5 L.5,1",Fe[3]="M.5,.5 L0,.5",Fe),"\u2512":(Ge={},Ge[1]="M.5,.5 L0,.5",Ge[3]="M.5,.5 L.5,1",Ge),"\u2515":(Ie={},Ie[1]="M.5,.5 L.5,0",Ie[3]="M.5,.5 L1,.5",Ie),"\u2516":(rt={},rt[1]="M.5,.5 L1,.5",rt[3]="M.5,.5 L.5,0",rt),"\u2519":(it={},it[1]="M.5,.5 L.5,0",it[3]="M.5,.5 L0,.5",it),"\u251A":(nt={},nt[1]="M.5,.5 L0,.5",nt[3]="M.5,.5 L.5,0",nt),"\u251D":(ot={},ot[1]="M.5,0 L.5,1",ot[3]="M.5,.5 L1,.5",ot),"\u251E":(st={},st[1]="M0.5,1 L.5,.5 L1,.5",st[3]="M.5,.5 L.5,0",st),"\u251F":(at={},at[1]="M.5,0 L.5,.5 L1,.5",at[3]="M.5,.5 L.5,1",at),"\u2520":(ct={},ct[1]="M.5,.5 L1,.5",ct[3]="M.5,0 L.5,1",ct),"\u2521":(lt={},lt[1]="M.5,.5 L.5,1",lt[3]="M.5,0 L.5,.5 L1,.5",lt),"\u2522":(ut={},ut[1]="M.5,.5 L.5,0",ut[3]="M0.5,1 L.5,.5 L1,.5",ut),"\u2525":(ft={},ft[1]="M.5,0 L.5,1",ft[3]="M.5,.5 L0,.5",ft),"\u2526":(dt={},dt[1]="M0,.5 L.5,.5 L.5,1",dt[3]="M.5,.5 L.5,0",dt),"\u2527":(ht={},ht[1]="M.5,0 L.5,.5 L0,.5",ht[3]="M.5,.5 L.5,1",ht),"\u2528":(pt={},pt[1]="M.5,.5 L0,.5",pt[3]="M.5,0 L.5,1",pt),"\u2529":(vt={},vt[1]="M.5,.5 L.5,1",vt[3]="M.5,0 L.5,.5 L0,.5",vt),"\u252A":(_t={},_t[1]="M.5,.5 L.5,0",_t[3]="M0,.5 L.5,.5 L.5,1",_t),"\u252D":(gt={},gt[1]="M0.5,1 L.5,.5 L1,.5",gt[3]="M.5,.5 L0,.5",gt),"\u252E":(mt={},mt[1]="M0,.5 L.5,.5 L.5,1",mt[3]="M.5,.5 L1,.5",mt),"\u252F":(yt={},yt[1]="M.5,.5 L.5,1",yt[3]="M0,.5 L1,.5",yt),"\u2530":(St={},St[1]="M0,.5 L1,.5",St[3]="M.5,.5 L.5,1",St),"\u2531":(bt={},bt[1]="M.5,.5 L1,.5",bt[3]="M0,.5 L.5,.5 L.5,1",bt),"\u2532":(Ct={},Ct[1]="M.5,.5 L0,.5",Ct[3]="M0.5,1 L.5,.5 L1,.5",Ct),"\u2535":(wt={},wt[1]="M.5,0 L.5,.5 L1,.5",wt[3]="M.5,.5 L0,.5",wt),"\u2536":(Et={},Et[1]="M.5,0 L.5,.5 L0,.5",Et[3]="M.5,.5 L1,.5",Et),"\u2537":(At={},At[1]="M.5,.5 L.5,0",At[3]="M0,.5 L1,.5",At),"\u2538":(Lt={},Lt[1]="M0,.5 L1,.5",Lt[3]="M.5,.5 L.5,0",Lt),"\u2539":(Ot={},Ot[1]="M.5,.5 L1,.5",Ot[3]="M.5,0 L.5,.5 L0,.5",Ot),"\u253A":(Tt={},Tt[1]="M.5,.5 L0,.5",Tt[3]="M.5,0 L.5,.5 L1,.5",Tt),"\u253D":(xt={},xt[1]="M.5,0 L.5,1 M.5,.5 L1,.5",xt[3]="M.5,.5 L0,.5",xt),"\u253E":(Mt={},Mt[1]="M.5,0 L.5,1 M.5,.5 L0,.5",Mt[3]="M.5,.5 L1,.5",Mt),"\u253F":(Bt={},Bt[1]="M.5,0 L.5,1",Bt[3]="M0,.5 L1,.5",Bt),"\u2540":(Rt={},Rt[1]="M0,.5 L1,.5 M.5,.5 L.5,1",Rt[3]="M.5,.5 L.5,0",Rt),"\u2541":(kt={},kt[1]="M.5,.5 L.5,0 M0,.5 L1,.5",kt[3]="M.5,.5 L.5,1",kt),"\u2542":(Pt={},Pt[1]="M0,.5 L1,.5",Pt[3]="M.5,0 L.5,1",Pt),"\u2543":(It={},It[1]="M0.5,1 L.5,.5 L1,.5",It[3]="M.5,0 L.5,.5 L0,.5",It),"\u2544":(Dt={},Dt[1]="M0,.5 L.5,.5 L.5,1",Dt[3]="M.5,0 L.5,.5 L1,.5",Dt),"\u2545":(Nt={},Nt[1]="M.5,0 L.5,.5 L1,.5",Nt[3]="M0,.5 L.5,.5 L.5,1",Nt),"\u2546":(Ft={},Ft[1]="M.5,0 L.5,.5 L0,.5",Ft[3]="M0.5,1 L.5,.5 L1,.5",Ft),"\u2547":($t={},$t[1]="M.5,.5 L.5,1",$t[3]="M.5,.5 L.5,0 M0,.5 L1,.5",$t),"\u2548":(Ht={},Ht[1]="M.5,.5 L.5,0",Ht[3]="M0,.5 L1,.5 M.5,.5 L.5,1",Ht),"\u2549":(Wt={},Wt[1]="M.5,.5 L1,.5",Wt[3]="M.5,0 L.5,1 M.5,.5 L0,.5",Wt),"\u254A":(jt={},jt[1]="M.5,.5 L0,.5",jt[3]="M.5,0 L.5,1 M.5,.5 L1,.5",jt),"\u254C":(Ut={},Ut[1]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",Ut),"\u254D":(zt={},zt[3]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",zt),"\u2504":(Kt={},Kt[1]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",Kt),"\u2505":(Gt={},Gt[3]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",Gt),"\u2508":(qt={},qt[1]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",qt),"\u2509":(Jt={},Jt[3]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",Jt),"\u254E":(Yt={},Yt[1]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",Yt),"\u254F":(Xt={},Xt[3]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",Xt),"\u2506":(Zt={},Zt[1]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",Zt),"\u2507":(Qt={},Qt[3]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",Qt),"\u250A":(er={},er[1]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",er),"\u250B":(tr={},tr[3]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",tr),"\u256D":(rr={},rr[1]="C.5,1,.5,.5,1,.5",rr),"\u256E":(ir={},ir[1]="C.5,1,.5,.5,0,.5",ir),"\u256F":(nr={},nr[1]="C.5,0,.5,.5,0,.5",nr),"\u2570":(or={},or[1]="C.5,0,.5,.5,1,.5",or)},r.tryDrawCustomChar=function(z,U,Be,Xe,Ze,_e){var Re=r.blockElementDefinitions[U];if(Re)return function(be,Pe,et,tt,qe,Je){for(var Ae=0;Ae<Pe.length;Ae++){var Ce=Pe[Ae],he=qe/8,De=Je/8;be.fillRect(et+Ce.x*he,tt+Ce.y*De,Ce.w*he,Ce.h*De)}}(z,Re,Be,Xe,Ze,_e),!0;var ke=hr[U];if(ke)return function(be,Pe,et,tt,qe,Je){var Ae,Ce=ur.get(Pe);Ce||(Ce=new Map,ur.set(Pe,Ce));var he=be.fillStyle;if(typeof he!="string")throw new Error('Unexpected fillStyle type "'+he+'"');var De=Ce.get(he);if(!De){var Oe=Pe[0].length,je=Pe.length,Ve=document.createElement("canvas");Ve.width=Oe,Ve.height=je;var Vt=(0,lr.throwIfFalsy)(Ve.getContext("2d")),$e=new ImageData(Oe,je),Ye=void 0,Ue=void 0,sr=void 0,ar=void 0;if(he.startsWith("#"))Ye=parseInt(he.substr(1,2),16),Ue=parseInt(he.substr(3,2),16),sr=parseInt(he.substr(5,2),16),ar=he.length>7&&parseInt(he.substr(7,2),16)||1;else{if(!he.startsWith("rgba"))throw new Error('Unexpected fillStyle color format "'+he+'" when drawing pattern glyph');Ye=(Ae=he.substring(5,he.length-1).split(",").map(function(_r){return parseFloat(_r)}))[0],Ue=Ae[1],sr=Ae[2],ar=Ae[3]}for(var ze=0;ze<je;ze++)for(var Ke=0;Ke<Oe;Ke++)$e.data[4*(ze*Oe+Ke)]=Ye,$e.data[4*(ze*Oe+Ke)+1]=Ue,$e.data[4*(ze*Oe+Ke)+2]=sr,$e.data[4*(ze*Oe+Ke)+3]=Pe[ze][Ke]*(255*ar);Vt.putImageData($e,0,0),De=(0,lr.throwIfFalsy)(be.createPattern(Ve,null)),Ce.set(he,De)}be.fillStyle=De,be.fillRect(et,tt,qe,Je)}(z,ke,Be,Xe,Ze,_e),!0;var Qe=r.boxDrawingDefinitions[U];return!!Qe&&(function(be,Pe,et,tt,qe,Je){be.strokeStyle=be.fillStyle;for(var Ae=0,Ce=Object.entries(Pe);Ae<Ce.length;Ae++){var he=Ce[Ae],De=he[0],Oe=he[1];be.beginPath(),be.lineWidth=window.devicePixelRatio*Number.parseInt(De);for(var je=0,Ve=(typeof Oe=="function"?Oe(.15,.15/Je*qe):Oe).split(" ");je<Ve.length;je++){var Vt=Ve[je],$e=Vt[0],Ye=pr[$e];if(Ye){var Ue=Vt.substring(1).split(",");Ue[0]&&Ue[1]&&Ye(be,vr(Ue,qe,Je,et,tt))}else console.error('Could not find drawing instructions for "'+$e+'"')}be.stroke(),be.closePath()}}(z,Qe,Be,Xe,Ze,_e),!0)};var ur=new Map;function fr(z,U,Be){return Be===void 0&&(Be=0),Math.max(Math.min(z,U),Be)}var pr={C:function(z,U){return z.bezierCurveTo(U[0],U[1],U[2],U[3],U[4],U[5])},L:function(z,U){return z.lineTo(U[0],U[1])},M:function(z,U){return z.moveTo(U[0],U[1])}};function vr(z,U,Be,Xe,Ze){var _e=z.map(function(Qe){return parseFloat(Qe)||parseInt(Qe)});if(_e.length<2)throw new Error("Too few arguments for instruction");for(var Re=0;Re<_e.length;Re+=2)_e[Re]*=U,_e[Re]!==0&&(_e[Re]=fr(Math.round(_e[Re]+.5)-.5,U,0)),_e[Re]+=Xe;for(var ke=1;ke<_e.length;ke+=2)_e[ke]*=Be,_e[ke]!==0&&(_e[ke]=fr(Math.round(_e[ke]+.5)-.5,Be,0)),_e[ke]+=Ze;return _e}},3700:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.GridCache=void 0;var a=function(){function s(){this.cache=[]}return s.prototype.resize=function(u,p){for(var m=0;m<u;m++){this.cache.length<=m&&this.cache.push([]);for(var w=this.cache[m].length;w<p;w++)this.cache[m].push(void 0);this.cache[m].length=p}this.cache.length=u},s.prototype.clear=function(){for(var u=0;u<this.cache.length;u++)for(var p=0;p<this.cache[u].length;p++)this.cache[u][p]=void 0},s}();r.GridCache=a},5098:function(g,r,a){var s,u=this&&this.__extends||(s=function(y,f){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var b in l)Object.prototype.hasOwnProperty.call(l,b)&&(c[b]=l[b])},s(y,f)},function(y,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function c(){this.constructor=y}s(y,f),y.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}),p=this&&this.__decorate||function(y,f,c,l){var b,S=arguments.length,A=S<3?f:l===null?l=Object.getOwnPropertyDescriptor(f,c):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(y,f,c,l);else for(var L=y.length-1;L>=0;L--)(b=y[L])&&(A=(S<3?b(A):S>3?b(f,c,A):b(f,c))||A);return S>3&&A&&Object.defineProperty(f,c,A),A},m=this&&this.__param||function(y,f){return function(c,l){f(c,l,y)}};Object.defineProperty(r,"__esModule",{value:!0}),r.LinkRenderLayer=void 0;var w=a(1546),E=a(8803),d=a(2040),v=a(2585),C=function(y){function f(c,l,b,S,A,L,x,M){var O=y.call(this,c,"link",l,!0,b,S,x,M)||this;return A.onShowLinkUnderline(function(T){return O._onShowLinkUnderline(T)}),A.onHideLinkUnderline(function(T){return O._onHideLinkUnderline(T)}),L.onShowLinkUnderline(function(T){return O._onShowLinkUnderline(T)}),L.onHideLinkUnderline(function(T){return O._onHideLinkUnderline(T)}),O}return u(f,y),f.prototype.resize=function(c){y.prototype.resize.call(this,c),this._state=void 0},f.prototype.reset=function(){this._clearCurrentLink()},f.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var c=this._state.y2-this._state.y1-1;c>0&&this._clearCells(0,this._state.y1+1,this._state.cols,c),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},f.prototype._onShowLinkUnderline=function(c){if(c.fg===E.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:c.fg&&(0,d.is256Color)(c.fg)?this._ctx.fillStyle=this._colors.ansi[c.fg].css:this._ctx.fillStyle=this._colors.foreground.css,c.y1===c.y2)this._fillBottomLineAtCells(c.x1,c.y1,c.x2-c.x1);else{this._fillBottomLineAtCells(c.x1,c.y1,c.cols-c.x1);for(var l=c.y1+1;l<c.y2;l++)this._fillBottomLineAtCells(0,l,c.cols);this._fillBottomLineAtCells(0,c.y2,c.x2)}this._state=c},f.prototype._onHideLinkUnderline=function(c){this._clearCurrentLink()},p([m(6,v.IBufferService),m(7,v.IOptionsService)],f)}(w.BaseRenderLayer);r.LinkRenderLayer=C},3525:function(g,r,a){var s,u=this&&this.__extends||(s=function(A,L){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,M){x.__proto__=M}||function(x,M){for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&(x[O]=M[O])},s(A,L)},function(A,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function x(){this.constructor=A}s(A,L),A.prototype=L===null?Object.create(L):(x.prototype=L.prototype,new x)}),p=this&&this.__decorate||function(A,L,x,M){var O,T=arguments.length,I=T<3?L:M===null?M=Object.getOwnPropertyDescriptor(L,x):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(A,L,x,M);else for(var P=A.length-1;P>=0;P--)(O=A[P])&&(I=(T<3?O(I):T>3?O(L,x,I):O(L,x))||I);return T>3&&I&&Object.defineProperty(L,x,I),I},m=this&&this.__param||function(A,L){return function(x,M){L(x,M,A)}};Object.defineProperty(r,"__esModule",{value:!0}),r.Renderer=void 0;var w=a(9596),E=a(4149),d=a(2512),v=a(5098),C=a(844),y=a(4725),f=a(2585),c=a(1420),l=a(8460),b=1,S=function(A){function L(x,M,O,T,I,P,$,F){var R=A.call(this)||this;R._colors=x,R._screenElement=M,R._bufferService=P,R._charSizeService=$,R._optionsService=F,R._id=b++,R._onRequestRedraw=new l.EventEmitter;var N=R._optionsService.options.allowTransparency;return R._renderLayers=[I.createInstance(w.TextRenderLayer,R._screenElement,0,R._colors,N,R._id),I.createInstance(E.SelectionRenderLayer,R._screenElement,1,R._colors,R._id),I.createInstance(v.LinkRenderLayer,R._screenElement,2,R._colors,R._id,O,T),I.createInstance(d.CursorRenderLayer,R._screenElement,3,R._colors,R._id,R._onRequestRedraw)],R.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},R._devicePixelRatio=window.devicePixelRatio,R._updateDimensions(),R.onOptionsChanged(),R}return u(L,A),Object.defineProperty(L.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),L.prototype.dispose=function(){for(var x=0,M=this._renderLayers;x<M.length;x++)M[x].dispose();A.prototype.dispose.call(this),(0,c.removeTerminalFromCache)(this._id)},L.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},L.prototype.setColors=function(x){this._colors=x;for(var M=0,O=this._renderLayers;M<O.length;M++){var T=O[M];T.setColors(this._colors),T.reset()}},L.prototype.onResize=function(x,M){this._updateDimensions();for(var O=0,T=this._renderLayers;O<T.length;O++)T[O].resize(this.dimensions);this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},L.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},L.prototype.onBlur=function(){this._runOperation(function(x){return x.onBlur()})},L.prototype.onFocus=function(){this._runOperation(function(x){return x.onFocus()})},L.prototype.onSelectionChanged=function(x,M,O){O===void 0&&(O=!1),this._runOperation(function(T){return T.onSelectionChanged(x,M,O)})},L.prototype.onCursorMove=function(){this._runOperation(function(x){return x.onCursorMove()})},L.prototype.onOptionsChanged=function(){this._runOperation(function(x){return x.onOptionsChanged()})},L.prototype.clear=function(){this._runOperation(function(x){return x.reset()})},L.prototype._runOperation=function(x){for(var M=0,O=this._renderLayers;M<O.length;M++)x(O[M])},L.prototype.renderRows=function(x,M){for(var O=0,T=this._renderLayers;O<T.length;O++)T[O].onGridChanged(x,M)},L.prototype.clearTextureAtlas=function(){for(var x=0,M=this._renderLayers;x<M.length;x++)M[x].clearTextureAtlas()},L.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharTop=this._optionsService.options.lineHeight===1?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},p([m(4,f.IInstantiationService),m(5,f.IBufferService),m(6,y.ICharSizeService),m(7,f.IOptionsService)],L)}(C.Disposable);r.Renderer=S},1752:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.throwIfFalsy=void 0,r.throwIfFalsy=function(a){if(!a)throw new Error("value must not be falsy");return a}},4149:function(g,r,a){var s,u=this&&this.__extends||(s=function(v,C){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,f){y.__proto__=f}||function(y,f){for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(y[c]=f[c])},s(v,C)},function(v,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function y(){this.constructor=v}s(v,C),v.prototype=C===null?Object.create(C):(y.prototype=C.prototype,new y)}),p=this&&this.__decorate||function(v,C,y,f){var c,l=arguments.length,b=l<3?C:f===null?f=Object.getOwnPropertyDescriptor(C,y):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(v,C,y,f);else for(var S=v.length-1;S>=0;S--)(c=v[S])&&(b=(l<3?c(b):l>3?c(C,y,b):c(C,y))||b);return l>3&&b&&Object.defineProperty(C,y,b),b},m=this&&this.__param||function(v,C){return function(y,f){C(y,f,v)}};Object.defineProperty(r,"__esModule",{value:!0}),r.SelectionRenderLayer=void 0;var w=a(1546),E=a(2585),d=function(v){function C(y,f,c,l,b,S){var A=v.call(this,y,"selection",f,!0,c,l,b,S)||this;return A._clearState(),A}return u(C,v),C.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},C.prototype.resize=function(y){v.prototype.resize.call(this,y),this._clearState()},C.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},C.prototype.onSelectionChanged=function(y,f,c){if(this._didStateChange(y,f,c,this._bufferService.buffer.ydisp))if(this._clearAll(),y&&f){var l=y[1]-this._bufferService.buffer.ydisp,b=f[1]-this._bufferService.buffer.ydisp,S=Math.max(l,0),A=Math.min(b,this._bufferService.rows-1);if(S>=this._bufferService.rows||A<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=this._colors.selectionTransparent.css,c){var L=y[0],x=f[0]-L,M=A-S+1;this._fillCells(L,S,x,M)}else{L=l===S?y[0]:0;var O=S===b?f[0]:this._bufferService.cols;this._fillCells(L,S,O-L,1);var T=Math.max(A-S-1,0);if(this._fillCells(0,S+1,this._bufferService.cols,T),S!==A){var I=b===A?f[0]:this._bufferService.cols;this._fillCells(0,A,I,1)}}this._state.start=[y[0],y[1]],this._state.end=[f[0],f[1]],this._state.columnSelectMode=c,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},C.prototype._didStateChange=function(y,f,c,l){return!this._areCoordinatesEqual(y,this._state.start)||!this._areCoordinatesEqual(f,this._state.end)||c!==this._state.columnSelectMode||l!==this._state.ydisp},C.prototype._areCoordinatesEqual=function(y,f){return!(!y||!f)&&y[0]===f[0]&&y[1]===f[1]},p([m(4,E.IBufferService),m(5,E.IOptionsService)],C)}(w.BaseRenderLayer);r.SelectionRenderLayer=d},9596:function(g,r,a){var s,u=this&&this.__extends||(s=function(b,S){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,L){A.__proto__=L}||function(A,L){for(var x in L)Object.prototype.hasOwnProperty.call(L,x)&&(A[x]=L[x])},s(b,S)},function(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function A(){this.constructor=b}s(b,S),b.prototype=S===null?Object.create(S):(A.prototype=S.prototype,new A)}),p=this&&this.__decorate||function(b,S,A,L){var x,M=arguments.length,O=M<3?S:L===null?L=Object.getOwnPropertyDescriptor(S,A):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(b,S,A,L);else for(var T=b.length-1;T>=0;T--)(x=b[T])&&(O=(M<3?x(O):M>3?x(S,A,O):x(S,A))||O);return M>3&&O&&Object.defineProperty(S,A,O),O},m=this&&this.__param||function(b,S){return function(A,L){S(A,L,b)}};Object.defineProperty(r,"__esModule",{value:!0}),r.TextRenderLayer=void 0;var w=a(3700),E=a(1546),d=a(3734),v=a(643),C=a(511),y=a(2585),f=a(4725),c=a(4269),l=function(b){function S(A,L,x,M,O,T,I,P){var $=b.call(this,A,"text",L,M,x,O,T,I)||this;return $._characterJoinerService=P,$._characterWidth=0,$._characterFont="",$._characterOverlapCache={},$._workCell=new C.CellData,$._state=new w.GridCache,$}return u(S,b),S.prototype.resize=function(A){b.prototype.resize.call(this,A);var L=this._getFont(!1,!1);this._characterWidth===A.scaledCharWidth&&this._characterFont===L||(this._characterWidth=A.scaledCharWidth,this._characterFont=L,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},S.prototype.reset=function(){this._state.clear(),this._clearAll()},S.prototype._forEachCell=function(A,L,x){for(var M=A;M<=L;M++)for(var O=M+this._bufferService.buffer.ydisp,T=this._bufferService.buffer.lines.get(O),I=this._characterJoinerService.getJoinedCharacters(O),P=0;P<this._bufferService.cols;P++){T.loadCell(P,this._workCell);var $=this._workCell,F=!1,R=P;if($.getWidth()!==0){if(I.length>0&&P===I[0][0]){F=!0;var N=I.shift();$=new c.JoinedCellData(this._workCell,T.translateToString(!0,N[0],N[1]),N[1]-N[0]),R=N[1]-1}!F&&this._isOverlapping($)&&R<T.length-1&&T.getCodePoint(R+1)===v.NULL_CELL_CODE&&($.content&=-12582913,$.content|=2<<22),x($,P,M),P=R}}},S.prototype._drawBackground=function(A,L){var x=this,M=this._ctx,O=this._bufferService.cols,T=0,I=0,P=null;M.save(),this._forEachCell(A,L,function($,F,R){var N=null;$.isInverse()?N=$.isFgDefault()?x._colors.foreground.css:$.isFgRGB()?"rgb("+d.AttributeData.toColorRGB($.getFgColor()).join(",")+")":x._colors.ansi[$.getFgColor()].css:$.isBgRGB()?N="rgb("+d.AttributeData.toColorRGB($.getBgColor()).join(",")+")":$.isBgPalette()&&(N=x._colors.ansi[$.getBgColor()].css),P===null&&(T=F,I=R),R!==I?(M.fillStyle=P||"",x._fillCells(T,I,O-T,1),T=F,I=R):P!==N&&(M.fillStyle=P||"",x._fillCells(T,I,F-T,1),T=F,I=R),P=N}),P!==null&&(M.fillStyle=P,this._fillCells(T,I,O-T,1)),M.restore()},S.prototype._drawForeground=function(A,L){var x=this;this._forEachCell(A,L,function(M,O,T){if(!M.isInvisible()&&(x._drawChars(M,O,T),M.isUnderline()||M.isStrikethrough())){if(x._ctx.save(),M.isInverse())if(M.isBgDefault())x._ctx.fillStyle=x._colors.background.css;else if(M.isBgRGB())x._ctx.fillStyle="rgb("+d.AttributeData.toColorRGB(M.getBgColor()).join(",")+")";else{var I=M.getBgColor();x._optionsService.options.drawBoldTextInBrightColors&&M.isBold()&&I<8&&(I+=8),x._ctx.fillStyle=x._colors.ansi[I].css}else if(M.isFgDefault())x._ctx.fillStyle=x._colors.foreground.css;else if(M.isFgRGB())x._ctx.fillStyle="rgb("+d.AttributeData.toColorRGB(M.getFgColor()).join(",")+")";else{var P=M.getFgColor();x._optionsService.options.drawBoldTextInBrightColors&&M.isBold()&&P<8&&(P+=8),x._ctx.fillStyle=x._colors.ansi[P].css}M.isStrikethrough()&&x._fillMiddleLineAtCells(O,T,M.getWidth()),M.isUnderline()&&x._fillBottomLineAtCells(O,T,M.getWidth()),x._ctx.restore()}})},S.prototype.onGridChanged=function(A,L){this._state.cache.length!==0&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,A,this._bufferService.cols,L-A+1),this._drawBackground(A,L),this._drawForeground(A,L))},S.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.options.allowTransparency)},S.prototype._isOverlapping=function(A){if(A.getWidth()!==1||A.getCode()<256)return!1;var L=A.getChars();if(this._characterOverlapCache.hasOwnProperty(L))return this._characterOverlapCache[L];this._ctx.save(),this._ctx.font=this._characterFont;var x=Math.floor(this._ctx.measureText(L).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[L]=x,x},p([m(5,y.IBufferService),m(6,y.IOptionsService),m(7,f.ICharacterJoinerService)],S)}(E.BaseRenderLayer);r.TextRenderLayer=l},9616:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BaseCharAtlas=void 0;var a=function(){function s(){this._didWarmUp=!1}return s.prototype.dispose=function(){},s.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},s.prototype._doWarmUp=function(){},s.prototype.clear=function(){},s.prototype.beginFrame=function(){},s}();r.BaseCharAtlas=a},1420:(g,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.removeTerminalFromCache=r.acquireCharAtlas=void 0;var s=a(2040),u=a(1906),p=[];r.acquireCharAtlas=function(m,w,E,d,v){for(var C=(0,s.generateConfig)(d,v,m,E),y=0;y<p.length;y++){var f=(c=p[y]).ownedBy.indexOf(w);if(f>=0){if((0,s.configEquals)(c.config,C))return c.atlas;c.ownedBy.length===1?(c.atlas.dispose(),p.splice(y,1)):c.ownedBy.splice(f,1);break}}for(y=0;y<p.length;y++){var c=p[y];if((0,s.configEquals)(c.config,C))return c.ownedBy.push(w),c.atlas}var l={atlas:new u.DynamicCharAtlas(document,C),config:C,ownedBy:[w]};return p.push(l),l.atlas},r.removeTerminalFromCache=function(m){for(var w=0;w<p.length;w++){var E=p[w].ownedBy.indexOf(m);if(E!==-1){p[w].ownedBy.length===1?(p[w].atlas.dispose(),p.splice(w,1)):p[w].ownedBy.splice(E,1);break}}}},2040:function(g,r,a){var s=this&&this.__spreadArray||function(p,m,w){if(w||arguments.length===2)for(var E,d=0,v=m.length;d<v;d++)!E&&d in m||(E||(E=Array.prototype.slice.call(m,0,d)),E[d]=m[d]);return p.concat(E||Array.prototype.slice.call(m))};Object.defineProperty(r,"__esModule",{value:!0}),r.is256Color=r.configEquals=r.generateConfig=void 0;var u=a(643);r.generateConfig=function(p,m,w,E){var d={foreground:E.foreground,background:E.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:s([],E.ansi,!0)};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:p,scaledCharHeight:m,fontFamily:w.fontFamily,fontSize:w.fontSize,fontWeight:w.fontWeight,fontWeightBold:w.fontWeightBold,allowTransparency:w.allowTransparency,colors:d}},r.configEquals=function(p,m){for(var w=0;w<p.colors.ansi.length;w++)if(p.colors.ansi[w].rgba!==m.colors.ansi[w].rgba)return!1;return p.devicePixelRatio===m.devicePixelRatio&&p.fontFamily===m.fontFamily&&p.fontSize===m.fontSize&&p.fontWeight===m.fontWeight&&p.fontWeightBold===m.fontWeightBold&&p.allowTransparency===m.allowTransparency&&p.scaledCharWidth===m.scaledCharWidth&&p.scaledCharHeight===m.scaledCharHeight&&p.colors.foreground===m.colors.foreground&&p.colors.background===m.colors.background},r.is256Color=function(p){return p<u.DEFAULT_COLOR}},8803:(g,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CHAR_ATLAS_CELL_SPACING=r.TEXT_BASELINE=r.DIM_OPACITY=r.INVERTED_DEFAULT_COLOR=void 0;var s=a(6114);r.INVERTED_DEFAULT_COLOR=257,r.DIM_OPACITY=.5,r.TEXT_BASELINE=s.isFirefox?"bottom":"ideographic",r.CHAR_ATLAS_CELL_SPACING=1},1906:function(g,r,a){var s,u=this&&this.__extends||(s=function(L,x){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,O){M.__proto__=O}||function(M,O){for(var T in O)Object.prototype.hasOwnProperty.call(O,T)&&(M[T]=O[T])},s(L,x)},function(L,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function M(){this.constructor=L}s(L,x),L.prototype=x===null?Object.create(x):(M.prototype=x.prototype,new M)});Object.defineProperty(r,"__esModule",{value:!0}),r.NoneCharAtlas=r.DynamicCharAtlas=r.getGlyphCacheKey=void 0;var p=a(8803),m=a(9616),w=a(5680),E=a(7001),d=a(6114),v=a(1752),C=a(4774),y=1024,f=1024,c={css:"rgba(0, 0, 0, 0)",rgba:0};function l(L){return L.code<<21|L.bg<<12|L.fg<<3|(L.bold?0:4)+(L.dim?0:2)+(L.italic?0:1)}r.getGlyphCacheKey=l;var b=function(L){function x(M,O){var T=L.call(this)||this;T._config=O,T._drawToCacheCount=0,T._glyphsWaitingOnBitmap=[],T._bitmapCommitTimeout=null,T._bitmap=null,T._cacheCanvas=M.createElement("canvas"),T._cacheCanvas.width=y,T._cacheCanvas.height=f,T._cacheCtx=(0,v.throwIfFalsy)(T._cacheCanvas.getContext("2d",{alpha:!0}));var I=M.createElement("canvas");I.width=T._config.scaledCharWidth,I.height=T._config.scaledCharHeight,T._tmpCtx=(0,v.throwIfFalsy)(I.getContext("2d",{alpha:T._config.allowTransparency})),T._width=Math.floor(y/T._config.scaledCharWidth),T._height=Math.floor(f/T._config.scaledCharHeight);var P=T._width*T._height;return T._cacheMap=new E.LRUMap(P),T._cacheMap.prealloc(P),T}return u(x,L),x.prototype.dispose=function(){this._bitmapCommitTimeout!==null&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},x.prototype.beginFrame=function(){this._drawToCacheCount=0},x.prototype.clear=function(){if(this._cacheMap.size>0){var M=this._width*this._height;this._cacheMap=new E.LRUMap(M),this._cacheMap.prealloc(M)}this._cacheCtx.clearRect(0,0,y,f),this._tmpCtx.clearRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight)},x.prototype.draw=function(M,O,T,I){if(O.code===32)return!0;if(!this._canCache(O))return!1;var P=l(O),$=this._cacheMap.get(P);if($!=null)return this._drawFromCache(M,$,T,I),!0;if(this._drawToCacheCount<100){var F;F=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var R=this._drawToCache(O,F);return this._cacheMap.set(P,R),this._drawFromCache(M,R,T,I),!0}return!1},x.prototype._canCache=function(M){return M.code<256},x.prototype._toCoordinateX=function(M){return M%this._width*this._config.scaledCharWidth},x.prototype._toCoordinateY=function(M){return Math.floor(M/this._width)*this._config.scaledCharHeight},x.prototype._drawFromCache=function(M,O,T,I){if(!O.isEmpty){var P=this._toCoordinateX(O.index),$=this._toCoordinateY(O.index);M.drawImage(O.inBitmap?this._bitmap:this._cacheCanvas,P,$,this._config.scaledCharWidth,this._config.scaledCharHeight,T,I,this._config.scaledCharWidth,this._config.scaledCharHeight)}},x.prototype._getColorFromAnsiIndex=function(M){return M<this._config.colors.ansi.length?this._config.colors.ansi[M]:w.DEFAULT_ANSI_COLORS[M]},x.prototype._getBackgroundColor=function(M){return this._config.allowTransparency?c:M.bg===p.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:M.bg<256?this._getColorFromAnsiIndex(M.bg):this._config.colors.background},x.prototype._getForegroundColor=function(M){return M.fg===p.INVERTED_DEFAULT_COLOR?C.color.opaque(this._config.colors.background):M.fg<256?this._getColorFromAnsiIndex(M.fg):this._config.colors.foreground},x.prototype._drawToCache=function(M,O){this._drawToCacheCount++,this._tmpCtx.save();var T=this._getBackgroundColor(M);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=T.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var I=M.bold?this._config.fontWeightBold:this._config.fontWeight,P=M.italic?"italic":"";this._tmpCtx.font=P+" "+I+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline=p.TEXT_BASELINE,this._tmpCtx.fillStyle=this._getForegroundColor(M).css,M.dim&&(this._tmpCtx.globalAlpha=p.DIM_OPACITY),this._tmpCtx.fillText(M.chars,0,this._config.scaledCharHeight);var $=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),F=!1;if(this._config.allowTransparency||(F=A($,T)),F&&M.chars==="_"&&!this._config.allowTransparency)for(var R=1;R<=5&&(this._tmpCtx.fillText(M.chars,0,this._config.scaledCharHeight-R),F=A($=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),T));R++);this._tmpCtx.restore();var N=this._toCoordinateX(O),j=this._toCoordinateY(O);this._cacheCtx.putImageData($,N,j);var V={index:O,isEmpty:F,inBitmap:!1};return this._addGlyphToBitmap(V),V},x.prototype._addGlyphToBitmap=function(M){var O=this;!("createImageBitmap"in window)||d.isFirefox||d.isSafari||(this._glyphsWaitingOnBitmap.push(M),this._bitmapCommitTimeout===null&&(this._bitmapCommitTimeout=window.setTimeout(function(){return O._generateBitmap()},100)))},x.prototype._generateBitmap=function(){var M=this,O=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then(function(T){M._bitmap=T;for(var I=0;I<O.length;I++)O[I].inBitmap=!0}),this._bitmapCommitTimeout=null},x}(m.BaseCharAtlas);r.DynamicCharAtlas=b;var S=function(L){function x(M,O){return L.call(this)||this}return u(x,L),x.prototype.draw=function(M,O,T,I){return!1},x}(m.BaseCharAtlas);function A(L,x){for(var M=!0,O=x.rgba>>>24,T=x.rgba>>>16&255,I=x.rgba>>>8&255,P=0;P<L.data.length;P+=4)L.data[P]===O&&L.data[P+1]===T&&L.data[P+2]===I?L.data[P+3]=0:M=!1;return M}r.NoneCharAtlas=S},7001:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.LRUMap=void 0;var a=function(){function s(u){this.capacity=u,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return s.prototype._unlinkNode=function(u){var p=u.prev,m=u.next;u===this._head&&(this._head=m),u===this._tail&&(this._tail=p),p!==null&&(p.next=m),m!==null&&(m.prev=p)},s.prototype._appendNode=function(u){var p=this._tail;p!==null&&(p.next=u),u.prev=p,u.next=null,this._tail=u,this._head===null&&(this._head=u)},s.prototype.prealloc=function(u){for(var p=this._nodePool,m=0;m<u;m++)p.push({prev:null,next:null,key:null,value:null})},s.prototype.get=function(u){var p=this._map[u];return p!==void 0?(this._unlinkNode(p),this._appendNode(p),p.value):null},s.prototype.peekValue=function(u){var p=this._map[u];return p!==void 0?p.value:null},s.prototype.peek=function(){var u=this._head;return u===null?null:u.value},s.prototype.set=function(u,p){var m=this._map[u];if(m!==void 0)m=this._map[u],this._unlinkNode(m),m.value=p;else if(this.size>=this.capacity)m=this._head,this._unlinkNode(m),delete this._map[m.key],m.key=u,m.value=p,this._map[u]=m;else{var w=this._nodePool;w.length>0?((m=w.pop()).key=u,m.value=p):m={prev:null,next:null,key:u,value:p},this._map[u]=m,this.size++}this._appendNode(m)},s}();r.LRUMap=a},1296:function(g,r,a){var s,u=this&&this.__extends||(s=function(M,O){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(T[P]=I[P])},s(M,O)},function(M,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function T(){this.constructor=M}s(M,O),M.prototype=O===null?Object.create(O):(T.prototype=O.prototype,new T)}),p=this&&this.__decorate||function(M,O,T,I){var P,$=arguments.length,F=$<3?O:I===null?I=Object.getOwnPropertyDescriptor(O,T):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(M,O,T,I);else for(var R=M.length-1;R>=0;R--)(P=M[R])&&(F=($<3?P(F):$>3?P(O,T,F):P(O,T))||F);return $>3&&F&&Object.defineProperty(O,T,F),F},m=this&&this.__param||function(M,O){return function(T,I){O(T,I,M)}};Object.defineProperty(r,"__esModule",{value:!0}),r.DomRenderer=void 0;var w=a(3787),E=a(8803),d=a(844),v=a(4725),C=a(2585),y=a(8460),f=a(4774),c=a(9631),l="xterm-dom-renderer-owner-",b="xterm-fg-",S="xterm-bg-",A="xterm-focus",L=1,x=function(M){function O(T,I,P,$,F,R,N,j,V,K){var G=M.call(this)||this;return G._colors=T,G._element=I,G._screenElement=P,G._viewportElement=$,G._linkifier=F,G._linkifier2=R,G._charSizeService=j,G._optionsService=V,G._bufferService=K,G._terminalClass=L++,G._rowElements=[],G._rowContainer=document.createElement("div"),G._rowContainer.classList.add("xterm-rows"),G._rowContainer.style.lineHeight="normal",G._rowContainer.setAttribute("aria-hidden","true"),G._refreshRowElements(G._bufferService.cols,G._bufferService.rows),G._selectionContainer=document.createElement("div"),G._selectionContainer.classList.add("xterm-selection"),G._selectionContainer.setAttribute("aria-hidden","true"),G.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},G._updateDimensions(),G._injectCss(),G._rowFactory=N.createInstance(w.DomRendererRowFactory,document,G._colors),G._element.classList.add(l+G._terminalClass),G._screenElement.appendChild(G._rowContainer),G._screenElement.appendChild(G._selectionContainer),G._linkifier.onShowLinkUnderline(function(Y){return G._onLinkHover(Y)}),G._linkifier.onHideLinkUnderline(function(Y){return G._onLinkLeave(Y)}),G._linkifier2.onShowLinkUnderline(function(Y){return G._onLinkHover(Y)}),G._linkifier2.onHideLinkUnderline(function(Y){return G._onLinkLeave(Y)}),G}return u(O,M),Object.defineProperty(O.prototype,"onRequestRedraw",{get:function(){return new y.EventEmitter().event},enumerable:!1,configurable:!0}),O.prototype.dispose=function(){this._element.classList.remove(l+this._terminalClass),(0,c.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),M.prototype.dispose.call(this)},O.prototype._updateDimensions=function(){this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;for(var T=0,I=this._rowElements;T<I.length;T++){var P=I[T];P.style.width=this.dimensions.canvasWidth+"px",P.style.height=this.dimensions.actualCellHeight+"px",P.style.lineHeight=this.dimensions.actualCellHeight+"px",P.style.overflow="hidden"}this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));var $=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.textContent=$,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},O.prototype.setColors=function(T){this._colors=T,this._injectCss()},O.prototype._injectCss=function(){var T=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var I=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.options.fontFamily+"; font-size: "+this._optionsService.options.fontSize+"px;}";I+=this._terminalSelector+" span:not(."+w.BOLD_CLASS+") { font-weight: "+this._optionsService.options.fontWeight+";}"+this._terminalSelector+" span."+w.BOLD_CLASS+" { font-weight: "+this._optionsService.options.fontWeightBold+";}"+this._terminalSelector+" span."+w.ITALIC_CLASS+" { font-style: italic;}",I+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",I+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",I+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+w.CURSOR_CLASS+"."+w.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+w.CURSOR_CLASS+"."+w.CURSOR_BLINK_CLASS+":not(."+w.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+w.CURSOR_CLASS+"."+w.CURSOR_BLINK_CLASS+"."+w.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+w.CURSOR_CLASS+"."+w.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+w.CURSOR_CLASS+"."+w.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.options.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+w.CURSOR_CLASS+"."+w.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",I+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selectionTransparent.css+";}",this._colors.ansi.forEach(function(P,$){I+=T._terminalSelector+" ."+b+$+" { color: "+P.css+"; }"+T._terminalSelector+" ."+S+$+" { background-color: "+P.css+"; }"}),I+=this._terminalSelector+" ."+b+E.INVERTED_DEFAULT_COLOR+" { color: "+f.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" ."+S+E.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.textContent=I},O.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},O.prototype._refreshRowElements=function(T,I){for(var P=this._rowElements.length;P<=I;P++){var $=document.createElement("div");this._rowContainer.appendChild($),this._rowElements.push($)}for(;this._rowElements.length>I;)this._rowContainer.removeChild(this._rowElements.pop())},O.prototype.onResize=function(T,I){this._refreshRowElements(T,I),this._updateDimensions()},O.prototype.onCharSizeChanged=function(){this._updateDimensions()},O.prototype.onBlur=function(){this._rowContainer.classList.remove(A)},O.prototype.onFocus=function(){this._rowContainer.classList.add(A)},O.prototype.onSelectionChanged=function(T,I,P){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(T&&I){var $=T[1]-this._bufferService.buffer.ydisp,F=I[1]-this._bufferService.buffer.ydisp,R=Math.max($,0),N=Math.min(F,this._bufferService.rows-1);if(!(R>=this._bufferService.rows||N<0)){var j=document.createDocumentFragment();if(P)j.appendChild(this._createSelectionElement(R,T[0],I[0],N-R+1));else{var V=$===R?T[0]:0,K=R===F?I[0]:this._bufferService.cols;j.appendChild(this._createSelectionElement(R,V,K));var G=N-R-1;if(j.appendChild(this._createSelectionElement(R+1,0,this._bufferService.cols,G)),R!==N){var Y=F===N?I[0]:this._bufferService.cols;j.appendChild(this._createSelectionElement(N,0,Y))}}this._selectionContainer.appendChild(j)}}},O.prototype._createSelectionElement=function(T,I,P,$){$===void 0&&($=1);var F=document.createElement("div");return F.style.height=$*this.dimensions.actualCellHeight+"px",F.style.top=T*this.dimensions.actualCellHeight+"px",F.style.left=I*this.dimensions.actualCellWidth+"px",F.style.width=this.dimensions.actualCellWidth*(P-I)+"px",F},O.prototype.onCursorMove=function(){},O.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},O.prototype.clear=function(){for(var T=0,I=this._rowElements;T<I.length;T++)I[T].innerText=""},O.prototype.renderRows=function(T,I){for(var P=this._bufferService.buffer.ybase+this._bufferService.buffer.y,$=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),F=this._optionsService.options.cursorBlink,R=T;R<=I;R++){var N=this._rowElements[R];N.innerText="";var j=R+this._bufferService.buffer.ydisp,V=this._bufferService.buffer.lines.get(j),K=this._optionsService.options.cursorStyle;N.appendChild(this._rowFactory.createRow(V,j,j===P,K,$,F,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(O.prototype,"_terminalSelector",{get:function(){return"."+l+this._terminalClass},enumerable:!1,configurable:!0}),O.prototype._onLinkHover=function(T){this._setCellUnderline(T.x1,T.x2,T.y1,T.y2,T.cols,!0)},O.prototype._onLinkLeave=function(T){this._setCellUnderline(T.x1,T.x2,T.y1,T.y2,T.cols,!1)},O.prototype._setCellUnderline=function(T,I,P,$,F,R){for(;T!==I||P!==$;){var N=this._rowElements[P];if(!N)return;var j=N.children[T];j&&(j.style.textDecoration=R?"underline":"none"),++T>=F&&(T=0,P++)}},p([m(6,C.IInstantiationService),m(7,v.ICharSizeService),m(8,C.IOptionsService),m(9,C.IBufferService)],O)}(d.Disposable);r.DomRenderer=x},3787:function(g,r,a){var s=this&&this.__decorate||function(c,l,b,S){var A,L=arguments.length,x=L<3?l:S===null?S=Object.getOwnPropertyDescriptor(l,b):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(c,l,b,S);else for(var M=c.length-1;M>=0;M--)(A=c[M])&&(x=(L<3?A(x):L>3?A(l,b,x):A(l,b))||x);return L>3&&x&&Object.defineProperty(l,b,x),x},u=this&&this.__param||function(c,l){return function(b,S){l(b,S,c)}};Object.defineProperty(r,"__esModule",{value:!0}),r.DomRendererRowFactory=r.CURSOR_STYLE_UNDERLINE_CLASS=r.CURSOR_STYLE_BAR_CLASS=r.CURSOR_STYLE_BLOCK_CLASS=r.CURSOR_BLINK_CLASS=r.CURSOR_CLASS=r.STRIKETHROUGH_CLASS=r.UNDERLINE_CLASS=r.ITALIC_CLASS=r.DIM_CLASS=r.BOLD_CLASS=void 0;var p=a(8803),m=a(643),w=a(511),E=a(2585),d=a(4774),v=a(4725),C=a(4269);r.BOLD_CLASS="xterm-bold",r.DIM_CLASS="xterm-dim",r.ITALIC_CLASS="xterm-italic",r.UNDERLINE_CLASS="xterm-underline",r.STRIKETHROUGH_CLASS="xterm-strikethrough",r.CURSOR_CLASS="xterm-cursor",r.CURSOR_BLINK_CLASS="xterm-cursor-blink",r.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",r.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",r.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var y=function(){function c(l,b,S,A,L){this._document=l,this._colors=b,this._characterJoinerService=S,this._optionsService=A,this._coreService=L,this._workCell=new w.CellData}return c.prototype.setColors=function(l){this._colors=l},c.prototype.createRow=function(l,b,S,A,L,x,M,O){for(var T=this._document.createDocumentFragment(),I=this._characterJoinerService.getJoinedCharacters(b),P=0,$=Math.min(l.length,O)-1;$>=0;$--)if(l.loadCell($,this._workCell).getCode()!==m.NULL_CELL_CODE||S&&$===L){P=$+1;break}for($=0;$<P;$++){l.loadCell($,this._workCell);var F=this._workCell.getWidth();if(F!==0){var R=!1,N=$,j=this._workCell;if(I.length>0&&$===I[0][0]){R=!0;var V=I.shift();j=new C.JoinedCellData(this._workCell,l.translateToString(!0,V[0],V[1]),V[1]-V[0]),N=V[1]-1,F=j.getWidth()}var K=this._document.createElement("span");if(F>1&&(K.style.width=M*F+"px"),R&&(K.style.display="inline",L>=$&&L<=N&&(L=$)),!this._coreService.isCursorHidden&&S&&$===L)switch(K.classList.add(r.CURSOR_CLASS),x&&K.classList.add(r.CURSOR_BLINK_CLASS),A){case"bar":K.classList.add(r.CURSOR_STYLE_BAR_CLASS);break;case"underline":K.classList.add(r.CURSOR_STYLE_UNDERLINE_CLASS);break;default:K.classList.add(r.CURSOR_STYLE_BLOCK_CLASS)}j.isBold()&&K.classList.add(r.BOLD_CLASS),j.isItalic()&&K.classList.add(r.ITALIC_CLASS),j.isDim()&&K.classList.add(r.DIM_CLASS),j.isUnderline()&&K.classList.add(r.UNDERLINE_CLASS),j.isInvisible()?K.textContent=m.WHITESPACE_CELL_CHAR:K.textContent=j.getChars()||m.WHITESPACE_CELL_CHAR,j.isStrikethrough()&&K.classList.add(r.STRIKETHROUGH_CLASS);var G=j.getFgColor(),Y=j.getFgColorMode(),ee=j.getBgColor(),Q=j.getBgColorMode(),k=!!j.isInverse();if(k){var D=G;G=ee,ee=D;var B=Y;Y=Q,Q=B}switch(Y){case 16777216:case 33554432:j.isBold()&&G<8&&this._optionsService.options.drawBoldTextInBrightColors&&(G+=8),this._applyMinimumContrast(K,this._colors.background,this._colors.ansi[G])||K.classList.add("xterm-fg-"+G);break;case 50331648:var W=d.rgba.toColor(G>>16&255,G>>8&255,255&G);this._applyMinimumContrast(K,this._colors.background,W)||this._addStyle(K,"color:#"+f(G.toString(16),"0",6));break;default:this._applyMinimumContrast(K,this._colors.background,this._colors.foreground)||k&&K.classList.add("xterm-fg-"+p.INVERTED_DEFAULT_COLOR)}switch(Q){case 16777216:case 33554432:K.classList.add("xterm-bg-"+ee);break;case 50331648:this._addStyle(K,"background-color:#"+f(ee.toString(16),"0",6));break;default:k&&K.classList.add("xterm-bg-"+p.INVERTED_DEFAULT_COLOR)}T.appendChild(K),$=N}}return T},c.prototype._applyMinimumContrast=function(l,b,S){if(this._optionsService.options.minimumContrastRatio===1)return!1;var A=this._colors.contrastCache.getColor(this._workCell.bg,this._workCell.fg);return A===void 0&&(A=d.color.ensureContrastRatio(b,S,this._optionsService.options.minimumContrastRatio),this._colors.contrastCache.setColor(this._workCell.bg,this._workCell.fg,A!=null?A:null)),!!A&&(this._addStyle(l,"color:"+A.css),!0)},c.prototype._addStyle=function(l,b){l.setAttribute("style",""+(l.getAttribute("style")||"")+b+";")},s([u(2,v.ICharacterJoinerService),u(3,E.IOptionsService),u(4,E.ICoreService)],c)}();function f(c,l,b){for(;c.length<b;)c=l+c;return c}r.DomRendererRowFactory=y},456:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SelectionModel=void 0;var a=function(){function s(u){this._bufferService=u,this.isSelectAllActive=!1,this.selectionStartLength=0}return s.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(s.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"finalSelectionEnd",{get:function(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){var u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?u%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)-1]:[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[u,this.selectionStart[1]]}return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd}},enumerable:!1,configurable:!0}),s.prototype.areSelectionValuesReversed=function(){var u=this.selectionStart,p=this.selectionEnd;return!(!u||!p)&&(u[1]>p[1]||u[1]===p[1]&&u[0]>p[0])},s.prototype.onTrim=function(u){return this.selectionStart&&(this.selectionStart[1]-=u),this.selectionEnd&&(this.selectionEnd[1]-=u),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},s}();r.SelectionModel=a},428:function(g,r,a){var s=this&&this.__decorate||function(d,v,C,y){var f,c=arguments.length,l=c<3?v:y===null?y=Object.getOwnPropertyDescriptor(v,C):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(d,v,C,y);else for(var b=d.length-1;b>=0;b--)(f=d[b])&&(l=(c<3?f(l):c>3?f(v,C,l):f(v,C))||l);return c>3&&l&&Object.defineProperty(v,C,l),l},u=this&&this.__param||function(d,v){return function(C,y){v(C,y,d)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharSizeService=void 0;var p=a(2585),m=a(8460),w=function(){function d(v,C,y){this._optionsService=y,this.width=0,this.height=0,this._onCharSizeChange=new m.EventEmitter,this._measureStrategy=new E(v,C,this._optionsService)}return Object.defineProperty(d.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),d.prototype.measure=function(){var v=this._measureStrategy.measure();v.width===this.width&&v.height===this.height||(this.width=v.width,this.height=v.height,this._onCharSizeChange.fire())},s([u(2,p.IOptionsService)],d)}();r.CharSizeService=w;var E=function(){function d(v,C,y){this._document=v,this._parentElement=C,this._optionsService=y,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return d.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.options.fontFamily,this._measureElement.style.fontSize=this._optionsService.options.fontSize+"px";var v=this._measureElement.getBoundingClientRect();return v.width!==0&&v.height!==0&&(this._result.width=v.width,this._result.height=Math.ceil(v.height)),this._result},d}()},4269:function(g,r,a){var s,u=this&&this.__extends||(s=function(f,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,b){l.__proto__=b}||function(l,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(l[S]=b[S])},s(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function l(){this.constructor=f}s(f,c),f.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}),p=this&&this.__decorate||function(f,c,l,b){var S,A=arguments.length,L=A<3?c:b===null?b=Object.getOwnPropertyDescriptor(c,l):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(f,c,l,b);else for(var x=f.length-1;x>=0;x--)(S=f[x])&&(L=(A<3?S(L):A>3?S(c,l,L):S(c,l))||L);return A>3&&L&&Object.defineProperty(c,l,L),L},m=this&&this.__param||function(f,c){return function(l,b){c(l,b,f)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterJoinerService=r.JoinedCellData=void 0;var w=a(3734),E=a(643),d=a(511),v=a(2585),C=function(f){function c(l,b,S){var A=f.call(this)||this;return A.content=0,A.combinedData="",A.fg=l.fg,A.bg=l.bg,A.combinedData=b,A._width=S,A}return u(c,f),c.prototype.isCombined=function(){return 2097152},c.prototype.getWidth=function(){return this._width},c.prototype.getChars=function(){return this.combinedData},c.prototype.getCode=function(){return 2097151},c.prototype.setFromCharData=function(l){throw new Error("not implemented")},c.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},c}(w.AttributeData);r.JoinedCellData=C;var y=function(){function f(c){this._bufferService=c,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new d.CellData}return f.prototype.register=function(c){var l={id:this._nextCharacterJoinerId++,handler:c};return this._characterJoiners.push(l),l.id},f.prototype.deregister=function(c){for(var l=0;l<this._characterJoiners.length;l++)if(this._characterJoiners[l].id===c)return this._characterJoiners.splice(l,1),!0;return!1},f.prototype.getJoinedCharacters=function(c){if(this._characterJoiners.length===0)return[];var l=this._bufferService.buffer.lines.get(c);if(!l||l.length===0)return[];for(var b=[],S=l.translateToString(!0),A=0,L=0,x=0,M=l.getFg(0),O=l.getBg(0),T=0;T<l.getTrimmedLength();T++)if(l.loadCell(T,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==M||this._workCell.bg!==O){if(T-A>1)for(var I=this._getJoinedRanges(S,x,L,l,A),P=0;P<I.length;P++)b.push(I[P]);A=T,x=L,M=this._workCell.fg,O=this._workCell.bg}L+=this._workCell.getChars().length||E.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-A>1)for(I=this._getJoinedRanges(S,x,L,l,A),P=0;P<I.length;P++)b.push(I[P]);return b},f.prototype._getJoinedRanges=function(c,l,b,S,A){var L=c.substring(l,b),x=[];try{x=this._characterJoiners[0].handler(L)}catch(I){console.error(I)}for(var M=1;M<this._characterJoiners.length;M++)try{for(var O=this._characterJoiners[M].handler(L),T=0;T<O.length;T++)f._mergeRanges(x,O[T])}catch(I){console.error(I)}return this._stringRangesToCellRanges(x,S,A),x},f.prototype._stringRangesToCellRanges=function(c,l,b){var S=0,A=!1,L=0,x=c[S];if(x){for(var M=b;M<this._bufferService.cols;M++){var O=l.getWidth(M),T=l.getString(M).length||E.WHITESPACE_CELL_CHAR.length;if(O!==0){if(!A&&x[0]<=L&&(x[0]=M,A=!0),x[1]<=L){if(x[1]=M,!(x=c[++S]))break;x[0]<=L?(x[0]=M,A=!0):A=!1}L+=T}}x&&(x[1]=this._bufferService.cols)}},f._mergeRanges=function(c,l){for(var b=!1,S=0;S<c.length;S++){var A=c[S];if(b){if(l[1]<=A[0])return c[S-1][1]=l[1],c;if(l[1]<=A[1])return c[S-1][1]=Math.max(l[1],A[1]),c.splice(S,1),c;c.splice(S,1),S--}else{if(l[1]<=A[0])return c.splice(S,0,l),c;if(l[1]<=A[1])return A[0]=Math.min(l[0],A[0]),c;l[0]<A[1]&&(A[0]=Math.min(l[0],A[0]),b=!0)}}return b?c[c.length-1][1]=l[1]:c.push(l),c},f=p([m(0,v.IBufferService)],f)}();r.CharacterJoinerService=y},5114:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CoreBrowserService=void 0;var a=function(){function s(u){this._textarea=u}return Object.defineProperty(s.prototype,"isFocused",{get:function(){return(this._textarea.getRootNode?this._textarea.getRootNode():document).activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),s}();r.CoreBrowserService=a},8934:function(g,r,a){var s=this&&this.__decorate||function(E,d,v,C){var y,f=arguments.length,c=f<3?d:C===null?C=Object.getOwnPropertyDescriptor(d,v):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(E,d,v,C);else for(var l=E.length-1;l>=0;l--)(y=E[l])&&(c=(f<3?y(c):f>3?y(d,v,c):y(d,v))||c);return f>3&&c&&Object.defineProperty(d,v,c),c},u=this&&this.__param||function(E,d){return function(v,C){d(v,C,E)}};Object.defineProperty(r,"__esModule",{value:!0}),r.MouseService=void 0;var p=a(4725),m=a(9806),w=function(){function E(d,v){this._renderService=d,this._charSizeService=v}return E.prototype.getCoords=function(d,v,C,y,f){return(0,m.getCoords)(d,v,C,y,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,f)},E.prototype.getRawByteCoords=function(d,v,C,y){var f=this.getCoords(d,v,C,y);return(0,m.getRawByteCoords)(f)},s([u(0,p.IRenderService),u(1,p.ICharSizeService)],E)}();r.MouseService=w},3230:function(g,r,a){var s,u=this&&this.__extends||(s=function(l,b){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,A){S.__proto__=A}||function(S,A){for(var L in A)Object.prototype.hasOwnProperty.call(A,L)&&(S[L]=A[L])},s(l,b)},function(l,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function S(){this.constructor=l}s(l,b),l.prototype=b===null?Object.create(b):(S.prototype=b.prototype,new S)}),p=this&&this.__decorate||function(l,b,S,A){var L,x=arguments.length,M=x<3?b:A===null?A=Object.getOwnPropertyDescriptor(b,S):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(l,b,S,A);else for(var O=l.length-1;O>=0;O--)(L=l[O])&&(M=(x<3?L(M):x>3?L(b,S,M):L(b,S))||M);return x>3&&M&&Object.defineProperty(b,S,M),M},m=this&&this.__param||function(l,b){return function(S,A){b(S,A,l)}};Object.defineProperty(r,"__esModule",{value:!0}),r.RenderService=void 0;var w=a(6193),E=a(8460),d=a(844),v=a(5596),C=a(3656),y=a(2585),f=a(4725),c=function(l){function b(S,A,L,x,M,O){var T=l.call(this)||this;if(T._renderer=S,T._rowCount=A,T._charSizeService=M,T._isPaused=!1,T._needsFullRefresh=!1,T._isNextRenderRedrawOnly=!0,T._needsSelectionRefresh=!1,T._canvasWidth=0,T._canvasHeight=0,T._selectionState={start:void 0,end:void 0,columnSelectMode:!1},T._onDimensionsChange=new E.EventEmitter,T._onRender=new E.EventEmitter,T._onRefreshRequest=new E.EventEmitter,T.register({dispose:function(){return T._renderer.dispose()}}),T._renderDebouncer=new w.RenderDebouncer(function(P,$){return T._renderRows(P,$)}),T.register(T._renderDebouncer),T._screenDprMonitor=new v.ScreenDprMonitor,T._screenDprMonitor.setListener(function(){return T.onDevicePixelRatioChange()}),T.register(T._screenDprMonitor),T.register(O.onResize(function(P){return T._fullRefresh()})),T.register(x.onOptionChange(function(){return T._renderer.onOptionsChanged()})),T.register(T._charSizeService.onCharSizeChange(function(){return T.onCharSizeChanged()})),T._renderer.onRequestRedraw(function(P){return T.refreshRows(P.start,P.end,!0)}),T.register((0,C.addDisposableDomListener)(window,"resize",function(){return T.onDevicePixelRatioChange()})),"IntersectionObserver"in window){var I=new IntersectionObserver(function(P){return T._onIntersectionChange(P[P.length-1])},{threshold:0});I.observe(L),T.register({dispose:function(){return I.disconnect()}})}return T}return u(b,l),Object.defineProperty(b.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onRenderedBufferChange",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),b.prototype._onIntersectionChange=function(S){this._isPaused=S.isIntersecting===void 0?S.intersectionRatio===0:!S.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},b.prototype.refreshRows=function(S,A,L){L===void 0&&(L=!1),this._isPaused?this._needsFullRefresh=!0:(L||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(S,A,this._rowCount))},b.prototype._renderRows=function(S,A){this._renderer.renderRows(S,A),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRender.fire({start:S,end:A}),this._isNextRenderRedrawOnly=!0},b.prototype.resize=function(S,A){this._rowCount=A,this._fireOnCanvasResize()},b.prototype.changeOptions=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},b.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},b.prototype.dispose=function(){l.prototype.dispose.call(this)},b.prototype.setRenderer=function(S){var A=this;this._renderer.dispose(),this._renderer=S,this._renderer.onRequestRedraw(function(L){return A.refreshRows(L.start,L.end,!0)}),this._needsSelectionRefresh=!0,this._fullRefresh()},b.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},b.prototype.clearTextureAtlas=function(){var S,A;(A=(S=this._renderer)===null||S===void 0?void 0:S.clearTextureAtlas)===null||A===void 0||A.call(S),this._fullRefresh()},b.prototype.setColors=function(S){this._renderer.setColors(S),this._fullRefresh()},b.prototype.onDevicePixelRatioChange=function(){this._charSizeService.measure(),this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},b.prototype.onResize=function(S,A){this._renderer.onResize(S,A),this._fullRefresh()},b.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},b.prototype.onBlur=function(){this._renderer.onBlur()},b.prototype.onFocus=function(){this._renderer.onFocus()},b.prototype.onSelectionChanged=function(S,A,L){this._selectionState.start=S,this._selectionState.end=A,this._selectionState.columnSelectMode=L,this._renderer.onSelectionChanged(S,A,L)},b.prototype.onCursorMove=function(){this._renderer.onCursorMove()},b.prototype.clear=function(){this._renderer.clear()},p([m(3,y.IOptionsService),m(4,f.ICharSizeService),m(5,y.IBufferService)],b)}(d.Disposable);r.RenderService=c},9312:function(g,r,a){var s,u=this&&this.__extends||(s=function(x,M){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,T){O.__proto__=T}||function(O,T){for(var I in T)Object.prototype.hasOwnProperty.call(T,I)&&(O[I]=T[I])},s(x,M)},function(x,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function O(){this.constructor=x}s(x,M),x.prototype=M===null?Object.create(M):(O.prototype=M.prototype,new O)}),p=this&&this.__decorate||function(x,M,O,T){var I,P=arguments.length,$=P<3?M:T===null?T=Object.getOwnPropertyDescriptor(M,O):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(x,M,O,T);else for(var F=x.length-1;F>=0;F--)(I=x[F])&&($=(P<3?I($):P>3?I(M,O,$):I(M,O))||$);return P>3&&$&&Object.defineProperty(M,O,$),$},m=this&&this.__param||function(x,M){return function(O,T){M(O,T,x)}};Object.defineProperty(r,"__esModule",{value:!0}),r.SelectionService=void 0;var w=a(6114),E=a(456),d=a(511),v=a(8460),C=a(4725),y=a(2585),f=a(9806),c=a(9504),l=a(844),b=a(4841),S=String.fromCharCode(160),A=new RegExp(S,"g"),L=function(x){function M(O,T,I,P,$,F,R,N){var j=x.call(this)||this;return j._element=O,j._screenElement=T,j._linkifier=I,j._bufferService=P,j._coreService=$,j._mouseService=F,j._optionsService=R,j._renderService=N,j._dragScrollAmount=0,j._enabled=!0,j._workCell=new d.CellData,j._mouseDownTimeStamp=0,j._oldHasSelection=!1,j._oldSelectionStart=void 0,j._oldSelectionEnd=void 0,j._onLinuxMouseSelection=j.register(new v.EventEmitter),j._onRedrawRequest=j.register(new v.EventEmitter),j._onSelectionChange=j.register(new v.EventEmitter),j._onRequestScrollLines=j.register(new v.EventEmitter),j._mouseMoveListener=function(V){return j._onMouseMove(V)},j._mouseUpListener=function(V){return j._onMouseUp(V)},j._coreService.onUserInput(function(){j.hasSelection&&j.clearSelection()}),j._trimListener=j._bufferService.buffer.lines.onTrim(function(V){return j._onTrim(V)}),j.register(j._bufferService.buffers.onBufferActivate(function(V){return j._onBufferActivate(V)})),j.enable(),j._model=new E.SelectionModel(j._bufferService),j._activeSelectionMode=0,j}return u(M,x),Object.defineProperty(M.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),M.prototype.dispose=function(){this._removeMouseDownListeners()},M.prototype.reset=function(){this.clearSelection()},M.prototype.disable=function(){this.clearSelection(),this._enabled=!1},M.prototype.enable=function(){this._enabled=!0},Object.defineProperty(M.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"hasSelection",{get:function(){var O=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!(!O||!T||O[0]===T[0]&&O[1]===T[1])},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"selectionText",{get:function(){var O=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;if(!O||!T)return"";var I=this._bufferService.buffer,P=[];if(this._activeSelectionMode===3){if(O[0]===T[0])return"";for(var $=O[1];$<=T[1];$++){var F=I.translateBufferLineToString($,!0,O[0],T[0]);P.push(F)}}else{var R=O[1]===T[1]?T[0]:void 0;for(P.push(I.translateBufferLineToString(O[1],!0,O[0],R)),$=O[1]+1;$<=T[1]-1;$++){var N=I.lines.get($);F=I.translateBufferLineToString($,!0),(N==null?void 0:N.isWrapped)?P[P.length-1]+=F:P.push(F)}O[1]!==T[1]&&(N=I.lines.get(T[1]),F=I.translateBufferLineToString(T[1],!0,0,T[0]),N&&N.isWrapped?P[P.length-1]+=F:P.push(F))}return P.map(function(j){return j.replace(A," ")}).join(w.isWindows?`\r
`:`
`)},enumerable:!1,configurable:!0}),M.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},M.prototype.refresh=function(O){var T=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return T._refresh()})),w.isLinux&&O&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},M.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})},M.prototype._isClickInSelection=function(O){var T=this._getMouseBufferCoords(O),I=this._model.finalSelectionStart,P=this._model.finalSelectionEnd;return!!(I&&P&&T)&&this._areCoordsInSelection(T,I,P)},M.prototype._areCoordsInSelection=function(O,T,I){return O[1]>T[1]&&O[1]<I[1]||T[1]===I[1]&&O[1]===T[1]&&O[0]>=T[0]&&O[0]<I[0]||T[1]<I[1]&&O[1]===I[1]&&O[0]<I[0]||T[1]<I[1]&&O[1]===T[1]&&O[0]>=T[0]},M.prototype._selectWordAtCursor=function(O,T){var I,P,$=(P=(I=this._linkifier.currentLink)===null||I===void 0?void 0:I.link)===null||P===void 0?void 0:P.range;if($)return this._model.selectionStart=[$.start.x-1,$.start.y-1],this._model.selectionStartLength=(0,b.getRangeLength)($,this._bufferService.cols),this._model.selectionEnd=void 0,!0;var F=this._getMouseBufferCoords(O);return!!F&&(this._selectWordAt(F,T),this._model.selectionEnd=void 0,!0)},M.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},M.prototype.selectLines=function(O,T){this._model.clearSelection(),O=Math.max(O,0),T=Math.min(T,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,O],this._model.selectionEnd=[this._bufferService.cols,T],this.refresh(),this._onSelectionChange.fire()},M.prototype._onTrim=function(O){this._model.onTrim(O)&&this.refresh()},M.prototype._getMouseBufferCoords=function(O){var T=this._mouseService.getCoords(O,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(T)return T[0]--,T[1]--,T[1]+=this._bufferService.buffer.ydisp,T},M.prototype._getMouseEventScrollAmount=function(O){var T=(0,f.getCoordsRelativeToElement)(O,this._screenElement)[1],I=this._renderService.dimensions.canvasHeight;return T>=0&&T<=I?0:(T>I&&(T-=I),T=Math.min(Math.max(T,-50),50),(T/=50)/Math.abs(T)+Math.round(14*T))},M.prototype.shouldForceSelection=function(O){return w.isMac?O.altKey&&this._optionsService.options.macOptionClickForcesSelection:O.shiftKey},M.prototype.onMouseDown=function(O){if(this._mouseDownTimeStamp=O.timeStamp,(O.button!==2||!this.hasSelection)&&O.button===0){if(!this._enabled){if(!this.shouldForceSelection(O))return;O.stopPropagation()}O.preventDefault(),this._dragScrollAmount=0,this._enabled&&O.shiftKey?this._onIncrementalClick(O):O.detail===1?this._onSingleClick(O):O.detail===2?this._onDoubleClick(O):O.detail===3&&this._onTripleClick(O),this._addMouseDownListeners(),this.refresh(!0)}},M.prototype._addMouseDownListeners=function(){var O=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval(function(){return O._dragScroll()},50)},M.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},M.prototype._onIncrementalClick=function(O){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(O))},M.prototype._onSingleClick=function(O){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(O)?3:0,this._model.selectionStart=this._getMouseBufferCoords(O),this._model.selectionStart){this._model.selectionEnd=void 0;var T=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);T&&T.length!==this._model.selectionStart[0]&&T.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}},M.prototype._onDoubleClick=function(O){this._selectWordAtCursor(O,!0)&&(this._activeSelectionMode=1)},M.prototype._onTripleClick=function(O){var T=this._getMouseBufferCoords(O);T&&(this._activeSelectionMode=2,this._selectLineAt(T[1]))},M.prototype.shouldColumnSelect=function(O){return O.altKey&&!(w.isMac&&this._optionsService.options.macOptionClickForcesSelection)},M.prototype._onMouseMove=function(O){if(O.stopImmediatePropagation(),this._model.selectionStart){var T=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(O),this._model.selectionEnd){this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(O),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var I=this._bufferService.buffer;if(this._model.selectionEnd[1]<I.lines.length){var P=I.lines.get(this._model.selectionEnd[1]);P&&P.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}T&&T[0]===this._model.selectionEnd[0]&&T[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},M.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var O=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(O.ydisp+this._bufferService.rows,O.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=O.ydisp),this.refresh()}},M.prototype._onMouseUp=function(O){var T=O.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&T<500&&O.altKey&&this._optionsService.getOption("altClickMovesCursor")){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var I=this._mouseService.getCoords(O,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(I&&I[0]!==void 0&&I[1]!==void 0){var P=(0,c.moveToCellSequence)(I[0]-1,I[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(P,!0)}}}else this._fireEventIfSelectionChanged()},M.prototype._fireEventIfSelectionChanged=function(){var O=this._model.finalSelectionStart,T=this._model.finalSelectionEnd,I=!(!O||!T||O[0]===T[0]&&O[1]===T[1]);I?O&&T&&(this._oldSelectionStart&&this._oldSelectionEnd&&O[0]===this._oldSelectionStart[0]&&O[1]===this._oldSelectionStart[1]&&T[0]===this._oldSelectionEnd[0]&&T[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(O,T,I)):this._oldHasSelection&&this._fireOnSelectionChange(O,T,I)},M.prototype._fireOnSelectionChange=function(O,T,I){this._oldSelectionStart=O,this._oldSelectionEnd=T,this._oldHasSelection=I,this._onSelectionChange.fire()},M.prototype._onBufferActivate=function(O){var T=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=O.activeBuffer.lines.onTrim(function(I){return T._onTrim(I)})},M.prototype._convertViewportColToCharacterIndex=function(O,T){for(var I=T[0],P=0;T[0]>=P;P++){var $=O.loadCell(P,this._workCell).getChars().length;this._workCell.getWidth()===0?I--:$>1&&T[0]!==P&&(I+=$-1)}return I},M.prototype.setSelection=function(O,T,I){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[O,T],this._model.selectionStartLength=I,this.refresh()},M.prototype.rightClickSelect=function(O){this._isClickInSelection(O)||(this._selectWordAtCursor(O,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())},M.prototype._getWordAt=function(O,T,I,P){if(I===void 0&&(I=!0),P===void 0&&(P=!0),!(O[0]>=this._bufferService.cols)){var $=this._bufferService.buffer,F=$.lines.get(O[1]);if(F){var R=$.translateBufferLineToString(O[1],!1),N=this._convertViewportColToCharacterIndex(F,O),j=N,V=O[0]-N,K=0,G=0,Y=0,ee=0;if(R.charAt(N)===" "){for(;N>0&&R.charAt(N-1)===" ";)N--;for(;j<R.length&&R.charAt(j+1)===" ";)j++}else{var Q=O[0],k=O[0];F.getWidth(Q)===0&&(K++,Q--),F.getWidth(k)===2&&(G++,k++);var D=F.getString(k).length;for(D>1&&(ee+=D-1,j+=D-1);Q>0&&N>0&&!this._isCharWordSeparator(F.loadCell(Q-1,this._workCell));){F.loadCell(Q-1,this._workCell);var B=this._workCell.getChars().length;this._workCell.getWidth()===0?(K++,Q--):B>1&&(Y+=B-1,N-=B-1),N--,Q--}for(;k<F.length&&j+1<R.length&&!this._isCharWordSeparator(F.loadCell(k+1,this._workCell));){F.loadCell(k+1,this._workCell);var W=this._workCell.getChars().length;this._workCell.getWidth()===2?(G++,k++):W>1&&(ee+=W-1,j+=W-1),j++,k++}}j++;var H=N+V-K+Y,J=Math.min(this._bufferService.cols,j-N+K+G-Y-ee);if(T||R.slice(N,j).trim()!==""){if(I&&H===0&&F.getCodePoint(0)!==32){var X=$.lines.get(O[1]-1);if(X&&F.isWrapped&&X.getCodePoint(this._bufferService.cols-1)!==32){var re=this._getWordAt([this._bufferService.cols-1,O[1]-1],!1,!0,!1);if(re){var ce=this._bufferService.cols-re.start;H-=ce,J+=ce}}}if(P&&H+J===this._bufferService.cols&&F.getCodePoint(this._bufferService.cols-1)!==32){var ae=$.lines.get(O[1]+1);if((ae==null?void 0:ae.isWrapped)&&ae.getCodePoint(0)!==32){var q=this._getWordAt([0,O[1]+1],!1,!1,!0);q&&(J+=q.length)}}return{start:H,length:J}}}}},M.prototype._selectWordAt=function(O,T){var I=this._getWordAt(O,T);if(I){for(;I.start<0;)I.start+=this._bufferService.cols,O[1]--;this._model.selectionStart=[I.start,O[1]],this._model.selectionStartLength=I.length}},M.prototype._selectToWordAt=function(O){var T=this._getWordAt(O,!0);if(T){for(var I=O[1];T.start<0;)T.start+=this._bufferService.cols,I--;if(!this._model.areSelectionValuesReversed())for(;T.start+T.length>this._bufferService.cols;)T.length-=this._bufferService.cols,I++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?T.start:T.start+T.length,I]}},M.prototype._isCharWordSeparator=function(O){return O.getWidth()!==0&&this._optionsService.options.wordSeparator.indexOf(O.getChars())>=0},M.prototype._selectLineAt=function(O){var T=this._bufferService.buffer.getWrappedRangeForLine(O);this._model.selectionStart=[0,T.first],this._model.selectionEnd=[this._bufferService.cols,T.last],this._model.selectionStartLength=0},p([m(3,y.IBufferService),m(4,y.ICoreService),m(5,C.IMouseService),m(6,y.IOptionsService),m(7,C.IRenderService)],M)}(l.Disposable);r.SelectionService=L},4725:(g,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ICharacterJoinerService=r.ISoundService=r.ISelectionService=r.IRenderService=r.IMouseService=r.ICoreBrowserService=r.ICharSizeService=void 0;var s=a(8343);r.ICharSizeService=(0,s.createDecorator)("CharSizeService"),r.ICoreBrowserService=(0,s.createDecorator)("CoreBrowserService"),r.IMouseService=(0,s.createDecorator)("MouseService"),r.IRenderService=(0,s.createDecorator)("RenderService"),r.ISelectionService=(0,s.createDecorator)("SelectionService"),r.ISoundService=(0,s.createDecorator)("SoundService"),r.ICharacterJoinerService=(0,s.createDecorator)("CharacterJoinerService")},357:function(g,r,a){var s=this&&this.__decorate||function(w,E,d,v){var C,y=arguments.length,f=y<3?E:v===null?v=Object.getOwnPropertyDescriptor(E,d):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(w,E,d,v);else for(var c=w.length-1;c>=0;c--)(C=w[c])&&(f=(y<3?C(f):y>3?C(E,d,f):C(E,d))||f);return y>3&&f&&Object.defineProperty(E,d,f),f},u=this&&this.__param||function(w,E){return function(d,v){E(d,v,w)}};Object.defineProperty(r,"__esModule",{value:!0}),r.SoundService=void 0;var p=a(2585),m=function(){function w(E){this._optionsService=E}return Object.defineProperty(w,"audioContext",{get:function(){if(!w._audioContext){var E=window.AudioContext||window.webkitAudioContext;if(!E)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;w._audioContext=new E}return w._audioContext},enumerable:!1,configurable:!0}),w.prototype.playBellSound=function(){var E=w.audioContext;if(E){var d=E.createBufferSource();E.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.options.bellSound)),function(v){d.buffer=v,d.connect(E.destination),d.start(0)})}},w.prototype._base64ToArrayBuffer=function(E){for(var d=window.atob(E),v=d.length,C=new Uint8Array(v),y=0;y<v;y++)C[y]=d.charCodeAt(y);return C.buffer},w.prototype._removeMimeType=function(E){return E.split(",")[1]},w=s([u(0,p.IOptionsService)],w)}();r.SoundService=m},6349:(g,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CircularList=void 0;var s=a(8460),u=function(){function p(m){this._maxLength=m,this.onDeleteEmitter=new s.EventEmitter,this.onInsertEmitter=new s.EventEmitter,this.onTrimEmitter=new s.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(p.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"maxLength",{get:function(){return this._maxLength},set:function(m){if(this._maxLength!==m){for(var w=new Array(m),E=0;E<Math.min(m,this.length);E++)w[E]=this._array[this._getCyclicIndex(E)];this._array=w,this._maxLength=m,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"length",{get:function(){return this._length},set:function(m){if(m>this._length)for(var w=this._length;w<m;w++)this._array[w]=void 0;this._length=m},enumerable:!1,configurable:!0}),p.prototype.get=function(m){return this._array[this._getCyclicIndex(m)]},p.prototype.set=function(m,w){this._array[this._getCyclicIndex(m)]=w},p.prototype.push=function(m){this._array[this._getCyclicIndex(this._length)]=m,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},p.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(p.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),p.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},p.prototype.splice=function(m,w){for(var E=[],d=2;d<arguments.length;d++)E[d-2]=arguments[d];if(w){for(var v=m;v<this._length-w;v++)this._array[this._getCyclicIndex(v)]=this._array[this._getCyclicIndex(v+w)];this._length-=w,this.onDeleteEmitter.fire({index:m,amount:w})}for(v=this._length-1;v>=m;v--)this._array[this._getCyclicIndex(v+E.length)]=this._array[this._getCyclicIndex(v)];for(v=0;v<E.length;v++)this._array[this._getCyclicIndex(m+v)]=E[v];if(E.length&&this.onInsertEmitter.fire({index:m,amount:E.length}),this._length+E.length>this._maxLength){var C=this._length+E.length-this._maxLength;this._startIndex+=C,this._length=this._maxLength,this.onTrimEmitter.fire(C)}else this._length+=E.length},p.prototype.trimStart=function(m){m>this._length&&(m=this._length),this._startIndex+=m,this._length-=m,this.onTrimEmitter.fire(m)},p.prototype.shiftElements=function(m,w,E){if(!(w<=0)){if(m<0||m>=this._length)throw new Error("start argument out of range");if(m+E<0)throw new Error("Cannot shift elements in list beyond index 0");if(E>0){for(var d=w-1;d>=0;d--)this.set(m+d+E,this.get(m+d));var v=m+w+E-this._length;if(v>0)for(this._length+=v;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(d=0;d<w;d++)this.set(m+d+E,this.get(m+d))}},p.prototype._getCyclicIndex=function(m){return(this._startIndex+m)%this._maxLength},p}();r.CircularList=u},1439:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.clone=void 0,r.clone=function a(s,u){if(u===void 0&&(u=5),typeof s!="object")return s;var p=Array.isArray(s)?[]:{};for(var m in s)p[m]=u<=1?s[m]:s[m]&&a(s[m],u-1);return p}},8969:function(g,r,a){var s,u=this&&this.__extends||(s=function(O,T){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,P){I.__proto__=P}||function(I,P){for(var $ in P)Object.prototype.hasOwnProperty.call(P,$)&&(I[$]=P[$])},s(O,T)},function(O,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function I(){this.constructor=O}s(O,T),O.prototype=T===null?Object.create(T):(I.prototype=T.prototype,new I)});Object.defineProperty(r,"__esModule",{value:!0}),r.CoreTerminal=void 0;var p=a(844),m=a(2585),w=a(4348),E=a(7866),d=a(744),v=a(7302),C=a(6975),y=a(8460),f=a(1753),c=a(3730),l=a(1480),b=a(7994),S=a(9282),A=a(5435),L=a(5981),x=!1,M=function(O){function T(I){var P=O.call(this)||this;return P._onBinary=new y.EventEmitter,P._onData=new y.EventEmitter,P._onLineFeed=new y.EventEmitter,P._onResize=new y.EventEmitter,P._onScroll=new y.EventEmitter,P._instantiationService=new w.InstantiationService,P.optionsService=new v.OptionsService(I),P._instantiationService.setService(m.IOptionsService,P.optionsService),P._bufferService=P.register(P._instantiationService.createInstance(d.BufferService)),P._instantiationService.setService(m.IBufferService,P._bufferService),P._logService=P._instantiationService.createInstance(E.LogService),P._instantiationService.setService(m.ILogService,P._logService),P.coreService=P.register(P._instantiationService.createInstance(C.CoreService,function(){return P.scrollToBottom()})),P._instantiationService.setService(m.ICoreService,P.coreService),P.coreMouseService=P._instantiationService.createInstance(f.CoreMouseService),P._instantiationService.setService(m.ICoreMouseService,P.coreMouseService),P._dirtyRowService=P._instantiationService.createInstance(c.DirtyRowService),P._instantiationService.setService(m.IDirtyRowService,P._dirtyRowService),P.unicodeService=P._instantiationService.createInstance(l.UnicodeService),P._instantiationService.setService(m.IUnicodeService,P.unicodeService),P._charsetService=P._instantiationService.createInstance(b.CharsetService),P._instantiationService.setService(m.ICharsetService,P._charsetService),P._inputHandler=new A.InputHandler(P._bufferService,P._charsetService,P.coreService,P._dirtyRowService,P._logService,P.optionsService,P.coreMouseService,P.unicodeService),P.register((0,y.forwardEvent)(P._inputHandler.onLineFeed,P._onLineFeed)),P.register(P._inputHandler),P.register((0,y.forwardEvent)(P._bufferService.onResize,P._onResize)),P.register((0,y.forwardEvent)(P.coreService.onData,P._onData)),P.register((0,y.forwardEvent)(P.coreService.onBinary,P._onBinary)),P.register(P.optionsService.onOptionChange(function($){return P._updateOptions($)})),P.register(P._bufferService.onScroll(function($){P._onScroll.fire({position:P._bufferService.buffer.ydisp,source:0}),P._dirtyRowService.markRangeDirty(P._bufferService.buffer.scrollTop,P._bufferService.buffer.scrollBottom)})),P.register(P._inputHandler.onScroll(function($){P._onScroll.fire({position:P._bufferService.buffer.ydisp,source:0}),P._dirtyRowService.markRangeDirty(P._bufferService.buffer.scrollTop,P._bufferService.buffer.scrollBottom)})),P._writeBuffer=new L.WriteBuffer(function($,F){return P._inputHandler.parse($,F)}),P}return u(T,O),Object.defineProperty(T.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"onScroll",{get:function(){var I=this;return this._onScrollApi||(this._onScrollApi=new y.EventEmitter,this.register(this._onScroll.event(function(P){var $;($=I._onScrollApi)===null||$===void 0||$.fire(P.position)}))),this._onScrollApi.event},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"options",{get:function(){return this.optionsService.options},set:function(I){for(var P in I)this.optionsService.options[P]=I[P]},enumerable:!1,configurable:!0}),T.prototype.dispose=function(){var I;this._isDisposed||(O.prototype.dispose.call(this),(I=this._windowsMode)===null||I===void 0||I.dispose(),this._windowsMode=void 0)},T.prototype.write=function(I,P){this._writeBuffer.write(I,P)},T.prototype.writeSync=function(I,P){this._logService.logLevel<=m.LogLevelEnum.WARN&&!x&&(this._logService.warn("writeSync is unreliable and will be removed soon."),x=!0),this._writeBuffer.writeSync(I,P)},T.prototype.resize=function(I,P){isNaN(I)||isNaN(P)||(I=Math.max(I,d.MINIMUM_COLS),P=Math.max(P,d.MINIMUM_ROWS),this._bufferService.resize(I,P))},T.prototype.scroll=function(I,P){P===void 0&&(P=!1),this._bufferService.scroll(I,P)},T.prototype.scrollLines=function(I,P,$){this._bufferService.scrollLines(I,P,$)},T.prototype.scrollPages=function(I){this._bufferService.scrollPages(I)},T.prototype.scrollToTop=function(){this._bufferService.scrollToTop()},T.prototype.scrollToBottom=function(){this._bufferService.scrollToBottom()},T.prototype.scrollToLine=function(I){this._bufferService.scrollToLine(I)},T.prototype.registerEscHandler=function(I,P){return this._inputHandler.registerEscHandler(I,P)},T.prototype.registerDcsHandler=function(I,P){return this._inputHandler.registerDcsHandler(I,P)},T.prototype.registerCsiHandler=function(I,P){return this._inputHandler.registerCsiHandler(I,P)},T.prototype.registerOscHandler=function(I,P){return this._inputHandler.registerOscHandler(I,P)},T.prototype._setup=function(){this.optionsService.options.windowsMode&&this._enableWindowsMode()},T.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()},T.prototype._updateOptions=function(I){var P;switch(I){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.options.windowsMode?this._enableWindowsMode():((P=this._windowsMode)===null||P===void 0||P.dispose(),this._windowsMode=void 0)}},T.prototype._enableWindowsMode=function(){var I=this;if(!this._windowsMode){var P=[];P.push(this.onLineFeed(S.updateWindowsModeWrappedState.bind(null,this._bufferService))),P.push(this.registerCsiHandler({final:"H"},function(){return(0,S.updateWindowsModeWrappedState)(I._bufferService),!1})),this._windowsMode={dispose:function(){for(var $=0,F=P;$<F.length;$++)F[$].dispose()}}}},T}(p.Disposable);r.CoreTerminal=M},8460:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.forwardEvent=r.EventEmitter=void 0;var a=function(){function s(){this._listeners=[],this._disposed=!1}return Object.defineProperty(s.prototype,"event",{get:function(){var u=this;return this._event||(this._event=function(p){return u._listeners.push(p),{dispose:function(){if(!u._disposed){for(var m=0;m<u._listeners.length;m++)if(u._listeners[m]===p)return void u._listeners.splice(m,1)}}}}),this._event},enumerable:!1,configurable:!0}),s.prototype.fire=function(u,p){for(var m=[],w=0;w<this._listeners.length;w++)m.push(this._listeners[w]);for(w=0;w<m.length;w++)m[w].call(void 0,u,p)},s.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},s}();r.EventEmitter=a,r.forwardEvent=function(s,u){return s(function(p){return u.fire(p)})}},5435:function(g,r,a){var s,u=this&&this.__extends||(s=function($,F){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,N){R.__proto__=N}||function(R,N){for(var j in N)Object.prototype.hasOwnProperty.call(N,j)&&(R[j]=N[j])},s($,F)},function($,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function R(){this.constructor=$}s($,F),$.prototype=F===null?Object.create(F):(R.prototype=F.prototype,new R)});Object.defineProperty(r,"__esModule",{value:!0}),r.InputHandler=r.WindowsOptionsReportType=void 0;var p,m=a(2584),w=a(7116),E=a(2015),d=a(844),v=a(8273),C=a(482),y=a(8437),f=a(8460),c=a(643),l=a(511),b=a(3734),S=a(2585),A=a(6242),L=a(6351),x=a(5941),M={"(":0,")":1,"*":2,"+":3,"-":1,".":2},O=131072;function T($,F){if($>24)return F.setWinLines||!1;switch($){case 1:return!!F.restoreWin;case 2:return!!F.minimizeWin;case 3:return!!F.setWinPosition;case 4:return!!F.setWinSizePixels;case 5:return!!F.raiseWin;case 6:return!!F.lowerWin;case 7:return!!F.refreshWin;case 8:return!!F.setWinSizeChars;case 9:return!!F.maximizeWin;case 10:return!!F.fullscreenWin;case 11:return!!F.getWinState;case 13:return!!F.getWinPosition;case 14:return!!F.getWinSizePixels;case 15:return!!F.getScreenSizePixels;case 16:return!!F.getCellSizePixels;case 18:return!!F.getWinSizeChars;case 19:return!!F.getScreenSizeChars;case 20:return!!F.getIconTitle;case 21:return!!F.getWinTitle;case 22:return!!F.pushTitle;case 23:return!!F.popTitle;case 24:return!!F.setWinLines}return!1}(function($){$[$.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",$[$.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(p=r.WindowsOptionsReportType||(r.WindowsOptionsReportType={}));var I=function(){function $(F,R,N,j){this._bufferService=F,this._coreService=R,this._logService=N,this._optionsService=j,this._data=new Uint32Array(0)}return $.prototype.hook=function(F){this._data=new Uint32Array(0)},$.prototype.put=function(F,R,N){this._data=(0,v.concat)(this._data,F.subarray(R,N))},$.prototype.unhook=function(F){if(!F)return this._data=new Uint32Array(0),!0;var R=(0,C.utf32ToString)(this._data);switch(this._data=new Uint32Array(0),R){case'"q':this._coreService.triggerDataEvent(m.C0.ESC+'P1$r0"q'+m.C0.ESC+"\\");break;case'"p':this._coreService.triggerDataEvent(m.C0.ESC+'P1$r61;1"p'+m.C0.ESC+"\\");break;case"r":var N=this._bufferService.buffer.scrollTop+1+";"+(this._bufferService.buffer.scrollBottom+1)+"r";this._coreService.triggerDataEvent(m.C0.ESC+"P1$r"+N+m.C0.ESC+"\\");break;case"m":this._coreService.triggerDataEvent(m.C0.ESC+"P1$r0m"+m.C0.ESC+"\\");break;case" q":var j={block:2,underline:4,bar:6}[this._optionsService.options.cursorStyle];j-=this._optionsService.options.cursorBlink?1:0,this._coreService.triggerDataEvent(m.C0.ESC+"P1$r"+j+" q"+m.C0.ESC+"\\");break;default:this._logService.debug("Unknown DCS $q %s",R),this._coreService.triggerDataEvent(m.C0.ESC+"P0$r"+m.C0.ESC+"\\")}return!0},$}(),P=function($){function F(R,N,j,V,K,G,Y,ee,Q){Q===void 0&&(Q=new E.EscapeSequenceParser);var k=$.call(this)||this;k._bufferService=R,k._charsetService=N,k._coreService=j,k._dirtyRowService=V,k._logService=K,k._optionsService=G,k._coreMouseService=Y,k._unicodeService=ee,k._parser=Q,k._parseBuffer=new Uint32Array(4096),k._stringDecoder=new C.StringToUtf32,k._utf8Decoder=new C.Utf8ToUtf32,k._workCell=new l.CellData,k._windowTitle="",k._iconName="",k._windowTitleStack=[],k._iconNameStack=[],k._curAttrData=y.DEFAULT_ATTR_DATA.clone(),k._eraseAttrDataInternal=y.DEFAULT_ATTR_DATA.clone(),k._onRequestBell=new f.EventEmitter,k._onRequestRefreshRows=new f.EventEmitter,k._onRequestReset=new f.EventEmitter,k._onRequestSendFocus=new f.EventEmitter,k._onRequestSyncScrollBar=new f.EventEmitter,k._onRequestWindowsOptionsReport=new f.EventEmitter,k._onA11yChar=new f.EventEmitter,k._onA11yTab=new f.EventEmitter,k._onCursorMove=new f.EventEmitter,k._onLineFeed=new f.EventEmitter,k._onScroll=new f.EventEmitter,k._onTitleChange=new f.EventEmitter,k._onColor=new f.EventEmitter,k._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},k._specialColors=[256,257,258],k.register(k._parser),k._activeBuffer=k._bufferService.buffer,k.register(k._bufferService.buffers.onBufferActivate(function(H){return k._activeBuffer=H.activeBuffer})),k._parser.setCsiHandlerFallback(function(H,J){k._logService.debug("Unknown CSI code: ",{identifier:k._parser.identToString(H),params:J.toArray()})}),k._parser.setEscHandlerFallback(function(H){k._logService.debug("Unknown ESC code: ",{identifier:k._parser.identToString(H)})}),k._parser.setExecuteHandlerFallback(function(H){k._logService.debug("Unknown EXECUTE code: ",{code:H})}),k._parser.setOscHandlerFallback(function(H,J,X){k._logService.debug("Unknown OSC code: ",{identifier:H,action:J,data:X})}),k._parser.setDcsHandlerFallback(function(H,J,X){J==="HOOK"&&(X=X.toArray()),k._logService.debug("Unknown DCS code: ",{identifier:k._parser.identToString(H),action:J,payload:X})}),k._parser.setPrintHandler(function(H,J,X){return k.print(H,J,X)}),k._parser.registerCsiHandler({final:"@"},function(H){return k.insertChars(H)}),k._parser.registerCsiHandler({intermediates:" ",final:"@"},function(H){return k.scrollLeft(H)}),k._parser.registerCsiHandler({final:"A"},function(H){return k.cursorUp(H)}),k._parser.registerCsiHandler({intermediates:" ",final:"A"},function(H){return k.scrollRight(H)}),k._parser.registerCsiHandler({final:"B"},function(H){return k.cursorDown(H)}),k._parser.registerCsiHandler({final:"C"},function(H){return k.cursorForward(H)}),k._parser.registerCsiHandler({final:"D"},function(H){return k.cursorBackward(H)}),k._parser.registerCsiHandler({final:"E"},function(H){return k.cursorNextLine(H)}),k._parser.registerCsiHandler({final:"F"},function(H){return k.cursorPrecedingLine(H)}),k._parser.registerCsiHandler({final:"G"},function(H){return k.cursorCharAbsolute(H)}),k._parser.registerCsiHandler({final:"H"},function(H){return k.cursorPosition(H)}),k._parser.registerCsiHandler({final:"I"},function(H){return k.cursorForwardTab(H)}),k._parser.registerCsiHandler({final:"J"},function(H){return k.eraseInDisplay(H)}),k._parser.registerCsiHandler({prefix:"?",final:"J"},function(H){return k.eraseInDisplay(H)}),k._parser.registerCsiHandler({final:"K"},function(H){return k.eraseInLine(H)}),k._parser.registerCsiHandler({prefix:"?",final:"K"},function(H){return k.eraseInLine(H)}),k._parser.registerCsiHandler({final:"L"},function(H){return k.insertLines(H)}),k._parser.registerCsiHandler({final:"M"},function(H){return k.deleteLines(H)}),k._parser.registerCsiHandler({final:"P"},function(H){return k.deleteChars(H)}),k._parser.registerCsiHandler({final:"S"},function(H){return k.scrollUp(H)}),k._parser.registerCsiHandler({final:"T"},function(H){return k.scrollDown(H)}),k._parser.registerCsiHandler({final:"X"},function(H){return k.eraseChars(H)}),k._parser.registerCsiHandler({final:"Z"},function(H){return k.cursorBackwardTab(H)}),k._parser.registerCsiHandler({final:"`"},function(H){return k.charPosAbsolute(H)}),k._parser.registerCsiHandler({final:"a"},function(H){return k.hPositionRelative(H)}),k._parser.registerCsiHandler({final:"b"},function(H){return k.repeatPrecedingCharacter(H)}),k._parser.registerCsiHandler({final:"c"},function(H){return k.sendDeviceAttributesPrimary(H)}),k._parser.registerCsiHandler({prefix:">",final:"c"},function(H){return k.sendDeviceAttributesSecondary(H)}),k._parser.registerCsiHandler({final:"d"},function(H){return k.linePosAbsolute(H)}),k._parser.registerCsiHandler({final:"e"},function(H){return k.vPositionRelative(H)}),k._parser.registerCsiHandler({final:"f"},function(H){return k.hVPosition(H)}),k._parser.registerCsiHandler({final:"g"},function(H){return k.tabClear(H)}),k._parser.registerCsiHandler({final:"h"},function(H){return k.setMode(H)}),k._parser.registerCsiHandler({prefix:"?",final:"h"},function(H){return k.setModePrivate(H)}),k._parser.registerCsiHandler({final:"l"},function(H){return k.resetMode(H)}),k._parser.registerCsiHandler({prefix:"?",final:"l"},function(H){return k.resetModePrivate(H)}),k._parser.registerCsiHandler({final:"m"},function(H){return k.charAttributes(H)}),k._parser.registerCsiHandler({final:"n"},function(H){return k.deviceStatus(H)}),k._parser.registerCsiHandler({prefix:"?",final:"n"},function(H){return k.deviceStatusPrivate(H)}),k._parser.registerCsiHandler({intermediates:"!",final:"p"},function(H){return k.softReset(H)}),k._parser.registerCsiHandler({intermediates:" ",final:"q"},function(H){return k.setCursorStyle(H)}),k._parser.registerCsiHandler({final:"r"},function(H){return k.setScrollRegion(H)}),k._parser.registerCsiHandler({final:"s"},function(H){return k.saveCursor(H)}),k._parser.registerCsiHandler({final:"t"},function(H){return k.windowOptions(H)}),k._parser.registerCsiHandler({final:"u"},function(H){return k.restoreCursor(H)}),k._parser.registerCsiHandler({intermediates:"'",final:"}"},function(H){return k.insertColumns(H)}),k._parser.registerCsiHandler({intermediates:"'",final:"~"},function(H){return k.deleteColumns(H)}),k._parser.setExecuteHandler(m.C0.BEL,function(){return k.bell()}),k._parser.setExecuteHandler(m.C0.LF,function(){return k.lineFeed()}),k._parser.setExecuteHandler(m.C0.VT,function(){return k.lineFeed()}),k._parser.setExecuteHandler(m.C0.FF,function(){return k.lineFeed()}),k._parser.setExecuteHandler(m.C0.CR,function(){return k.carriageReturn()}),k._parser.setExecuteHandler(m.C0.BS,function(){return k.backspace()}),k._parser.setExecuteHandler(m.C0.HT,function(){return k.tab()}),k._parser.setExecuteHandler(m.C0.SO,function(){return k.shiftOut()}),k._parser.setExecuteHandler(m.C0.SI,function(){return k.shiftIn()}),k._parser.setExecuteHandler(m.C1.IND,function(){return k.index()}),k._parser.setExecuteHandler(m.C1.NEL,function(){return k.nextLine()}),k._parser.setExecuteHandler(m.C1.HTS,function(){return k.tabSet()}),k._parser.registerOscHandler(0,new A.OscHandler(function(H){return k.setTitle(H),k.setIconName(H),!0})),k._parser.registerOscHandler(1,new A.OscHandler(function(H){return k.setIconName(H)})),k._parser.registerOscHandler(2,new A.OscHandler(function(H){return k.setTitle(H)})),k._parser.registerOscHandler(4,new A.OscHandler(function(H){return k.setOrReportIndexedColor(H)})),k._parser.registerOscHandler(10,new A.OscHandler(function(H){return k.setOrReportFgColor(H)})),k._parser.registerOscHandler(11,new A.OscHandler(function(H){return k.setOrReportBgColor(H)})),k._parser.registerOscHandler(12,new A.OscHandler(function(H){return k.setOrReportCursorColor(H)})),k._parser.registerOscHandler(104,new A.OscHandler(function(H){return k.restoreIndexedColor(H)})),k._parser.registerOscHandler(110,new A.OscHandler(function(H){return k.restoreFgColor(H)})),k._parser.registerOscHandler(111,new A.OscHandler(function(H){return k.restoreBgColor(H)})),k._parser.registerOscHandler(112,new A.OscHandler(function(H){return k.restoreCursorColor(H)})),k._parser.registerEscHandler({final:"7"},function(){return k.saveCursor()}),k._parser.registerEscHandler({final:"8"},function(){return k.restoreCursor()}),k._parser.registerEscHandler({final:"D"},function(){return k.index()}),k._parser.registerEscHandler({final:"E"},function(){return k.nextLine()}),k._parser.registerEscHandler({final:"H"},function(){return k.tabSet()}),k._parser.registerEscHandler({final:"M"},function(){return k.reverseIndex()}),k._parser.registerEscHandler({final:"="},function(){return k.keypadApplicationMode()}),k._parser.registerEscHandler({final:">"},function(){return k.keypadNumericMode()}),k._parser.registerEscHandler({final:"c"},function(){return k.fullReset()}),k._parser.registerEscHandler({final:"n"},function(){return k.setgLevel(2)}),k._parser.registerEscHandler({final:"o"},function(){return k.setgLevel(3)}),k._parser.registerEscHandler({final:"|"},function(){return k.setgLevel(3)}),k._parser.registerEscHandler({final:"}"},function(){return k.setgLevel(2)}),k._parser.registerEscHandler({final:"~"},function(){return k.setgLevel(1)}),k._parser.registerEscHandler({intermediates:"%",final:"@"},function(){return k.selectDefaultCharset()}),k._parser.registerEscHandler({intermediates:"%",final:"G"},function(){return k.selectDefaultCharset()});var D=function(H){B._parser.registerEscHandler({intermediates:"(",final:H},function(){return k.selectCharset("("+H)}),B._parser.registerEscHandler({intermediates:")",final:H},function(){return k.selectCharset(")"+H)}),B._parser.registerEscHandler({intermediates:"*",final:H},function(){return k.selectCharset("*"+H)}),B._parser.registerEscHandler({intermediates:"+",final:H},function(){return k.selectCharset("+"+H)}),B._parser.registerEscHandler({intermediates:"-",final:H},function(){return k.selectCharset("-"+H)}),B._parser.registerEscHandler({intermediates:".",final:H},function(){return k.selectCharset("."+H)}),B._parser.registerEscHandler({intermediates:"/",final:H},function(){return k.selectCharset("/"+H)})},B=this;for(var W in w.CHARSETS)D(W);return k._parser.registerEscHandler({intermediates:"#",final:"8"},function(){return k.screenAlignmentPattern()}),k._parser.setErrorHandler(function(H){return k._logService.error("Parsing error: ",H),H}),k._parser.registerDcsHandler({intermediates:"$",final:"q"},new I(k._bufferService,k._coreService,k._logService,k._optionsService)),k}return u(F,$),Object.defineProperty(F.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onRequestSendFocus",{get:function(){return this._onRequestSendFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onColor",{get:function(){return this._onColor.event},enumerable:!1,configurable:!0}),F.prototype.dispose=function(){$.prototype.dispose.call(this)},F.prototype._preserveStack=function(R,N,j,V){this._parseStack.paused=!0,this._parseStack.cursorStartX=R,this._parseStack.cursorStartY=N,this._parseStack.decodedLength=j,this._parseStack.position=V},F.prototype._logSlowResolvingAsync=function(R){this._logService.logLevel<=S.LogLevelEnum.WARN&&Promise.race([R,new Promise(function(N,j){return setTimeout(function(){return j("#SLOW_TIMEOUT")},5e3)})]).catch(function(N){if(N!=="#SLOW_TIMEOUT")throw N;console.warn("async parser handler taking longer than 5000 ms")})},F.prototype.parse=function(R,N){var j,V=this._activeBuffer.x,K=this._activeBuffer.y,G=0,Y=this._parseStack.paused;if(Y){if(j=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,N))return this._logSlowResolvingAsync(j),j;V=this._parseStack.cursorStartX,K=this._parseStack.cursorStartY,this._parseStack.paused=!1,R.length>O&&(G=this._parseStack.position+O)}if(this._logService.logLevel<=S.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof R=="string"?' "'+R+'"':""),typeof R=="string"?R.split("").map(function(D){return D.charCodeAt(0)}):R),this._parseBuffer.length<R.length&&this._parseBuffer.length<O&&(this._parseBuffer=new Uint32Array(Math.min(R.length,O))),Y||this._dirtyRowService.clearRange(),R.length>O)for(var ee=G;ee<R.length;ee+=O){var Q=ee+O<R.length?ee+O:R.length,k=typeof R=="string"?this._stringDecoder.decode(R.substring(ee,Q),this._parseBuffer):this._utf8Decoder.decode(R.subarray(ee,Q),this._parseBuffer);if(j=this._parser.parse(this._parseBuffer,k))return this._preserveStack(V,K,k,ee),this._logSlowResolvingAsync(j),j}else if(!Y&&(k=typeof R=="string"?this._stringDecoder.decode(R,this._parseBuffer):this._utf8Decoder.decode(R,this._parseBuffer),j=this._parser.parse(this._parseBuffer,k)))return this._preserveStack(V,K,k,0),this._logSlowResolvingAsync(j),j;this._activeBuffer.x===V&&this._activeBuffer.y===K||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},F.prototype.print=function(R,N,j){var V,K,G=this._charsetService.charset,Y=this._optionsService.options.screenReaderMode,ee=this._bufferService.cols,Q=this._coreService.decPrivateModes.wraparound,k=this._coreService.modes.insertMode,D=this._curAttrData,B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowService.markDirty(this._activeBuffer.y),this._activeBuffer.x&&j-N>0&&B.getWidth(this._activeBuffer.x-1)===2&&B.setCellFromCodePoint(this._activeBuffer.x-1,0,1,D.fg,D.bg,D.extended);for(var W=N;W<j;++W){if(V=R[W],K=this._unicodeService.wcwidth(V),V<127&&G){var H=G[String.fromCharCode(V)];H&&(V=H.charCodeAt(0))}if(Y&&this._onA11yChar.fire((0,C.stringFromCodePoint)(V)),K||!this._activeBuffer.x){if(this._activeBuffer.x+K-1>=ee){if(Q){for(;this._activeBuffer.x<ee;)B.setCellFromCodePoint(this._activeBuffer.x++,0,1,D.fg,D.bg,D.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=ee-1,K===2)continue}if(k&&(B.insertCells(this._activeBuffer.x,K,this._activeBuffer.getNullCell(D),D),B.getWidth(ee-1)===2&&B.setCellFromCodePoint(ee-1,c.NULL_CELL_CODE,c.NULL_CELL_WIDTH,D.fg,D.bg,D.extended)),B.setCellFromCodePoint(this._activeBuffer.x++,V,K,D.fg,D.bg,D.extended),K>0)for(;--K;)B.setCellFromCodePoint(this._activeBuffer.x++,0,0,D.fg,D.bg,D.extended)}else B.getWidth(this._activeBuffer.x-1)?B.addCodepointToCell(this._activeBuffer.x-1,V):B.addCodepointToCell(this._activeBuffer.x-2,V)}j-N>0&&(B.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<ee&&j-N>0&&B.getWidth(this._activeBuffer.x)===0&&!B.hasContent(this._activeBuffer.x)&&B.setCellFromCodePoint(this._activeBuffer.x,0,1,D.fg,D.bg,D.extended),this._dirtyRowService.markDirty(this._activeBuffer.y)},F.prototype.registerCsiHandler=function(R,N){var j=this;return R.final!=="t"||R.prefix||R.intermediates?this._parser.registerCsiHandler(R,N):this._parser.registerCsiHandler(R,function(V){return!T(V.params[0],j._optionsService.options.windowOptions)||N(V)})},F.prototype.registerDcsHandler=function(R,N){return this._parser.registerDcsHandler(R,new L.DcsHandler(N))},F.prototype.registerEscHandler=function(R,N){return this._parser.registerEscHandler(R,N)},F.prototype.registerOscHandler=function(R,N){return this._parser.registerOscHandler(R,new A.OscHandler(N))},F.prototype.bell=function(){return this._onRequestBell.fire(),!0},F.prototype.lineFeed=function(){return this._dirtyRowService.markDirty(this._activeBuffer.y),this._optionsService.options.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowService.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0},F.prototype.carriageReturn=function(){return this._activeBuffer.x=0,!0},F.prototype.backspace=function(){var R;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||R===void 0?void 0:R.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;var N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);N.hasWidth(this._activeBuffer.x)&&!N.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0},F.prototype.tab=function(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;var R=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.options.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-R),!0},F.prototype.shiftOut=function(){return this._charsetService.setgLevel(1),!0},F.prototype.shiftIn=function(){return this._charsetService.setgLevel(0),!0},F.prototype._restrictCursor=function(R){R===void 0&&(R=this._bufferService.cols-1),this._activeBuffer.x=Math.min(R,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowService.markDirty(this._activeBuffer.y)},F.prototype._setCursor=function(R,N){this._dirtyRowService.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=R,this._activeBuffer.y=this._activeBuffer.scrollTop+N):(this._activeBuffer.x=R,this._activeBuffer.y=N),this._restrictCursor(),this._dirtyRowService.markDirty(this._activeBuffer.y)},F.prototype._moveCursor=function(R,N){this._restrictCursor(),this._setCursor(this._activeBuffer.x+R,this._activeBuffer.y+N)},F.prototype.cursorUp=function(R){var N=this._activeBuffer.y-this._activeBuffer.scrollTop;return N>=0?this._moveCursor(0,-Math.min(N,R.params[0]||1)):this._moveCursor(0,-(R.params[0]||1)),!0},F.prototype.cursorDown=function(R){var N=this._activeBuffer.scrollBottom-this._activeBuffer.y;return N>=0?this._moveCursor(0,Math.min(N,R.params[0]||1)):this._moveCursor(0,R.params[0]||1),!0},F.prototype.cursorForward=function(R){return this._moveCursor(R.params[0]||1,0),!0},F.prototype.cursorBackward=function(R){return this._moveCursor(-(R.params[0]||1),0),!0},F.prototype.cursorNextLine=function(R){return this.cursorDown(R),this._activeBuffer.x=0,!0},F.prototype.cursorPrecedingLine=function(R){return this.cursorUp(R),this._activeBuffer.x=0,!0},F.prototype.cursorCharAbsolute=function(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0},F.prototype.cursorPosition=function(R){return this._setCursor(R.length>=2?(R.params[1]||1)-1:0,(R.params[0]||1)-1),!0},F.prototype.charPosAbsolute=function(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0},F.prototype.hPositionRelative=function(R){return this._moveCursor(R.params[0]||1,0),!0},F.prototype.linePosAbsolute=function(R){return this._setCursor(this._activeBuffer.x,(R.params[0]||1)-1),!0},F.prototype.vPositionRelative=function(R){return this._moveCursor(0,R.params[0]||1),!0},F.prototype.hVPosition=function(R){return this.cursorPosition(R),!0},F.prototype.tabClear=function(R){var N=R.params[0];return N===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:N===3&&(this._activeBuffer.tabs={}),!0},F.prototype.cursorForwardTab=function(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var N=R.params[0]||1;N--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0},F.prototype.cursorBackwardTab=function(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var N=R.params[0]||1;N--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0},F.prototype._eraseInBufferLine=function(R,N,j,V){V===void 0&&(V=!1);var K=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);K.replaceCells(N,j,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V&&(K.isWrapped=!1)},F.prototype._resetBufferLine=function(R){var N=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);N.fill(this._activeBuffer.getNullCell(this._eraseAttrData())),N.isWrapped=!1},F.prototype.eraseInDisplay=function(R){var N;switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:for(N=this._activeBuffer.y,this._dirtyRowService.markDirty(N),this._eraseInBufferLine(N++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0);N<this._bufferService.rows;N++)this._resetBufferLine(N);this._dirtyRowService.markDirty(N);break;case 1:for(N=this._activeBuffer.y,this._dirtyRowService.markDirty(N),this._eraseInBufferLine(N,0,this._activeBuffer.x+1,!0),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(N+1).isWrapped=!1);N--;)this._resetBufferLine(N);this._dirtyRowService.markDirty(0);break;case 2:for(N=this._bufferService.rows,this._dirtyRowService.markDirty(N-1);N--;)this._resetBufferLine(N);this._dirtyRowService.markDirty(0);break;case 3:var j=this._activeBuffer.lines.length-this._bufferService.rows;j>0&&(this._activeBuffer.lines.trimStart(j),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-j,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-j,0),this._onScroll.fire(0))}return!0},F.prototype.eraseInLine=function(R){switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0)}return this._dirtyRowService.markDirty(this._activeBuffer.y),!0},F.prototype.insertLines=function(R){this._restrictCursor();var N=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var j=this._activeBuffer.ybase+this._activeBuffer.y,V=this._bufferService.rows-1-this._activeBuffer.scrollBottom,K=this._bufferService.rows-1+this._activeBuffer.ybase-V+1;N--;)this._activeBuffer.lines.splice(K-1,1),this._activeBuffer.lines.splice(j,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},F.prototype.deleteLines=function(R){this._restrictCursor();var N=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;var j,V=this._activeBuffer.ybase+this._activeBuffer.y;for(j=this._bufferService.rows-1-this._activeBuffer.scrollBottom,j=this._bufferService.rows-1+this._activeBuffer.ybase-j;N--;)this._activeBuffer.lines.splice(V,1),this._activeBuffer.lines.splice(j,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},F.prototype.insertChars=function(R){this._restrictCursor();var N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return N&&(N.insertCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},F.prototype.deleteChars=function(R){this._restrictCursor();var N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return N&&(N.deleteCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},F.prototype.scrollUp=function(R){for(var N=R.params[0]||1;N--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},F.prototype.scrollDown=function(R){for(var N=R.params[0]||1;N--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(y.DEFAULT_ATTR_DATA));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},F.prototype.scrollLeft=function(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var N=R.params[0]||1,j=this._activeBuffer.scrollTop;j<=this._activeBuffer.scrollBottom;++j){var V=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);V.deleteCells(0,N,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},F.prototype.scrollRight=function(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var N=R.params[0]||1,j=this._activeBuffer.scrollTop;j<=this._activeBuffer.scrollBottom;++j){var V=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);V.insertCells(0,N,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},F.prototype.insertColumns=function(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var N=R.params[0]||1,j=this._activeBuffer.scrollTop;j<=this._activeBuffer.scrollBottom;++j){var V=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);V.insertCells(this._activeBuffer.x,N,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},F.prototype.deleteColumns=function(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var N=R.params[0]||1,j=this._activeBuffer.scrollTop;j<=this._activeBuffer.scrollBottom;++j){var V=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);V.deleteCells(this._activeBuffer.x,N,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},F.prototype.eraseChars=function(R){this._restrictCursor();var N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return N&&(N.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(R.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},F.prototype.repeatPrecedingCharacter=function(R){if(!this._parser.precedingCodepoint)return!0;for(var N=R.params[0]||1,j=new Uint32Array(N),V=0;V<N;++V)j[V]=this._parser.precedingCodepoint;return this.print(j,0,j.length),!0},F.prototype.sendDeviceAttributesPrimary=function(R){return R.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(m.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(m.C0.ESC+"[?6c")),!0},F.prototype.sendDeviceAttributesSecondary=function(R){return R.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(m.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(m.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(R.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(m.C0.ESC+"[>83;40003;0c")),!0},F.prototype._is=function(R){return(this._optionsService.options.termName+"").indexOf(R)===0},F.prototype.setMode=function(R){for(var N=0;N<R.length;N++)R.params[N]===4&&(this._coreService.modes.insertMode=!0);return!0},F.prototype.setModePrivate=function(R){for(var N=0;N<R.length;N++)switch(R.params[N]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,w.DEFAULT_CHARSET),this._charsetService.setgCharset(1,w.DEFAULT_CHARSET),this._charsetService.setgCharset(2,w.DEFAULT_CHARSET),this._charsetService.setgCharset(3,w.DEFAULT_CHARSET);break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0},F.prototype.resetMode=function(R){for(var N=0;N<R.length;N++)R.params[N]===4&&(this._coreService.modes.insertMode=!1);return!0},F.prototype.resetModePrivate=function(R){for(var N=0;N<R.length;N++)switch(R.params[N]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),R.params[N]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0},F.prototype._updateAttrColor=function(R,N,j,V,K){return N===2?(R|=50331648,R&=-16777216,R|=b.AttributeData.fromColorRGB([j,V,K])):N===5&&(R&=-50331904,R|=33554432|255&j),R},F.prototype._extractColor=function(R,N,j){var V=[0,0,-1,0,0,0],K=0,G=0;do{if(V[G+K]=R.params[N+G],R.hasSubParams(N+G)){var Y=R.getSubParams(N+G),ee=0;do V[1]===5&&(K=1),V[G+ee+1+K]=Y[ee];while(++ee<Y.length&&ee+G+1+K<V.length);break}if(V[1]===5&&G+K>=2||V[1]===2&&G+K>=5)break;V[1]&&(K=1)}while(++G+N<R.length&&G+K<V.length);for(ee=2;ee<V.length;++ee)V[ee]===-1&&(V[ee]=0);switch(V[0]){case 38:j.fg=this._updateAttrColor(j.fg,V[1],V[3],V[4],V[5]);break;case 48:j.bg=this._updateAttrColor(j.bg,V[1],V[3],V[4],V[5]);break;case 58:j.extended=j.extended.clone(),j.extended.underlineColor=this._updateAttrColor(j.extended.underlineColor,V[1],V[3],V[4],V[5])}return G},F.prototype._processUnderline=function(R,N){N.extended=N.extended.clone(),(!~R||R>5)&&(R=1),N.extended.underlineStyle=R,N.fg|=268435456,R===0&&(N.fg&=-268435457),N.updateExtended()},F.prototype.charAttributes=function(R){if(R.length===1&&R.params[0]===0)return this._curAttrData.fg=y.DEFAULT_ATTR_DATA.fg,this._curAttrData.bg=y.DEFAULT_ATTR_DATA.bg,!0;for(var N,j=R.length,V=this._curAttrData,K=0;K<j;K++)(N=R.params[K])>=30&&N<=37?(V.fg&=-50331904,V.fg|=16777216|N-30):N>=40&&N<=47?(V.bg&=-50331904,V.bg|=16777216|N-40):N>=90&&N<=97?(V.fg&=-50331904,V.fg|=16777224|N-90):N>=100&&N<=107?(V.bg&=-50331904,V.bg|=16777224|N-100):N===0?(V.fg=y.DEFAULT_ATTR_DATA.fg,V.bg=y.DEFAULT_ATTR_DATA.bg):N===1?V.fg|=134217728:N===3?V.bg|=67108864:N===4?(V.fg|=268435456,this._processUnderline(R.hasSubParams(K)?R.getSubParams(K)[0]:1,V)):N===5?V.fg|=536870912:N===7?V.fg|=67108864:N===8?V.fg|=1073741824:N===9?V.fg|=2147483648:N===2?V.bg|=134217728:N===21?this._processUnderline(2,V):N===22?(V.fg&=-134217729,V.bg&=-134217729):N===23?V.bg&=-67108865:N===24?V.fg&=-268435457:N===25?V.fg&=-536870913:N===27?V.fg&=-67108865:N===28?V.fg&=-1073741825:N===29?V.fg&=2147483647:N===39?(V.fg&=-67108864,V.fg|=16777215&y.DEFAULT_ATTR_DATA.fg):N===49?(V.bg&=-67108864,V.bg|=16777215&y.DEFAULT_ATTR_DATA.bg):N===38||N===48||N===58?K+=this._extractColor(R,K,V):N===59?(V.extended=V.extended.clone(),V.extended.underlineColor=-1,V.updateExtended()):N===100?(V.fg&=-67108864,V.fg|=16777215&y.DEFAULT_ATTR_DATA.fg,V.bg&=-67108864,V.bg|=16777215&y.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",N);return!0},F.prototype.deviceStatus=function(R){switch(R.params[0]){case 5:this._coreService.triggerDataEvent(m.C0.ESC+"[0n");break;case 6:var N=this._activeBuffer.y+1,j=this._activeBuffer.x+1;this._coreService.triggerDataEvent(m.C0.ESC+"["+N+";"+j+"R")}return!0},F.prototype.deviceStatusPrivate=function(R){if(R.params[0]===6){var N=this._activeBuffer.y+1,j=this._activeBuffer.x+1;this._coreService.triggerDataEvent(m.C0.ESC+"[?"+N+";"+j+"R")}return!0},F.prototype.softReset=function(R){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=y.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0},F.prototype.setCursorStyle=function(R){var N=R.params[0]||1;switch(N){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}var j=N%2==1;return this._optionsService.options.cursorBlink=j,!0},F.prototype.setScrollRegion=function(R){var N,j=R.params[0]||1;return(R.length<2||(N=R.params[1])>this._bufferService.rows||N===0)&&(N=this._bufferService.rows),N>j&&(this._activeBuffer.scrollTop=j-1,this._activeBuffer.scrollBottom=N-1,this._setCursor(0,0)),!0},F.prototype.windowOptions=function(R){if(!T(R.params[0],this._optionsService.options.windowOptions))return!0;var N=R.length>1?R.params[1]:0;switch(R.params[0]){case 14:N!==2&&this._onRequestWindowsOptionsReport.fire(p.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(p.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(m.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:N!==0&&N!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),N!==0&&N!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:N!==0&&N!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),N!==0&&N!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0},F.prototype.saveCursor=function(R){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0},F.prototype.restoreCursor=function(R){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0},F.prototype.setTitle=function(R){return this._windowTitle=R,this._onTitleChange.fire(R),!0},F.prototype.setIconName=function(R){return this._iconName=R,!0},F.prototype.setOrReportIndexedColor=function(R){for(var N=[],j=R.split(";");j.length>1;){var V=j.shift(),K=j.shift();if(/^\d+$/.exec(V)){var G=parseInt(V);if(0<=G&&G<256)if(K==="?")N.push({type:0,index:G});else{var Y=(0,x.parseColor)(K);Y&&N.push({type:1,index:G,color:Y})}}}return N.length&&this._onColor.fire(N),!0},F.prototype._setOrReportSpecialColor=function(R,N){for(var j=R.split(";"),V=0;V<j.length&&!(N>=this._specialColors.length);++V,++N)if(j[V]==="?")this._onColor.fire([{type:0,index:this._specialColors[N]}]);else{var K=(0,x.parseColor)(j[V]);K&&this._onColor.fire([{type:1,index:this._specialColors[N],color:K}])}return!0},F.prototype.setOrReportFgColor=function(R){return this._setOrReportSpecialColor(R,0)},F.prototype.setOrReportBgColor=function(R){return this._setOrReportSpecialColor(R,1)},F.prototype.setOrReportCursorColor=function(R){return this._setOrReportSpecialColor(R,2)},F.prototype.restoreIndexedColor=function(R){if(!R)return this._onColor.fire([{type:2}]),!0;for(var N=[],j=R.split(";"),V=0;V<j.length;++V)if(/^\d+$/.exec(j[V])){var K=parseInt(j[V]);0<=K&&K<256&&N.push({type:2,index:K})}return N.length&&this._onColor.fire(N),!0},F.prototype.restoreFgColor=function(R){return this._onColor.fire([{type:2,index:256}]),!0},F.prototype.restoreBgColor=function(R){return this._onColor.fire([{type:2,index:257}]),!0},F.prototype.restoreCursorColor=function(R){return this._onColor.fire([{type:2,index:258}]),!0},F.prototype.nextLine=function(){return this._activeBuffer.x=0,this.index(),!0},F.prototype.keypadApplicationMode=function(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0},F.prototype.keypadNumericMode=function(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0},F.prototype.selectDefaultCharset=function(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,w.DEFAULT_CHARSET),!0},F.prototype.selectCharset=function(R){return R.length!==2?(this.selectDefaultCharset(),!0):(R[0]==="/"||this._charsetService.setgCharset(M[R[0]],w.CHARSETS[R[1]]||w.DEFAULT_CHARSET),!0)},F.prototype.index=function(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0},F.prototype.tabSet=function(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0},F.prototype.reverseIndex=function(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){var R=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,R,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0},F.prototype.fullReset=function(){return this._parser.reset(),this._onRequestReset.fire(),!0},F.prototype.reset=function(){this._curAttrData=y.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=y.DEFAULT_ATTR_DATA.clone()},F.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},F.prototype.setgLevel=function(R){return this._charsetService.setgLevel(R),!0},F.prototype.screenAlignmentPattern=function(){var R=new l.CellData;R.content=1<<22|"E".charCodeAt(0),R.fg=this._curAttrData.fg,R.bg=this._curAttrData.bg,this._setCursor(0,0);for(var N=0;N<this._bufferService.rows;++N){var j=this._activeBuffer.ybase+this._activeBuffer.y+N,V=this._activeBuffer.lines.get(j);V&&(V.fill(R),V.isWrapped=!1)}return this._dirtyRowService.markAllDirty(),this._setCursor(0,0),!0},F}(d.Disposable);r.InputHandler=P},844:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getDisposeArrayDisposable=r.disposeArray=r.Disposable=void 0;var a=function(){function u(){this._disposables=[],this._isDisposed=!1}return u.prototype.dispose=function(){this._isDisposed=!0;for(var p=0,m=this._disposables;p<m.length;p++)m[p].dispose();this._disposables.length=0},u.prototype.register=function(p){return this._disposables.push(p),p},u.prototype.unregister=function(p){var m=this._disposables.indexOf(p);m!==-1&&this._disposables.splice(m,1)},u}();function s(u){for(var p=0,m=u;p<m.length;p++)m[p].dispose();u.length=0}r.Disposable=a,r.disposeArray=s,r.getDisposeArrayDisposable=function(u){return{dispose:function(){return s(u)}}}},6114:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isLinux=r.isWindows=r.isIphone=r.isIpad=r.isMac=r.isSafari=r.isFirefox=void 0;var a=typeof navigator=="undefined",s=a?"node":navigator.userAgent,u=a?"node":navigator.platform;r.isFirefox=s.includes("Firefox"),r.isSafari=/^((?!chrome|android).)*safari/i.test(s),r.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(u),r.isIpad=u==="iPad",r.isIphone=u==="iPhone",r.isWindows=["Windows","Win16","Win32","WinCE"].includes(u),r.isLinux=u.indexOf("Linux")>=0},8273:(g,r)=>{function a(s,u,p,m){if(p===void 0&&(p=0),m===void 0&&(m=s.length),p>=s.length)return s;p=(s.length+p)%s.length,m=m>=s.length?s.length:(s.length+m)%s.length;for(var w=p;w<m;++w)s[w]=u;return s}Object.defineProperty(r,"__esModule",{value:!0}),r.concat=r.fillFallback=r.fill=void 0,r.fill=function(s,u,p,m){return s.fill?s.fill(u,p,m):a(s,u,p,m)},r.fillFallback=a,r.concat=function(s,u){var p=new s.constructor(s.length+u.length);return p.set(s),p.set(u,s.length),p}},9282:(g,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.updateWindowsModeWrappedState=void 0;var s=a(643);r.updateWindowsModeWrappedState=function(u){var p=u.buffer.lines.get(u.buffer.ybase+u.buffer.y-1),m=p==null?void 0:p.get(u.cols-1),w=u.buffer.lines.get(u.buffer.ybase+u.buffer.y);w&&m&&(w.isWrapped=m[s.CHAR_DATA_CODE_INDEX]!==s.NULL_CELL_CODE&&m[s.CHAR_DATA_CODE_INDEX]!==s.WHITESPACE_CELL_CODE)}},3734:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ExtendedAttrs=r.AttributeData=void 0;var a=function(){function u(){this.fg=0,this.bg=0,this.extended=new s}return u.toColorRGB=function(p){return[p>>>16&255,p>>>8&255,255&p]},u.fromColorRGB=function(p){return(255&p[0])<<16|(255&p[1])<<8|255&p[2]},u.prototype.clone=function(){var p=new u;return p.fg=this.fg,p.bg=this.bg,p.extended=this.extended.clone(),p},u.prototype.isInverse=function(){return 67108864&this.fg},u.prototype.isBold=function(){return 134217728&this.fg},u.prototype.isUnderline=function(){return 268435456&this.fg},u.prototype.isBlink=function(){return 536870912&this.fg},u.prototype.isInvisible=function(){return 1073741824&this.fg},u.prototype.isItalic=function(){return 67108864&this.bg},u.prototype.isDim=function(){return 134217728&this.bg},u.prototype.isStrikethrough=function(){return 2147483648&this.fg},u.prototype.getFgColorMode=function(){return 50331648&this.fg},u.prototype.getBgColorMode=function(){return 50331648&this.bg},u.prototype.isFgRGB=function(){return(50331648&this.fg)==50331648},u.prototype.isBgRGB=function(){return(50331648&this.bg)==50331648},u.prototype.isFgPalette=function(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432},u.prototype.isBgPalette=function(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432},u.prototype.isFgDefault=function(){return(50331648&this.fg)==0},u.prototype.isBgDefault=function(){return(50331648&this.bg)==0},u.prototype.isAttributeDefault=function(){return this.fg===0&&this.bg===0},u.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},u.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},u.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},u.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},u.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},u.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},u.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()},u.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()},u.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()},u.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},u}();r.AttributeData=a;var s=function(){function u(p,m){p===void 0&&(p=0),m===void 0&&(m=-1),this.underlineStyle=p,this.underlineColor=m}return u.prototype.clone=function(){return new u(this.underlineStyle,this.underlineColor)},u.prototype.isEmpty=function(){return this.underlineStyle===0},u}();r.ExtendedAttrs=s},9092:(g,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferStringIterator=r.Buffer=r.MAX_BUFFER_SIZE=void 0;var s=a(6349),u=a(8437),p=a(511),m=a(643),w=a(4634),E=a(4863),d=a(7116),v=a(3734);r.MAX_BUFFER_SIZE=4294967295;var C=function(){function f(c,l,b){this._hasScrollback=c,this._optionsService=l,this._bufferService=b,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=u.DEFAULT_ATTR_DATA.clone(),this.savedCharset=d.DEFAULT_CHARSET,this.markers=[],this._nullCell=p.CellData.fromCharData([0,m.NULL_CELL_CHAR,m.NULL_CELL_WIDTH,m.NULL_CELL_CODE]),this._whitespaceCell=p.CellData.fromCharData([0,m.WHITESPACE_CELL_CHAR,m.WHITESPACE_CELL_WIDTH,m.WHITESPACE_CELL_CODE]),this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new s.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return f.prototype.getNullCell=function(c){return c?(this._nullCell.fg=c.fg,this._nullCell.bg=c.bg,this._nullCell.extended=c.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new v.ExtendedAttrs),this._nullCell},f.prototype.getWhitespaceCell=function(c){return c?(this._whitespaceCell.fg=c.fg,this._whitespaceCell.bg=c.bg,this._whitespaceCell.extended=c.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new v.ExtendedAttrs),this._whitespaceCell},f.prototype.getBlankLine=function(c,l){return new u.BufferLine(this._bufferService.cols,this.getNullCell(c),l)},Object.defineProperty(f.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isCursorInViewport",{get:function(){var c=this.ybase+this.y-this.ydisp;return c>=0&&c<this._rows},enumerable:!1,configurable:!0}),f.prototype._getCorrectBufferLength=function(c){if(!this._hasScrollback)return c;var l=c+this._optionsService.options.scrollback;return l>r.MAX_BUFFER_SIZE?r.MAX_BUFFER_SIZE:l},f.prototype.fillViewportRows=function(c){if(this.lines.length===0){c===void 0&&(c=u.DEFAULT_ATTR_DATA);for(var l=this._rows;l--;)this.lines.push(this.getBlankLine(c))}},f.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new s.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},f.prototype.resize=function(c,l){var b=this.getNullCell(u.DEFAULT_ATTR_DATA),S=this._getCorrectBufferLength(l);if(S>this.lines.maxLength&&(this.lines.maxLength=S),this.lines.length>0){if(this._cols<c)for(var A=0;A<this.lines.length;A++)this.lines.get(A).resize(c,b);var L=0;if(this._rows<l)for(var x=this._rows;x<l;x++)this.lines.length<l+this.ybase&&(this._optionsService.options.windowsMode?this.lines.push(new u.BufferLine(c,b)):this.ybase>0&&this.lines.length<=this.ybase+this.y+L+1?(this.ybase--,L++,this.ydisp>0&&this.ydisp--):this.lines.push(new u.BufferLine(c,b)));else for(x=this._rows;x>l;x--)this.lines.length>l+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(S<this.lines.maxLength){var M=this.lines.length-S;M>0&&(this.lines.trimStart(M),this.ybase=Math.max(this.ybase-M,0),this.ydisp=Math.max(this.ydisp-M,0),this.savedY=Math.max(this.savedY-M,0)),this.lines.maxLength=S}this.x=Math.min(this.x,c-1),this.y=Math.min(this.y,l-1),L&&(this.y+=L),this.savedX=Math.min(this.savedX,c-1),this.scrollTop=0}if(this.scrollBottom=l-1,this._isReflowEnabled&&(this._reflow(c,l),this._cols>c))for(A=0;A<this.lines.length;A++)this.lines.get(A).resize(c,b);this._cols=c,this._rows=l},Object.defineProperty(f.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.options.windowsMode},enumerable:!1,configurable:!0}),f.prototype._reflow=function(c,l){this._cols!==c&&(c>this._cols?this._reflowLarger(c,l):this._reflowSmaller(c,l))},f.prototype._reflowLarger=function(c,l){var b=(0,w.reflowLargerGetLinesToRemove)(this.lines,this._cols,c,this.ybase+this.y,this.getNullCell(u.DEFAULT_ATTR_DATA));if(b.length>0){var S=(0,w.reflowLargerCreateNewLayout)(this.lines,b);(0,w.reflowLargerApplyNewLayout)(this.lines,S.layout),this._reflowLargerAdjustViewport(c,l,S.countRemoved)}},f.prototype._reflowLargerAdjustViewport=function(c,l,b){for(var S=this.getNullCell(u.DEFAULT_ATTR_DATA),A=b;A-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<l&&this.lines.push(new u.BufferLine(c,S))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-b,0)},f.prototype._reflowSmaller=function(c,l){for(var b=this.getNullCell(u.DEFAULT_ATTR_DATA),S=[],A=0,L=this.lines.length-1;L>=0;L--){var x=this.lines.get(L);if(!(!x||!x.isWrapped&&x.getTrimmedLength()<=c)){for(var M=[x];x.isWrapped&&L>0;)x=this.lines.get(--L),M.unshift(x);var O=this.ybase+this.y;if(!(O>=L&&O<L+M.length)){var T,I=M[M.length-1].getTrimmedLength(),P=(0,w.reflowSmallerGetNewLineLengths)(M,this._cols,c),$=P.length-M.length;T=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+$):Math.max(0,this.lines.length-this.lines.maxLength+$);for(var F=[],R=0;R<$;R++){var N=this.getBlankLine(u.DEFAULT_ATTR_DATA,!0);F.push(N)}F.length>0&&(S.push({start:L+M.length+A,newLines:F}),A+=F.length),M.push.apply(M,F);var j=P.length-1,V=P[j];V===0&&(V=P[--j]);for(var K=M.length-$-1,G=I;K>=0;){var Y=Math.min(G,V);if(M[j].copyCellsFrom(M[K],G-Y,V-Y,Y,!0),(V-=Y)==0&&(V=P[--j]),(G-=Y)==0){K--;var ee=Math.max(K,0);G=(0,w.getWrappedLineTrimmedLength)(M,ee,this._cols)}}for(R=0;R<M.length;R++)P[R]<c&&M[R].setCell(P[R],b);for(var Q=$-T;Q-- >0;)this.ybase===0?this.y<l-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+A)-l&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+$,this.ybase+l-1)}}}if(S.length>0){var k=[],D=[];for(R=0;R<this.lines.length;R++)D.push(this.lines.get(R));var B=this.lines.length,W=B-1,H=0,J=S[H];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+A);var X=0;for(R=Math.min(this.lines.maxLength-1,B+A-1);R>=0;R--)if(J&&J.start>W+X){for(var re=J.newLines.length-1;re>=0;re--)this.lines.set(R--,J.newLines[re]);R++,k.push({index:W+1,amount:J.newLines.length}),X+=J.newLines.length,J=S[++H]}else this.lines.set(R,D[W--]);var ce=0;for(R=k.length-1;R>=0;R--)k[R].index+=ce,this.lines.onInsertEmitter.fire(k[R]),ce+=k[R].amount;var ae=Math.max(0,B+A-this.lines.maxLength);ae>0&&this.lines.onTrimEmitter.fire(ae)}},f.prototype.stringIndexToBufferIndex=function(c,l,b){for(b===void 0&&(b=!1);l;){var S=this.lines.get(c);if(!S)return[-1,-1];for(var A=b?S.getTrimmedLength():S.length,L=0;L<A;++L)if(S.get(L)[m.CHAR_DATA_WIDTH_INDEX]&&(l-=S.get(L)[m.CHAR_DATA_CHAR_INDEX].length||1),l<0)return[c,L];c++}return[c,0]},f.prototype.translateBufferLineToString=function(c,l,b,S){b===void 0&&(b=0);var A=this.lines.get(c);return A?A.translateToString(l,b,S):""},f.prototype.getWrappedRangeForLine=function(c){for(var l=c,b=c;l>0&&this.lines.get(l).isWrapped;)l--;for(;b+1<this.lines.length&&this.lines.get(b+1).isWrapped;)b++;return{first:l,last:b}},f.prototype.setupTabStops=function(c){for(c!=null?this.tabs[c]||(c=this.prevStop(c)):(this.tabs={},c=0);c<this._cols;c+=this._optionsService.options.tabStopWidth)this.tabs[c]=!0},f.prototype.prevStop=function(c){for(c==null&&(c=this.x);!this.tabs[--c]&&c>0;);return c>=this._cols?this._cols-1:c<0?0:c},f.prototype.nextStop=function(c){for(c==null&&(c=this.x);!this.tabs[++c]&&c<this._cols;);return c>=this._cols?this._cols-1:c<0?0:c},f.prototype.addMarker=function(c){var l=this,b=new E.Marker(c);return this.markers.push(b),b.register(this.lines.onTrim(function(S){b.line-=S,b.line<0&&b.dispose()})),b.register(this.lines.onInsert(function(S){b.line>=S.index&&(b.line+=S.amount)})),b.register(this.lines.onDelete(function(S){b.line>=S.index&&b.line<S.index+S.amount&&b.dispose(),b.line>S.index&&(b.line-=S.amount)})),b.register(b.onDispose(function(){return l._removeMarker(b)})),b},f.prototype._removeMarker=function(c){this.markers.splice(this.markers.indexOf(c),1)},f.prototype.iterator=function(c,l,b,S,A){return new y(this,c,l,b,S,A)},f}();r.Buffer=C;var y=function(){function f(c,l,b,S,A,L){b===void 0&&(b=0),S===void 0&&(S=c.lines.length),A===void 0&&(A=0),L===void 0&&(L=0),this._buffer=c,this._trimRight=l,this._startIndex=b,this._endIndex=S,this._startOverscan=A,this._endOverscan=L,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return f.prototype.hasNext=function(){return this._current<this._endIndex},f.prototype.next=function(){var c=this._buffer.getWrappedRangeForLine(this._current);c.first<this._startIndex-this._startOverscan&&(c.first=this._startIndex-this._startOverscan),c.last>this._endIndex+this._endOverscan&&(c.last=this._endIndex+this._endOverscan),c.first=Math.max(c.first,0),c.last=Math.min(c.last,this._buffer.lines.length);for(var l="",b=c.first;b<=c.last;++b)l+=this._buffer.translateBufferLineToString(b,this._trimRight);return this._current=c.last+1,{range:c,content:l}},f}();r.BufferStringIterator=y},8437:(g,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferLine=r.DEFAULT_ATTR_DATA=void 0;var s=a(482),u=a(643),p=a(511),m=a(3734);r.DEFAULT_ATTR_DATA=Object.freeze(new m.AttributeData);var w=function(){function E(d,v,C){C===void 0&&(C=!1),this.isWrapped=C,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*d);for(var y=v||p.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]),f=0;f<d;++f)this.setCell(f,y);this.length=d}return E.prototype.get=function(d){var v=this._data[3*d+0],C=2097151&v;return[this._data[3*d+1],2097152&v?this._combined[d]:C?(0,s.stringFromCodePoint)(C):"",v>>22,2097152&v?this._combined[d].charCodeAt(this._combined[d].length-1):C]},E.prototype.set=function(d,v){this._data[3*d+1]=v[u.CHAR_DATA_ATTR_INDEX],v[u.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[d]=v[1],this._data[3*d+0]=2097152|d|v[u.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*d+0]=v[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|v[u.CHAR_DATA_WIDTH_INDEX]<<22},E.prototype.getWidth=function(d){return this._data[3*d+0]>>22},E.prototype.hasWidth=function(d){return 12582912&this._data[3*d+0]},E.prototype.getFg=function(d){return this._data[3*d+1]},E.prototype.getBg=function(d){return this._data[3*d+2]},E.prototype.hasContent=function(d){return 4194303&this._data[3*d+0]},E.prototype.getCodePoint=function(d){var v=this._data[3*d+0];return 2097152&v?this._combined[d].charCodeAt(this._combined[d].length-1):2097151&v},E.prototype.isCombined=function(d){return 2097152&this._data[3*d+0]},E.prototype.getString=function(d){var v=this._data[3*d+0];return 2097152&v?this._combined[d]:2097151&v?(0,s.stringFromCodePoint)(2097151&v):""},E.prototype.loadCell=function(d,v){var C=3*d;return v.content=this._data[C+0],v.fg=this._data[C+1],v.bg=this._data[C+2],2097152&v.content&&(v.combinedData=this._combined[d]),268435456&v.bg&&(v.extended=this._extendedAttrs[d]),v},E.prototype.setCell=function(d,v){2097152&v.content&&(this._combined[d]=v.combinedData),268435456&v.bg&&(this._extendedAttrs[d]=v.extended),this._data[3*d+0]=v.content,this._data[3*d+1]=v.fg,this._data[3*d+2]=v.bg},E.prototype.setCellFromCodePoint=function(d,v,C,y,f,c){268435456&f&&(this._extendedAttrs[d]=c),this._data[3*d+0]=v|C<<22,this._data[3*d+1]=y,this._data[3*d+2]=f},E.prototype.addCodepointToCell=function(d,v){var C=this._data[3*d+0];2097152&C?this._combined[d]+=(0,s.stringFromCodePoint)(v):(2097151&C?(this._combined[d]=(0,s.stringFromCodePoint)(2097151&C)+(0,s.stringFromCodePoint)(v),C&=-2097152,C|=2097152):C=v|1<<22,this._data[3*d+0]=C)},E.prototype.insertCells=function(d,v,C,y){if((d%=this.length)&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d-1,0,1,(y==null?void 0:y.fg)||0,(y==null?void 0:y.bg)||0,(y==null?void 0:y.extended)||new m.ExtendedAttrs),v<this.length-d){for(var f=new p.CellData,c=this.length-d-v-1;c>=0;--c)this.setCell(d+v+c,this.loadCell(d+c,f));for(c=0;c<v;++c)this.setCell(d+c,C)}else for(c=d;c<this.length;++c)this.setCell(c,C);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(y==null?void 0:y.fg)||0,(y==null?void 0:y.bg)||0,(y==null?void 0:y.extended)||new m.ExtendedAttrs)},E.prototype.deleteCells=function(d,v,C,y){if(d%=this.length,v<this.length-d){for(var f=new p.CellData,c=0;c<this.length-d-v;++c)this.setCell(d+c,this.loadCell(d+v+c,f));for(c=this.length-v;c<this.length;++c)this.setCell(c,C)}else for(c=d;c<this.length;++c)this.setCell(c,C);d&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d-1,0,1,(y==null?void 0:y.fg)||0,(y==null?void 0:y.bg)||0,(y==null?void 0:y.extended)||new m.ExtendedAttrs),this.getWidth(d)!==0||this.hasContent(d)||this.setCellFromCodePoint(d,0,1,(y==null?void 0:y.fg)||0,(y==null?void 0:y.bg)||0,(y==null?void 0:y.extended)||new m.ExtendedAttrs)},E.prototype.replaceCells=function(d,v,C,y){for(d&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d-1,0,1,(y==null?void 0:y.fg)||0,(y==null?void 0:y.bg)||0,(y==null?void 0:y.extended)||new m.ExtendedAttrs),v<this.length&&this.getWidth(v-1)===2&&this.setCellFromCodePoint(v,0,1,(y==null?void 0:y.fg)||0,(y==null?void 0:y.bg)||0,(y==null?void 0:y.extended)||new m.ExtendedAttrs);d<v&&d<this.length;)this.setCell(d++,C)},E.prototype.resize=function(d,v){if(d!==this.length){if(d>this.length){var C=new Uint32Array(3*d);this.length&&(3*d<this._data.length?C.set(this._data.subarray(0,3*d)):C.set(this._data)),this._data=C;for(var y=this.length;y<d;++y)this.setCell(y,v)}else if(d){(C=new Uint32Array(3*d)).set(this._data.subarray(0,3*d)),this._data=C;var f=Object.keys(this._combined);for(y=0;y<f.length;y++){var c=parseInt(f[y],10);c>=d&&delete this._combined[c]}}else this._data=new Uint32Array(0),this._combined={};this.length=d}},E.prototype.fill=function(d){this._combined={},this._extendedAttrs={};for(var v=0;v<this.length;++v)this.setCell(v,d)},E.prototype.copyFrom=function(d){for(var v in this.length!==d.length?this._data=new Uint32Array(d._data):this._data.set(d._data),this.length=d.length,this._combined={},d._combined)this._combined[v]=d._combined[v];for(var v in this._extendedAttrs={},d._extendedAttrs)this._extendedAttrs[v]=d._extendedAttrs[v];this.isWrapped=d.isWrapped},E.prototype.clone=function(){var d=new E(0);for(var v in d._data=new Uint32Array(this._data),d.length=this.length,this._combined)d._combined[v]=this._combined[v];for(var v in this._extendedAttrs)d._extendedAttrs[v]=this._extendedAttrs[v];return d.isWrapped=this.isWrapped,d},E.prototype.getTrimmedLength=function(){for(var d=this.length-1;d>=0;--d)if(4194303&this._data[3*d+0])return d+(this._data[3*d+0]>>22);return 0},E.prototype.copyCellsFrom=function(d,v,C,y,f){var c=d._data;if(f)for(var l=y-1;l>=0;l--)for(var b=0;b<3;b++)this._data[3*(C+l)+b]=c[3*(v+l)+b];else for(l=0;l<y;l++)for(b=0;b<3;b++)this._data[3*(C+l)+b]=c[3*(v+l)+b];var S=Object.keys(d._combined);for(b=0;b<S.length;b++){var A=parseInt(S[b],10);A>=v&&(this._combined[A-v+C]=d._combined[A])}},E.prototype.translateToString=function(d,v,C){d===void 0&&(d=!1),v===void 0&&(v=0),C===void 0&&(C=this.length),d&&(C=Math.min(C,this.getTrimmedLength()));for(var y="";v<C;){var f=this._data[3*v+0],c=2097151&f;y+=2097152&f?this._combined[v]:c?(0,s.stringFromCodePoint)(c):u.WHITESPACE_CELL_CHAR,v+=f>>22||1}return y},E}();r.BufferLine=w},4841:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getRangeLength=void 0,r.getRangeLength=function(a,s){if(a.start.y>a.end.y)throw new Error("Buffer range end ("+a.end.x+", "+a.end.y+") cannot be before start ("+a.start.x+", "+a.start.y+")");return s*(a.end.y-a.start.y)+(a.end.x-a.start.x+1)}},4634:(g,r)=>{function a(s,u,p){if(u===s.length-1)return s[u].getTrimmedLength();var m=!s[u].hasContent(p-1)&&s[u].getWidth(p-1)===1,w=s[u+1].getWidth(0)===2;return m&&w?p-1:p}Object.defineProperty(r,"__esModule",{value:!0}),r.getWrappedLineTrimmedLength=r.reflowSmallerGetNewLineLengths=r.reflowLargerApplyNewLayout=r.reflowLargerCreateNewLayout=r.reflowLargerGetLinesToRemove=void 0,r.reflowLargerGetLinesToRemove=function(s,u,p,m,w){for(var E=[],d=0;d<s.length-1;d++){var v=d,C=s.get(++v);if(C.isWrapped){for(var y=[s.get(d)];v<s.length&&C.isWrapped;)y.push(C),C=s.get(++v);if(m>=d&&m<v)d+=y.length-1;else{for(var f=0,c=a(y,f,u),l=1,b=0;l<y.length;){var S=a(y,l,u),A=S-b,L=p-c,x=Math.min(A,L);y[f].copyCellsFrom(y[l],b,c,x,!1),(c+=x)===p&&(f++,c=0),(b+=x)===S&&(l++,b=0),c===0&&f!==0&&y[f-1].getWidth(p-1)===2&&(y[f].copyCellsFrom(y[f-1],p-1,c++,1,!1),y[f-1].setCell(p-1,w))}y[f].replaceCells(c,p,w);for(var M=0,O=y.length-1;O>0&&(O>f||y[O].getTrimmedLength()===0);O--)M++;M>0&&(E.push(d+y.length-M),E.push(M)),d+=y.length-1}}}return E},r.reflowLargerCreateNewLayout=function(s,u){for(var p=[],m=0,w=u[m],E=0,d=0;d<s.length;d++)if(w===d){var v=u[++m];s.onDeleteEmitter.fire({index:d-E,amount:v}),d+=v-1,E+=v,w=u[++m]}else p.push(d);return{layout:p,countRemoved:E}},r.reflowLargerApplyNewLayout=function(s,u){for(var p=[],m=0;m<u.length;m++)p.push(s.get(u[m]));for(m=0;m<p.length;m++)s.set(m,p[m]);s.length=u.length},r.reflowSmallerGetNewLineLengths=function(s,u,p){for(var m=[],w=s.map(function(c,l){return a(s,l,u)}).reduce(function(c,l){return c+l}),E=0,d=0,v=0;v<w;){if(w-v<p){m.push(w-v);break}E+=p;var C=a(s,d,u);E>C&&(E-=C,d++);var y=s[d].getWidth(E-1)===2;y&&E--;var f=y?p-1:p;m.push(f),v+=f}return m},r.getWrappedLineTrimmedLength=a},5295:function(g,r,a){var s,u=this&&this.__extends||(s=function(E,d){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,C){v.__proto__=C}||function(v,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(v[y]=C[y])},s(E,d)},function(E,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function v(){this.constructor=E}s(E,d),E.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)});Object.defineProperty(r,"__esModule",{value:!0}),r.BufferSet=void 0;var p=a(9092),m=a(8460),w=function(E){function d(v,C){var y=E.call(this)||this;return y._optionsService=v,y._bufferService=C,y._onBufferActivate=y.register(new m.EventEmitter),y.reset(),y}return u(d,E),Object.defineProperty(d.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),d.prototype.reset=function(){this._normal=new p.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new p.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()},Object.defineProperty(d.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),d.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},d.prototype.activateAltBuffer=function(v){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(v),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},d.prototype.resize=function(v,C){this._normal.resize(v,C),this._alt.resize(v,C)},d.prototype.setupTabStops=function(v){this._normal.setupTabStops(v),this._alt.setupTabStops(v)},d}(a(844).Disposable);r.BufferSet=w},511:function(g,r,a){var s,u=this&&this.__extends||(s=function(d,v){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,y){C.__proto__=y}||function(C,y){for(var f in y)Object.prototype.hasOwnProperty.call(y,f)&&(C[f]=y[f])},s(d,v)},function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function C(){this.constructor=d}s(d,v),d.prototype=v===null?Object.create(v):(C.prototype=v.prototype,new C)});Object.defineProperty(r,"__esModule",{value:!0}),r.CellData=void 0;var p=a(482),m=a(643),w=a(3734),E=function(d){function v(){var C=d!==null&&d.apply(this,arguments)||this;return C.content=0,C.fg=0,C.bg=0,C.extended=new w.ExtendedAttrs,C.combinedData="",C}return u(v,d),v.fromCharData=function(C){var y=new v;return y.setFromCharData(C),y},v.prototype.isCombined=function(){return 2097152&this.content},v.prototype.getWidth=function(){return this.content>>22},v.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,p.stringFromCodePoint)(2097151&this.content):""},v.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},v.prototype.setFromCharData=function(C){this.fg=C[m.CHAR_DATA_ATTR_INDEX],this.bg=0;var y=!1;if(C[m.CHAR_DATA_CHAR_INDEX].length>2)y=!0;else if(C[m.CHAR_DATA_CHAR_INDEX].length===2){var f=C[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=f&&f<=56319){var c=C[m.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=c&&c<=57343?this.content=1024*(f-55296)+c-56320+65536|C[m.CHAR_DATA_WIDTH_INDEX]<<22:y=!0}else y=!0}else this.content=C[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|C[m.CHAR_DATA_WIDTH_INDEX]<<22;y&&(this.combinedData=C[m.CHAR_DATA_CHAR_INDEX],this.content=2097152|C[m.CHAR_DATA_WIDTH_INDEX]<<22)},v.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},v}(w.AttributeData);r.CellData=E},643:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.WHITESPACE_CELL_CODE=r.WHITESPACE_CELL_WIDTH=r.WHITESPACE_CELL_CHAR=r.NULL_CELL_CODE=r.NULL_CELL_WIDTH=r.NULL_CELL_CHAR=r.CHAR_DATA_CODE_INDEX=r.CHAR_DATA_WIDTH_INDEX=r.CHAR_DATA_CHAR_INDEX=r.CHAR_DATA_ATTR_INDEX=r.DEFAULT_ATTR=r.DEFAULT_COLOR=void 0,r.DEFAULT_COLOR=256,r.DEFAULT_ATTR=256|r.DEFAULT_COLOR<<9,r.CHAR_DATA_ATTR_INDEX=0,r.CHAR_DATA_CHAR_INDEX=1,r.CHAR_DATA_WIDTH_INDEX=2,r.CHAR_DATA_CODE_INDEX=3,r.NULL_CELL_CHAR="",r.NULL_CELL_WIDTH=1,r.NULL_CELL_CODE=0,r.WHITESPACE_CELL_CHAR=" ",r.WHITESPACE_CELL_WIDTH=1,r.WHITESPACE_CELL_CODE=32},4863:function(g,r,a){var s,u=this&&this.__extends||(s=function(w,E){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var C in v)Object.prototype.hasOwnProperty.call(v,C)&&(d[C]=v[C])},s(w,E)},function(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function d(){this.constructor=w}s(w,E),w.prototype=E===null?Object.create(E):(d.prototype=E.prototype,new d)});Object.defineProperty(r,"__esModule",{value:!0}),r.Marker=void 0;var p=a(8460),m=function(w){function E(d){var v=w.call(this)||this;return v.line=d,v._id=E._nextId++,v.isDisposed=!1,v._onDispose=new p.EventEmitter,v}return u(E,w),Object.defineProperty(E.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),E.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),w.prototype.dispose.call(this))},E._nextId=1,E}(a(844).Disposable);r.Marker=m},7116:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_CHARSET=r.CHARSETS=void 0,r.CHARSETS={},r.DEFAULT_CHARSET=r.CHARSETS.B,r.CHARSETS[0]={"`":"\u25C6",a:"\u2592",b:"\u2409",c:"\u240C",d:"\u240D",e:"\u240A",f:"\xB0",g:"\xB1",h:"\u2424",i:"\u240B",j:"\u2518",k:"\u2510",l:"\u250C",m:"\u2514",n:"\u253C",o:"\u23BA",p:"\u23BB",q:"\u2500",r:"\u23BC",s:"\u23BD",t:"\u251C",u:"\u2524",v:"\u2534",w:"\u252C",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03C0","|":"\u2260","}":"\xA3","~":"\xB7"},r.CHARSETS.A={"#":"\xA3"},r.CHARSETS.B=void 0,r.CHARSETS[4]={"#":"\xA3","@":"\xBE","[":"ij","\\":"\xBD","]":"|","{":"\xA8","|":"f","}":"\xBC","~":"\xB4"},r.CHARSETS.C=r.CHARSETS[5]={"[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},r.CHARSETS.R={"#":"\xA3","@":"\xE0","[":"\xB0","\\":"\xE7","]":"\xA7","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xA8"},r.CHARSETS.Q={"@":"\xE0","[":"\xE2","\\":"\xE7","]":"\xEA","^":"\xEE","`":"\xF4","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xFB"},r.CHARSETS.K={"@":"\xA7","[":"\xC4","\\":"\xD6","]":"\xDC","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xDF"},r.CHARSETS.Y={"#":"\xA3","@":"\xA7","[":"\xB0","\\":"\xE7","]":"\xE9","`":"\xF9","{":"\xE0","|":"\xF2","}":"\xE8","~":"\xEC"},r.CHARSETS.E=r.CHARSETS[6]={"@":"\xC4","[":"\xC6","\\":"\xD8","]":"\xC5","^":"\xDC","`":"\xE4","{":"\xE6","|":"\xF8","}":"\xE5","~":"\xFC"},r.CHARSETS.Z={"#":"\xA3","@":"\xA7","[":"\xA1","\\":"\xD1","]":"\xBF","{":"\xB0","|":"\xF1","}":"\xE7"},r.CHARSETS.H=r.CHARSETS[7]={"@":"\xC9","[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},r.CHARSETS["="]={"#":"\xF9","@":"\xE0","[":"\xE9","\\":"\xE7","]":"\xEA","^":"\xEE",_:"\xE8","`":"\xF4","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xFB"}},2584:(g,r)=>{var a,s;Object.defineProperty(r,"__esModule",{value:!0}),r.C1=r.C0=void 0,(s=r.C0||(r.C0={})).NUL="\0",s.SOH="",s.STX="",s.ETX="",s.EOT="",s.ENQ="",s.ACK="",s.BEL="\x07",s.BS="\b",s.HT="	",s.LF=`
`,s.VT="\v",s.FF="\f",s.CR="\r",s.SO="",s.SI="",s.DLE="",s.DC1="",s.DC2="",s.DC3="",s.DC4="",s.NAK="",s.SYN="",s.ETB="",s.CAN="",s.EM="",s.SUB="",s.ESC="",s.FS="",s.GS="",s.RS="",s.US="",s.SP=" ",s.DEL="\x7F",(a=r.C1||(r.C1={})).PAD="\x80",a.HOP="\x81",a.BPH="\x82",a.NBH="\x83",a.IND="\x84",a.NEL="\x85",a.SSA="\x86",a.ESA="\x87",a.HTS="\x88",a.HTJ="\x89",a.VTS="\x8A",a.PLD="\x8B",a.PLU="\x8C",a.RI="\x8D",a.SS2="\x8E",a.SS3="\x8F",a.DCS="\x90",a.PU1="\x91",a.PU2="\x92",a.STS="\x93",a.CCH="\x94",a.MW="\x95",a.SPA="\x96",a.EPA="\x97",a.SOS="\x98",a.SGCI="\x99",a.SCI="\x9A",a.CSI="\x9B",a.ST="\x9C",a.OSC="\x9D",a.PM="\x9E",a.APC="\x9F"},7399:(g,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.evaluateKeyboardEvent=void 0;var s=a(2584),u={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};r.evaluateKeyboardEvent=function(p,m,w,E){var d={type:0,cancel:!1,key:void 0},v=(p.shiftKey?1:0)|(p.altKey?2:0)|(p.ctrlKey?4:0)|(p.metaKey?8:0);switch(p.keyCode){case 0:p.key==="UIKeyInputUpArrow"?d.key=m?s.C0.ESC+"OA":s.C0.ESC+"[A":p.key==="UIKeyInputLeftArrow"?d.key=m?s.C0.ESC+"OD":s.C0.ESC+"[D":p.key==="UIKeyInputRightArrow"?d.key=m?s.C0.ESC+"OC":s.C0.ESC+"[C":p.key==="UIKeyInputDownArrow"&&(d.key=m?s.C0.ESC+"OB":s.C0.ESC+"[B");break;case 8:if(p.shiftKey){d.key=s.C0.BS;break}if(p.altKey){d.key=s.C0.ESC+s.C0.DEL;break}d.key=s.C0.DEL;break;case 9:if(p.shiftKey){d.key=s.C0.ESC+"[Z";break}d.key=s.C0.HT,d.cancel=!0;break;case 13:d.key=p.altKey?s.C0.ESC+s.C0.CR:s.C0.CR,d.cancel=!0;break;case 27:d.key=s.C0.ESC,p.altKey&&(d.key=s.C0.ESC+s.C0.ESC),d.cancel=!0;break;case 37:if(p.metaKey)break;v?(d.key=s.C0.ESC+"[1;"+(v+1)+"D",d.key===s.C0.ESC+"[1;3D"&&(d.key=s.C0.ESC+(w?"b":"[1;5D"))):d.key=m?s.C0.ESC+"OD":s.C0.ESC+"[D";break;case 39:if(p.metaKey)break;v?(d.key=s.C0.ESC+"[1;"+(v+1)+"C",d.key===s.C0.ESC+"[1;3C"&&(d.key=s.C0.ESC+(w?"f":"[1;5C"))):d.key=m?s.C0.ESC+"OC":s.C0.ESC+"[C";break;case 38:if(p.metaKey)break;v?(d.key=s.C0.ESC+"[1;"+(v+1)+"A",w||d.key!==s.C0.ESC+"[1;3A"||(d.key=s.C0.ESC+"[1;5A")):d.key=m?s.C0.ESC+"OA":s.C0.ESC+"[A";break;case 40:if(p.metaKey)break;v?(d.key=s.C0.ESC+"[1;"+(v+1)+"B",w||d.key!==s.C0.ESC+"[1;3B"||(d.key=s.C0.ESC+"[1;5B")):d.key=m?s.C0.ESC+"OB":s.C0.ESC+"[B";break;case 45:p.shiftKey||p.ctrlKey||(d.key=s.C0.ESC+"[2~");break;case 46:d.key=v?s.C0.ESC+"[3;"+(v+1)+"~":s.C0.ESC+"[3~";break;case 36:d.key=v?s.C0.ESC+"[1;"+(v+1)+"H":m?s.C0.ESC+"OH":s.C0.ESC+"[H";break;case 35:d.key=v?s.C0.ESC+"[1;"+(v+1)+"F":m?s.C0.ESC+"OF":s.C0.ESC+"[F";break;case 33:p.shiftKey?d.type=2:d.key=s.C0.ESC+"[5~";break;case 34:p.shiftKey?d.type=3:d.key=s.C0.ESC+"[6~";break;case 112:d.key=v?s.C0.ESC+"[1;"+(v+1)+"P":s.C0.ESC+"OP";break;case 113:d.key=v?s.C0.ESC+"[1;"+(v+1)+"Q":s.C0.ESC+"OQ";break;case 114:d.key=v?s.C0.ESC+"[1;"+(v+1)+"R":s.C0.ESC+"OR";break;case 115:d.key=v?s.C0.ESC+"[1;"+(v+1)+"S":s.C0.ESC+"OS";break;case 116:d.key=v?s.C0.ESC+"[15;"+(v+1)+"~":s.C0.ESC+"[15~";break;case 117:d.key=v?s.C0.ESC+"[17;"+(v+1)+"~":s.C0.ESC+"[17~";break;case 118:d.key=v?s.C0.ESC+"[18;"+(v+1)+"~":s.C0.ESC+"[18~";break;case 119:d.key=v?s.C0.ESC+"[19;"+(v+1)+"~":s.C0.ESC+"[19~";break;case 120:d.key=v?s.C0.ESC+"[20;"+(v+1)+"~":s.C0.ESC+"[20~";break;case 121:d.key=v?s.C0.ESC+"[21;"+(v+1)+"~":s.C0.ESC+"[21~";break;case 122:d.key=v?s.C0.ESC+"[23;"+(v+1)+"~":s.C0.ESC+"[23~";break;case 123:d.key=v?s.C0.ESC+"[24;"+(v+1)+"~":s.C0.ESC+"[24~";break;default:if(!p.ctrlKey||p.shiftKey||p.altKey||p.metaKey)if(w&&!E||!p.altKey||p.metaKey)!w||p.altKey||p.ctrlKey||p.shiftKey||!p.metaKey?p.key&&!p.ctrlKey&&!p.altKey&&!p.metaKey&&p.keyCode>=48&&p.key.length===1?d.key=p.key:p.key&&p.ctrlKey&&p.key==="_"&&(d.key=s.C0.US):p.keyCode===65&&(d.type=1);else{var C=u[p.keyCode],y=C==null?void 0:C[p.shiftKey?1:0];if(y)d.key=s.C0.ESC+y;else if(p.keyCode>=65&&p.keyCode<=90){var f=p.ctrlKey?p.keyCode-64:p.keyCode+32;d.key=s.C0.ESC+String.fromCharCode(f)}}else p.keyCode>=65&&p.keyCode<=90?d.key=String.fromCharCode(p.keyCode-64):p.keyCode===32?d.key=s.C0.NUL:p.keyCode>=51&&p.keyCode<=55?d.key=String.fromCharCode(p.keyCode-51+27):p.keyCode===56?d.key=s.C0.DEL:p.keyCode===219?d.key=s.C0.ESC:p.keyCode===220?d.key=s.C0.FS:p.keyCode===221&&(d.key=s.C0.GS)}return d}},482:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Utf8ToUtf32=r.StringToUtf32=r.utf32ToString=r.stringFromCodePoint=void 0,r.stringFromCodePoint=function(u){return u>65535?(u-=65536,String.fromCharCode(55296+(u>>10))+String.fromCharCode(u%1024+56320)):String.fromCharCode(u)},r.utf32ToString=function(u,p,m){p===void 0&&(p=0),m===void 0&&(m=u.length);for(var w="",E=p;E<m;++E){var d=u[E];d>65535?(d-=65536,w+=String.fromCharCode(55296+(d>>10))+String.fromCharCode(d%1024+56320)):w+=String.fromCharCode(d)}return w};var a=function(){function u(){this._interim=0}return u.prototype.clear=function(){this._interim=0},u.prototype.decode=function(p,m){var w=p.length;if(!w)return 0;var E=0,d=0;this._interim&&(56320<=(y=p.charCodeAt(d++))&&y<=57343?m[E++]=1024*(this._interim-55296)+y-56320+65536:(m[E++]=this._interim,m[E++]=y),this._interim=0);for(var v=d;v<w;++v){var C=p.charCodeAt(v);if(55296<=C&&C<=56319){if(++v>=w)return this._interim=C,E;var y;56320<=(y=p.charCodeAt(v))&&y<=57343?m[E++]=1024*(C-55296)+y-56320+65536:(m[E++]=C,m[E++]=y)}else C!==65279&&(m[E++]=C)}return E},u}();r.StringToUtf32=a;var s=function(){function u(){this.interim=new Uint8Array(3)}return u.prototype.clear=function(){this.interim.fill(0)},u.prototype.decode=function(p,m){var w=p.length;if(!w)return 0;var E,d,v,C,y=0,f=0,c=0;if(this.interim[0]){var l=!1,b=this.interim[0];b&=(224&b)==192?31:(240&b)==224?15:7;for(var S=0,A=void 0;(A=63&this.interim[++S])&&S<4;)b<<=6,b|=A;for(var L=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,x=L-S;c<x;){if(c>=w)return 0;if((192&(A=p[c++]))!=128){c--,l=!0;break}this.interim[S++]=A,b<<=6,b|=63&A}l||(L===2?b<128?c--:m[y++]=b:L===3?b<2048||b>=55296&&b<=57343||b===65279||(m[y++]=b):b<65536||b>1114111||(m[y++]=b)),this.interim.fill(0)}for(var M=w-4,O=c;O<w;){for(;!(!(O<M)||128&(E=p[O])||128&(d=p[O+1])||128&(v=p[O+2])||128&(C=p[O+3]));)m[y++]=E,m[y++]=d,m[y++]=v,m[y++]=C,O+=4;if((E=p[O++])<128)m[y++]=E;else if((224&E)==192){if(O>=w)return this.interim[0]=E,y;if((192&(d=p[O++]))!=128){O--;continue}if((f=(31&E)<<6|63&d)<128){O--;continue}m[y++]=f}else if((240&E)==224){if(O>=w)return this.interim[0]=E,y;if((192&(d=p[O++]))!=128){O--;continue}if(O>=w)return this.interim[0]=E,this.interim[1]=d,y;if((192&(v=p[O++]))!=128){O--;continue}if((f=(15&E)<<12|(63&d)<<6|63&v)<2048||f>=55296&&f<=57343||f===65279)continue;m[y++]=f}else if((248&E)==240){if(O>=w)return this.interim[0]=E,y;if((192&(d=p[O++]))!=128){O--;continue}if(O>=w)return this.interim[0]=E,this.interim[1]=d,y;if((192&(v=p[O++]))!=128){O--;continue}if(O>=w)return this.interim[0]=E,this.interim[1]=d,this.interim[2]=v,y;if((192&(C=p[O++]))!=128){O--;continue}if((f=(7&E)<<18|(63&d)<<12|(63&v)<<6|63&C)<65536||f>1114111)continue;m[y++]=f}}return y},u}();r.Utf8ToUtf32=s},225:(g,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.UnicodeV6=void 0;var s,u=a(8273),p=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],m=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],w=function(){function E(){if(this.version="6",!s){s=new Uint8Array(65536),(0,u.fill)(s,1),s[0]=0,(0,u.fill)(s,0,1,32),(0,u.fill)(s,0,127,160),(0,u.fill)(s,2,4352,4448),s[9001]=2,s[9002]=2,(0,u.fill)(s,2,11904,42192),s[12351]=1,(0,u.fill)(s,2,44032,55204),(0,u.fill)(s,2,63744,64256),(0,u.fill)(s,2,65040,65050),(0,u.fill)(s,2,65072,65136),(0,u.fill)(s,2,65280,65377),(0,u.fill)(s,2,65504,65511);for(var d=0;d<p.length;++d)(0,u.fill)(s,0,p[d][0],p[d][1]+1)}}return E.prototype.wcwidth=function(d){return d<32?0:d<127?1:d<65536?s[d]:function(v,C){var y,f=0,c=C.length-1;if(v<C[0][0]||v>C[c][1])return!1;for(;c>=f;)if(v>C[y=f+c>>1][1])f=y+1;else{if(!(v<C[y][0]))return!0;c=y-1}return!1}(d,m)?0:d>=131072&&d<=196605||d>=196608&&d<=262141?2:1},E}();r.UnicodeV6=w},5981:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.WriteBuffer=void 0;var a=typeof queueMicrotask=="undefined"?function(u){Promise.resolve().then(u)}:queueMicrotask,s=function(){function u(p){this._action=p,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0}return u.prototype.writeSync=function(p,m){if(m!==void 0&&this._syncCalls>m)this._syncCalls=0;else if(this._pendingData+=p.length,this._writeBuffer.push(p),this._callbacks.push(void 0),this._syncCalls++,!this._isSyncWriting){var w;for(this._isSyncWriting=!0;w=this._writeBuffer.shift();){this._action(w);var E=this._callbacks.shift();E&&E()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}},u.prototype.write=function(p,m){var w=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout(function(){return w._innerWrite()})),this._pendingData+=p.length,this._writeBuffer.push(p),this._callbacks.push(m)},u.prototype._innerWrite=function(p,m){var w=this;p===void 0&&(p=0),m===void 0&&(m=!0);for(var E=p||Date.now();this._writeBuffer.length>this._bufferOffset;){var d=this._writeBuffer[this._bufferOffset],v=this._action(d,m);if(v)return void v.catch(function(y){return a(function(){throw y}),Promise.resolve(!1)}).then(function(y){return Date.now()-E>=12?setTimeout(function(){return w._innerWrite(0,y)}):w._innerWrite(E,y)});var C=this._callbacks[this._bufferOffset];if(C&&C(),this._bufferOffset++,this._pendingData-=d.length,Date.now()-E>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(function(){return w._innerWrite()})):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0)},u}();r.WriteBuffer=s},5941:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.toRgbString=r.parseColor=void 0;var a=/^([\da-f]{1})\/([\da-f]{1})\/([\da-f]{1})$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,s=/^[\da-f]+$/;function u(p,m){var w=p.toString(16),E=w.length<2?"0"+w:w;switch(m){case 4:return w[0];case 8:return E;case 12:return(E+E).slice(0,3);default:return E+E}}r.parseColor=function(p){if(p){var m=p.toLowerCase();if(m.indexOf("rgb:")===0){m=m.slice(4);var w=a.exec(m);if(w){var E=w[1]?15:w[4]?255:w[7]?4095:65535;return[Math.round(parseInt(w[1]||w[4]||w[7]||w[10],16)/E*255),Math.round(parseInt(w[2]||w[5]||w[8]||w[11],16)/E*255),Math.round(parseInt(w[3]||w[6]||w[9]||w[12],16)/E*255)]}}else if(m.indexOf("#")===0&&(m=m.slice(1),s.exec(m)&&[3,6,9,12].includes(m.length))){for(var d=m.length/3,v=[0,0,0],C=0;C<3;++C){var y=parseInt(m.slice(d*C,d*C+d),16);v[C]=d===1?y<<4:d===2?y:d===3?y>>4:y>>8}return v}}},r.toRgbString=function(p,m){m===void 0&&(m=16);var w=p[0],E=p[1],d=p[2];return"rgb:"+u(w,m)+"/"+u(E,m)+"/"+u(d,m)}},5770:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PAYLOAD_LIMIT=void 0,r.PAYLOAD_LIMIT=1e7},6351:(g,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DcsHandler=r.DcsParser=void 0;var s=a(482),u=a(8742),p=a(5770),m=[],w=function(){function v(){this._handlers=Object.create(null),this._active=m,this._ident=0,this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return v.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=m},v.prototype.registerHandler=function(C,y){this._handlers[C]===void 0&&(this._handlers[C]=[]);var f=this._handlers[C];return f.push(y),{dispose:function(){var c=f.indexOf(y);c!==-1&&f.splice(c,1)}}},v.prototype.clearHandler=function(C){this._handlers[C]&&delete this._handlers[C]},v.prototype.setHandlerFallback=function(C){this._handlerFb=C},v.prototype.reset=function(){if(this._active.length)for(var C=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;C>=0;--C)this._active[C].unhook(!1);this._stack.paused=!1,this._active=m,this._ident=0},v.prototype.hook=function(C,y){if(this.reset(),this._ident=C,this._active=this._handlers[C]||m,this._active.length)for(var f=this._active.length-1;f>=0;f--)this._active[f].hook(y);else this._handlerFb(this._ident,"HOOK",y)},v.prototype.put=function(C,y,f){if(this._active.length)for(var c=this._active.length-1;c>=0;c--)this._active[c].put(C,y,f);else this._handlerFb(this._ident,"PUT",(0,s.utf32ToString)(C,y,f))},v.prototype.unhook=function(C,y){if(y===void 0&&(y=!0),this._active.length){var f=!1,c=this._active.length-1,l=!1;if(this._stack.paused&&(c=this._stack.loopPosition-1,f=y,l=this._stack.fallThrough,this._stack.paused=!1),!l&&f===!1){for(;c>=0&&(f=this._active[c].unhook(C))!==!0;c--)if(f instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=c,this._stack.fallThrough=!1,f;c--}for(;c>=0;c--)if((f=this._active[c].unhook(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=c,this._stack.fallThrough=!0,f}else this._handlerFb(this._ident,"UNHOOK",C);this._active=m,this._ident=0},v}();r.DcsParser=w;var E=new u.Params;E.addParam(0);var d=function(){function v(C){this._handler=C,this._data="",this._params=E,this._hitLimit=!1}return v.prototype.hook=function(C){this._params=C.length>1||C.params[0]?C.clone():E,this._data="",this._hitLimit=!1},v.prototype.put=function(C,y,f){this._hitLimit||(this._data+=(0,s.utf32ToString)(C,y,f),this._data.length>p.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},v.prototype.unhook=function(C){var y=this,f=!1;if(this._hitLimit)f=!1;else if(C&&(f=this._handler(this._data,this._params))instanceof Promise)return f.then(function(c){return y._params=E,y._data="",y._hitLimit=!1,c});return this._params=E,this._data="",this._hitLimit=!1,f},v}();r.DcsHandler=d},2015:function(g,r,a){var s,u=this&&this.__extends||(s=function(f,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,b){l.__proto__=b}||function(l,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(l[S]=b[S])},s(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function l(){this.constructor=f}s(f,c),f.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)});Object.defineProperty(r,"__esModule",{value:!0}),r.EscapeSequenceParser=r.VT500_TRANSITION_TABLE=r.TransitionTable=void 0;var p=a(844),m=a(8273),w=a(8742),E=a(6242),d=a(6351),v=function(){function f(c){this.table=new Uint8Array(c)}return f.prototype.setDefault=function(c,l){(0,m.fill)(this.table,c<<4|l)},f.prototype.add=function(c,l,b,S){this.table[l<<8|c]=b<<4|S},f.prototype.addMany=function(c,l,b,S){for(var A=0;A<c.length;A++)this.table[l<<8|c[A]]=b<<4|S},f}();r.TransitionTable=v;var C=160;r.VT500_TRANSITION_TABLE=function(){var f=new v(4095),c=Array.apply(null,Array(256)).map(function(x,M){return M}),l=function(x,M){return c.slice(x,M)},b=l(32,127),S=l(0,24);S.push(25),S.push.apply(S,l(28,32));var A,L=l(0,14);for(A in f.setDefault(1,0),f.addMany(b,0,2,0),L)f.addMany([24,26,153,154],A,3,0),f.addMany(l(128,144),A,3,0),f.addMany(l(144,152),A,3,0),f.add(156,A,0,0),f.add(27,A,11,1),f.add(157,A,4,8),f.addMany([152,158,159],A,0,7),f.add(155,A,11,3),f.add(144,A,11,9);return f.addMany(S,0,3,0),f.addMany(S,1,3,1),f.add(127,1,0,1),f.addMany(S,8,0,8),f.addMany(S,3,3,3),f.add(127,3,0,3),f.addMany(S,4,3,4),f.add(127,4,0,4),f.addMany(S,6,3,6),f.addMany(S,5,3,5),f.add(127,5,0,5),f.addMany(S,2,3,2),f.add(127,2,0,2),f.add(93,1,4,8),f.addMany(b,8,5,8),f.add(127,8,5,8),f.addMany([156,27,24,26,7],8,6,0),f.addMany(l(28,32),8,0,8),f.addMany([88,94,95],1,0,7),f.addMany(b,7,0,7),f.addMany(S,7,0,7),f.add(156,7,0,0),f.add(127,7,0,7),f.add(91,1,11,3),f.addMany(l(64,127),3,7,0),f.addMany(l(48,60),3,8,4),f.addMany([60,61,62,63],3,9,4),f.addMany(l(48,60),4,8,4),f.addMany(l(64,127),4,7,0),f.addMany([60,61,62,63],4,0,6),f.addMany(l(32,64),6,0,6),f.add(127,6,0,6),f.addMany(l(64,127),6,0,0),f.addMany(l(32,48),3,9,5),f.addMany(l(32,48),5,9,5),f.addMany(l(48,64),5,0,6),f.addMany(l(64,127),5,7,0),f.addMany(l(32,48),4,9,5),f.addMany(l(32,48),1,9,2),f.addMany(l(32,48),2,9,2),f.addMany(l(48,127),2,10,0),f.addMany(l(48,80),1,10,0),f.addMany(l(81,88),1,10,0),f.addMany([89,90,92],1,10,0),f.addMany(l(96,127),1,10,0),f.add(80,1,11,9),f.addMany(S,9,0,9),f.add(127,9,0,9),f.addMany(l(28,32),9,0,9),f.addMany(l(32,48),9,9,12),f.addMany(l(48,60),9,8,10),f.addMany([60,61,62,63],9,9,10),f.addMany(S,11,0,11),f.addMany(l(32,128),11,0,11),f.addMany(l(28,32),11,0,11),f.addMany(S,10,0,10),f.add(127,10,0,10),f.addMany(l(28,32),10,0,10),f.addMany(l(48,60),10,8,10),f.addMany([60,61,62,63],10,0,11),f.addMany(l(32,48),10,9,12),f.addMany(S,12,0,12),f.add(127,12,0,12),f.addMany(l(28,32),12,0,12),f.addMany(l(32,48),12,9,12),f.addMany(l(48,64),12,0,11),f.addMany(l(64,127),12,12,13),f.addMany(l(64,127),10,12,13),f.addMany(l(64,127),9,12,13),f.addMany(S,13,13,13),f.addMany(b,13,13,13),f.add(127,13,0,13),f.addMany([27,156,24,26],13,14,0),f.add(C,0,2,0),f.add(C,8,5,8),f.add(C,6,0,6),f.add(C,11,0,11),f.add(C,13,13,13),f}();var y=function(f){function c(l){l===void 0&&(l=r.VT500_TRANSITION_TABLE);var b=f.call(this)||this;return b._transitions=l,b._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},b.initialState=0,b.currentState=b.initialState,b._params=new w.Params,b._params.addParam(0),b._collect=0,b.precedingCodepoint=0,b._printHandlerFb=function(S,A,L){},b._executeHandlerFb=function(S){},b._csiHandlerFb=function(S,A){},b._escHandlerFb=function(S){},b._errorHandlerFb=function(S){return S},b._printHandler=b._printHandlerFb,b._executeHandlers=Object.create(null),b._csiHandlers=Object.create(null),b._escHandlers=Object.create(null),b._oscParser=new E.OscParser,b._dcsParser=new d.DcsParser,b._errorHandler=b._errorHandlerFb,b.registerEscHandler({final:"\\"},function(){return!0}),b}return u(c,f),c.prototype._identifier=function(l,b){b===void 0&&(b=[64,126]);var S=0;if(l.prefix){if(l.prefix.length>1)throw new Error("only one byte as prefix supported");if((S=l.prefix.charCodeAt(0))&&60>S||S>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(l.intermediates){if(l.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var A=0;A<l.intermediates.length;++A){var L=l.intermediates.charCodeAt(A);if(32>L||L>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");S<<=8,S|=L}}if(l.final.length!==1)throw new Error("final must be a single byte");var x=l.final.charCodeAt(0);if(b[0]>x||x>b[1])throw new Error("final must be in range "+b[0]+" .. "+b[1]);return(S<<=8)|x},c.prototype.identToString=function(l){for(var b=[];l;)b.push(String.fromCharCode(255&l)),l>>=8;return b.reverse().join("")},c.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},c.prototype.setPrintHandler=function(l){this._printHandler=l},c.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},c.prototype.registerEscHandler=function(l,b){var S=this._identifier(l,[48,126]);this._escHandlers[S]===void 0&&(this._escHandlers[S]=[]);var A=this._escHandlers[S];return A.push(b),{dispose:function(){var L=A.indexOf(b);L!==-1&&A.splice(L,1)}}},c.prototype.clearEscHandler=function(l){this._escHandlers[this._identifier(l,[48,126])]&&delete this._escHandlers[this._identifier(l,[48,126])]},c.prototype.setEscHandlerFallback=function(l){this._escHandlerFb=l},c.prototype.setExecuteHandler=function(l,b){this._executeHandlers[l.charCodeAt(0)]=b},c.prototype.clearExecuteHandler=function(l){this._executeHandlers[l.charCodeAt(0)]&&delete this._executeHandlers[l.charCodeAt(0)]},c.prototype.setExecuteHandlerFallback=function(l){this._executeHandlerFb=l},c.prototype.registerCsiHandler=function(l,b){var S=this._identifier(l);this._csiHandlers[S]===void 0&&(this._csiHandlers[S]=[]);var A=this._csiHandlers[S];return A.push(b),{dispose:function(){var L=A.indexOf(b);L!==-1&&A.splice(L,1)}}},c.prototype.clearCsiHandler=function(l){this._csiHandlers[this._identifier(l)]&&delete this._csiHandlers[this._identifier(l)]},c.prototype.setCsiHandlerFallback=function(l){this._csiHandlerFb=l},c.prototype.registerDcsHandler=function(l,b){return this._dcsParser.registerHandler(this._identifier(l),b)},c.prototype.clearDcsHandler=function(l){this._dcsParser.clearHandler(this._identifier(l))},c.prototype.setDcsHandlerFallback=function(l){this._dcsParser.setHandlerFallback(l)},c.prototype.registerOscHandler=function(l,b){return this._oscParser.registerHandler(l,b)},c.prototype.clearOscHandler=function(l){this._oscParser.clearHandler(l)},c.prototype.setOscHandlerFallback=function(l){this._oscParser.setHandlerFallback(l)},c.prototype.setErrorHandler=function(l){this._errorHandler=l},c.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},c.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])},c.prototype._preserveStack=function(l,b,S,A,L){this._parseStack.state=l,this._parseStack.handlers=b,this._parseStack.handlerPos=S,this._parseStack.transition=A,this._parseStack.chunkPos=L},c.prototype.parse=function(l,b,S){var A,L=0,x=0,M=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,M=this._parseStack.chunkPos+1;else{if(S===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");var O=this._parseStack.handlers,T=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(S===!1&&T>-1){for(;T>=0&&(A=O[T](this._params))!==!0;T--)if(A instanceof Promise)return this._parseStack.handlerPos=T,A}this._parseStack.handlers=[];break;case 4:if(S===!1&&T>-1){for(;T>=0&&(A=O[T]())!==!0;T--)if(A instanceof Promise)return this._parseStack.handlerPos=T,A}this._parseStack.handlers=[];break;case 6:if(L=l[this._parseStack.chunkPos],A=this._dcsParser.unhook(L!==24&&L!==26,S))return A;L===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(L=l[this._parseStack.chunkPos],A=this._oscParser.end(L!==24&&L!==26,S))return A;L===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,M=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(var I=M;I<b;++I){switch(L=l[I],(x=this._transitions.table[this.currentState<<8|(L<160?L:C)])>>4){case 2:for(var P=I+1;;++P){if(P>=b||(L=l[P])<32||L>126&&L<C){this._printHandler(l,I,P),I=P-1;break}if(++P>=b||(L=l[P])<32||L>126&&L<C){this._printHandler(l,I,P),I=P-1;break}if(++P>=b||(L=l[P])<32||L>126&&L<C){this._printHandler(l,I,P),I=P-1;break}if(++P>=b||(L=l[P])<32||L>126&&L<C){this._printHandler(l,I,P),I=P-1;break}}break;case 3:this._executeHandlers[L]?this._executeHandlers[L]():this._executeHandlerFb(L),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:I,code:L,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:for(var $=(O=this._csiHandlers[this._collect<<8|L])?O.length-1:-1;$>=0&&(A=O[$](this._params))!==!0;$--)if(A instanceof Promise)return this._preserveStack(3,O,$,x,I),A;$<0&&this._csiHandlerFb(this._collect<<8|L,this._params),this.precedingCodepoint=0;break;case 8:do switch(L){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(L-48)}while(++I<b&&(L=l[I])>47&&L<60);I--;break;case 9:this._collect<<=8,this._collect|=L;break;case 10:for(var F=this._escHandlers[this._collect<<8|L],R=F?F.length-1:-1;R>=0&&(A=F[R]())!==!0;R--)if(A instanceof Promise)return this._preserveStack(4,F,R,x,I),A;R<0&&this._escHandlerFb(this._collect<<8|L),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|L,this._params);break;case 13:for(var N=I+1;;++N)if(N>=b||(L=l[N])===24||L===26||L===27||L>127&&L<C){this._dcsParser.put(l,I,N),I=N-1;break}break;case 14:if(A=this._dcsParser.unhook(L!==24&&L!==26))return this._preserveStack(6,[],0,x,I),A;L===27&&(x|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(var j=I+1;;j++)if(j>=b||(L=l[j])<32||L>127&&L<C){this._oscParser.put(l,I,j),I=j-1;break}break;case 6:if(A=this._oscParser.end(L!==24&&L!==26))return this._preserveStack(5,[],0,x,I),A;L===27&&(x|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&x}},c}(p.Disposable);r.EscapeSequenceParser=y},6242:(g,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.OscHandler=r.OscParser=void 0;var s=a(5770),u=a(482),p=[],m=function(){function E(){this._state=0,this._active=p,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return E.prototype.registerHandler=function(d,v){this._handlers[d]===void 0&&(this._handlers[d]=[]);var C=this._handlers[d];return C.push(v),{dispose:function(){var y=C.indexOf(v);y!==-1&&C.splice(y,1)}}},E.prototype.clearHandler=function(d){this._handlers[d]&&delete this._handlers[d]},E.prototype.setHandlerFallback=function(d){this._handlerFb=d},E.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=p},E.prototype.reset=function(){if(this._state===2)for(var d=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;d>=0;--d)this._active[d].end(!1);this._stack.paused=!1,this._active=p,this._id=-1,this._state=0},E.prototype._start=function(){if(this._active=this._handlers[this._id]||p,this._active.length)for(var d=this._active.length-1;d>=0;d--)this._active[d].start();else this._handlerFb(this._id,"START")},E.prototype._put=function(d,v,C){if(this._active.length)for(var y=this._active.length-1;y>=0;y--)this._active[y].put(d,v,C);else this._handlerFb(this._id,"PUT",(0,u.utf32ToString)(d,v,C))},E.prototype.start=function(){this.reset(),this._state=1},E.prototype.put=function(d,v,C){if(this._state!==3){if(this._state===1)for(;v<C;){var y=d[v++];if(y===59){this._state=2,this._start();break}if(y<48||57<y)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+y-48}this._state===2&&C-v>0&&this._put(d,v,C)}},E.prototype.end=function(d,v){if(v===void 0&&(v=!0),this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){var C=!1,y=this._active.length-1,f=!1;if(this._stack.paused&&(y=this._stack.loopPosition-1,C=v,f=this._stack.fallThrough,this._stack.paused=!1),!f&&C===!1){for(;y>=0&&(C=this._active[y].end(d))!==!0;y--)if(C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!1,C;y--}for(;y>=0;y--)if((C=this._active[y].end(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!0,C}else this._handlerFb(this._id,"END",d);this._active=p,this._id=-1,this._state=0}},E}();r.OscParser=m;var w=function(){function E(d){this._handler=d,this._data="",this._hitLimit=!1}return E.prototype.start=function(){this._data="",this._hitLimit=!1},E.prototype.put=function(d,v,C){this._hitLimit||(this._data+=(0,u.utf32ToString)(d,v,C),this._data.length>s.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},E.prototype.end=function(d){var v=this,C=!1;if(this._hitLimit)C=!1;else if(d&&(C=this._handler(this._data))instanceof Promise)return C.then(function(y){return v._data="",v._hitLimit=!1,y});return this._data="",this._hitLimit=!1,C},E}();r.OscHandler=w},8742:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Params=void 0;var a=2147483647,s=function(){function u(p,m){if(p===void 0&&(p=32),m===void 0&&(m=32),this.maxLength=p,this.maxSubParamsLength=m,m>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(p),this.length=0,this._subParams=new Int32Array(m),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(p),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return u.fromArray=function(p){var m=new u;if(!p.length)return m;for(var w=Array.isArray(p[0])?1:0;w<p.length;++w){var E=p[w];if(Array.isArray(E))for(var d=0;d<E.length;++d)m.addSubParam(E[d]);else m.addParam(E)}return m},u.prototype.clone=function(){var p=new u(this.maxLength,this.maxSubParamsLength);return p.params.set(this.params),p.length=this.length,p._subParams.set(this._subParams),p._subParamsLength=this._subParamsLength,p._subParamsIdx.set(this._subParamsIdx),p._rejectDigits=this._rejectDigits,p._rejectSubDigits=this._rejectSubDigits,p._digitIsSub=this._digitIsSub,p},u.prototype.toArray=function(){for(var p=[],m=0;m<this.length;++m){p.push(this.params[m]);var w=this._subParamsIdx[m]>>8,E=255&this._subParamsIdx[m];E-w>0&&p.push(Array.prototype.slice.call(this._subParams,w,E))}return p},u.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},u.prototype.addParam=function(p){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(p<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=p>a?a:p}},u.prototype.addSubParam=function(p){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(p<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=p>a?a:p,this._subParamsIdx[this.length-1]++}},u.prototype.hasSubParams=function(p){return(255&this._subParamsIdx[p])-(this._subParamsIdx[p]>>8)>0},u.prototype.getSubParams=function(p){var m=this._subParamsIdx[p]>>8,w=255&this._subParamsIdx[p];return w-m>0?this._subParams.subarray(m,w):null},u.prototype.getSubParamsAll=function(){for(var p={},m=0;m<this.length;++m){var w=this._subParamsIdx[m]>>8,E=255&this._subParamsIdx[m];E-w>0&&(p[m]=this._subParams.slice(w,E))}return p},u.prototype.addDigit=function(p){var m;if(!(this._rejectDigits||!(m=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var w=this._digitIsSub?this._subParams:this.params,E=w[m-1];w[m-1]=~E?Math.min(10*E+p,a):p}},u}();r.Params=s},5741:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.AddonManager=void 0;var a=function(){function s(){this._addons=[]}return s.prototype.dispose=function(){for(var u=this._addons.length-1;u>=0;u--)this._addons[u].instance.dispose()},s.prototype.loadAddon=function(u,p){var m=this,w={instance:p,dispose:p.dispose,isDisposed:!1};this._addons.push(w),p.dispose=function(){return m._wrappedAddonDispose(w)},p.activate(u)},s.prototype._wrappedAddonDispose=function(u){if(!u.isDisposed){for(var p=-1,m=0;m<this._addons.length;m++)if(this._addons[m]===u){p=m;break}if(p===-1)throw new Error("Could not dispose an addon that has not been loaded");u.isDisposed=!0,u.dispose.apply(u.instance),this._addons.splice(p,1)}},s}();r.AddonManager=a},8771:(g,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferApiView=void 0;var s=a(3785),u=a(511),p=function(){function m(w,E){this._buffer=w,this.type=E}return m.prototype.init=function(w){return this._buffer=w,this},Object.defineProperty(m.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),m.prototype.getLine=function(w){var E=this._buffer.lines.get(w);if(E)return new s.BufferLineApiView(E)},m.prototype.getNullCell=function(){return new u.CellData},m}();r.BufferApiView=p},3785:(g,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferLineApiView=void 0;var s=a(511),u=function(){function p(m){this._line=m}return Object.defineProperty(p.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),p.prototype.getCell=function(m,w){if(!(m<0||m>=this._line.length))return w?(this._line.loadCell(m,w),w):this._line.loadCell(m,new s.CellData)},p.prototype.translateToString=function(m,w,E){return this._line.translateToString(m,w,E)},p}();r.BufferLineApiView=u},8285:(g,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferNamespaceApi=void 0;var s=a(8771),u=a(8460),p=function(){function m(w){var E=this;this._core=w,this._onBufferChange=new u.EventEmitter,this._normal=new s.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new s.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(function(){return E._onBufferChange.fire(E.active)})}return Object.defineProperty(m.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"active",{get:function(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"normal",{get:function(){return this._normal.init(this._core.buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"alternate",{get:function(){return this._alternate.init(this._core.buffers.alt)},enumerable:!1,configurable:!0}),m}();r.BufferNamespaceApi=p},7975:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ParserApi=void 0;var a=function(){function s(u){this._core=u}return s.prototype.registerCsiHandler=function(u,p){return this._core.registerCsiHandler(u,function(m){return p(m.toArray())})},s.prototype.addCsiHandler=function(u,p){return this.registerCsiHandler(u,p)},s.prototype.registerDcsHandler=function(u,p){return this._core.registerDcsHandler(u,function(m,w){return p(m,w.toArray())})},s.prototype.addDcsHandler=function(u,p){return this.registerDcsHandler(u,p)},s.prototype.registerEscHandler=function(u,p){return this._core.registerEscHandler(u,p)},s.prototype.addEscHandler=function(u,p){return this.registerEscHandler(u,p)},s.prototype.registerOscHandler=function(u,p){return this._core.registerOscHandler(u,p)},s.prototype.addOscHandler=function(u,p){return this.registerOscHandler(u,p)},s}();r.ParserApi=a},7090:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.UnicodeApi=void 0;var a=function(){function s(u){this._core=u}return s.prototype.register=function(u){this._core.unicodeService.register(u)},Object.defineProperty(s.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(u){this._core.unicodeService.activeVersion=u},enumerable:!1,configurable:!0}),s}();r.UnicodeApi=a},744:function(g,r,a){var s,u=this&&this.__extends||(s=function(y,f){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var b in l)Object.prototype.hasOwnProperty.call(l,b)&&(c[b]=l[b])},s(y,f)},function(y,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function c(){this.constructor=y}s(y,f),y.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}),p=this&&this.__decorate||function(y,f,c,l){var b,S=arguments.length,A=S<3?f:l===null?l=Object.getOwnPropertyDescriptor(f,c):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(y,f,c,l);else for(var L=y.length-1;L>=0;L--)(b=y[L])&&(A=(S<3?b(A):S>3?b(f,c,A):b(f,c))||A);return S>3&&A&&Object.defineProperty(f,c,A),A},m=this&&this.__param||function(y,f){return function(c,l){f(c,l,y)}};Object.defineProperty(r,"__esModule",{value:!0}),r.BufferService=r.MINIMUM_ROWS=r.MINIMUM_COLS=void 0;var w=a(2585),E=a(5295),d=a(8460),v=a(844);r.MINIMUM_COLS=2,r.MINIMUM_ROWS=1;var C=function(y){function f(c){var l=y.call(this)||this;return l._optionsService=c,l.isUserScrolling=!1,l._onResize=new d.EventEmitter,l._onScroll=new d.EventEmitter,l.cols=Math.max(c.options.cols||0,r.MINIMUM_COLS),l.rows=Math.max(c.options.rows||0,r.MINIMUM_ROWS),l.buffers=new E.BufferSet(c,l),l}return u(f,y),Object.defineProperty(f.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),f.prototype.dispose=function(){y.prototype.dispose.call(this),this.buffers.dispose()},f.prototype.resize=function(c,l){this.cols=c,this.rows=l,this.buffers.resize(c,l),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:c,rows:l})},f.prototype.reset=function(){this.buffers.reset(),this.isUserScrolling=!1},f.prototype.scroll=function(c,l){l===void 0&&(l=!1);var b,S=this.buffer;(b=this._cachedBlankLine)&&b.length===this.cols&&b.getFg(0)===c.fg&&b.getBg(0)===c.bg||(b=S.getBlankLine(c,l),this._cachedBlankLine=b),b.isWrapped=l;var A=S.ybase+S.scrollTop,L=S.ybase+S.scrollBottom;if(S.scrollTop===0){var x=S.lines.isFull;L===S.lines.length-1?x?S.lines.recycle().copyFrom(b):S.lines.push(b.clone()):S.lines.splice(L+1,0,b.clone()),x?this.isUserScrolling&&(S.ydisp=Math.max(S.ydisp-1,0)):(S.ybase++,this.isUserScrolling||S.ydisp++)}else{var M=L-A+1;S.lines.shiftElements(A+1,M-1,-1),S.lines.set(L,b.clone())}this.isUserScrolling||(S.ydisp=S.ybase),this._onScroll.fire(S.ydisp)},f.prototype.scrollLines=function(c,l,b){var S=this.buffer;if(c<0){if(S.ydisp===0)return;this.isUserScrolling=!0}else c+S.ydisp>=S.ybase&&(this.isUserScrolling=!1);var A=S.ydisp;S.ydisp=Math.max(Math.min(S.ydisp+c,S.ybase),0),A!==S.ydisp&&(l||this._onScroll.fire(S.ydisp))},f.prototype.scrollPages=function(c){this.scrollLines(c*(this.rows-1))},f.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},f.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},f.prototype.scrollToLine=function(c){var l=c-this.buffer.ydisp;l!==0&&this.scrollLines(l)},p([m(0,w.IOptionsService)],f)}(v.Disposable);r.BufferService=C},7994:(g,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CharsetService=void 0;var a=function(){function s(){this.glevel=0,this._charsets=[]}return s.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},s.prototype.setgLevel=function(u){this.glevel=u,this.charset=this._charsets[u]},s.prototype.setgCharset=function(u,p){this._charsets[u]=p,this.glevel===u&&(this.charset=p)},s}();r.CharsetService=a},1753:function(g,r,a){var s=this&&this.__decorate||function(y,f,c,l){var b,S=arguments.length,A=S<3?f:l===null?l=Object.getOwnPropertyDescriptor(f,c):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(y,f,c,l);else for(var L=y.length-1;L>=0;L--)(b=y[L])&&(A=(S<3?b(A):S>3?b(f,c,A):b(f,c))||A);return S>3&&A&&Object.defineProperty(f,c,A),A},u=this&&this.__param||function(y,f){return function(c,l){f(c,l,y)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CoreMouseService=void 0;var p=a(2585),m=a(8460),w={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(y){return y.button!==4&&y.action===1&&(y.ctrl=!1,y.alt=!1,y.shift=!1,!0)}},VT200:{events:19,restrict:function(y){return y.action!==32}},DRAG:{events:23,restrict:function(y){return y.action!==32||y.button!==3}},ANY:{events:31,restrict:function(y){return!0}}};function E(y,f){var c=(y.ctrl?16:0)|(y.shift?4:0)|(y.alt?8:0);return y.button===4?(c|=64,c|=y.action):(c|=3&y.button,4&y.button&&(c|=64),8&y.button&&(c|=128),y.action===32?c|=32:y.action!==0||f||(c|=3)),c}var d=String.fromCharCode,v={DEFAULT:function(y){var f=[E(y,!1)+32,y.col+32,y.row+32];return f[0]>255||f[1]>255||f[2]>255?"":"[M"+d(f[0])+d(f[1])+d(f[2])},SGR:function(y){var f=y.action===0&&y.button!==4?"m":"M";return"[<"+E(y,!0)+";"+y.col+";"+y.row+f}},C=function(){function y(f,c){this._bufferService=f,this._coreService=c,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new m.EventEmitter,this._lastEvent=null;for(var l=0,b=Object.keys(w);l<b.length;l++){var S=b[l];this.addProtocol(S,w[S])}for(var A=0,L=Object.keys(v);A<L.length;A++){var x=L[A];this.addEncoding(x,v[x])}this.reset()}return y.prototype.addProtocol=function(f,c){this._protocols[f]=c},y.prototype.addEncoding=function(f,c){this._encodings[f]=c},Object.defineProperty(y.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(f){if(!this._protocols[f])throw new Error('unknown protocol "'+f+'"');this._activeProtocol=f,this._onProtocolChange.fire(this._protocols[f].events)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"areMouseEventsActive",{get:function(){return this._protocols[this._activeProtocol].events!==0},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(f){if(!this._encodings[f])throw new Error('unknown encoding "'+f+'"');this._activeEncoding=f},enumerable:!1,configurable:!0}),y.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(y.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),y.prototype.triggerMouseEvent=function(f){if(f.col<0||f.col>=this._bufferService.cols||f.row<0||f.row>=this._bufferService.rows||f.button===4&&f.action===32||f.button===3&&f.action!==32||f.button!==4&&(f.action===2||f.action===3)||(f.col++,f.row++,f.action===32&&this._lastEvent&&this._compareEvents(this._lastEvent,f))||!this._protocols[this._activeProtocol].restrict(f))return!1;var c=this._encodings[this._activeEncoding](f);return c&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(c):this._coreService.triggerDataEvent(c,!0)),this._lastEvent=f,!0},y.prototype.explainEvents=function(f){return{down:!!(1&f),up:!!(2&f),drag:!!(4&f),move:!!(8&f),wheel:!!(16&f)}},y.prototype._compareEvents=function(f,c){return f.col===c.col&&f.row===c.row&&f.button===c.button&&f.action===c.action&&f.ctrl===c.ctrl&&f.alt===c.alt&&f.shift===c.shift},s([u(0,p.IBufferService),u(1,p.ICoreService)],y)}();r.CoreMouseService=C},6975:function(g,r,a){var s,u=this&&this.__extends||(s=function(c,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,S){b.__proto__=S}||function(b,S){for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(b[A]=S[A])},s(c,l)},function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function b(){this.constructor=c}s(c,l),c.prototype=l===null?Object.create(l):(b.prototype=l.prototype,new b)}),p=this&&this.__decorate||function(c,l,b,S){var A,L=arguments.length,x=L<3?l:S===null?S=Object.getOwnPropertyDescriptor(l,b):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(c,l,b,S);else for(var M=c.length-1;M>=0;M--)(A=c[M])&&(x=(L<3?A(x):L>3?A(l,b,x):A(l,b))||x);return L>3&&x&&Object.defineProperty(l,b,x),x},m=this&&this.__param||function(c,l){return function(b,S){l(b,S,c)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CoreService=void 0;var w=a(2585),E=a(8460),d=a(1439),v=a(844),C=Object.freeze({insertMode:!1}),y=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),f=function(c){function l(b,S,A,L){var x=c.call(this)||this;return x._bufferService=S,x._logService=A,x._optionsService=L,x.isCursorInitialized=!1,x.isCursorHidden=!1,x._onData=x.register(new E.EventEmitter),x._onUserInput=x.register(new E.EventEmitter),x._onBinary=x.register(new E.EventEmitter),x._scrollToBottom=b,x.register({dispose:function(){return x._scrollToBottom=void 0}}),x.modes=(0,d.clone)(C),x.decPrivateModes=(0,d.clone)(y),x}return u(l,c),Object.defineProperty(l.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),l.prototype.reset=function(){this.modes=(0,d.clone)(C),this.decPrivateModes=(0,d.clone)(y)},l.prototype.triggerDataEvent=function(b,S){if(S===void 0&&(S=!1),!this._optionsService.options.disableStdin){var A=this._bufferService.buffer;A.ybase!==A.ydisp&&this._scrollToBottom(),S&&this._onUserInput.fire(),this._logService.debug('sending data "'+b+'"',function(){return b.split("").map(function(L){return L.charCodeAt(0)})}),this._onData.fire(b)}},l.prototype.triggerBinaryEvent=function(b){this._optionsService.options.disableStdin||(this._logService.debug('sending binary "'+b+'"',function(){return b.split("").map(function(S){return S.charCodeAt(0)})}),this._onBinary.fire(b))},p([m(1,w.IBufferService),m(2,w.ILogService),m(3,w.IOptionsService)],l)}(v.Disposable);r.CoreService=f},3730:function(g,r,a){var s=this&&this.__decorate||function(w,E,d,v){var C,y=arguments.length,f=y<3?E:v===null?v=Object.getOwnPropertyDescriptor(E,d):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(w,E,d,v);else for(var c=w.length-1;c>=0;c--)(C=w[c])&&(f=(y<3?C(f):y>3?C(E,d,f):C(E,d))||f);return y>3&&f&&Object.defineProperty(E,d,f),f},u=this&&this.__param||function(w,E){return function(d,v){E(d,v,w)}};Object.defineProperty(r,"__esModule",{value:!0}),r.DirtyRowService=void 0;var p=a(2585),m=function(){function w(E){this._bufferService=E,this.clearRange()}return Object.defineProperty(w.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),w.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},w.prototype.markDirty=function(E){E<this._start?this._start=E:E>this._end&&(this._end=E)},w.prototype.markRangeDirty=function(E,d){if(E>d){var v=E;E=d,d=v}E<this._start&&(this._start=E),d>this._end&&(this._end=d)},w.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},s([u(0,p.IBufferService)],w)}();r.DirtyRowService=m},4348:function(g,r,a){var s=this&&this.__spreadArray||function(E,d,v){if(v||arguments.length===2)for(var C,y=0,f=d.length;y<f;y++)!C&&y in d||(C||(C=Array.prototype.slice.call(d,0,y)),C[y]=d[y]);return E.concat(C||Array.prototype.slice.call(d))};Object.defineProperty(r,"__esModule",{value:!0}),r.InstantiationService=r.ServiceCollection=void 0;var u=a(2585),p=a(8343),m=function(){function E(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];this._entries=new Map;for(var C=0,y=d;C<y.length;C++){var f=y[C],c=f[0],l=f[1];this.set(c,l)}}return E.prototype.set=function(d,v){var C=this._entries.get(d);return this._entries.set(d,v),C},E.prototype.forEach=function(d){this._entries.forEach(function(v,C){return d(C,v)})},E.prototype.has=function(d){return this._entries.has(d)},E.prototype.get=function(d){return this._entries.get(d)},E}();r.ServiceCollection=m;var w=function(){function E(){this._services=new m,this._services.set(u.IInstantiationService,this)}return E.prototype.setService=function(d,v){this._services.set(d,v)},E.prototype.getService=function(d){return this._services.get(d)},E.prototype.createInstance=function(d){for(var v=[],C=1;C<arguments.length;C++)v[C-1]=arguments[C];for(var y=(0,p.getServiceDependencies)(d).sort(function(L,x){return L.index-x.index}),f=[],c=0,l=y;c<l.length;c++){var b=l[c],S=this._services.get(b.id);if(!S)throw new Error("[createInstance] "+d.name+" depends on UNKNOWN service "+b.id+".");f.push(S)}var A=y.length>0?y[0].index:v.length;if(v.length!==A)throw new Error("[createInstance] First service dependency of "+d.name+" at position "+(A+1)+" conflicts with "+v.length+" static arguments");return new(d.bind.apply(d,s([void 0],s(s([],v,!0),f,!0),!1)))},E}();r.InstantiationService=w},7866:function(g,r,a){var s=this&&this.__decorate||function(d,v,C,y){var f,c=arguments.length,l=c<3?v:y===null?y=Object.getOwnPropertyDescriptor(v,C):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(d,v,C,y);else for(var b=d.length-1;b>=0;b--)(f=d[b])&&(l=(c<3?f(l):c>3?f(v,C,l):f(v,C))||l);return c>3&&l&&Object.defineProperty(v,C,l),l},u=this&&this.__param||function(d,v){return function(C,y){v(C,y,d)}},p=this&&this.__spreadArray||function(d,v,C){if(C||arguments.length===2)for(var y,f=0,c=v.length;f<c;f++)!y&&f in v||(y||(y=Array.prototype.slice.call(v,0,f)),y[f]=v[f]);return d.concat(y||Array.prototype.slice.call(v))};Object.defineProperty(r,"__esModule",{value:!0}),r.LogService=void 0;var m=a(2585),w={debug:m.LogLevelEnum.DEBUG,info:m.LogLevelEnum.INFO,warn:m.LogLevelEnum.WARN,error:m.LogLevelEnum.ERROR,off:m.LogLevelEnum.OFF},E=function(){function d(v){var C=this;this._optionsService=v,this.logLevel=m.LogLevelEnum.OFF,this._updateLogLevel(),this._optionsService.onOptionChange(function(y){y==="logLevel"&&C._updateLogLevel()})}return d.prototype._updateLogLevel=function(){this.logLevel=w[this._optionsService.options.logLevel]},d.prototype._evalLazyOptionalParams=function(v){for(var C=0;C<v.length;C++)typeof v[C]=="function"&&(v[C]=v[C]())},d.prototype._log=function(v,C,y){this._evalLazyOptionalParams(y),v.call.apply(v,p([console,"xterm.js: "+C],y,!1))},d.prototype.debug=function(v){for(var C=[],y=1;y<arguments.length;y++)C[y-1]=arguments[y];this.logLevel<=m.LogLevelEnum.DEBUG&&this._log(console.log,v,C)},d.prototype.info=function(v){for(var C=[],y=1;y<arguments.length;y++)C[y-1]=arguments[y];this.logLevel<=m.LogLevelEnum.INFO&&this._log(console.info,v,C)},d.prototype.warn=function(v){for(var C=[],y=1;y<arguments.length;y++)C[y-1]=arguments[y];this.logLevel<=m.LogLevelEnum.WARN&&this._log(console.warn,v,C)},d.prototype.error=function(v){for(var C=[],y=1;y<arguments.length;y++)C[y-1]=arguments[y];this.logLevel<=m.LogLevelEnum.ERROR&&this._log(console.error,v,C)},s([u(0,m.IOptionsService)],d)}();r.LogService=E},7302:function(g,r,a){var s=this&&this.__assign||function(){return s=Object.assign||function(E){for(var d,v=1,C=arguments.length;v<C;v++)for(var y in d=arguments[v])Object.prototype.hasOwnProperty.call(d,y)&&(E[y]=d[y]);return E},s.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.OptionsService=r.DEFAULT_OPTIONS=r.DEFAULT_BELL_SOUND=void 0;var u=a(8460),p=a(6114);r.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",r.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,bellSound:r.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:p.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1};var m=["normal","bold","100","200","300","400","500","600","700","800","900"],w=function(){function E(d){for(var v in this._onOptionChange=new u.EventEmitter,this._options=s({},r.DEFAULT_OPTIONS),d)if(v in this._options)try{var C=d[v];this._options[v]=this._sanitizeAndValidateOption(v,C)}catch(y){console.error(y)}this.options=this._setupOptions(this._options)}return Object.defineProperty(E.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),E.prototype._setupOptions=function(d){var v=this,C=s({},d),y=function(c){Object.defineProperty(C,c,{get:function(){if(!(c in r.DEFAULT_OPTIONS))throw new Error('No option with key "'+c+'"');return v._options[c]},set:function(l){if(!(c in r.DEFAULT_OPTIONS))throw new Error('No option with key "'+c+'"');l=v._sanitizeAndValidateOption(c,l),v._options[c]!==l&&(v._options[c]=l,v._onOptionChange.fire(c))}})};for(var f in C)y(f);return C},E.prototype.setOption=function(d,v){this.options[d]=v},E.prototype._sanitizeAndValidateOption=function(d,v){switch(d){case"bellStyle":case"cursorStyle":case"rendererType":case"wordSeparator":v||(v=r.DEFAULT_OPTIONS[d]);break;case"fontWeight":case"fontWeightBold":if(typeof v=="number"&&1<=v&&v<=1e3)break;v=m.includes(v)?v:r.DEFAULT_OPTIONS[d];break;case"cursorWidth":v=Math.floor(v);case"lineHeight":case"tabStopWidth":if(v<1)throw new Error(d+" cannot be less than 1, value: "+v);break;case"minimumContrastRatio":v=Math.max(1,Math.min(21,Math.round(10*v)/10));break;case"scrollback":if((v=Math.min(v,4294967295))<0)throw new Error(d+" cannot be less than 0, value: "+v);break;case"fastScrollSensitivity":case"scrollSensitivity":if(v<=0)throw new Error(d+" cannot be less than or equal to 0, value: "+v);case"rows":case"cols":if(!v&&v!==0)throw new Error(d+" must be numeric, value: "+v)}return v},E.prototype.getOption=function(d){return this.options[d]},E}();r.OptionsService=w},8343:(g,r)=>{function a(s,u,p){u.di$target===u?u.di$dependencies.push({id:s,index:p}):(u.di$dependencies=[{id:s,index:p}],u.di$target=u)}Object.defineProperty(r,"__esModule",{value:!0}),r.createDecorator=r.getServiceDependencies=r.serviceRegistry=void 0,r.serviceRegistry=new Map,r.getServiceDependencies=function(s){return s.di$dependencies||[]},r.createDecorator=function(s){if(r.serviceRegistry.has(s))return r.serviceRegistry.get(s);var u=function(p,m,w){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");a(u,p,w)};return u.toString=function(){return s},r.serviceRegistry.set(s,u),u}},2585:(g,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.IUnicodeService=r.IOptionsService=r.ILogService=r.LogLevelEnum=r.IInstantiationService=r.IDirtyRowService=r.ICharsetService=r.ICoreService=r.ICoreMouseService=r.IBufferService=void 0;var s,u=a(8343);r.IBufferService=(0,u.createDecorator)("BufferService"),r.ICoreMouseService=(0,u.createDecorator)("CoreMouseService"),r.ICoreService=(0,u.createDecorator)("CoreService"),r.ICharsetService=(0,u.createDecorator)("CharsetService"),r.IDirtyRowService=(0,u.createDecorator)("DirtyRowService"),r.IInstantiationService=(0,u.createDecorator)("InstantiationService"),(s=r.LogLevelEnum||(r.LogLevelEnum={}))[s.DEBUG=0]="DEBUG",s[s.INFO=1]="INFO",s[s.WARN=2]="WARN",s[s.ERROR=3]="ERROR",s[s.OFF=4]="OFF",r.ILogService=(0,u.createDecorator)("LogService"),r.IOptionsService=(0,u.createDecorator)("OptionsService"),r.IUnicodeService=(0,u.createDecorator)("UnicodeService")},1480:(g,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.UnicodeService=void 0;var s=a(8460),u=a(225),p=function(){function m(){this._providers=Object.create(null),this._active="",this._onChange=new s.EventEmitter;var w=new u.UnicodeV6;this.register(w),this._active=w.version,this._activeProvider=w}return Object.defineProperty(m.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"activeVersion",{get:function(){return this._active},set:function(w){if(!this._providers[w])throw new Error('unknown Unicode version "'+w+'"');this._active=w,this._activeProvider=this._providers[w],this._onChange.fire(w)},enumerable:!1,configurable:!0}),m.prototype.register=function(w){this._providers[w.version]=w},m.prototype.wcwidth=function(w){return this._activeProvider.wcwidth(w)},m.prototype.getStringCellWidth=function(w){for(var E=0,d=w.length,v=0;v<d;++v){var C=w.charCodeAt(v);if(55296<=C&&C<=56319){if(++v>=d)return E+this.wcwidth(C);var y=w.charCodeAt(v);56320<=y&&y<=57343?C=1024*(C-55296)+y-56320+65536:E+=this.wcwidth(y)}E+=this.wcwidth(C)}return E},m}();r.UnicodeService=p}},o={};function h(g){var r=o[g];if(r!==void 0)return r.exports;var a=o[g]={exports:{}};return n[g].call(a.exports,a,a.exports,h),a.exports}var _={};return(()=>{var g=_;Object.defineProperty(g,"__esModule",{value:!0}),g.Terminal=void 0;var r=h(3236),a=h(9042),s=h(7975),u=h(7090),p=h(5741),m=h(8285),w=["cols","rows"],E=function(){function d(v){var C=this;this._core=new r.Terminal(v),this._addonManager=new p.AddonManager,this._publicOptions={};var y=function(l){Object.defineProperty(f._publicOptions,l,{get:function(){return C._core.options[l]},set:function(b){C._checkReadonlyOptions(l),C._core.options[l]=b}})},f=this;for(var c in this._core.options)y(c)}return d.prototype._checkReadonlyOptions=function(v){if(w.includes(v))throw new Error('Option "'+v+'" can only be set in the constructor')},d.prototype._checkProposedApi=function(){if(!this._core.optionsService.options.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(d.prototype,"onBell",{get:function(){return this._core.onBell},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new s.ParserApi(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"unicode",{get:function(){return this._checkProposedApi(),new u.UnicodeApi(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"buffer",{get:function(){return this._checkProposedApi(),this._buffer||(this._buffer=new m.BufferNamespaceApi(this._core)),this._buffer},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"modes",{get:function(){var v=this._core.coreService.decPrivateModes,C="none";switch(this._core.coreMouseService.activeProtocol){case"X10":C="x10";break;case"VT200":C="vt200";break;case"DRAG":C="drag";break;case"ANY":C="any"}return{applicationCursorKeysMode:v.applicationCursorKeys,applicationKeypadMode:v.applicationKeypad,bracketedPasteMode:v.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:C,originMode:v.origin,reverseWraparoundMode:v.reverseWraparound,sendFocusMode:v.sendFocus,wraparoundMode:v.wraparound}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"options",{get:function(){return this._publicOptions},set:function(v){for(var C in v)this._publicOptions[C]=v[C]},enumerable:!1,configurable:!0}),d.prototype.blur=function(){this._core.blur()},d.prototype.focus=function(){this._core.focus()},d.prototype.resize=function(v,C){this._verifyIntegers(v,C),this._core.resize(v,C)},d.prototype.open=function(v){this._core.open(v)},d.prototype.attachCustomKeyEventHandler=function(v){this._core.attachCustomKeyEventHandler(v)},d.prototype.registerLinkMatcher=function(v,C,y){return this._checkProposedApi(),this._core.registerLinkMatcher(v,C,y)},d.prototype.deregisterLinkMatcher=function(v){this._checkProposedApi(),this._core.deregisterLinkMatcher(v)},d.prototype.registerLinkProvider=function(v){return this._checkProposedApi(),this._core.registerLinkProvider(v)},d.prototype.registerCharacterJoiner=function(v){return this._checkProposedApi(),this._core.registerCharacterJoiner(v)},d.prototype.deregisterCharacterJoiner=function(v){this._checkProposedApi(),this._core.deregisterCharacterJoiner(v)},d.prototype.registerMarker=function(v){return this._checkProposedApi(),this._verifyIntegers(v),this._core.addMarker(v)},d.prototype.addMarker=function(v){return this.registerMarker(v)},d.prototype.hasSelection=function(){return this._core.hasSelection()},d.prototype.select=function(v,C,y){this._verifyIntegers(v,C,y),this._core.select(v,C,y)},d.prototype.getSelection=function(){return this._core.getSelection()},d.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},d.prototype.clearSelection=function(){this._core.clearSelection()},d.prototype.selectAll=function(){this._core.selectAll()},d.prototype.selectLines=function(v,C){this._verifyIntegers(v,C),this._core.selectLines(v,C)},d.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},d.prototype.scrollLines=function(v){this._verifyIntegers(v),this._core.scrollLines(v)},d.prototype.scrollPages=function(v){this._verifyIntegers(v),this._core.scrollPages(v)},d.prototype.scrollToTop=function(){this._core.scrollToTop()},d.prototype.scrollToBottom=function(){this._core.scrollToBottom()},d.prototype.scrollToLine=function(v){this._verifyIntegers(v),this._core.scrollToLine(v)},d.prototype.clear=function(){this._core.clear()},d.prototype.write=function(v,C){this._core.write(v,C)},d.prototype.writeUtf8=function(v,C){this._core.write(v,C)},d.prototype.writeln=function(v,C){this._core.write(v),this._core.write(`\r
`,C)},d.prototype.paste=function(v){this._core.paste(v)},d.prototype.getOption=function(v){return this._core.optionsService.getOption(v)},d.prototype.setOption=function(v,C){this._checkReadonlyOptions(v),this._core.optionsService.setOption(v,C)},d.prototype.refresh=function(v,C){this._verifyIntegers(v,C),this._core.refresh(v,C)},d.prototype.reset=function(){this._core.reset()},d.prototype.clearTextureAtlas=function(){this._core.clearTextureAtlas()},d.prototype.loadAddon=function(v){return this._addonManager.loadAddon(this,v)},Object.defineProperty(d,"strings",{get:function(){return a},enumerable:!1,configurable:!0}),d.prototype._verifyIntegers=function(){for(var v=[],C=0;C<arguments.length;C++)v[C]=arguments[C];for(var y=0,f=v;y<f.length;y++){var c=f[y];if(c===1/0||isNaN(c)||c%1!=0)throw new Error("This API only accepts integers")}},d}();g.Terminal=E})(),_})()})})(xterm);var xtermAddonFit={exports:{}};(function(e,t){(function(n,o){e.exports=o()})(self,function(){return(()=>{var n={775:(h,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.FitAddon=void 0;var g=function(){function r(){}return r.prototype.activate=function(a){this._terminal=a},r.prototype.dispose=function(){},r.prototype.fit=function(){var a=this.proposeDimensions();if(a&&this._terminal){var s=this._terminal._core;this._terminal.rows===a.rows&&this._terminal.cols===a.cols||(s._renderService.clear(),this._terminal.resize(a.cols,a.rows))}},r.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var a=this._terminal._core;if(a._renderService.dimensions.actualCellWidth!==0&&a._renderService.dimensions.actualCellHeight!==0){var s=window.getComputedStyle(this._terminal.element.parentElement),u=parseInt(s.getPropertyValue("height")),p=Math.max(0,parseInt(s.getPropertyValue("width"))),m=window.getComputedStyle(this._terminal.element),w=u-(parseInt(m.getPropertyValue("padding-top"))+parseInt(m.getPropertyValue("padding-bottom"))),E=p-(parseInt(m.getPropertyValue("padding-right"))+parseInt(m.getPropertyValue("padding-left")))-a.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(E/a._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(w/a._renderService.dimensions.actualCellHeight))}}}},r}();_.FitAddon=g}},o={};return function h(_){if(o[_])return o[_].exports;var g=o[_]={exports:{}};return n[_](g,g.exports,h),g.exports}(775)})()})})(xtermAddonFit);var xtermAddonAttach={exports:{}};(function(e,t){(function(n,o){e.exports=o()})(window,function(){return function(n){var o={};function h(_){if(o[_])return o[_].exports;var g=o[_]={i:_,l:!1,exports:{}};return n[_].call(g.exports,g,g.exports,h),g.l=!0,g.exports}return h.m=n,h.c=o,h.d=function(_,g,r){h.o(_,g)||Object.defineProperty(_,g,{enumerable:!0,get:r})},h.r=function(_){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},h.t=function(_,g){if(1&g&&(_=h(_)),8&g||4&g&&typeof _=="object"&&_&&_.__esModule)return _;var r=Object.create(null);if(h.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:_}),2&g&&typeof _!="string")for(var a in _)h.d(r,a,function(s){return _[s]}.bind(null,a));return r},h.n=function(_){var g=_&&_.__esModule?function(){return _.default}:function(){return _};return h.d(g,"a",g),g},h.o=function(_,g){return Object.prototype.hasOwnProperty.call(_,g)},h.p="",h(h.s=0)}([function(n,o,h){Object.defineProperty(o,"__esModule",{value:!0}),o.AttachAddon=void 0;var _=function(){function r(a,s){this._disposables=[],this._socket=a,this._socket.binaryType="arraybuffer",this._bidirectional=!s||s.bidirectional!==!1}return r.prototype.activate=function(a){var s=this;this._disposables.push(g(this._socket,"message",function(u){var p=u.data;a.write(typeof p=="string"?p:new Uint8Array(p))})),this._bidirectional&&(this._disposables.push(a.onData(function(u){return s._sendData(u)})),this._disposables.push(a.onBinary(function(u){return s._sendBinary(u)}))),this._disposables.push(g(this._socket,"close",function(){return s.dispose()})),this._disposables.push(g(this._socket,"error",function(){return s.dispose()}))},r.prototype.dispose=function(){this._disposables.forEach(function(a){return a.dispose()})},r.prototype._sendData=function(a){this._socket.readyState===1&&this._socket.send(a)},r.prototype._sendBinary=function(a){if(this._socket.readyState===1){for(var s=new Uint8Array(a.length),u=0;u<a.length;++u)s[u]=255&a.charCodeAt(u);this._socket.send(s)}},r}();function g(r,a,s){return r.addEventListener(a,s),{dispose:function(){s&&r.removeEventListener(a,s)}}}o.AttachAddon=_}])})})(xtermAddonAttach);var terminal_vue_vue_type_style_index_0_lang="";const _hoisted_1$3=["id","data-id"],_hoisted_2$3={class:"window-content"},_hoisted_3$3={class:"window-title base-title"},_hoisted_4$3={class:"opt"},_hoisted_5$3=createBaseVNode("div",{style:{padding:"0px"},class:"window-body"},[createBaseVNode("div",{id:"xterm-container"})],-1),_sfc_main$3={props:{item:Object,actionWindowId:String},setup(__props){const props=__props;props.item.events=function(e,t){e=="close"&&(terminalSocket.close(),clearInterval(listenerWindowSizeEventTimerId))};let windowTitle=ref("\u8FDE\u63A5\u4E2D..."),terminalSocket=null,listenerWindowSizeEventTimerId=null;const fitAddon=new xtermAddonFit.exports.FitAddon,term=new xterm.exports.Terminal({fontSize:16,rightClickSelectsWord:!0,letterSpacing:0,allowTransparency:!0,cursorBlink:!0,cursorStyle:"bar",cols:80,rows:24,theme:{background:"#00000000"}});let terminalWindowSizeData="";term.loadAddon(fitAddon);const PrefixInteger=(e,t)=>(Array(t).join(0)+e).slice(-t);onMounted(()=>{listenerWindowSizeEventTimerId=setInterval(()=>{terminalSocket!=null&&terminalWindowSizeData!=""&&(terminalSocket.send(terminalWindowSizeData),terminalWindowSizeData="")},2e3),elementResizeDetector().listenTo(document.getElementById(props.item.id),n=>{fitAddon.fit();var o="setSize"+PrefixInteger(term.cols,4)+PrefixInteger(term.rows,4)+PrefixInteger(n.offsetWidth,4)+PrefixInteger(n.offsetHeight,4);terminalWindowSizeData=o});let t=document.querySelector("#"+props.item.id+" #xterm-container");term.open(t),connectWebSocket()});const websocketClose=e=>{term.writeln("\u8FDE\u63A5\u5DF2\u65AD\u5F00\uFF01\u3002")},websocketOpen=e=>{windowTitle.value="\u7EC8\u7AEF"},connectWebSocket=()=>{let url='"ws:"+"//"+location.host+"/ws/websocket/terminal"';url=eval(url),terminalSocket=new WebSocket(url);const attachAddon=new xtermAddonAttach.exports.AttachAddon(terminalSocket);term.loadAddon(attachAddon),terminalSocket.onclose=websocketClose,terminalSocket.onopen=websocketOpen};return(e,t)=>(openBlock(),createElementBlock("div",{id:__props.item.id,"data-id":__props.item.id,class:normalizeClass([{"hide-window":__props.item.hideWindow,"close-window-transition":__props.item.closeWindowTransition,"window-transition":__props.item.windowTransition,"window-scale":__props.item.windowScale,"min-window":__props.item.minState,"max-window":__props.item.maxState,"window-z-height":__props.item.actionWindow,terminal:__props.item.windowType=="terminal"},"window-item window-item-resize"]),onMousedown:t[3]||(t[3]=(...n)=>unref(wact).windowMove&&unref(wact).windowMove(...n)),onMouseup:t[4]||(t[4]=(...n)=>unref(wact).windowMouseUp&&unref(wact).windowMouseUp(...n))},[createBaseVNode("div",_hoisted_2$3,[createBaseVNode("div",_hoisted_3$3,[createBaseVNode("header",null,toDisplayString(unref(windowTitle)),1),createBaseVNode("div",_hoisted_4$3,[createBaseVNode("i",{class:"iconfont icon-tzuixiaohua",onClick:t[0]||(t[0]=n=>unref(wact).windowMin(__props.item.id))}),createBaseVNode("i",{class:"iconfont icon-big",onClick:t[1]||(t[1]=n=>unref(wact).windowFullScreen(__props.item.id))}),createBaseVNode("i",{class:"iconfont icon-webicon309",onClick:t[2]||(t[2]=n=>unref(wact).closeWindow(__props.item.id))})])]),_hoisted_5$3])],42,_hoisted_1$3))}},_hoisted_1$2=["data-id"],_hoisted_2$2={class:"window-content"},_hoisted_3$2={class:"window-title base-title"},_hoisted_4$2=createBaseVNode("header",{class:"base-title"},"\u6587\u4EF6\u5C5E\u6027",-1),_hoisted_5$2={class:"opt"},_hoisted_6$2={class:"window-body"},_hoisted_7$2={class:"icon"},_hoisted_8$2=["src"],_hoisted_9$2={class:"item-info"},_hoisted_10$2=createBaseVNode("span",{class:"name"},"\u6587\u4EF6\u540D\u79F0:",-1),_hoisted_11$2={class:"value"},_hoisted_12$2={class:"item-info"},_hoisted_13$2=createBaseVNode("span",{class:"name"},"\u5927\u5C0F:",-1),_hoisted_14$2={class:"value"},_hoisted_15$2={class:"item-info"},_hoisted_16$2=createBaseVNode("span",{class:"name"},"\u521B\u5EFA\u65F6\u95F4:",-1),_hoisted_17$2={class:"value"},_hoisted_18$2={class:"item-info"},_hoisted_19$2=createBaseVNode("span",{class:"name"},"\u6700\u540E\u4FEE\u6539\u65F6\u95F4:",-1),_hoisted_20$1={class:"value"},_hoisted_21$1={class:"item-info"},_hoisted_22$1=createBaseVNode("span",{class:"name"},"\u6700\u540E\u8BBF\u95EE\u65F6\u95F4:",-1),_hoisted_23$1={class:"value"},_hoisted_24$1={class:"item-info"},_hoisted_25$1=createBaseVNode("span",{class:"name"},"\u6240\u6709\u8005:",-1),_hoisted_26$1={class:"value"},_sfc_main$2={props:{item:Object,actionWindowId:String},setup(e){const t=e;let n=ref("/");const o=g=>g<1024?g+"\u5B57\u8282":g/1024<1024?Math.floor(g/1024)+"KB":Math.round(g/1024/1024)+"MB",h=g=>{var r=new Date(g),a=r.getFullYear()+"-",s=(r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1)+"-",u=(r.getDate()<10?"0"+r.getDate():r.getDate())+" ",p=(r.getHours()<10?"0"+r.getHours():r.getHours())+":",m=(r.getMinutes()<10?"0"+r.getMinutes():r.getMinutes())+":",w=r.getSeconds()<10?"0"+r.getSeconds():r.getSeconds();return a+s+u+p+m+w};let _=reactive({attribute:{}});return apiFileAttribute(t.item.data.path).then(g=>{_.attribute=g.data.data,console.log(_)}),(g,r)=>(openBlock(),createElementBlock("div",{"data-id":e.item.id,class:normalizeClass([{"hide-window":e.item.hideWindow,"close-window-transition":e.item.closeWindowTransition,"window-transition":e.item.windowTransition,"window-scale":e.item.windowScale,"min-window":e.item.minState,"max-window":e.item.maxState,"window-z-height":e.item.actionWindow,"fil-attribute":e.item.windowType=="file-attribute"},"window-item"]),onMousedown:r[2]||(r[2]=(...a)=>unref(wact).windowMove&&unref(wact).windowMove(...a)),onMouseup:r[3]||(r[3]=(...a)=>unref(wact).windowMouseUp&&unref(wact).windowMouseUp(...a))},[createBaseVNode("div",{onClick:r[0]||(r[0]=a=>unref(wact).setWindowPos(e.item.id)),class:normalizeClass([{action:e.actionWindowId==e.item.id},"window-mask"])},null,2),createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[_hoisted_4$2,createBaseVNode("div",_hoisted_5$2,[createBaseVNode("i",{class:"iconfont icon-webicon309",onClick:r[1]||(r[1]=a=>unref(wact).closeWindow(e.item.id))})])]),createBaseVNode("div",_hoisted_6$2,[createBaseVNode("header",_hoisted_7$2,[createBaseVNode("img",{src:unref(n)+"desktop/api/file/getFileIconByType?type="+unref(_).attribute.type,alt:""},null,8,_hoisted_8$2)]),createBaseVNode("div",_hoisted_9$2,[_hoisted_10$2,createBaseVNode("span",_hoisted_11$2,toDisplayString(unref(_).attribute.name),1)]),createBaseVNode("div",_hoisted_12$2,[_hoisted_13$2,createBaseVNode("span",_hoisted_14$2,toDisplayString(o(unref(_).attribute.fileSize)),1)]),createBaseVNode("div",_hoisted_15$2,[_hoisted_16$2,createBaseVNode("span",_hoisted_17$2,toDisplayString(h(unref(_).attribute.createTimer)),1)]),createBaseVNode("div",_hoisted_18$2,[_hoisted_19$2,createBaseVNode("span",_hoisted_20$1,toDisplayString(h(unref(_).attribute.lastModifiedTime)),1)]),createBaseVNode("div",_hoisted_21$1,[_hoisted_22$1,createBaseVNode("span",_hoisted_23$1,toDisplayString(h(unref(_).attribute.lastAccessTime)),1)]),createBaseVNode("div",_hoisted_24$1,[_hoisted_25$1,createBaseVNode("span",_hoisted_26$1,toDisplayString(unref(_).attribute.owner),1)])])])],42,_hoisted_1$2))}};var _imports_0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAmdJREFUaEPtl82rTVEYxn/PzMSMm48JkVtuMTDwBxhJSkQpSpKZSDEw4Y7RlamkmFFu6iYDAwNDFJKB0qXQxV8g9Whpn1rtzsdae+3b3bf2qlOnzvvx/N7n3Z21xSo/WuX66QFW2sHegd6Bwgn0K1Q4wOL0VhywfRs4B8xJulisKqNAMYDth8DRqOduSe8yNBSFFgEMEb8oaWuRoszkxgBDxIfWxyQ9ytRQFN4IoCviA3k2QJfEZwOMEP8iYwd+AK+BD8BHSV8ycoeGJjtge2fVuLRnnB+el8uSFpsWzQFYA/wE1jZtNiYvQFxvUjcZIBS3fQ24Wms0m9F4PRCcnAHC9/g8kXQoo9b/0CyAcRCSAlzysT0HXKglHJD0NLlIE4CWIbYDnyLBf4DpnGci24FBs1Hr1MCJfcDzCGJe0uFUFxoDjHFiStKvVAFVnTvAmSpnSdKG1PwigCEQQfhMA4DTwN1I9A5J8WqN5CkGqCDOAseBBUk3U6cXreMe4FWUd0TS45Q6rQCkNJoUY9tRzGzqs9QJANu7gLcRwEFJC5OgG/0PpBTNjbF9Ergf5W2T9DmlTlcceACcqAR/l7Q5RXwnHLAd3qXDO/XgZF0pVtQB21PAUiT+L7BX0pvOO2D7PHCrJvSSpBup4rNXyPYW4FROg1rsxuomOg2sq/32TNL+3NpZK2T7G7Apt0lCfPYtdFAzGcB2/eaYoGtiSLgDXZH0e2LkiIBkgJBv+17hCn0FXg4+kt43FZ7tQGmj5crPcmC5RJTU7QFKptdGbu9AG1MsqdE7UDK9NnJ7B9qYYkmN3oGS6bWR+w//GbIx3qs8ZgAAAABJRU5ErkJggg==";function apiListAllSoftware(e){return softwareServer.get("software/api/list",{params:{typeName:e}})}function apiListAllSoftwareTypes(e){return softwareServer.get("software/api/types")}function apiInstallSoftware(e){return instance.get("/desktop/api/application/install",{params:{id:e}})}let progressMap=new Map;const initInstallProgressManager=()=>{let{proxy:e}=getCurrentInstance();e.eventBus.on("/event/install/progress",t=>{let n=getRefProgressValue(t.id),o=parseInt(t.progress);o>1&&(n.value=o)}),e.eventBus.on("/event/install/done",t=>{getRefProgressValue(t.id).value=-1,refreshApplication()})},beginInstall=e=>{apiInstallSoftware(e).then(t=>{getRefProgressValue(e).value=1})},getRefProgressValue=e=>(progressMap.has(e)||(getApplicationById(e)!=null?progressMap.set(e,ref(-1)):progressMap.set(e,ref(0))),progressMap.get(e));var softwareView_vue_vue_type_style_index_0_lang="";const _hoisted_1$1=["id","data-id"],_hoisted_2$1={class:"window-content"},_hoisted_3$1={class:"window-title"},_hoisted_4$1={class:"opt"},_hoisted_5$1={class:"window-body"},_hoisted_6$1=["onClick"],_hoisted_7$1={class:"container"},_hoisted_8$1={key:0,class:"app-install-container"},_hoisted_9$1={class:"header-info"},_hoisted_10$1={class:"logo"},_hoisted_11$1=["src"],_hoisted_12$1={key:1},_hoisted_13$1={key:2,class:"progress"},_hoisted_14$1={key:0},_hoisted_15$1={key:1},_hoisted_16$1={class:"introduce"},_hoisted_17$1={class:"introduce-item"},_hoisted_18$1=createBaseVNode("span",{class:"key"},"\u540D\u79F0:",-1),_hoisted_19$1={class:"value"},_hoisted_20={class:"introduce-item"},_hoisted_21=createBaseVNode("span",{class:"key"},"\u5927\u5C0F:",-1),_hoisted_22={class:"value"},_hoisted_23={class:"introduce-item"},_hoisted_24=createBaseVNode("span",{class:"key"},"\u4F5C\u8005:",-1),_hoisted_25={class:"value"},_hoisted_26={class:"introduce-item"},_hoisted_27=createBaseVNode("span",{class:"key"},"\u7B80\u4ECB:",-1),_hoisted_28={class:"value"},_hoisted_29={class:"screenshot"},_hoisted_30=["src"],_hoisted_31={key:1,class:"app-list-container"},_hoisted_32=["onClick"],_hoisted_33={class:"file-item"},_hoisted_34=["src"],_sfc_main$1={props:{item:Object,actionWindowId:String},setup(e){const t=e,n=1,o=2;reactive(He({},t.item.data));let h=ref(n),_=reactive({types:[],list:[],current:{},typeIndex:0}),g="http://www.houxinlin.com:8081/",r=ref(null);const a=()=>{apiListAllSoftwareTypes().then(w=>{_.types=w.data,s(0,_.types[0].typeName)})},s=(w,E)=>{h.value=n,_.list=[],_.typeIndex=w,apiListAllSoftware(E).then(d=>{_.list=d.data})},u=()=>{beginInstall(_.current.software.softwareId)},p=()=>{h.value=n},m=w=>{h.value=o,_.current=_.list[w],r.value=getRefProgressValue(_.current.software.softwareId)};return a(),(w,E)=>(openBlock(),createElementBlock("div",{id:e.item.id,"data-id":e.item.id,class:normalizeClass([{"hide-window":e.item.hideWindow,"close-window-transition":e.item.closeWindowTransition,"window-transition":e.item.windowTransition,"window-scale":e.item.windowScale,"min-window":e.item.minState,"max-window":e.item.maxState,"window-z-height":e.item.actionWindow,software:e.item.windowType=="software"},"window-item window-item-resize"]),onMousedown:E[3]||(E[3]=(...d)=>unref(wact).windowMove&&unref(wact).windowMove(...d)),onMouseup:E[4]||(E[4]=(...d)=>unref(wact).windowMouseUp&&unref(wact).windowMouseUp(...d))},[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[createBaseVNode("header",null,[unref(h)==o?(openBlock(),createElementBlock("img",{key:0,onClick:p,src:_imports_0})):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_4$1,[createBaseVNode("i",{class:"iconfont icon-tzuixiaohua",onClick:E[0]||(E[0]=d=>unref(wact).windowMin(e.item.id))}),createBaseVNode("i",{class:"iconfont icon-big",onClick:E[1]||(E[1]=d=>unref(wact).windowFullScreen(e.item.id))}),createBaseVNode("i",{class:"iconfont icon-webicon309",onClick:E[2]||(E[2]=d=>unref(wact).closeWindow(e.item.id))})])]),createBaseVNode("div",_hoisted_5$1,[createBaseVNode("aside",null,[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(_).types,(d,v)=>(openBlock(),createElementBlock("li",{key:d.id,onClick:C=>s(v,d.typeName),class:normalizeClass({select:unref(_).typeIndex==v})},toDisplayString(d.typeName),11,_hoisted_6$1))),128))])]),createBaseVNode("div",_hoisted_7$1,[unref(h)==o?(openBlock(),createElementBlock("div",_hoisted_8$1,[createBaseVNode("div",_hoisted_9$1,[createBaseVNode("div",_hoisted_10$1,[createBaseVNode("img",{src:unref(g)+unref(_).current.software.softwareLogoUrl},null,8,_hoisted_11$1),unref(r).value==0?(openBlock(),createElementBlock("button",{key:0,onClick:u},"\u5B89\u88C5")):createCommentVNode("",!0),unref(r).value==-1?(openBlock(),createElementBlock("button",_hoisted_12$1,"\u5DF2\u5B89\u88C5")):createCommentVNode("",!0),unref(r).value>0?(openBlock(),createElementBlock("div",_hoisted_13$1,[createBaseVNode("div",{style:normalizeStyle({width:unref(r).value+"%"})},null,4),unref(r).value<100?(openBlock(),createElementBlock("span",_hoisted_14$1,toDisplayString(unref(r))+"%",1)):createCommentVNode("",!0),unref(r).value==100?(openBlock(),createElementBlock("span",_hoisted_15$1,"\u5B89\u88C5\u4E2D...")):createCommentVNode("",!0)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_16$1,[createBaseVNode("div",_hoisted_17$1,[_hoisted_18$1,createBaseVNode("span",_hoisted_19$1,toDisplayString(unref(_).current.software.softwareName),1)]),createBaseVNode("div",_hoisted_20,[_hoisted_21,createBaseVNode("span",_hoisted_22,toDisplayString(unref(_).current.software.softwareSize)+"MB",1)]),createBaseVNode("div",_hoisted_23,[_hoisted_24,createBaseVNode("span",_hoisted_25,toDisplayString(unref(_).current.software.softwareAuthor),1)]),createBaseVNode("div",_hoisted_26,[_hoisted_27,createBaseVNode("span",_hoisted_28,toDisplayString(unref(_).current.software.softwareDesc),1)])])]),createBaseVNode("div",_hoisted_29,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(_).current.screenshots,d=>(openBlock(),createElementBlock("img",{key:d,src:unref(g)+d.imageUrl,alt:""},null,8,_hoisted_30))),128))])])):createCommentVNode("",!0),unref(h)==n?(openBlock(),createElementBlock("div",_hoisted_31,[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(_).list,(d,v)=>(openBlock(),createElementBlock("li",{key:v,onClick:C=>m(v),class:"app-item"},[createBaseVNode("div",_hoisted_33,[createBaseVNode("img",{src:unref(g)+d.software.softwareLogoUrl},null,8,_hoisted_34),createBaseVNode("span",null,toDisplayString(d.software.softwareName),1)])],8,_hoisted_32))),128))])])):createCommentVNode("",!0)])])])],42,_hoisted_1$1))}};var vueNotification_common={exports:{}},vue={exports:{}},vue_cjs_prod={};function defaultOnError(e){throw e}function defaultOnWarn(e){}function createCompilerError(e,t,n,o){const h=e,_=new SyntaxError(String(h));return _.code=e,_.loc=t,_}const FRAGMENT=Symbol(""),TELEPORT=Symbol(""),SUSPENSE=Symbol(""),KEEP_ALIVE=Symbol(""),BASE_TRANSITION=Symbol(""),OPEN_BLOCK=Symbol(""),CREATE_BLOCK=Symbol(""),CREATE_ELEMENT_BLOCK=Symbol(""),CREATE_VNODE=Symbol(""),CREATE_ELEMENT_VNODE=Symbol(""),CREATE_COMMENT=Symbol(""),CREATE_TEXT=Symbol(""),CREATE_STATIC=Symbol(""),RESOLVE_COMPONENT=Symbol(""),RESOLVE_DYNAMIC_COMPONENT=Symbol(""),RESOLVE_DIRECTIVE=Symbol(""),RESOLVE_FILTER=Symbol(""),WITH_DIRECTIVES=Symbol(""),RENDER_LIST=Symbol(""),RENDER_SLOT=Symbol(""),CREATE_SLOTS=Symbol(""),TO_DISPLAY_STRING=Symbol(""),MERGE_PROPS=Symbol(""),NORMALIZE_CLASS=Symbol(""),NORMALIZE_STYLE=Symbol(""),NORMALIZE_PROPS=Symbol(""),GUARD_REACTIVE_PROPS=Symbol(""),TO_HANDLERS=Symbol(""),CAMELIZE=Symbol(""),CAPITALIZE=Symbol(""),TO_HANDLER_KEY=Symbol(""),SET_BLOCK_TRACKING=Symbol(""),PUSH_SCOPE_ID=Symbol(""),POP_SCOPE_ID=Symbol(""),WITH_CTX=Symbol(""),UNREF=Symbol(""),IS_REF=Symbol(""),WITH_MEMO=Symbol(""),IS_MEMO_SAME=Symbol(""),helperNameMap={[FRAGMENT]:"Fragment",[TELEPORT]:"Teleport",[SUSPENSE]:"Suspense",[KEEP_ALIVE]:"KeepAlive",[BASE_TRANSITION]:"BaseTransition",[OPEN_BLOCK]:"openBlock",[CREATE_BLOCK]:"createBlock",[CREATE_ELEMENT_BLOCK]:"createElementBlock",[CREATE_VNODE]:"createVNode",[CREATE_ELEMENT_VNODE]:"createElementVNode",[CREATE_COMMENT]:"createCommentVNode",[CREATE_TEXT]:"createTextVNode",[CREATE_STATIC]:"createStaticVNode",[RESOLVE_COMPONENT]:"resolveComponent",[RESOLVE_DYNAMIC_COMPONENT]:"resolveDynamicComponent",[RESOLVE_DIRECTIVE]:"resolveDirective",[RESOLVE_FILTER]:"resolveFilter",[WITH_DIRECTIVES]:"withDirectives",[RENDER_LIST]:"renderList",[RENDER_SLOT]:"renderSlot",[CREATE_SLOTS]:"createSlots",[TO_DISPLAY_STRING]:"toDisplayString",[MERGE_PROPS]:"mergeProps",[NORMALIZE_CLASS]:"normalizeClass",[NORMALIZE_STYLE]:"normalizeStyle",[NORMALIZE_PROPS]:"normalizeProps",[GUARD_REACTIVE_PROPS]:"guardReactiveProps",[TO_HANDLERS]:"toHandlers",[CAMELIZE]:"camelize",[CAPITALIZE]:"capitalize",[TO_HANDLER_KEY]:"toHandlerKey",[SET_BLOCK_TRACKING]:"setBlockTracking",[PUSH_SCOPE_ID]:"pushScopeId",[POP_SCOPE_ID]:"popScopeId",[WITH_CTX]:"withCtx",[UNREF]:"unref",[IS_REF]:"isRef",[WITH_MEMO]:"withMemo",[IS_MEMO_SAME]:"isMemoSame"};function registerRuntimeHelpers(e){Object.getOwnPropertySymbols(e).forEach(t=>{helperNameMap[t]=e[t]})}const locStub={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function createRoot(e,t=locStub){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function createVNodeCall(e,t,n,o,h,_,g,r=!1,a=!1,s=!1,u=locStub){return e&&(r?(e.helper(OPEN_BLOCK),e.helper(getVNodeBlockHelper(e.inSSR,s))):e.helper(getVNodeHelper(e.inSSR,s)),g&&e.helper(WITH_DIRECTIVES)),{type:13,tag:t,props:n,children:o,patchFlag:h,dynamicProps:_,directives:g,isBlock:r,disableTracking:a,isComponent:s,loc:u}}function createArrayExpression(e,t=locStub){return{type:17,loc:t,elements:e}}function createObjectExpression(e,t=locStub){return{type:15,loc:t,properties:e}}function createObjectProperty(e,t){return{type:16,loc:locStub,key:isString$2(e)?createSimpleExpression(e,!0):e,value:t}}function createSimpleExpression(e,t=!1,n=locStub,o=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:o}}function createInterpolation(e,t){return{type:5,loc:t,content:isString$2(e)?createSimpleExpression(e,!1,t):e}}function createCompoundExpression(e,t=locStub){return{type:8,loc:t,children:e}}function createCallExpression(e,t=[],n=locStub){return{type:14,loc:n,callee:e,arguments:t}}function createFunctionExpression(e,t=void 0,n=!1,o=!1,h=locStub){return{type:18,params:e,returns:t,newline:n,isSlot:o,loc:h}}function createConditionalExpression(e,t,n,o=!0){return{type:19,test:e,consequent:t,alternate:n,newline:o,loc:locStub}}function createCacheExpression(e,t,n=!1){return{type:20,index:e,value:t,isVNode:n,loc:locStub}}function createBlockStatement(e){return{type:21,body:e,loc:locStub}}function createTemplateLiteral(e){return{type:22,elements:e,loc:locStub}}function createIfStatement(e,t,n){return{type:23,test:e,consequent:t,alternate:n,loc:locStub}}function createAssignmentExpression(e,t){return{type:24,left:e,right:t,loc:locStub}}function createSequenceExpression(e){return{type:25,expressions:e,loc:locStub}}function createReturnStatement(e){return{type:26,returns:e,loc:locStub}}const isStaticExp=e=>e.type===4&&e.isStatic,isBuiltInType=(e,t)=>e===t||e===hyphenate(t);function isCoreComponent(e){if(isBuiltInType(e,"Teleport"))return TELEPORT;if(isBuiltInType(e,"Suspense"))return SUSPENSE;if(isBuiltInType(e,"KeepAlive"))return KEEP_ALIVE;if(isBuiltInType(e,"BaseTransition"))return BASE_TRANSITION}const nonIdentifierRE=/^\d|[^\$\w]/,isSimpleIdentifier=e=>!nonIdentifierRE.test(e),validFirstIdentCharRE=/[A-Za-z_$\xA0-\uFFFF]/,validIdentCharRE=/[\.\?\w$\xA0-\uFFFF]/,whitespaceRE=/\s+[.[]\s*|\s*[.[]\s+/g,isMemberExpressionBrowser=e=>{e=e.trim().replace(whitespaceRE,g=>g.trim());let t=0,n=[],o=0,h=0,_=null;for(let g=0;g<e.length;g++){const r=e.charAt(g);switch(t){case 0:if(r==="[")n.push(t),t=1,o++;else if(r==="(")n.push(t),t=2,h++;else if(!(g===0?validFirstIdentCharRE:validIdentCharRE).test(r))return!1;break;case 1:r==="'"||r==='"'||r==="`"?(n.push(t),t=3,_=r):r==="["?o++:r==="]"&&(--o||(t=n.pop()));break;case 2:if(r==="'"||r==='"'||r==="`")n.push(t),t=3,_=r;else if(r==="(")h++;else if(r===")"){if(g===e.length-1)return!1;--h||(t=n.pop())}break;case 3:r===_&&(t=n.pop(),_=null);break}}return!o&&!h},isMemberExpressionNode=NOOP,isMemberExpression=isMemberExpressionBrowser;function getInnerRange(e,t,n){const h={source:e.source.slice(t,t+n),start:advancePositionWithClone(e.start,e.source,t),end:e.end};return n!=null&&(h.end=advancePositionWithClone(e.start,e.source,t+n)),h}function advancePositionWithClone(e,t,n=t.length){return advancePositionWithMutation(extend$1({},e),t,n)}function advancePositionWithMutation(e,t,n=t.length){let o=0,h=-1;for(let _=0;_<n;_++)t.charCodeAt(_)===10&&(o++,h=_);return e.offset+=n,e.line+=o,e.column=h===-1?e.column+n:n-h,e}function assert(e,t){if(!e)throw new Error(t||"unexpected compiler condition")}function findDir(e,t,n=!1){for(let o=0;o<e.props.length;o++){const h=e.props[o];if(h.type===7&&(n||h.exp)&&(isString$2(t)?h.name===t:t.test(h.name)))return h}}function findProp(e,t,n=!1,o=!1){for(let h=0;h<e.props.length;h++){const _=e.props[h];if(_.type===6){if(n)continue;if(_.name===t&&(_.value||o))return _}else if(_.name==="bind"&&(_.exp||o)&&isStaticArgOf(_.arg,t))return _}}function isStaticArgOf(e,t){return!!(e&&isStaticExp(e)&&e.content===t)}function hasDynamicKeyVBind(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function isText(e){return e.type===5||e.type===2}function isVSlot(e){return e.type===7&&e.name==="slot"}function isTemplateNode(e){return e.type===1&&e.tagType===3}function isSlotOutlet(e){return e.type===1&&e.tagType===2}function getVNodeHelper(e,t){return e||t?CREATE_VNODE:CREATE_ELEMENT_VNODE}function getVNodeBlockHelper(e,t){return e||t?CREATE_BLOCK:CREATE_ELEMENT_BLOCK}const propsHelperSet=new Set([NORMALIZE_PROPS,GUARD_REACTIVE_PROPS]);function getUnnormalizedProps(e,t=[]){if(e&&!isString$2(e)&&e.type===14){const n=e.callee;if(!isString$2(n)&&propsHelperSet.has(n))return getUnnormalizedProps(e.arguments[0],t.concat(e))}return[e,t]}function injectProp(e,t,n){let o,h=e.type===13?e.props:e.arguments[2],_=[],g;if(h&&!isString$2(h)&&h.type===14){const r=getUnnormalizedProps(h);h=r[0],_=r[1],g=_[_.length-1]}if(h==null||isString$2(h))o=createObjectExpression([t]);else if(h.type===14){const r=h.arguments[0];!isString$2(r)&&r.type===15?r.properties.unshift(t):h.callee===TO_HANDLERS?o=createCallExpression(n.helper(MERGE_PROPS),[createObjectExpression([t]),h]):h.arguments.unshift(createObjectExpression([t])),!o&&(o=h)}else if(h.type===15){let r=!1;if(t.key.type===4){const a=t.key.content;r=h.properties.some(s=>s.key.type===4&&s.key.content===a)}r||h.properties.unshift(t),o=h}else o=createCallExpression(n.helper(MERGE_PROPS),[createObjectExpression([t]),h]),g&&g.callee===GUARD_REACTIVE_PROPS&&(g=_[_.length-2]);e.type===13?g?g.arguments[0]=o:e.props=o:g?g.arguments[0]=o:e.arguments[2]=o}function toValidAssetId(e,t){return`_${t}_${e.replace(/[^\w]/g,(n,o)=>n==="-"?"_":e.charCodeAt(o).toString())}`}function hasScopeRef(e,t){if(!e||Object.keys(t).length===0)return!1;switch(e.type){case 1:for(let n=0;n<e.props.length;n++){const o=e.props[n];if(o.type===7&&(hasScopeRef(o.arg,t)||hasScopeRef(o.exp,t)))return!0}return e.children.some(n=>hasScopeRef(n,t));case 11:return hasScopeRef(e.source,t)?!0:e.children.some(n=>hasScopeRef(n,t));case 9:return e.branches.some(n=>hasScopeRef(n,t));case 10:return hasScopeRef(e.condition,t)?!0:e.children.some(n=>hasScopeRef(n,t));case 4:return!e.isStatic&&isSimpleIdentifier(e.content)&&!!t[e.content];case 8:return e.children.some(n=>isObject$1(n)&&hasScopeRef(n,t));case 5:case 12:return hasScopeRef(e.content,t);case 2:case 3:return!1;default:return!1}}function getMemoedVNodeCall(e){return e.type===14&&e.callee===WITH_MEMO?e.arguments[1].returns:e}function makeBlock(e,{helper:t,removeHelper:n,inSSR:o}){e.isBlock||(e.isBlock=!0,n(getVNodeHelper(o,e.isComponent)),t(OPEN_BLOCK),t(getVNodeBlockHelper(o,e.isComponent)))}const deprecationData={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3.vuejs.org/guide/migration/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${e}.sync\` should be changed to \`v-model:${e}\`.`,link:"https://v3.vuejs.org/guide/migration/v-model.html"},COMPILER_V_BIND_PROP:{message:".prop modifier for v-bind has been removed and no longer necessary. Vue 3 will automatically set a binding as DOM property when appropriate."},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3.vuejs.org/guide/migration/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3.vuejs.org/guide/migration/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3.vuejs.org/guide/migration/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3.vuejs.org/guide/migration/inline-template-attribute.html"},COMPILER_FILTER:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3.vuejs.org/guide/migration/filters.html"}};function getCompatValue(e,t){const n=t.options?t.options.compatConfig:t.compatConfig,o=n&&n[e];return e==="MODE"?o||3:o}function isCompatEnabled(e,t){const n=getCompatValue("MODE",t),o=getCompatValue(e,t);return n===3?o===!0:o!==!1}function checkCompatEnabled(e,t,n,...o){return isCompatEnabled(e,t)}function warnDeprecation(e,t,n,...o){if(getCompatValue(e,t)==="suppress-warning")return;const{message:_,link:g}=deprecationData[e],r=`(deprecation ${e}) ${typeof _=="function"?_(...o):_}${g?`
  Details: ${g}`:""}`,a=new SyntaxError(r);a.code=e,n&&(a.loc=n),t.onWarn(a)}const decodeRE=/&(gt|lt|amp|apos|quot);/g,decodeMap={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},defaultParserOptions={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:NO,isPreTag:NO,isCustomElement:NO,decodeEntities:e=>e.replace(decodeRE,(t,n)=>decodeMap[n]),onError:defaultOnError,onWarn:defaultOnWarn,comments:!1};function baseParse(e,t={}){const n=createParserContext(e,t),o=getCursor(n);return createRoot(parseChildren(n,0,[]),getSelection(n,o))}function createParserContext(e,t){const n=extend$1({},defaultParserOptions);let o;for(o in t)n[o]=t[o]===void 0?defaultParserOptions[o]:t[o];return{options:n,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:n.onWarn}}function parseChildren(e,t,n){const o=last(n),h=o?o.ns:0,_=[];for(;!isEnd(e,t,n);){const r=e.source;let a;if(t===0||t===1){if(!e.inVPre&&startsWith(r,e.options.delimiters[0]))a=parseInterpolation(e,t);else if(t===0&&r[0]==="<")if(r.length===1)emitError(e,5,1);else if(r[1]==="!")startsWith(r,"<!--")?a=parseComment(e):startsWith(r,"<!DOCTYPE")?a=parseBogusComment(e):startsWith(r,"<![CDATA[")?h!==0?a=parseCDATA(e,n):(emitError(e,1),a=parseBogusComment(e)):(emitError(e,11),a=parseBogusComment(e));else if(r[1]==="/")if(r.length===2)emitError(e,5,2);else if(r[2]===">"){emitError(e,14,2),advanceBy(e,3);continue}else if(/[a-z]/i.test(r[2])){emitError(e,23),parseTag(e,1,o);continue}else emitError(e,12,2),a=parseBogusComment(e);else/[a-z]/i.test(r[1])?(a=parseElement(e,n),isCompatEnabled("COMPILER_NATIVE_TEMPLATE",e)&&a&&a.tag==="template"&&!a.props.some(s=>s.type===7&&isSpecialTemplateDirective(s.name))&&(a=a.children)):r[1]==="?"?(emitError(e,21,1),a=parseBogusComment(e)):emitError(e,12,1)}if(a||(a=parseText(e,t)),isArray$5(a))for(let s=0;s<a.length;s++)pushNode(_,a[s]);else pushNode(_,a)}let g=!1;if(t!==2&&t!==1){const r=e.options.whitespace!=="preserve";for(let a=0;a<_.length;a++){const s=_[a];if(!e.inPre&&s.type===2)if(/[^\t\r\n\f ]/.test(s.content))r&&(s.content=s.content.replace(/[\t\r\n\f ]+/g," "));else{const u=_[a-1],p=_[a+1];!u||!p||r&&(u.type===3||p.type===3||u.type===1&&p.type===1&&/[\r\n]/.test(s.content))?(g=!0,_[a]=null):s.content=" "}else s.type===3&&!e.options.comments&&(g=!0,_[a]=null)}if(e.inPre&&o&&e.options.isPreTag(o.tag)){const a=_[0];a&&a.type===2&&(a.content=a.content.replace(/^\r?\n/,""))}}return g?_.filter(Boolean):_}function pushNode(e,t){if(t.type===2){const n=last(e);if(n&&n.type===2&&n.loc.end.offset===t.loc.start.offset){n.content+=t.content,n.loc.end=t.loc.end,n.loc.source+=t.loc.source;return}}e.push(t)}function parseCDATA(e,t){advanceBy(e,9);const n=parseChildren(e,3,t);return e.source.length===0?emitError(e,6):advanceBy(e,3),n}function parseComment(e){const t=getCursor(e);let n;const o=/--(\!)?>/.exec(e.source);if(!o)n=e.source.slice(4),advanceBy(e,e.source.length),emitError(e,7);else{o.index<=3&&emitError(e,0),o[1]&&emitError(e,10),n=e.source.slice(4,o.index);const h=e.source.slice(0,o.index);let _=1,g=0;for(;(g=h.indexOf("<!--",_))!==-1;)advanceBy(e,g-_+1),g+4<h.length&&emitError(e,16),_=g+1;advanceBy(e,o.index+o[0].length-_+1)}return{type:3,content:n,loc:getSelection(e,t)}}function parseBogusComment(e){const t=getCursor(e),n=e.source[1]==="?"?1:2;let o;const h=e.source.indexOf(">");return h===-1?(o=e.source.slice(n),advanceBy(e,e.source.length)):(o=e.source.slice(n,h),advanceBy(e,h+1)),{type:3,content:o,loc:getSelection(e,t)}}function parseElement(e,t){const n=e.inPre,o=e.inVPre,h=last(t),_=parseTag(e,0,h),g=e.inPre&&!n,r=e.inVPre&&!o;if(_.isSelfClosing||e.options.isVoidTag(_.tag))return g&&(e.inPre=!1),r&&(e.inVPre=!1),_;t.push(_);const a=e.options.getTextMode(_,h),s=parseChildren(e,a,t);t.pop();{const u=_.props.find(p=>p.type===6&&p.name==="inline-template");if(u&&checkCompatEnabled("COMPILER_INLINE_TEMPLATE",e,u.loc)){const p=getSelection(e,_.loc.end);u.value={type:2,content:p.source,loc:p}}}if(_.children=s,startsWithEndTagOpen(e.source,_.tag))parseTag(e,1,h);else if(emitError(e,24,0,_.loc.start),e.source.length===0&&_.tag.toLowerCase()==="script"){const u=s[0];u&&startsWith(u.loc.source,"<!--")&&emitError(e,8)}return _.loc=getSelection(e,_.loc.start),g&&(e.inPre=!1),r&&(e.inVPre=!1),_}const isSpecialTemplateDirective=makeMap("if,else,else-if,for,slot");function parseTag(e,t,n){const o=getCursor(e),h=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),_=h[1],g=e.options.getNamespace(_,n);advanceBy(e,h[0].length),advanceSpaces(e);const r=getCursor(e),a=e.source;e.options.isPreTag(_)&&(e.inPre=!0);let s=parseAttributes(e,t);t===0&&!e.inVPre&&s.some(m=>m.type===7&&m.name==="pre")&&(e.inVPre=!0,extend$1(e,r),e.source=a,s=parseAttributes(e,t).filter(m=>m.name!=="v-pre"));let u=!1;if(e.source.length===0?emitError(e,9):(u=startsWith(e.source,"/>"),t===1&&u&&emitError(e,4),advanceBy(e,u?2:1)),t===1)return;let p=0;return e.inVPre||(_==="slot"?p=2:_==="template"?s.some(m=>m.type===7&&isSpecialTemplateDirective(m.name))&&(p=3):isComponent(_,s,e)&&(p=1)),{type:1,ns:g,tag:_,tagType:p,props:s,isSelfClosing:u,children:[],loc:getSelection(e,o),codegenNode:void 0}}function isComponent(e,t,n){const o=n.options;if(o.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||isCoreComponent(e)||o.isBuiltInComponent&&o.isBuiltInComponent(e)||o.isNativeTag&&!o.isNativeTag(e))return!0;for(let h=0;h<t.length;h++){const _=t[h];if(_.type===6){if(_.name==="is"&&_.value){if(_.value.content.startsWith("vue:"))return!0;if(checkCompatEnabled("COMPILER_IS_ON_ELEMENT",n,_.loc))return!0}}else{if(_.name==="is")return!0;if(_.name==="bind"&&isStaticArgOf(_.arg,"is")&&!0&&checkCompatEnabled("COMPILER_IS_ON_ELEMENT",n,_.loc))return!0}}}function parseAttributes(e,t){const n=[],o=new Set;for(;e.source.length>0&&!startsWith(e.source,">")&&!startsWith(e.source,"/>");){if(startsWith(e.source,"/")){emitError(e,22),advanceBy(e,1),advanceSpaces(e);continue}t===1&&emitError(e,3);const h=parseAttribute(e,o);h.type===6&&h.value&&h.name==="class"&&(h.value.content=h.value.content.replace(/\s+/g," ").trim()),t===0&&n.push(h),/^[^\t\r\n\f />]/.test(e.source)&&emitError(e,15),advanceSpaces(e)}return n}function parseAttribute(e,t){const n=getCursor(e),h=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(h)&&emitError(e,2),t.add(h),h[0]==="="&&emitError(e,19);{const r=/["'<]/g;let a;for(;a=r.exec(h);)emitError(e,17,a.index)}advanceBy(e,h.length);let _;/^[\t\r\n\f ]*=/.test(e.source)&&(advanceSpaces(e),advanceBy(e,1),advanceSpaces(e),_=parseAttributeValue(e),_||emitError(e,13));const g=getSelection(e,n);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(h)){const r=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(h);let a=startsWith(h,"."),s=r[1]||(a||startsWith(h,":")?"bind":startsWith(h,"@")?"on":"slot"),u;if(r[2]){const m=s==="slot",w=h.lastIndexOf(r[2]),E=getSelection(e,getNewPosition(e,n,w),getNewPosition(e,n,w+r[2].length+(m&&r[3]||"").length));let d=r[2],v=!0;d.startsWith("[")?(v=!1,d.endsWith("]")?d=d.slice(1,d.length-1):(emitError(e,27),d=d.slice(1))):m&&(d+=r[3]||""),u={type:4,content:d,isStatic:v,constType:v?3:0,loc:E}}if(_&&_.isQuoted){const m=_.loc;m.start.offset++,m.start.column++,m.end=advancePositionWithClone(m.start,_.content),m.source=m.source.slice(1,-1)}const p=r[3]?r[3].slice(1).split("."):[];return a&&p.push("prop"),s==="bind"&&u&&p.includes("sync")&&checkCompatEnabled("COMPILER_V_BIND_SYNC",e,g,u.loc.source)&&(s="model",p.splice(p.indexOf("sync"),1)),{type:7,name:s,exp:_&&{type:4,content:_.content,isStatic:!1,constType:0,loc:_.loc},arg:u,modifiers:p,loc:g}}return!e.inVPre&&startsWith(h,"v-")&&emitError(e,26),{type:6,name:h,value:_&&{type:2,content:_.content,loc:_.loc},loc:g}}function parseAttributeValue(e){const t=getCursor(e);let n;const o=e.source[0],h=o==='"'||o==="'";if(h){advanceBy(e,1);const _=e.source.indexOf(o);_===-1?n=parseTextData(e,e.source.length,4):(n=parseTextData(e,_,4),advanceBy(e,1))}else{const _=/^[^\t\r\n\f >]+/.exec(e.source);if(!_)return;const g=/["'<=`]/g;let r;for(;r=g.exec(_[0]);)emitError(e,18,r.index);n=parseTextData(e,_[0].length,4)}return{content:n,isQuoted:h,loc:getSelection(e,t)}}function parseInterpolation(e,t){const[n,o]=e.options.delimiters,h=e.source.indexOf(o,n.length);if(h===-1){emitError(e,25);return}const _=getCursor(e);advanceBy(e,n.length);const g=getCursor(e),r=getCursor(e),a=h-n.length,s=e.source.slice(0,a),u=parseTextData(e,a,t),p=u.trim(),m=u.indexOf(p);m>0&&advancePositionWithMutation(g,s,m);const w=a-(u.length-p.length-m);return advancePositionWithMutation(r,s,w),advanceBy(e,o.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:p,loc:getSelection(e,g,r)},loc:getSelection(e,_)}}function parseText(e,t){const n=t===3?["]]>"]:["<",e.options.delimiters[0]];let o=e.source.length;for(let g=0;g<n.length;g++){const r=e.source.indexOf(n[g],1);r!==-1&&o>r&&(o=r)}const h=getCursor(e),_=parseTextData(e,o,t);return{type:2,content:_,loc:getSelection(e,h)}}function parseTextData(e,t,n){const o=e.source.slice(0,t);return advanceBy(e,t),n===2||n===3||!o.includes("&")?o:e.options.decodeEntities(o,n===4)}function getCursor(e){const{column:t,line:n,offset:o}=e;return{column:t,line:n,offset:o}}function getSelection(e,t,n){return n=n||getCursor(e),{start:t,end:n,source:e.originalSource.slice(t.offset,n.offset)}}function last(e){return e[e.length-1]}function startsWith(e,t){return e.startsWith(t)}function advanceBy(e,t){const{source:n}=e;advancePositionWithMutation(e,n,t),e.source=n.slice(t)}function advanceSpaces(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&advanceBy(e,t[0].length)}function getNewPosition(e,t,n){return advancePositionWithClone(t,e.originalSource.slice(t.offset,n),n)}function emitError(e,t,n,o=getCursor(e)){n&&(o.offset+=n,o.column+=n),e.options.onError(createCompilerError(t,{start:o,end:o,source:""}))}function isEnd(e,t,n){const o=e.source;switch(t){case 0:if(startsWith(o,"</")){for(let h=n.length-1;h>=0;--h)if(startsWithEndTagOpen(o,n[h].tag))return!0}break;case 1:case 2:{const h=last(n);if(h&&startsWithEndTagOpen(o,h.tag))return!0;break}case 3:if(startsWith(o,"]]>"))return!0;break}return!o}function startsWithEndTagOpen(e,t){return startsWith(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function hoistStatic(e,t){walk(e,t,isSingleElementRoot(e,e.children[0]))}function isSingleElementRoot(e,t){const{children:n}=e;return n.length===1&&t.type===1&&!isSlotOutlet(t)}function walk(e,t,n=!1){const{children:o}=e,h=o.length;let _=0;for(let g=0;g<o.length;g++){const r=o[g];if(r.type===1&&r.tagType===0){const a=n?0:getConstantType(r,t);if(a>0){if(a>=2){r.codegenNode.patchFlag=-1+"",r.codegenNode=t.hoist(r.codegenNode),_++;continue}}else{const s=r.codegenNode;if(s.type===13){const u=getPatchFlag(s);if((!u||u===512||u===1)&&getGeneratedPropsConstantType(r,t)>=2){const p=getNodeProps(r);p&&(s.props=t.hoist(p))}s.dynamicProps&&(s.dynamicProps=t.hoist(s.dynamicProps))}}}else r.type===12&&getConstantType(r.content,t)>=2&&(r.codegenNode=t.hoist(r.codegenNode),_++);if(r.type===1){const a=r.tagType===1;a&&t.scopes.vSlot++,walk(r,t),a&&t.scopes.vSlot--}else if(r.type===11)walk(r,t,r.children.length===1);else if(r.type===9)for(let a=0;a<r.branches.length;a++)walk(r.branches[a],t,r.branches[a].children.length===1)}_&&t.transformHoist&&t.transformHoist(o,t,e),_&&_===h&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&isArray$5(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(createArrayExpression(e.codegenNode.children)))}function getConstantType(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const o=n.get(e);if(o!==void 0)return o;const h=e.codegenNode;if(h.type!==13||h.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(getPatchFlag(h))return n.set(e,0),0;{let r=3;const a=getGeneratedPropsConstantType(e,t);if(a===0)return n.set(e,0),0;a<r&&(r=a);for(let s=0;s<e.children.length;s++){const u=getConstantType(e.children[s],t);if(u===0)return n.set(e,0),0;u<r&&(r=u)}if(r>1)for(let s=0;s<e.props.length;s++){const u=e.props[s];if(u.type===7&&u.name==="bind"&&u.exp){const p=getConstantType(u.exp,t);if(p===0)return n.set(e,0),0;p<r&&(r=p)}}return h.isBlock&&(t.removeHelper(OPEN_BLOCK),t.removeHelper(getVNodeBlockHelper(t.inSSR,h.isComponent)),h.isBlock=!1,t.helper(getVNodeHelper(t.inSSR,h.isComponent))),n.set(e,r),r}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return getConstantType(e.content,t);case 4:return e.constType;case 8:let g=3;for(let r=0;r<e.children.length;r++){const a=e.children[r];if(isString$2(a)||isSymbol$1(a))continue;const s=getConstantType(a,t);if(s===0)return 0;s<g&&(g=s)}return g;default:return 0}}const allowHoistedHelperSet=new Set([NORMALIZE_CLASS,NORMALIZE_STYLE,NORMALIZE_PROPS,GUARD_REACTIVE_PROPS]);function getConstantTypeOfHelperCall(e,t){if(e.type===14&&!isString$2(e.callee)&&allowHoistedHelperSet.has(e.callee)){const n=e.arguments[0];if(n.type===4)return getConstantType(n,t);if(n.type===14)return getConstantTypeOfHelperCall(n,t)}return 0}function getGeneratedPropsConstantType(e,t){let n=3;const o=getNodeProps(e);if(o&&o.type===15){const{properties:h}=o;for(let _=0;_<h.length;_++){const{key:g,value:r}=h[_],a=getConstantType(g,t);if(a===0)return a;a<n&&(n=a);let s;if(r.type===4?s=getConstantType(r,t):r.type===14?s=getConstantTypeOfHelperCall(r,t):s=0,s===0)return s;s<n&&(n=s)}}return n}function getNodeProps(e){const t=e.codegenNode;if(t.type===13)return t.props}function getPatchFlag(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function createTransformContext(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:o=!1,cacheHandlers:h=!1,nodeTransforms:_=[],directiveTransforms:g={},transformHoist:r=null,isBuiltInComponent:a=NOOP,isCustomElement:s=NOOP,expressionPlugins:u=[],scopeId:p=null,slotted:m=!0,ssr:w=!1,inSSR:E=!1,ssrCssVars:d="",bindingMetadata:v=EMPTY_OBJ,inline:C=!1,isTS:y=!1,onError:f=defaultOnError,onWarn:c=defaultOnWarn,compatConfig:l}){const b=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),S={selfName:b&&capitalize(camelize$1(b[1])),prefixIdentifiers:n,hoistStatic:o,cacheHandlers:h,nodeTransforms:_,directiveTransforms:g,transformHoist:r,isBuiltInComponent:a,isCustomElement:s,expressionPlugins:u,scopeId:p,slotted:m,ssr:w,inSSR:E,ssrCssVars:d,bindingMetadata:v,inline:C,isTS:y,onError:f,onWarn:c,compatConfig:l,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(A){const L=S.helpers.get(A)||0;return S.helpers.set(A,L+1),A},removeHelper(A){const L=S.helpers.get(A);if(L){const x=L-1;x?S.helpers.set(A,x):S.helpers.delete(A)}},helperString(A){return`_${helperNameMap[S.helper(A)]}`},replaceNode(A){S.parent.children[S.childIndex]=S.currentNode=A},removeNode(A){const L=S.parent.children,x=A?L.indexOf(A):S.currentNode?S.childIndex:-1;!A||A===S.currentNode?(S.currentNode=null,S.onNodeRemoved()):S.childIndex>x&&(S.childIndex--,S.onNodeRemoved()),S.parent.children.splice(x,1)},onNodeRemoved:()=>{},addIdentifiers(A){},removeIdentifiers(A){},hoist(A){isString$2(A)&&(A=createSimpleExpression(A)),S.hoists.push(A);const L=createSimpleExpression(`_hoisted_${S.hoists.length}`,!1,A.loc,2);return L.hoisted=A,L},cache(A,L=!1){return createCacheExpression(S.cached++,A,L)}};return S.filters=new Set,S}function transform(e,t){const n=createTransformContext(e,t);traverseNode(e,n),t.hoistStatic&&hoistStatic(e,n),t.ssr||createRootCodegen(e,n),e.helpers=[...n.helpers.keys()],e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.filters=[...n.filters]}function createRootCodegen(e,t){const{helper:n}=t,{children:o}=e;if(o.length===1){const h=o[0];if(isSingleElementRoot(e,h)&&h.codegenNode){const _=h.codegenNode;_.type===13&&makeBlock(_,t),e.codegenNode=_}else e.codegenNode=h}else if(o.length>1){let h=64;PatchFlagNames[64],e.codegenNode=createVNodeCall(t,n(FRAGMENT),void 0,e.children,h+"",void 0,void 0,!0,void 0,!1)}}function traverseChildren(e,t){let n=0;const o=()=>{n--};for(;n<e.children.length;n++){const h=e.children[n];isString$2(h)||(t.parent=e,t.childIndex=n,t.onNodeRemoved=o,traverseNode(h,t))}}function traverseNode(e,t){t.currentNode=e;const{nodeTransforms:n}=t,o=[];for(let _=0;_<n.length;_++){const g=n[_](e,t);if(g&&(isArray$5(g)?o.push(...g):o.push(g)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(CREATE_COMMENT);break;case 5:t.ssr||t.helper(TO_DISPLAY_STRING);break;case 9:for(let _=0;_<e.branches.length;_++)traverseNode(e.branches[_],t);break;case 10:case 11:case 1:case 0:traverseChildren(e,t);break}t.currentNode=e;let h=o.length;for(;h--;)o[h]()}function createStructuralDirectiveTransform(e,t){const n=isString$2(e)?o=>o===e:o=>e.test(o);return(o,h)=>{if(o.type===1){const{props:_}=o;if(o.tagType===3&&_.some(isVSlot))return;const g=[];for(let r=0;r<_.length;r++){const a=_[r];if(a.type===7&&n(a.name)){_.splice(r,1),r--;const s=t(o,a,h);s&&g.push(s)}}return g}}}const PURE_ANNOTATION="/*#__PURE__*/";function createCodegenContext(e,{mode:t="function",prefixIdentifiers:n=t==="module",sourceMap:o=!1,filename:h="template.vue.html",scopeId:_=null,optimizeImports:g=!1,runtimeGlobalName:r="Vue",runtimeModuleName:a="vue",ssrRuntimeModuleName:s="vue/server-renderer",ssr:u=!1,isTS:p=!1,inSSR:m=!1}){const w={mode:t,prefixIdentifiers:n,sourceMap:o,filename:h,scopeId:_,optimizeImports:g,runtimeGlobalName:r,runtimeModuleName:a,ssrRuntimeModuleName:s,ssr:u,isTS:p,inSSR:m,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(d){return`_${helperNameMap[d]}`},push(d,v){w.code+=d},indent(){E(++w.indentLevel)},deindent(d=!1){d?--w.indentLevel:E(--w.indentLevel)},newline(){E(w.indentLevel)}};function E(d){w.push(`
`+"  ".repeat(d))}return w}function generate(e,t={}){const n=createCodegenContext(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:o,push:h,prefixIdentifiers:_,indent:g,deindent:r,newline:a,scopeId:s,ssr:u}=n,p=e.helpers.length>0,m=!_&&o!=="module";genFunctionPreamble(e,n);const E=u?"ssrRender":"render",v=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(h(`function ${E}(${v}) {`),g(),m&&(h("with (_ctx) {"),g(),p&&(h(`const { ${e.helpers.map(C=>`${helperNameMap[C]}: _${helperNameMap[C]}`).join(", ")} } = _Vue`),h(`
`),a())),e.components.length&&(genAssets(e.components,"component",n),(e.directives.length||e.temps>0)&&a()),e.directives.length&&(genAssets(e.directives,"directive",n),e.temps>0&&a()),e.filters&&e.filters.length&&(a(),genAssets(e.filters,"filter",n),a()),e.temps>0){h("let ");for(let C=0;C<e.temps;C++)h(`${C>0?", ":""}_temp${C}`)}return(e.components.length||e.directives.length||e.temps)&&(h(`
`),a()),u||h("return "),e.codegenNode?genNode(e.codegenNode,n):h("null"),m&&(r(),h("}")),r(),h("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function genFunctionPreamble(e,t){const{ssr:n,prefixIdentifiers:o,push:h,newline:_,runtimeModuleName:g,runtimeGlobalName:r,ssrRuntimeModuleName:a}=t,s=r,u=p=>`${helperNameMap[p]}: _${helperNameMap[p]}`;if(e.helpers.length>0&&(h(`const _Vue = ${s}
`),e.hoists.length)){const p=[CREATE_VNODE,CREATE_ELEMENT_VNODE,CREATE_COMMENT,CREATE_TEXT,CREATE_STATIC].filter(m=>e.helpers.includes(m)).map(u).join(", ");h(`const { ${p} } = _Vue
`)}genHoists(e.hoists,t),_(),h("return ")}function genAssets(e,t,{helper:n,push:o,newline:h,isTS:_}){const g=n(t==="filter"?RESOLVE_FILTER:t==="component"?RESOLVE_COMPONENT:RESOLVE_DIRECTIVE);for(let r=0;r<e.length;r++){let a=e[r];const s=a.endsWith("__self");s&&(a=a.slice(0,-6)),o(`const ${toValidAssetId(a,t)} = ${g}(${JSON.stringify(a)}${s?", true":""})${_?"!":""}`),r<e.length-1&&h()}}function genHoists(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:o,helper:h,scopeId:_,mode:g}=t;o();for(let r=0;r<e.length;r++){const a=e[r];a&&(n(`const _hoisted_${r+1} = `),genNode(a,t),o())}t.pure=!1}function genNodeListAsArray(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),genNodeList(e,t,n),n&&t.deindent(),t.push("]")}function genNodeList(e,t,n=!1,o=!0){const{push:h,newline:_}=t;for(let g=0;g<e.length;g++){const r=e[g];isString$2(r)?h(r):isArray$5(r)?genNodeListAsArray(r,t):genNode(r,t),g<e.length-1&&(n?(o&&h(","),_()):o&&h(", "))}}function genNode(e,t){if(isString$2(e)){t.push(e);return}if(isSymbol$1(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:genNode(e.codegenNode,t);break;case 2:genText(e,t);break;case 4:genExpression(e,t);break;case 5:genInterpolation(e,t);break;case 12:genNode(e.codegenNode,t);break;case 8:genCompoundExpression(e,t);break;case 3:genComment(e,t);break;case 13:genVNodeCall(e,t);break;case 14:genCallExpression(e,t);break;case 15:genObjectExpression(e,t);break;case 17:genArrayExpression(e,t);break;case 18:genFunctionExpression(e,t);break;case 19:genConditionalExpression(e,t);break;case 20:genCacheExpression(e,t);break;case 21:genNodeList(e.body,t,!0,!1);break}}function genText(e,t){t.push(JSON.stringify(e.content),e)}function genExpression(e,t){const{content:n,isStatic:o}=e;t.push(o?JSON.stringify(n):n,e)}function genInterpolation(e,t){const{push:n,helper:o,pure:h}=t;h&&n(PURE_ANNOTATION),n(`${o(TO_DISPLAY_STRING)}(`),genNode(e.content,t),n(")")}function genCompoundExpression(e,t){for(let n=0;n<e.children.length;n++){const o=e.children[n];isString$2(o)?t.push(o):genNode(o,t)}}function genExpressionAsPropertyKey(e,t){const{push:n}=t;if(e.type===8)n("["),genCompoundExpression(e,t),n("]");else if(e.isStatic){const o=isSimpleIdentifier(e.content)?e.content:JSON.stringify(e.content);n(o,e)}else n(`[${e.content}]`,e)}function genComment(e,t){const{push:n,helper:o,pure:h}=t;h&&n(PURE_ANNOTATION),n(`${o(CREATE_COMMENT)}(${JSON.stringify(e.content)})`,e)}function genVNodeCall(e,t){const{push:n,helper:o,pure:h}=t,{tag:_,props:g,children:r,patchFlag:a,dynamicProps:s,directives:u,isBlock:p,disableTracking:m,isComponent:w}=e;u&&n(o(WITH_DIRECTIVES)+"("),p&&n(`(${o(OPEN_BLOCK)}(${m?"true":""}), `),h&&n(PURE_ANNOTATION);const E=p?getVNodeBlockHelper(t.inSSR,w):getVNodeHelper(t.inSSR,w);n(o(E)+"(",e),genNodeList(genNullableArgs([_,g,r,a,s]),t),n(")"),p&&n(")"),u&&(n(", "),genNode(u,t),n(")"))}function genNullableArgs(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(n=>n||"null")}function genCallExpression(e,t){const{push:n,helper:o,pure:h}=t,_=isString$2(e.callee)?e.callee:o(e.callee);h&&n(PURE_ANNOTATION),n(_+"(",e),genNodeList(e.arguments,t),n(")")}function genObjectExpression(e,t){const{push:n,indent:o,deindent:h,newline:_}=t,{properties:g}=e;if(!g.length){n("{}",e);return}const r=g.length>1||!1;n(r?"{":"{ "),r&&o();for(let a=0;a<g.length;a++){const{key:s,value:u}=g[a];genExpressionAsPropertyKey(s,t),n(": "),genNode(u,t),a<g.length-1&&(n(","),_())}r&&h(),n(r?"}":" }")}function genArrayExpression(e,t){genNodeListAsArray(e.elements,t)}function genFunctionExpression(e,t){const{push:n,indent:o,deindent:h}=t,{params:_,returns:g,body:r,newline:a,isSlot:s}=e;s&&n(`_${helperNameMap[WITH_CTX]}(`),n("(",e),isArray$5(_)?genNodeList(_,t):_&&genNode(_,t),n(") => "),(a||r)&&(n("{"),o()),g?(a&&n("return "),isArray$5(g)?genNodeListAsArray(g,t):genNode(g,t)):r&&genNode(r,t),(a||r)&&(h(),n("}")),s&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}function genConditionalExpression(e,t){const{test:n,consequent:o,alternate:h,newline:_}=e,{push:g,indent:r,deindent:a,newline:s}=t;if(n.type===4){const p=!isSimpleIdentifier(n.content);p&&g("("),genExpression(n,t),p&&g(")")}else g("("),genNode(n,t),g(")");_&&r(),t.indentLevel++,_||g(" "),g("? "),genNode(o,t),t.indentLevel--,_&&s(),_||g(" "),g(": ");const u=h.type===19;u||t.indentLevel++,genNode(h,t),u||t.indentLevel--,_&&a(!0)}function genCacheExpression(e,t){const{push:n,helper:o,indent:h,deindent:_,newline:g}=t;n(`_cache[${e.index}] || (`),e.isVNode&&(h(),n(`${o(SET_BLOCK_TRACKING)}(-1),`),g()),n(`_cache[${e.index}] = `),genNode(e.value,t),e.isVNode&&(n(","),g(),n(`${o(SET_BLOCK_TRACKING)}(1),`),g(),n(`_cache[${e.index}]`),_()),n(")")}function walkIdentifiers(e,t,n=!1,o=[],h=Object.create(null)){}function isReferencedIdentifier(e,t,n){return!1}function isInDestructureAssignment(e,t){if(e&&(e.type==="ObjectProperty"||e.type==="ArrayPattern")){let n=t.length;for(;n--;){const o=t[n];if(o.type==="AssignmentExpression")return!0;if(o.type!=="ObjectProperty"&&!o.type.endsWith("Pattern"))break}}return!1}function walkFunctionParams(e,t){for(const n of e.params)for(const o of extractIdentifiers(n))t(o)}function walkBlockDeclarations(e,t){for(const n of e.body)if(n.type==="VariableDeclaration"){if(n.declare)continue;for(const o of n.declarations)for(const h of extractIdentifiers(o.id))t(h)}else if(n.type==="FunctionDeclaration"||n.type==="ClassDeclaration"){if(n.declare||!n.id)continue;t(n.id)}}function extractIdentifiers(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let n=e;for(;n.type==="MemberExpression";)n=n.object;t.push(n);break;case"ObjectPattern":for(const o of e.properties)o.type==="RestElement"?extractIdentifiers(o.argument,t):extractIdentifiers(o.value,t);break;case"ArrayPattern":e.elements.forEach(o=>{o&&extractIdentifiers(o,t)});break;case"RestElement":extractIdentifiers(e.argument,t);break;case"AssignmentPattern":extractIdentifiers(e.left,t);break}return t}const isFunctionType=e=>/Function(?:Expression|Declaration)$|Method$/.test(e.type),isStaticProperty=e=>e&&(e.type==="ObjectProperty"||e.type==="ObjectMethod")&&!e.computed,isStaticPropertyKey=(e,t)=>isStaticProperty(t)&&t.key===e;new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const transformExpression=(e,t)=>{if(e.type===5)e.content=processExpression(e.content,t);else if(e.type===1)for(let n=0;n<e.props.length;n++){const o=e.props[n];if(o.type===7&&o.name!=="for"){const h=o.exp,_=o.arg;h&&h.type===4&&!(o.name==="on"&&_)&&(o.exp=processExpression(h,t,o.name==="slot")),_&&_.type===4&&!_.isStatic&&(o.arg=processExpression(_,t))}}};function processExpression(e,t,n=!1,o=!1,h=Object.create(t.identifiers)){return e}const transformIf=createStructuralDirectiveTransform(/^(if|else|else-if)$/,(e,t,n)=>processIf(e,t,n,(o,h,_)=>{const g=n.parent.children;let r=g.indexOf(o),a=0;for(;r-->=0;){const s=g[r];s&&s.type===9&&(a+=s.branches.length)}return()=>{if(_)o.codegenNode=createCodegenNodeForBranch(h,a,n);else{const s=getParentCondition(o.codegenNode);s.alternate=createCodegenNodeForBranch(h,a+o.branches.length-1,n)}}}));function processIf(e,t,n,o){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const h=t.exp?t.exp.loc:e.loc;n.onError(createCompilerError(28,t.loc)),t.exp=createSimpleExpression("true",!1,h)}if(t.name==="if"){const h=createIfBranch(e,t),_={type:9,loc:e.loc,branches:[h]};if(n.replaceNode(_),o)return o(_,h,!0)}else{const h=n.parent.children;let _=h.indexOf(e);for(;_-->=-1;){const g=h[_];if(g&&g.type===2&&!g.content.trim().length){n.removeNode(g);continue}if(g&&g.type===9){t.name==="else-if"&&g.branches[g.branches.length-1].condition===void 0&&n.onError(createCompilerError(30,e.loc)),n.removeNode();const r=createIfBranch(e,t);g.branches.push(r);const a=o&&o(g,r,!1);traverseNode(r,n),a&&a(),n.currentNode=null}else n.onError(createCompilerError(30,e.loc));break}}}function createIfBranch(e,t){return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:e.tagType===3&&!findDir(e,"for")?e.children:[e],userKey:findProp(e,"key")}}function createCodegenNodeForBranch(e,t,n){return e.condition?createConditionalExpression(e.condition,createChildrenCodegenNode(e,t,n),createCallExpression(n.helper(CREATE_COMMENT),['""',"true"])):createChildrenCodegenNode(e,t,n)}function createChildrenCodegenNode(e,t,n){const{helper:o}=n,h=createObjectProperty("key",createSimpleExpression(`${t}`,!1,locStub,2)),{children:_}=e,g=_[0];if(_.length!==1||g.type!==1)if(_.length===1&&g.type===11){const a=g.codegenNode;return injectProp(a,h,n),a}else{let a=64;return PatchFlagNames[64],createVNodeCall(n,o(FRAGMENT),createObjectExpression([h]),_,a+"",void 0,void 0,!0,!1,!1,e.loc)}else{const a=g.codegenNode,s=getMemoedVNodeCall(a);return s.type===13&&makeBlock(s,n),injectProp(s,h,n),a}}function getParentCondition(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const transformFor=createStructuralDirectiveTransform("for",(e,t,n)=>{const{helper:o,removeHelper:h}=n;return processFor(e,t,n,_=>{const g=createCallExpression(o(RENDER_LIST),[_.source]),r=isTemplateNode(e),a=findDir(e,"memo"),s=findProp(e,"key"),u=s&&(s.type===6?createSimpleExpression(s.value.content,!0):s.exp),p=s?createObjectProperty("key",u):null,m=_.source.type===4&&_.source.constType>0,w=m?64:s?128:256;return _.codegenNode=createVNodeCall(n,o(FRAGMENT),void 0,g,w+"",void 0,void 0,!0,!m,!1,e.loc),()=>{let E;const{children:d}=_,v=d.length!==1||d[0].type!==1,C=isSlotOutlet(e)?e:r&&e.children.length===1&&isSlotOutlet(e.children[0])?e.children[0]:null;if(C?(E=C.codegenNode,r&&p&&injectProp(E,p,n)):v?E=createVNodeCall(n,o(FRAGMENT),p?createObjectExpression([p]):void 0,e.children,64+"",void 0,void 0,!0,void 0,!1):(E=d[0].codegenNode,r&&p&&injectProp(E,p,n),E.isBlock!==!m&&(E.isBlock?(h(OPEN_BLOCK),h(getVNodeBlockHelper(n.inSSR,E.isComponent))):h(getVNodeHelper(n.inSSR,E.isComponent))),E.isBlock=!m,E.isBlock?(o(OPEN_BLOCK),o(getVNodeBlockHelper(n.inSSR,E.isComponent))):o(getVNodeHelper(n.inSSR,E.isComponent))),a){const y=createFunctionExpression(createForLoopParams(_.parseResult,[createSimpleExpression("_cached")]));y.body=createBlockStatement([createCompoundExpression(["const _memo = (",a.exp,")"]),createCompoundExpression(["if (_cached",...u?[" && _cached.key === ",u]:[],` && ${n.helperString(IS_MEMO_SAME)}(_cached, _memo)) return _cached`]),createCompoundExpression(["const _item = ",E]),createSimpleExpression("_item.memo = _memo"),createSimpleExpression("return _item")]),g.arguments.push(y,createSimpleExpression("_cache"),createSimpleExpression(String(n.cached++)))}else g.arguments.push(createFunctionExpression(createForLoopParams(_.parseResult),E,!0))}})});function processFor(e,t,n,o){if(!t.exp){n.onError(createCompilerError(31,t.loc));return}const h=parseForExpression(t.exp);if(!h){n.onError(createCompilerError(32,t.loc));return}const{addIdentifiers:_,removeIdentifiers:g,scopes:r}=n,{source:a,value:s,key:u,index:p}=h,m={type:11,loc:t.loc,source:a,valueAlias:s,keyAlias:u,objectIndexAlias:p,parseResult:h,children:isTemplateNode(e)?e.children:[e]};n.replaceNode(m),r.vFor++;const w=o&&o(m);return()=>{r.vFor--,w&&w()}}const forAliasRE=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,forIteratorRE=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,stripParensRE=/^\(|\)$/g;function parseForExpression(e,t){const n=e.loc,o=e.content,h=o.match(forAliasRE);if(!h)return;const[,_,g]=h,r={source:createAliasExpression(n,g.trim(),o.indexOf(g,_.length)),value:void 0,key:void 0,index:void 0};let a=_.trim().replace(stripParensRE,"").trim();const s=_.indexOf(a),u=a.match(forIteratorRE);if(u){a=a.replace(forIteratorRE,"").trim();const p=u[1].trim();let m;if(p&&(m=o.indexOf(p,s+a.length),r.key=createAliasExpression(n,p,m)),u[2]){const w=u[2].trim();w&&(r.index=createAliasExpression(n,w,o.indexOf(w,r.key?m+p.length:s+a.length)))}}return a&&(r.value=createAliasExpression(n,a,s)),r}function createAliasExpression(e,t,n){return createSimpleExpression(t,!1,getInnerRange(e,n,t.length))}function createForLoopParams({value:e,key:t,index:n},o=[]){return createParamsList([e,t,n,...o])}function createParamsList(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((n,o)=>n||createSimpleExpression("_".repeat(o+1),!1))}const defaultFallback=createSimpleExpression("undefined",!1),trackSlotScopes=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const n=findDir(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},trackVForSlotScopes=(e,t)=>{let n;if(isTemplateNode(e)&&e.props.some(isVSlot)&&(n=findDir(e,"for"))){const o=n.parseResult=parseForExpression(n.exp);if(o){const{value:h,key:_,index:g}=o,{addIdentifiers:r,removeIdentifiers:a}=t;return h&&r(h),_&&r(_),g&&r(g),()=>{h&&a(h),_&&a(_),g&&a(g)}}}},buildClientSlotFn=(e,t,n)=>createFunctionExpression(e,t,!1,!0,t.length?t[0].loc:n);function buildSlots(e,t,n=buildClientSlotFn){t.helper(WITH_CTX);const{children:o,loc:h}=e,_=[],g=[];let r=t.scopes.vSlot>0||t.scopes.vFor>0;const a=findDir(e,"slot",!0);if(a){const{arg:d,exp:v}=a;d&&!isStaticExp(d)&&(r=!0),_.push(createObjectProperty(d||createSimpleExpression("default",!0),n(v,o,h)))}let s=!1,u=!1;const p=[],m=new Set;for(let d=0;d<o.length;d++){const v=o[d];let C;if(!isTemplateNode(v)||!(C=findDir(v,"slot",!0))){v.type!==3&&p.push(v);continue}if(a){t.onError(createCompilerError(37,C.loc));break}s=!0;const{children:y,loc:f}=v,{arg:c=createSimpleExpression("default",!0),exp:l,loc:b}=C;let S;isStaticExp(c)?S=c?c.content:"default":r=!0;const A=n(l,y,f);let L,x,M;if(L=findDir(v,"if"))r=!0,g.push(createConditionalExpression(L.exp,buildDynamicSlot(c,A),defaultFallback));else if(x=findDir(v,/^else(-if)?$/,!0)){let O=d,T;for(;O--&&(T=o[O],T.type===3););if(T&&isTemplateNode(T)&&findDir(T,"if")){o.splice(d,1),d--;let I=g[g.length-1];for(;I.alternate.type===19;)I=I.alternate;I.alternate=x.exp?createConditionalExpression(x.exp,buildDynamicSlot(c,A),defaultFallback):buildDynamicSlot(c,A)}else t.onError(createCompilerError(30,x.loc))}else if(M=findDir(v,"for")){r=!0;const O=M.parseResult||parseForExpression(M.exp);O?g.push(createCallExpression(t.helper(RENDER_LIST),[O.source,createFunctionExpression(createForLoopParams(O),buildDynamicSlot(c,A),!0)])):t.onError(createCompilerError(32,M.loc))}else{if(S){if(m.has(S)){t.onError(createCompilerError(38,b));continue}m.add(S),S==="default"&&(u=!0)}_.push(createObjectProperty(c,A))}}if(!a){const d=(v,C)=>{const y=n(v,C,h);return t.compatConfig&&(y.isNonScopedSlot=!0),createObjectProperty("default",y)};s?p.length&&p.some(v=>isNonWhitespaceContent(v))&&(u?t.onError(createCompilerError(39,p[0].loc)):_.push(d(void 0,p))):_.push(d(void 0,o))}const w=r?2:hasForwardedSlots(e.children)?3:1;let E=createObjectExpression(_.concat(createObjectProperty("_",createSimpleExpression(w+"",!1))),h);return g.length&&(E=createCallExpression(t.helper(CREATE_SLOTS),[E,createArrayExpression(g)])),{slots:E,hasDynamicSlots:r}}function buildDynamicSlot(e,t){return createObjectExpression([createObjectProperty("name",e),createObjectProperty("fn",t)])}function hasForwardedSlots(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(n.tagType===2||hasForwardedSlots(n.children))return!0;break;case 9:if(hasForwardedSlots(n.branches))return!0;break;case 10:case 11:if(hasForwardedSlots(n.children))return!0;break}}return!1}function isNonWhitespaceContent(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():isNonWhitespaceContent(e.content)}const directiveImportMap=new WeakMap,transformElement=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:o,props:h}=e,_=e.tagType===1;let g=_?resolveComponentType(e,t):`"${o}"`;const r=isObject$1(g)&&g.callee===RESOLVE_DYNAMIC_COMPONENT;let a,s,u,p=0,m,w,E,d=r||g===TELEPORT||g===SUSPENSE||!_&&(o==="svg"||o==="foreignObject");if(h.length>0){const v=buildProps(e,t);a=v.props,p=v.patchFlag,w=v.dynamicPropNames;const C=v.directives;E=C&&C.length?createArrayExpression(C.map(y=>buildDirectiveArgs(y,t))):void 0,v.shouldUseBlock&&(d=!0)}if(e.children.length>0)if(g===KEEP_ALIVE&&(d=!0,p|=1024),_&&g!==TELEPORT&&g!==KEEP_ALIVE){const{slots:C,hasDynamicSlots:y}=buildSlots(e,t);s=C,y&&(p|=1024)}else if(e.children.length===1&&g!==TELEPORT){const C=e.children[0],y=C.type,f=y===5||y===8;f&&getConstantType(C,t)===0&&(p|=1),f||y===2?s=C:s=e.children}else s=e.children;p!==0&&(u=String(p),w&&w.length&&(m=stringifyDynamicPropNames(w))),e.codegenNode=createVNodeCall(t,g,a,s,u,m,E,!!d,!1,_,e.loc)};function resolveComponentType(e,t,n=!1){let{tag:o}=e;const h=isComponentTag(o),_=findProp(e,"is");if(_)if(h||isCompatEnabled("COMPILER_IS_ON_ELEMENT",t)){const a=_.type===6?_.value&&createSimpleExpression(_.value.content,!0):_.exp;if(a)return createCallExpression(t.helper(RESOLVE_DYNAMIC_COMPONENT),[a])}else _.type===6&&_.value.content.startsWith("vue:")&&(o=_.value.content.slice(4));const g=!h&&findDir(e,"is");if(g&&g.exp)return createCallExpression(t.helper(RESOLVE_DYNAMIC_COMPONENT),[g.exp]);const r=isCoreComponent(o)||t.isBuiltInComponent(o);return r?(n||t.helper(r),r):(t.helper(RESOLVE_COMPONENT),t.components.add(o),toValidAssetId(o,"component"))}function buildProps(e,t,n=e.props,o=!1){const{tag:h,loc:_,children:g}=e,r=e.tagType===1;let a=[];const s=[],u=[],p=g.length>0;let m=!1,w=0,E=!1,d=!1,v=!1,C=!1,y=!1,f=!1;const c=[],l=({key:S,value:A})=>{if(isStaticExp(S)){const L=S.content,x=isOn(L);if(!r&&x&&L.toLowerCase()!=="onclick"&&L!=="onUpdate:modelValue"&&!isReservedProp(L)&&(C=!0),x&&isReservedProp(L)&&(f=!0),A.type===20||(A.type===4||A.type===8)&&getConstantType(A,t)>0)return;L==="ref"?E=!0:L==="class"?d=!0:L==="style"?v=!0:L!=="key"&&!c.includes(L)&&c.push(L),r&&(L==="class"||L==="style")&&!c.includes(L)&&c.push(L)}else y=!0};for(let S=0;S<n.length;S++){const A=n[S];if(A.type===6){const{loc:L,name:x,value:M}=A;let O=!0;if(x==="ref"&&(E=!0,t.scopes.vFor>0&&a.push(createObjectProperty(createSimpleExpression("ref_for",!0),createSimpleExpression("true")))),x==="is"&&(isComponentTag(h)||M&&M.content.startsWith("vue:")||isCompatEnabled("COMPILER_IS_ON_ELEMENT",t)))continue;a.push(createObjectProperty(createSimpleExpression(x,!0,getInnerRange(L,0,x.length)),createSimpleExpression(M?M.content:"",O,M?M.loc:L)))}else{const{name:L,arg:x,exp:M,loc:O}=A,T=L==="bind",I=L==="on";if(L==="slot"){r||t.onError(createCompilerError(40,O));continue}if(L==="once"||L==="memo"||L==="is"||T&&isStaticArgOf(x,"is")&&(isComponentTag(h)||isCompatEnabled("COMPILER_IS_ON_ELEMENT",t))||I&&o)continue;if((T&&isStaticArgOf(x,"key")||I&&p&&isStaticArgOf(x,"vue:before-update"))&&(m=!0),T&&isStaticArgOf(x,"ref")&&t.scopes.vFor>0&&a.push(createObjectProperty(createSimpleExpression("ref_for",!0),createSimpleExpression("true"))),!x&&(T||I)){if(y=!0,M)if(a.length&&(s.push(createObjectExpression(dedupeProperties(a),_)),a=[]),T){if(isCompatEnabled("COMPILER_V_BIND_OBJECT_ORDER",t)){s.unshift(M);continue}s.push(M)}else s.push({type:14,loc:O,callee:t.helper(TO_HANDLERS),arguments:[M]});else t.onError(createCompilerError(T?34:35,O));continue}const P=t.directiveTransforms[L];if(P){const{props:$,needRuntime:F}=P(A,e,t);!o&&$.forEach(l),a.push(...$),F&&(u.push(A),isSymbol$1(F)&&directiveImportMap.set(A,F))}else u.push(A),p&&(m=!0)}}let b;if(s.length?(a.length&&s.push(createObjectExpression(dedupeProperties(a),_)),s.length>1?b=createCallExpression(t.helper(MERGE_PROPS),s,_):b=s[0]):a.length&&(b=createObjectExpression(dedupeProperties(a),_)),y?w|=16:(d&&!r&&(w|=2),v&&!r&&(w|=4),c.length&&(w|=8),C&&(w|=32)),!m&&(w===0||w===32)&&(E||f||u.length>0)&&(w|=512),!t.inSSR&&b)switch(b.type){case 15:let S=-1,A=-1,L=!1;for(let O=0;O<b.properties.length;O++){const T=b.properties[O].key;isStaticExp(T)?T.content==="class"?S=O:T.content==="style"&&(A=O):T.isHandlerKey||(L=!0)}const x=b.properties[S],M=b.properties[A];L?b=createCallExpression(t.helper(NORMALIZE_PROPS),[b]):(x&&!isStaticExp(x.value)&&(x.value=createCallExpression(t.helper(NORMALIZE_CLASS),[x.value])),M&&!isStaticExp(M.value)&&(v||M.value.type===17)&&(M.value=createCallExpression(t.helper(NORMALIZE_STYLE),[M.value])));break;case 14:break;default:b=createCallExpression(t.helper(NORMALIZE_PROPS),[createCallExpression(t.helper(GUARD_REACTIVE_PROPS),[b])]);break}return{props:b,directives:u,patchFlag:w,dynamicPropNames:c,shouldUseBlock:m}}function dedupeProperties(e){const t=new Map,n=[];for(let o=0;o<e.length;o++){const h=e[o];if(h.key.type===8||!h.key.isStatic){n.push(h);continue}const _=h.key.content,g=t.get(_);g?(_==="style"||_==="class"||isOn(_))&&mergeAsArray(g,h):(t.set(_,h),n.push(h))}return n}function mergeAsArray(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=createArrayExpression([e.value,t.value],e.loc)}function buildDirectiveArgs(e,t){const n=[],o=directiveImportMap.get(e);o?n.push(t.helperString(o)):(t.helper(RESOLVE_DIRECTIVE),t.directives.add(e.name),n.push(toValidAssetId(e.name,"directive")));const{loc:h}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const _=createSimpleExpression("true",!1,h);n.push(createObjectExpression(e.modifiers.map(g=>createObjectProperty(g,_)),h))}return createArrayExpression(n,e.loc)}function stringifyDynamicPropNames(e){let t="[";for(let n=0,o=e.length;n<o;n++)t+=JSON.stringify(e[n]),n<o-1&&(t+=", ");return t+"]"}function isComponentTag(e){return e==="component"||e==="Component"}const cacheStringFunction=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,n)=>n?n.toUpperCase():"")),transformSlotOutlet=(e,t)=>{if(isSlotOutlet(e)){const{children:n,loc:o}=e,{slotName:h,slotProps:_}=processSlotOutlet(e,t),g=[t.prefixIdentifiers?"_ctx.$slots":"$slots",h,"{}","undefined","true"];let r=2;_&&(g[2]=_,r=3),n.length&&(g[3]=createFunctionExpression([],n,!1,!1,o),r=4),t.scopeId&&!t.slotted&&(r=5),g.splice(r),e.codegenNode=createCallExpression(t.helper(RENDER_SLOT),g,o)}};function processSlotOutlet(e,t){let n='"default"',o;const h=[];for(let _=0;_<e.props.length;_++){const g=e.props[_];g.type===6?g.value&&(g.name==="name"?n=JSON.stringify(g.value.content):(g.name=camelize(g.name),h.push(g))):g.name==="bind"&&isStaticArgOf(g.arg,"name")?g.exp&&(n=g.exp):(g.name==="bind"&&g.arg&&isStaticExp(g.arg)&&(g.arg.content=camelize(g.arg.content)),h.push(g))}if(h.length>0){const{props:_,directives:g}=buildProps(e,t,h);o=_,g.length&&t.onError(createCompilerError(36,g[0].loc))}return{slotName:n,slotProps:o}}const fnExpRE=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,transformOn$1=(e,t,n,o)=>{const{loc:h,modifiers:_,arg:g}=e;!e.exp&&!_.length&&n.onError(createCompilerError(35,h));let r;if(g.type===4)if(g.isStatic){let p=g.content;p.startsWith("vue:")&&(p=`vnode-${p.slice(4)}`),r=createSimpleExpression(toHandlerKey(camelize$1(p)),!0,g.loc)}else r=createCompoundExpression([`${n.helperString(TO_HANDLER_KEY)}(`,g,")"]);else r=g,r.children.unshift(`${n.helperString(TO_HANDLER_KEY)}(`),r.children.push(")");let a=e.exp;a&&!a.content.trim()&&(a=void 0);let s=n.cacheHandlers&&!a&&!n.inVOnce;if(a){const p=isMemberExpression(a.content),m=!(p||fnExpRE.test(a.content)),w=a.content.includes(";");(m||s&&p)&&(a=createCompoundExpression([`${m?"$event":"(...args)"} => ${w?"{":"("}`,a,w?"}":")"]))}let u={props:[createObjectProperty(r,a||createSimpleExpression("() => {}",!1,h))]};return o&&(u=o(u)),s&&(u.props[0].value=n.cache(u.props[0].value)),u.props.forEach(p=>p.key.isHandlerKey=!0),u},transformBind=(e,t,n)=>{const{exp:o,modifiers:h,loc:_}=e,g=e.arg;return g.type!==4?(g.children.unshift("("),g.children.push(') || ""')):g.isStatic||(g.content=`${g.content} || ""`),h.includes("camel")&&(g.type===4?g.isStatic?g.content=camelize$1(g.content):g.content=`${n.helperString(CAMELIZE)}(${g.content})`:(g.children.unshift(`${n.helperString(CAMELIZE)}(`),g.children.push(")"))),n.inSSR||(h.includes("prop")&&injectPrefix(g,"."),h.includes("attr")&&injectPrefix(g,"^")),!o||o.type===4&&!o.content.trim()?(n.onError(createCompilerError(34,_)),{props:[createObjectProperty(g,createSimpleExpression("",!0,_))]}):{props:[createObjectProperty(g,o)]}},injectPrefix=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},transformText=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const n=e.children;let o,h=!1;for(let _=0;_<n.length;_++){const g=n[_];if(isText(g)){h=!0;for(let r=_+1;r<n.length;r++){const a=n[r];if(isText(a))o||(o=n[_]={type:8,loc:g.loc,children:[g]}),o.children.push(" + ",a),n.splice(r,1),r--;else{o=void 0;break}}}}if(!(!h||n.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(_=>_.type===7&&!t.directiveTransforms[_.name])&&e.tag!=="template")))for(let _=0;_<n.length;_++){const g=n[_];if(isText(g)||g.type===8){const r=[];(g.type!==2||g.content!==" ")&&r.push(g),!t.ssr&&getConstantType(g,t)===0&&r.push(1+""),n[_]={type:12,content:g,loc:g.loc,codegenNode:createCallExpression(t.helper(CREATE_TEXT),r)}}}}},seen=new WeakSet,transformOnce=(e,t)=>{if(e.type===1&&findDir(e,"once",!0))return seen.has(e)||t.inVOnce?void 0:(seen.add(e),t.inVOnce=!0,t.helper(SET_BLOCK_TRACKING),()=>{t.inVOnce=!1;const n=t.currentNode;n.codegenNode&&(n.codegenNode=t.cache(n.codegenNode,!0))})},transformModel$1=(e,t,n)=>{const{exp:o,arg:h}=e;if(!o)return n.onError(createCompilerError(41,e.loc)),createTransformProps();const _=o.loc.source,g=o.type===4?o.content:_;n.bindingMetadata[_];const r=!1;if(!g.trim()||!isMemberExpression(g)&&!r)return n.onError(createCompilerError(42,o.loc)),createTransformProps();const a=h||createSimpleExpression("modelValue",!0),s=h?isStaticExp(h)?`onUpdate:${h.content}`:createCompoundExpression(['"onUpdate:" + ',h]):"onUpdate:modelValue";let u;const p=n.isTS?"($event: any)":"$event";u=createCompoundExpression([`${p} => ((`,o,") = $event)"]);const m=[createObjectProperty(a,e.exp),createObjectProperty(s,u)];if(e.modifiers.length&&t.tagType===1){const w=e.modifiers.map(d=>(isSimpleIdentifier(d)?d:JSON.stringify(d))+": true").join(", "),E=h?isStaticExp(h)?`${h.content}Modifiers`:createCompoundExpression([h,' + "Modifiers"']):"modelModifiers";m.push(createObjectProperty(E,createSimpleExpression(`{ ${w} }`,!1,e.loc,2)))}return createTransformProps(m)};function createTransformProps(e=[]){return{props:e}}const validDivisionCharRE=/[\w).+\-_$\]]/,transformFilter=(e,t)=>{!isCompatEnabled("COMPILER_FILTER",t)||(e.type===5&&rewriteFilter(e.content,t),e.type===1&&e.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&rewriteFilter(n.exp,t)}))};function rewriteFilter(e,t){if(e.type===4)parseFilter(e,t);else for(let n=0;n<e.children.length;n++){const o=e.children[n];typeof o=="object"&&(o.type===4?parseFilter(o,t):o.type===8?rewriteFilter(e,t):o.type===5&&rewriteFilter(o.content,t))}}function parseFilter(e,t){const n=e.content;let o=!1,h=!1,_=!1,g=!1,r=0,a=0,s=0,u=0,p,m,w,E,d=[];for(w=0;w<n.length;w++)if(m=p,p=n.charCodeAt(w),o)p===39&&m!==92&&(o=!1);else if(h)p===34&&m!==92&&(h=!1);else if(_)p===96&&m!==92&&(_=!1);else if(g)p===47&&m!==92&&(g=!1);else if(p===124&&n.charCodeAt(w+1)!==124&&n.charCodeAt(w-1)!==124&&!r&&!a&&!s)E===void 0?(u=w+1,E=n.slice(0,w).trim()):v();else{switch(p){case 34:h=!0;break;case 39:o=!0;break;case 96:_=!0;break;case 40:s++;break;case 41:s--;break;case 91:a++;break;case 93:a--;break;case 123:r++;break;case 125:r--;break}if(p===47){let C=w-1,y;for(;C>=0&&(y=n.charAt(C),y===" ");C--);(!y||!validDivisionCharRE.test(y))&&(g=!0)}}E===void 0?E=n.slice(0,w).trim():u!==0&&v();function v(){d.push(n.slice(u,w).trim()),u=w+1}if(d.length){for(w=0;w<d.length;w++)E=wrapFilter(E,d[w],t);e.content=E}}function wrapFilter(e,t,n){n.helper(RESOLVE_FILTER);const o=t.indexOf("(");if(o<0)return n.filters.add(t),`${toValidAssetId(t,"filter")}(${e})`;{const h=t.slice(0,o),_=t.slice(o+1);return n.filters.add(h),`${toValidAssetId(h,"filter")}(${e}${_!==")"?","+_:_}`}}const seen$1=new WeakSet,transformMemo=(e,t)=>{if(e.type===1){const n=findDir(e,"memo");return!n||seen$1.has(e)?void 0:(seen$1.add(e),()=>{const o=e.codegenNode||t.currentNode.codegenNode;o&&o.type===13&&(e.tagType!==1&&makeBlock(o,t),e.codegenNode=createCallExpression(t.helper(WITH_MEMO),[n.exp,createFunctionExpression(void 0,o),"_cache",String(t.cached++)]))})}};function getBaseTransformPreset(e){return[[transformOnce,transformIf,transformMemo,transformFor,transformFilter,transformSlotOutlet,transformElement,trackSlotScopes,transformText],{on:transformOn$1,bind:transformBind,model:transformModel$1}]}function baseCompile(e,t={}){const n=t.onError||defaultOnError,o=t.mode==="module";t.prefixIdentifiers===!0?n(createCompilerError(46)):o&&n(createCompilerError(47));const h=!1;t.cacheHandlers&&n(createCompilerError(48)),t.scopeId&&!o&&n(createCompilerError(49));const _=isString$2(e)?baseParse(e,t):e,[g,r]=getBaseTransformPreset();return transform(_,extend$1({},t,{prefixIdentifiers:h,nodeTransforms:[...g,...t.nodeTransforms||[]],directiveTransforms:extend$1({},r,t.directiveTransforms||{})})),generate(_,extend$1({},t,{prefixIdentifiers:h}))}const noopDirectiveTransform=()=>({props:[]}),V_MODEL_RADIO=Symbol(""),V_MODEL_CHECKBOX=Symbol(""),V_MODEL_TEXT=Symbol(""),V_MODEL_SELECT=Symbol(""),V_MODEL_DYNAMIC=Symbol(""),V_ON_WITH_MODIFIERS=Symbol(""),V_ON_WITH_KEYS=Symbol(""),V_SHOW=Symbol(""),TRANSITION=Symbol(""),TRANSITION_GROUP=Symbol("");registerRuntimeHelpers({[V_MODEL_RADIO]:"vModelRadio",[V_MODEL_CHECKBOX]:"vModelCheckbox",[V_MODEL_TEXT]:"vModelText",[V_MODEL_SELECT]:"vModelSelect",[V_MODEL_DYNAMIC]:"vModelDynamic",[V_ON_WITH_MODIFIERS]:"withModifiers",[V_ON_WITH_KEYS]:"withKeys",[V_SHOW]:"vShow",[TRANSITION]:"Transition",[TRANSITION_GROUP]:"TransitionGroup"});let decoder;function decodeHtmlBrowser(e,t=!1){return decoder||(decoder=document.createElement("div")),t?(decoder.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,decoder.children[0].getAttribute("foo")):(decoder.innerHTML=e,decoder.textContent)}const isRawTextContainer=makeMap("style,iframe,script,noscript",!0),parserOptions={isVoidTag,isNativeTag:e=>isHTMLTag(e)||isSVGTag(e),isPreTag:e=>e==="pre",decodeEntities:decodeHtmlBrowser,isBuiltInComponent:e=>{if(isBuiltInType(e,"Transition"))return TRANSITION;if(isBuiltInType(e,"TransitionGroup"))return TRANSITION_GROUP},getNamespace(e,t){let n=t?t.ns:0;if(t&&n===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(o=>o.type===6&&o.name==="encoding"&&o.value!=null&&(o.value.content==="text/html"||o.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(n=0);else t&&n===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(n=0);if(n===0){if(e==="svg")return 1;if(e==="math")return 2}return n},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(isRawTextContainer(e))return 2}return 0}},transformStyle=e=>{e.type===1&&e.props.forEach((t,n)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[n]={type:7,name:"bind",arg:createSimpleExpression("style",!0,t.loc),exp:parseInlineCSS(t.value.content,t.loc),modifiers:[],loc:t.loc})})},parseInlineCSS=(e,t)=>{const n=parseStringStyle(e);return createSimpleExpression(JSON.stringify(n),!1,t,3)};function createDOMCompilerError(e,t){return createCompilerError(e,t)}const transformVHtml=(e,t,n)=>{const{exp:o,loc:h}=e;return o||n.onError(createDOMCompilerError(50,h)),t.children.length&&(n.onError(createDOMCompilerError(51,h)),t.children.length=0),{props:[createObjectProperty(createSimpleExpression("innerHTML",!0,h),o||createSimpleExpression("",!0))]}},transformVText=(e,t,n)=>{const{exp:o,loc:h}=e;return o||n.onError(createDOMCompilerError(52,h)),t.children.length&&(n.onError(createDOMCompilerError(53,h)),t.children.length=0),{props:[createObjectProperty(createSimpleExpression("textContent",!0),o?createCallExpression(n.helperString(TO_DISPLAY_STRING),[o],h):createSimpleExpression("",!0))]}},transformModel=(e,t,n)=>{const o=transformModel$1(e,t,n);if(!o.props.length||t.tagType===1)return o;e.arg&&n.onError(createDOMCompilerError(55,e.arg.loc));const{tag:h}=t,_=n.isCustomElement(h);if(h==="input"||h==="textarea"||h==="select"||_){let g=V_MODEL_TEXT,r=!1;if(h==="input"||_){const a=findProp(t,"type");if(a){if(a.type===7)g=V_MODEL_DYNAMIC;else if(a.value)switch(a.value.content){case"radio":g=V_MODEL_RADIO;break;case"checkbox":g=V_MODEL_CHECKBOX;break;case"file":r=!0,n.onError(createDOMCompilerError(56,e.loc));break}}else hasDynamicKeyVBind(t)&&(g=V_MODEL_DYNAMIC)}else h==="select"&&(g=V_MODEL_SELECT);r||(o.needRuntime=n.helper(g))}else n.onError(createDOMCompilerError(54,e.loc));return o.props=o.props.filter(g=>!(g.key.type===4&&g.key.content==="modelValue")),o},isEventOptionModifier=makeMap("passive,once,capture"),isNonKeyModifier=makeMap("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),maybeKeyModifier=makeMap("left,right"),isKeyboardEvent=makeMap("onkeyup,onkeydown,onkeypress",!0),resolveModifiers=(e,t,n,o)=>{const h=[],_=[],g=[];for(let r=0;r<t.length;r++){const a=t[r];a==="native"&&checkCompatEnabled("COMPILER_V_ON_NATIVE",n)||isEventOptionModifier(a)?g.push(a):maybeKeyModifier(a)?isStaticExp(e)?isKeyboardEvent(e.content)?h.push(a):_.push(a):(h.push(a),_.push(a)):isNonKeyModifier(a)?_.push(a):h.push(a)}return{keyModifiers:h,nonKeyModifiers:_,eventOptionModifiers:g}},transformClick=(e,t)=>isStaticExp(e)&&e.content.toLowerCase()==="onclick"?createSimpleExpression(t,!0):e.type!==4?createCompoundExpression(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,transformOn=(e,t,n)=>transformOn$1(e,t,n,o=>{const{modifiers:h}=e;if(!h.length)return o;let{key:_,value:g}=o.props[0];const{keyModifiers:r,nonKeyModifiers:a,eventOptionModifiers:s}=resolveModifiers(_,h,n,e.loc);if(a.includes("right")&&(_=transformClick(_,"onContextmenu")),a.includes("middle")&&(_=transformClick(_,"onMouseup")),a.length&&(g=createCallExpression(n.helper(V_ON_WITH_MODIFIERS),[g,JSON.stringify(a)])),r.length&&(!isStaticExp(_)||isKeyboardEvent(_.content))&&(g=createCallExpression(n.helper(V_ON_WITH_KEYS),[g,JSON.stringify(r)])),s.length){const u=s.map(capitalize).join("");_=isStaticExp(_)?createSimpleExpression(`${_.content}${u}`,!0):createCompoundExpression(["(",_,`) + "${u}"`])}return{props:[createObjectProperty(_,g)]}}),transformShow=(e,t,n)=>{const{exp:o,loc:h}=e;return o||n.onError(createDOMCompilerError(58,h)),{props:[],needRuntime:n.helper(V_SHOW)}},ignoreSideEffectTags=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&(t.onError(createDOMCompilerError(60,e.loc)),t.removeNode())},DOMNodeTransforms=[transformStyle],DOMDirectiveTransforms={cloak:noopDirectiveTransform,html:transformVHtml,text:transformVText,model:transformModel,on:transformOn,show:transformShow};function compile(e,t={}){return baseCompile(e,extend$1({},parserOptions,t,{nodeTransforms:[ignoreSideEffectTags,...DOMNodeTransforms,...t.nodeTransforms||[]],directiveTransforms:extend$1({},DOMDirectiveTransforms,t.directiveTransforms||{}),transformHoist:null}))}function parse(e,t={}){return baseParse(e,extend$1({},parserOptions,t))}var compilerDom_esmBundler=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",DOMDirectiveTransforms,DOMNodeTransforms,TRANSITION,TRANSITION_GROUP,V_MODEL_CHECKBOX,V_MODEL_DYNAMIC,V_MODEL_RADIO,V_MODEL_SELECT,V_MODEL_TEXT,V_ON_WITH_KEYS,V_ON_WITH_MODIFIERS,V_SHOW,compile,createDOMCompilerError,parse,parserOptions,transformStyle,generateCodeFrame,BASE_TRANSITION,CAMELIZE,CAPITALIZE,CREATE_BLOCK,CREATE_COMMENT,CREATE_ELEMENT_BLOCK,CREATE_ELEMENT_VNODE,CREATE_SLOTS,CREATE_STATIC,CREATE_TEXT,CREATE_VNODE,FRAGMENT,GUARD_REACTIVE_PROPS,IS_MEMO_SAME,IS_REF,KEEP_ALIVE,MERGE_PROPS,NORMALIZE_CLASS,NORMALIZE_PROPS,NORMALIZE_STYLE,OPEN_BLOCK,POP_SCOPE_ID,PUSH_SCOPE_ID,RENDER_LIST,RENDER_SLOT,RESOLVE_COMPONENT,RESOLVE_DIRECTIVE,RESOLVE_DYNAMIC_COMPONENT,RESOLVE_FILTER,SET_BLOCK_TRACKING,SUSPENSE,TELEPORT,TO_DISPLAY_STRING,TO_HANDLERS,TO_HANDLER_KEY,UNREF,WITH_CTX,WITH_DIRECTIVES,WITH_MEMO,advancePositionWithClone,advancePositionWithMutation,assert,baseCompile,baseParse,buildProps,buildSlots,checkCompatEnabled,createArrayExpression,createAssignmentExpression,createBlockStatement,createCacheExpression,createCallExpression,createCompilerError,createCompoundExpression,createConditionalExpression,createForLoopParams,createFunctionExpression,createIfStatement,createInterpolation,createObjectExpression,createObjectProperty,createReturnStatement,createRoot,createSequenceExpression,createSimpleExpression,createStructuralDirectiveTransform,createTemplateLiteral,createTransformContext,createVNodeCall,extractIdentifiers,findDir,findProp,generate,getBaseTransformPreset,getInnerRange,getMemoedVNodeCall,getVNodeBlockHelper,getVNodeHelper,hasDynamicKeyVBind,hasScopeRef,helperNameMap,injectProp,isBuiltInType,isCoreComponent,isFunctionType,isInDestructureAssignment,isMemberExpression,isMemberExpressionBrowser,isMemberExpressionNode,isReferencedIdentifier,isSimpleIdentifier,isSlotOutlet,isStaticArgOf,isStaticExp,isStaticProperty,isStaticPropertyKey,isTemplateNode,isText,isVSlot,locStub,makeBlock,noopDirectiveTransform,processExpression,processFor,processIf,processSlotOutlet,registerRuntimeHelpers,resolveComponentType,toValidAssetId,trackSlotScopes,trackVForSlotScopes,transform,transformBind,transformElement,transformExpression,transformModel:transformModel$1,transformOn:transformOn$1,traverseNode,walkBlockDeclarations,walkFunctionParams,walkIdentifiers,warnDeprecation}),require$$0=getAugmentedNamespace(compilerDom_esmBundler),require$$1=getAugmentedNamespace(runtimeDom_esmBundler),require$$2=getAugmentedNamespace(shared_esmBundler);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=require$$0,n=require$$1,o=require$$2;function h(a){if(a&&a.__esModule)return a;var s=Object.create(null);return a&&Object.keys(a).forEach(function(u){s[u]=a[u]}),s.default=a,Object.freeze(s)}var _=h(n);const g=Object.create(null);function r(a,s){if(!o.isString(a))if(a.nodeType)a=a.innerHTML;else return o.NOOP;const u=a,p=g[u];if(p)return p;if(a[0]==="#"){const E=document.querySelector(a);a=E?E.innerHTML:""}const{code:m}=t.compile(a,o.extend({hoistStatic:!0,onError:void 0,onWarn:o.NOOP},s)),w=new Function("Vue",m)(_);return w._rc=!0,g[u]=w}n.registerRuntimeCompiler(r),Object.keys(n).forEach(function(a){a!=="default"&&(e[a]=n[a])}),e.compile=r})(vue_cjs_prod);vue.exports=vue_cjs_prod;(function(e){e.exports=function(t){var n={};function o(h){if(n[h])return n[h].exports;var _=n[h]={i:h,l:!1,exports:{}};return t[h].call(_.exports,_,_.exports,o),_.l=!0,_.exports}return o.m=t,o.c=n,o.d=function(h,_,g){o.o(h,_)||Object.defineProperty(h,_,{enumerable:!0,get:g})},o.r=function(h){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},o.t=function(h,_){if(_&1&&(h=o(h)),_&8||_&4&&typeof h=="object"&&h&&h.__esModule)return h;var g=Object.create(null);if(o.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),_&2&&typeof h!="string")for(var r in h)o.d(g,r,function(a){return h[a]}.bind(null,r));return g},o.n=function(h){var _=h&&h.__esModule?function(){return h.default}:function(){return h};return o.d(_,"a",_),_},o.o=function(h,_){return Object.prototype.hasOwnProperty.call(h,_)},o.p="",o(o.s="fb15")}({"0366":function(t,n,o){var h=o("1c0b");t.exports=function(_,g,r){if(h(_),g===void 0)return _;switch(r){case 0:return function(){return _.call(g)};case 1:return function(a){return _.call(g,a)};case 2:return function(a,s){return _.call(g,a,s)};case 3:return function(a,s,u){return _.call(g,a,s,u)}}return function(){return _.apply(g,arguments)}}},"057f":function(t,n,o){var h=o("fc6a"),_=o("241c").f,g={}.toString,r=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(s){try{return _(s)}catch{return r.slice()}};t.exports.f=function(u){return r&&g.call(u)=="[object Window]"?a(u):_(h(u))}},"06cf":function(t,n,o){var h=o("83ab"),_=o("d1e7"),g=o("5c6c"),r=o("fc6a"),a=o("c04e"),s=o("5135"),u=o("0cfb"),p=Object.getOwnPropertyDescriptor;n.f=h?p:function(w,E){if(w=r(w),E=a(E,!0),u)try{return p(w,E)}catch{}if(s(w,E))return g(!_.f.call(w,E),w[E])}},"07ac":function(t,n,o){var h=o("23e7"),_=o("6f53").values;h({target:"Object",stat:!0},{values:function(r){return _(r)}})},"0a2a":function(t,n,o){},"0aa8":function(t,n,o){},"0cfb":function(t,n,o){var h=o("83ab"),_=o("d039"),g=o("cc12");t.exports=!h&&!_(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(t,n,o){var h=o("23e7"),_=o("d58f").left,g=o("a640"),r=o("2d00"),a=o("605d"),s=g("reduce"),u=!a&&r>79&&r<83;h({target:"Array",proto:!0,forced:!s||u},{reduce:function(m){return _(this,m,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"159b":function(t,n,o){var h=o("da84"),_=o("fdbc"),g=o("17c2"),r=o("9112");for(var a in _){var s=h[a],u=s&&s.prototype;if(u&&u.forEach!==g)try{r(u,"forEach",g)}catch{u.forEach=g}}},"17c2":function(t,n,o){var h=o("b727").forEach,_=o("a640"),g=_("forEach");t.exports=g?[].forEach:function(a){return h(this,a,arguments.length>1?arguments[1]:void 0)}},"1be4":function(t,n,o){var h=o("d066");t.exports=h("document","documentElement")},"1c0b":function(t,n){t.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1d80":function(t,n){t.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dba":function(t,n,o){o("0a2a")},"1dde":function(t,n,o){var h=o("d039"),_=o("b622"),g=o("2d00"),r=_("species");t.exports=function(a){return g>=51||!h(function(){var s=[],u=s.constructor={};return u[r]=function(){return{foo:1}},s[a](Boolean).foo!==1})}},"23cb":function(t,n,o){var h=o("a691"),_=Math.max,g=Math.min;t.exports=function(r,a){var s=h(r);return s<0?_(s+a,0):g(s,a)}},"23e7":function(t,n,o){var h=o("da84"),_=o("06cf").f,g=o("9112"),r=o("6eeb"),a=o("ce4e"),s=o("e893"),u=o("94ca");t.exports=function(p,m){var w=p.target,E=p.global,d=p.stat,v,C,y,f,c,l;if(E?C=h:d?C=h[w]||a(w,{}):C=(h[w]||{}).prototype,C)for(y in m){if(c=m[y],p.noTargetGet?(l=_(C,y),f=l&&l.value):f=C[y],v=u(E?y:w+(d?".":"#")+y,p.forced),!v&&f!==void 0){if(typeof c==typeof f)continue;s(c,f)}(p.sham||f&&f.sham)&&g(c,"sham",!0),r(C,y,c,p)}}},"241c":function(t,n,o){var h=o("ca84"),_=o("7839"),g=_.concat("length","prototype");n.f=Object.getOwnPropertyNames||function(a){return h(a,g)}},"2532":function(t,n,o){var h=o("23e7"),_=o("5a34"),g=o("1d80"),r=o("ab13");h({target:"String",proto:!0,forced:!r("includes")},{includes:function(s){return!!~String(g(this)).indexOf(_(s),arguments.length>1?arguments[1]:void 0)}})},"2d00":function(t,n,o){var h=o("da84"),_=o("342f"),g=h.process,r=g&&g.versions,a=r&&r.v8,s,u;a?(s=a.split("."),u=s[0]+s[1]):_&&(s=_.match(/Edge\/(\d+)/),(!s||s[1]>=74)&&(s=_.match(/Chrome\/(\d+)/),s&&(u=s[1]))),t.exports=u&&+u},"342f":function(t,n,o){var h=o("d066");t.exports=h("navigator","userAgent")||""},"37e8":function(t,n,o){var h=o("83ab"),_=o("9bf2"),g=o("825a"),r=o("df75");t.exports=h?Object.defineProperties:function(s,u){g(s);for(var p=r(u),m=p.length,w=0,E;m>w;)_.f(s,E=p[w++],u[E]);return s}},"428f":function(t,n,o){var h=o("da84");t.exports=h},"44ad":function(t,n,o){var h=o("d039"),_=o("c6b6"),g="".split;t.exports=h(function(){return!Object("z").propertyIsEnumerable(0)})?function(r){return _(r)=="String"?g.call(r,""):Object(r)}:Object},"44d2":function(t,n,o){var h=o("b622"),_=o("7c73"),g=o("9bf2"),r=h("unscopables"),a=Array.prototype;a[r]==null&&g.f(a,r,{configurable:!0,value:_(null)}),t.exports=function(s){a[r][s]=!0}},"44e1":function(t,n,o){o("0aa8")},"44e7":function(t,n,o){var h=o("861d"),_=o("c6b6"),g=o("b622"),r=g("match");t.exports=function(a){var s;return h(a)&&((s=a[r])!==void 0?!!s:_(a)=="RegExp")}},"4930":function(t,n,o){var h=o("605d"),_=o("2d00"),g=o("d039");t.exports=!!Object.getOwnPropertySymbols&&!g(function(){return!Symbol.sham&&(h?_===38:_>37&&_<41)})},"4d64":function(t,n,o){var h=o("fc6a"),_=o("50c4"),g=o("23cb"),r=function(a){return function(s,u,p){var m=h(s),w=_(m.length),E=g(p,w),d;if(a&&u!=u){for(;w>E;)if(d=m[E++],d!=d)return!0}else for(;w>E;E++)if((a||E in m)&&m[E]===u)return a||E||0;return!a&&-1}};t.exports={includes:r(!0),indexOf:r(!1)}},"4de4":function(t,n,o){var h=o("23e7"),_=o("b727").filter,g=o("1dde"),r=g("filter");h({target:"Array",proto:!0,forced:!r},{filter:function(s){return _(this,s,arguments.length>1?arguments[1]:void 0)}})},"50c4":function(t,n,o){var h=o("a691"),_=Math.min;t.exports=function(g){return g>0?_(h(g),9007199254740991):0}},"5135":function(t,n){var o={}.hasOwnProperty;t.exports=function(h,_){return o.call(h,_)}},"5692":function(t,n,o){var h=o("c430"),_=o("c6cd");(t.exports=function(g,r){return _[g]||(_[g]=r!==void 0?r:{})})("versions",[]).push({version:"3.9.1",mode:h?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,n,o){var h=o("d066"),_=o("241c"),g=o("7418"),r=o("825a");t.exports=h("Reflect","ownKeys")||function(s){var u=_.f(r(s)),p=g.f;return p?u.concat(p(s)):u}},"5a34":function(t,n,o){var h=o("44e7");t.exports=function(_){if(h(_))throw TypeError("The method doesn't accept regular expressions");return _}},"5c6c":function(t,n){t.exports=function(o,h){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:h}}},"605d":function(t,n,o){var h=o("c6b6"),_=o("da84");t.exports=h(_.process)=="process"},"65f0":function(t,n,o){var h=o("861d"),_=o("e8b5"),g=o("b622"),r=g("species");t.exports=function(a,s){var u;return _(a)&&(u=a.constructor,typeof u=="function"&&(u===Array||_(u.prototype))?u=void 0:h(u)&&(u=u[r],u===null&&(u=void 0))),new(u===void 0?Array:u)(s===0?0:s)}},"69f3":function(t,n,o){var h=o("7f9a"),_=o("da84"),g=o("861d"),r=o("9112"),a=o("5135"),s=o("c6cd"),u=o("f772"),p=o("d012"),m=_.WeakMap,w,E,d,v=function(S){return d(S)?E(S):w(S,{})},C=function(S){return function(A){var L;if(!g(A)||(L=E(A)).type!==S)throw TypeError("Incompatible receiver, "+S+" required");return L}};if(h){var y=s.state||(s.state=new m),f=y.get,c=y.has,l=y.set;w=function(S,A){return A.facade=S,l.call(y,S,A),A},E=function(S){return f.call(y,S)||{}},d=function(S){return c.call(y,S)}}else{var b=u("state");p[b]=!0,w=function(S,A){return A.facade=S,r(S,b,A),A},E=function(S){return a(S,b)?S[b]:{}},d=function(S){return a(S,b)}}t.exports={set:w,get:E,has:d,enforce:v,getterFor:C}},"6eeb":function(t,n,o){var h=o("da84"),_=o("9112"),g=o("5135"),r=o("ce4e"),a=o("8925"),s=o("69f3"),u=s.get,p=s.enforce,m=String(String).split("String");(t.exports=function(w,E,d,v){var C=v?!!v.unsafe:!1,y=v?!!v.enumerable:!1,f=v?!!v.noTargetGet:!1,c;if(typeof d=="function"&&(typeof E=="string"&&!g(d,"name")&&_(d,"name",E),c=p(d),c.source||(c.source=m.join(typeof E=="string"?E:""))),w===h){y?w[E]=d:r(E,d);return}else C?!f&&w[E]&&(y=!0):delete w[E];y?w[E]=d:_(w,E,d)})(Function.prototype,"toString",function(){return typeof this=="function"&&u(this).source||a(this)})},"6f53":function(t,n,o){var h=o("83ab"),_=o("df75"),g=o("fc6a"),r=o("d1e7").f,a=function(s){return function(u){for(var p=g(u),m=_(p),w=m.length,E=0,d=[],v;w>E;)v=m[E++],(!h||r.call(p,v))&&d.push(s?[v,p[v]]:p[v]);return d}};t.exports={entries:a(!0),values:a(!1)}},"7418":function(t,n){n.f=Object.getOwnPropertySymbols},"746f":function(t,n,o){var h=o("428f"),_=o("5135"),g=o("e538"),r=o("9bf2").f;t.exports=function(a){var s=h.Symbol||(h.Symbol={});_(s,a)||r(s,a,{value:g.f(a)})}},"7839":function(t,n){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(t,n,o){var h=o("1d80");t.exports=function(_){return Object(h(_))}},"7c73":function(t,n,o){var h=o("825a"),_=o("37e8"),g=o("7839"),r=o("d012"),a=o("1be4"),s=o("cc12"),u=o("f772"),p=">",m="<",w="prototype",E="script",d=u("IE_PROTO"),v=function(){},C=function(b){return m+E+p+b+m+"/"+E+p},y=function(b){b.write(C("")),b.close();var S=b.parentWindow.Object;return b=null,S},f=function(){var b=s("iframe"),S="java"+E+":",A;return b.style.display="none",a.appendChild(b),b.src=String(S),A=b.contentWindow.document,A.open(),A.write(C("document.F=Object")),A.close(),A.F},c,l=function(){try{c=document.domain&&new ActiveXObject("htmlfile")}catch{}l=c?y(c):f();for(var b=g.length;b--;)delete l[w][g[b]];return l()};r[d]=!0,t.exports=Object.create||function(S,A){var L;return S!==null?(v[w]=h(S),L=new v,v[w]=null,L[d]=S):L=l(),A===void 0?L:_(L,A)}},"7f9a":function(t,n,o){var h=o("da84"),_=o("8925"),g=h.WeakMap;t.exports=typeof g=="function"&&/native code/.test(_(g))},"825a":function(t,n,o){var h=o("861d");t.exports=function(_){if(!h(_))throw TypeError(String(_)+" is not an object");return _}},"83ab":function(t,n,o){var h=o("d039");t.exports=!h(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"8418":function(t,n,o){var h=o("c04e"),_=o("9bf2"),g=o("5c6c");t.exports=function(r,a,s){var u=h(a);u in r?_.f(r,u,g(0,s)):r[u]=s}},"861d":function(t,n){t.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},"8875":function(t,n,o){var h,_,g;(function(r,a){_=[],h=a,g=typeof h=="function"?h.apply(n,_):h,g!==void 0&&(t.exports=g)})(typeof self!="undefined"?self:this,function(){function r(){var a=Object.getOwnPropertyDescriptor(document,"currentScript");if(!a&&"currentScript"in document&&document.currentScript||a&&a.get!==r&&document.currentScript)return document.currentScript;try{throw new Error}catch(c){var s=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,u=/@([^@]*):(\d+):(\d+)\s*$/ig,p=s.exec(c.stack)||u.exec(c.stack),m=p&&p[1]||!1,w=p&&p[2]||!1,E=document.location.href.replace(document.location.hash,""),d,v,C,y=document.getElementsByTagName("script");m===E&&(d=document.documentElement.outerHTML,v=new RegExp("(?:[^\\n]+?\\n){0,"+(w-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),C=d.replace(v,"$1").trim());for(var f=0;f<y.length;f++)if(y[f].readyState==="interactive"||y[f].src===m||m===E&&y[f].innerHTML&&y[f].innerHTML.trim()===C)return y[f];return null}}return r})},"8925":function(t,n,o){var h=o("c6cd"),_=Function.toString;typeof h.inspectSource!="function"&&(h.inspectSource=function(g){return _.call(g)}),t.exports=h.inspectSource},"8bbf":function(t,n){t.exports=vue.exports},"8dad":function(t,n,o){},"90e3":function(t,n){var o=0,h=Math.random();t.exports=function(_){return"Symbol("+String(_===void 0?"":_)+")_"+(++o+h).toString(36)}},"9112":function(t,n,o){var h=o("83ab"),_=o("9bf2"),g=o("5c6c");t.exports=h?function(r,a,s){return _.f(r,a,g(1,s))}:function(r,a,s){return r[a]=s,r}},"94ca":function(t,n,o){var h=o("d039"),_=/#|\.prototype\./,g=function(p,m){var w=a[r(p)];return w==u?!0:w==s?!1:typeof m=="function"?h(m):!!m},r=g.normalize=function(p){return String(p).replace(_,".").toLowerCase()},a=g.data={},s=g.NATIVE="N",u=g.POLYFILL="P";t.exports=g},"9bf2":function(t,n,o){var h=o("83ab"),_=o("0cfb"),g=o("825a"),r=o("c04e"),a=Object.defineProperty;n.f=h?a:function(u,p,m){if(g(u),p=r(p,!0),g(m),_)try{return a(u,p,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(u[p]=m.value),u}},a4d3:function(t,n,o){var h=o("23e7"),_=o("da84"),g=o("d066"),r=o("c430"),a=o("83ab"),s=o("4930"),u=o("fdbf"),p=o("d039"),m=o("5135"),w=o("e8b5"),E=o("861d"),d=o("825a"),v=o("7b0b"),C=o("fc6a"),y=o("c04e"),f=o("5c6c"),c=o("7c73"),l=o("df75"),b=o("241c"),S=o("057f"),A=o("7418"),L=o("06cf"),x=o("9bf2"),M=o("d1e7"),O=o("9112"),T=o("6eeb"),I=o("5692"),P=o("f772"),$=o("d012"),F=o("90e3"),R=o("b622"),N=o("e538"),j=o("746f"),V=o("d44e"),K=o("69f3"),G=o("b727").forEach,Y=P("hidden"),ee="Symbol",Q="prototype",k=R("toPrimitive"),D=K.set,B=K.getterFor(ee),W=Object[Q],H=_.Symbol,J=g("JSON","stringify"),X=L.f,re=x.f,ce=S.f,ae=M.f,q=I("symbols"),oe=I("op-symbols"),fe=I("string-to-symbol-registry"),de=I("symbol-to-string-registry"),ve=I("wks"),me=_.QObject,Te=!me||!me[Q]||!me[Q].findChild,we=a&&p(function(){return c(re({},"a",{get:function(){return re(this,"a",{value:7}).a}})).a!=7})?function(ie,Z,te){var ne=X(W,Z);ne&&delete W[Z],re(ie,Z,te),ne&&ie!==W&&re(W,Z,ne)}:re,xe=function(ie,Z){var te=q[ie]=c(H[Q]);return D(te,{type:ee,tag:ie,description:Z}),a||(te.description=Z),te},Me=u?function(ie){return typeof ie=="symbol"}:function(ie){return Object(ie)instanceof H},Le=function(Z,te,ne){Z===W&&Le(oe,te,ne),d(Z);var se=y(te,!0);return d(ne),m(q,se)?(ne.enumerable?(m(Z,Y)&&Z[Y][se]&&(Z[Y][se]=!1),ne=c(ne,{enumerable:f(0,!1)})):(m(Z,Y)||re(Z,Y,f(1,{})),Z[Y][se]=!0),we(Z,se,ne)):re(Z,se,ne)},le=function(Z,te){d(Z);var ne=C(te),se=l(ne).concat(Ee(ne));return G(se,function(pe){(!a||ye.call(ne,pe))&&Le(Z,pe,ne[pe])}),Z},ge=function(Z,te){return te===void 0?c(Z):le(c(Z),te)},ye=function(Z){var te=y(Z,!0),ne=ae.call(this,te);return this===W&&m(q,te)&&!m(oe,te)?!1:ne||!m(this,te)||!m(q,te)||m(this,Y)&&this[Y][te]?ne:!0},Se=function(Z,te){var ne=C(Z),se=y(te,!0);if(!(ne===W&&m(q,se)&&!m(oe,se))){var pe=X(ne,se);return pe&&m(q,se)&&!(m(ne,Y)&&ne[Y][se])&&(pe.enumerable=!0),pe}},Ne=function(Z){var te=ce(C(Z)),ne=[];return G(te,function(se){!m(q,se)&&!m($,se)&&ne.push(se)}),ne},Ee=function(Z){var te=Z===W,ne=ce(te?oe:C(Z)),se=[];return G(ne,function(pe){m(q,pe)&&(!te||m(W,pe))&&se.push(q[pe])}),se};if(s||(H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var Z=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),te=F(Z),ne=function(se){this===W&&ne.call(oe,se),m(this,Y)&&m(this[Y],te)&&(this[Y][te]=!1),we(this,te,f(1,se))};return a&&Te&&we(W,te,{configurable:!0,set:ne}),xe(te,Z)},T(H[Q],"toString",function(){return B(this).tag}),T(H,"withoutSetter",function(ie){return xe(F(ie),ie)}),M.f=ye,x.f=Le,L.f=Se,b.f=S.f=Ne,A.f=Ee,N.f=function(ie){return xe(R(ie),ie)},a&&(re(H[Q],"description",{configurable:!0,get:function(){return B(this).description}}),r||T(W,"propertyIsEnumerable",ye,{unsafe:!0}))),h({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:H}),G(l(ve),function(ie){j(ie)}),h({target:ee,stat:!0,forced:!s},{for:function(ie){var Z=String(ie);if(m(fe,Z))return fe[Z];var te=H(Z);return fe[Z]=te,de[te]=Z,te},keyFor:function(Z){if(!Me(Z))throw TypeError(Z+" is not a symbol");if(m(de,Z))return de[Z]},useSetter:function(){Te=!0},useSimple:function(){Te=!1}}),h({target:"Object",stat:!0,forced:!s,sham:!a},{create:ge,defineProperty:Le,defineProperties:le,getOwnPropertyDescriptor:Se}),h({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:Ne,getOwnPropertySymbols:Ee}),h({target:"Object",stat:!0,forced:p(function(){A.f(1)})},{getOwnPropertySymbols:function(Z){return A.f(v(Z))}}),J){var We=!s||p(function(){var ie=H();return J([ie])!="[null]"||J({a:ie})!="{}"||J(Object(ie))!="{}"});h({target:"JSON",stat:!0,forced:We},{stringify:function(Z,te,ne){for(var se=[Z],pe=1,Fe;arguments.length>pe;)se.push(arguments[pe++]);if(Fe=te,!(!E(te)&&Z===void 0||Me(Z)))return w(te)||(te=function(Ge,Ie){if(typeof Fe=="function"&&(Ie=Fe.call(this,Ge,Ie)),!Me(Ie))return Ie}),se[1]=te,J.apply(null,se)}})}H[Q][k]||O(H[Q],k,H[Q].valueOf),V(H,ee),$[Y]=!0},a640:function(t,n,o){var h=o("d039");t.exports=function(_,g){var r=[][_];return!!r&&h(function(){r.call(null,g||function(){throw 1},1)})}},a691:function(t,n){var o=Math.ceil,h=Math.floor;t.exports=function(_){return isNaN(_=+_)?0:(_>0?h:o)(_)}},ab13:function(t,n,o){var h=o("b622"),_=h("match");t.exports=function(g){var r=/./;try{"/./"[g](r)}catch{try{return r[_]=!1,"/./"[g](r)}catch{}}return!1}},b622:function(t,n,o){var h=o("da84"),_=o("5692"),g=o("5135"),r=o("90e3"),a=o("4930"),s=o("fdbf"),u=_("wks"),p=h.Symbol,m=s?p:p&&p.withoutSetter||r;t.exports=function(w){return(!g(u,w)||!(a||typeof u[w]=="string"))&&(a&&g(p,w)?u[w]=p[w]:u[w]=m("Symbol."+w)),u[w]}},b64b:function(t,n,o){var h=o("23e7"),_=o("7b0b"),g=o("df75"),r=o("d039"),a=r(function(){g(1)});h({target:"Object",stat:!0,forced:a},{keys:function(u){return g(_(u))}})},b727:function(t,n,o){var h=o("0366"),_=o("44ad"),g=o("7b0b"),r=o("50c4"),a=o("65f0"),s=[].push,u=function(p){var m=p==1,w=p==2,E=p==3,d=p==4,v=p==6,C=p==7,y=p==5||v;return function(f,c,l,b){for(var S=g(f),A=_(S),L=h(c,l,3),x=r(A.length),M=0,O=b||a,T=m?O(f,x):w||C?O(f,0):void 0,I,P;x>M;M++)if((y||M in A)&&(I=A[M],P=L(I,M,S),p))if(m)T[M]=P;else if(P)switch(p){case 3:return!0;case 5:return I;case 6:return M;case 2:s.call(T,I)}else switch(p){case 4:return!1;case 7:s.call(T,I)}return v?-1:E||d?d:T}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},c04e:function(t,n,o){var h=o("861d");t.exports=function(_,g){if(!h(_))return _;var r,a;if(g&&typeof(r=_.toString)=="function"&&!h(a=r.call(_))||typeof(r=_.valueOf)=="function"&&!h(a=r.call(_))||!g&&typeof(r=_.toString)=="function"&&!h(a=r.call(_)))return a;throw TypeError("Can't convert object to primitive value")}},c430:function(t,n){t.exports=!1},c6b6:function(t,n){var o={}.toString;t.exports=function(h){return o.call(h).slice(8,-1)}},c6cd:function(t,n,o){var h=o("da84"),_=o("ce4e"),g="__core-js_shared__",r=h[g]||_(g,{});t.exports=r},c8ba:function(t,n){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}t.exports=o},ca84:function(t,n,o){var h=o("5135"),_=o("fc6a"),g=o("4d64").indexOf,r=o("d012");t.exports=function(a,s){var u=_(a),p=0,m=[],w;for(w in u)!h(r,w)&&h(u,w)&&m.push(w);for(;s.length>p;)h(u,w=s[p++])&&(~g(m,w)||m.push(w));return m}},caad:function(t,n,o){var h=o("23e7"),_=o("4d64").includes,g=o("44d2");h({target:"Array",proto:!0},{includes:function(a){return _(this,a,arguments.length>1?arguments[1]:void 0)}}),g("includes")},cc12:function(t,n,o){var h=o("da84"),_=o("861d"),g=h.document,r=_(g)&&_(g.createElement);t.exports=function(a){return r?g.createElement(a):{}}},ce4e:function(t,n,o){var h=o("da84"),_=o("9112");t.exports=function(g,r){try{_(h,g,r)}catch{h[g]=r}return r}},d012:function(t,n){t.exports={}},d039:function(t,n){t.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(t,n,o){var h=o("428f"),_=o("da84"),g=function(r){return typeof r=="function"?r:void 0};t.exports=function(r,a){return arguments.length<2?g(h[r])||g(_[r]):h[r]&&h[r][a]||_[r]&&_[r][a]}},d1e7:function(t,n,o){var h={}.propertyIsEnumerable,_=Object.getOwnPropertyDescriptor,g=_&&!h.call({1:2},1);n.f=g?function(a){var s=_(this,a);return!!s&&s.enumerable}:h},d44e:function(t,n,o){var h=o("9bf2").f,_=o("5135"),g=o("b622"),r=g("toStringTag");t.exports=function(a,s,u){a&&!_(a=u?a:a.prototype,r)&&h(a,r,{configurable:!0,value:s})}},d58f:function(t,n,o){var h=o("1c0b"),_=o("7b0b"),g=o("44ad"),r=o("50c4"),a=function(s){return function(u,p,m,w){h(p);var E=_(u),d=g(E),v=r(E.length),C=s?v-1:0,y=s?-1:1;if(m<2)for(;;){if(C in d){w=d[C],C+=y;break}if(C+=y,s?C<0:v<=C)throw TypeError("Reduce of empty array with no initial value")}for(;s?C>=0:v>C;C+=y)C in d&&(w=p(w,d[C],C,E));return w}};t.exports={left:a(!1),right:a(!0)}},d6d0:function(t,n,o){o("8dad")},da84:function(t,n,o){(function(h){var _=function(g){return g&&g.Math==Math&&g};t.exports=_(typeof globalThis=="object"&&globalThis)||_(typeof window=="object"&&window)||_(typeof self=="object"&&self)||_(typeof h=="object"&&h)||function(){return this}()||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(t,n,o){var h=o("23e7"),_=o("83ab"),g=o("56ef"),r=o("fc6a"),a=o("06cf"),s=o("8418");h({target:"Object",stat:!0,sham:!_},{getOwnPropertyDescriptors:function(p){for(var m=r(p),w=a.f,E=g(m),d={},v=0,C,y;E.length>v;)y=w(m,C=E[v++]),y!==void 0&&s(d,C,y);return d}})},df75:function(t,n,o){var h=o("ca84"),_=o("7839");t.exports=Object.keys||function(r){return h(r,_)}},e439:function(t,n,o){var h=o("23e7"),_=o("d039"),g=o("fc6a"),r=o("06cf").f,a=o("83ab"),s=_(function(){r(1)}),u=!a||s;h({target:"Object",stat:!0,forced:u,sham:!a},{getOwnPropertyDescriptor:function(m,w){return r(g(m),w)}})},e538:function(t,n,o){var h=o("b622");n.f=h},e893:function(t,n,o){var h=o("5135"),_=o("56ef"),g=o("06cf"),r=o("9bf2");t.exports=function(a,s){for(var u=_(s),p=r.f,m=g.f,w=0;w<u.length;w++){var E=u[w];h(a,E)||p(a,E,m(s,E))}}},e8b5:function(t,n,o){var h=o("c6b6");t.exports=Array.isArray||function(g){return h(g)=="Array"}},f772:function(t,n,o){var h=o("5692"),_=o("90e3"),g=h("keys");t.exports=function(r){return g[r]||(g[r]=_(r))}},fb15:function(t,n,o){if(o.r(n),o.d(n,"VueNotificationList",function(){return T}),o.d(n,"VueNotificationListItem",function(){return M}),o.d(n,"useNotificationStore",function(){return l}),typeof window!="undefined"){var h=window.document.currentScript;{var _=o("8875");h=_(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:_})}var g=h&&h.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);g&&(o.p=g[1])}var r=o("8bbf"),a=Object(r.withScopeId)("data-v-e1ef80b2"),s=a(function($,F,R,N,j,V){var K=Object(r.resolveComponent)("vue-notification-list-item");return Object(r.openBlock)(),Object(r.createBlock)(r.TransitionGroup,{class:[$.classList,"notification-list fixed z-40"],name:"notification-list",tag:"ul",appear:""},{default:a(function(){return[(Object(r.openBlock)(!0),Object(r.createBlock)(r.Fragment,null,Object(r.renderList)($.notificationList,function(G){return Object(r.openBlock)(),Object(r.createBlock)(K,{key:G.id,notification:G,layout:$.notificationListItemLayout},null,8,["notification","layout"])}),128))]}),_:1},8,["class"])});function u($,F,R){return F in $?Object.defineProperty($,F,{value:R,enumerable:!0,configurable:!0,writable:!0}):$[F]=R,$}o("b64b"),o("a4d3"),o("4de4"),o("e439"),o("159b"),o("dbb4");function p($,F){var R=Object.keys($);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols($);F&&(N=N.filter(function(j){return Object.getOwnPropertyDescriptor($,j).enumerable})),R.push.apply(R,N)}return R}function m($){for(var F=1;F<arguments.length;F++){var R=arguments[F]!=null?arguments[F]:{};F%2?p(Object(R),!0).forEach(function(N){u($,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(R)):p(Object(R)).forEach(function(N){Object.defineProperty($,N,Object.getOwnPropertyDescriptor(R,N))})}return $}o("caad"),o("2532"),o("13d5"),o("07ac");var w;(function($){$.TopLeft="top-left",$.TopRight="top-right",$.BottomRight="bottom-right",$.BottomLeft="bottom-left"})(w||(w={}));var E;(function($){$.Left="left",$.Right="right",$.Top="top",$.Bottom="bottom"})(E||(E={}));var d;(function($){$.Success="success",$.Alert="alert",$.Warning="warning",$.Info="info"})(d||(d={}));var v;(function($){$.Light="light",$.Dark="dark",$.Glass="glass"})(v||(v={}));var C=3e3,y={success:`
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.755 511.755" xml:space="preserve" fill="currentColor">
        <path d="M436.891,74.867c-99.819-99.819-262.208-99.819-362.027,0c-99.819,99.797-99.819,262.229,0,362.027 c49.899,49.92,115.456,74.859,181.013,74.859s131.093-24.939,181.013-74.859C536.709,337.096,536.709,174.664,436.891,74.867z M398.96,185.629L249.627,334.963c-4.16,4.16-9.621,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251l-85.333-85.333 c-8.341-8.341-8.341-21.824,0-30.165c8.341-8.341,21.824-8.341,30.165,0l70.251,70.251l134.251-134.251 c8.341-8.341,21.824-8.341,30.165,0C407.301,163.805,407.301,177.288,398.96,185.629z"/>
    </svg>
  `,alert:`
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.76 511.76" xml:space="preserve" fill="currentColor">
        <path d="M436.896,74.869c-99.84-99.819-262.208-99.819-362.048,0c-99.797,99.819-99.797,262.229,0,362.048 c49.92,49.899,115.477,74.837,181.035,74.837s131.093-24.939,181.013-74.837C536.715,337.099,536.715,174.688,436.896,74.869z M361.461,331.317c8.341,8.341,8.341,21.824,0,30.165c-4.16,4.16-9.621,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251 l-75.413-75.435l-75.392,75.413c-4.181,4.16-9.643,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251 c-8.341-8.341-8.341-21.845,0-30.165l75.392-75.413l-75.413-75.413c-8.341-8.341-8.341-21.845,0-30.165 c8.32-8.341,21.824-8.341,30.165,0l75.413,75.413l75.413-75.413c8.341-8.341,21.824-8.341,30.165,0 c8.341,8.32,8.341,21.824,0,30.165l-75.413,75.413L361.461,331.317z"/>
    </svg>
  `,warning:`
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.755 511.755" xml:space="preserve" fill="currentColor">
        <path d="M436.891,74.867c-99.819-99.819-262.208-99.819-362.027,0c-99.819,99.797-99.819,262.229,0,362.027 c49.899,49.92,115.456,74.859,181.013,74.859s131.115-24.939,181.013-74.859C536.709,337.096,536.709,174.664,436.891,74.867z M255.877,426.547c-11.776,0-21.333-9.557-21.333-21.333s9.557-21.333,21.333-21.333c11.776,0,21.333,9.557,21.333,21.333 S267.653,426.547,255.877,426.547z M277.211,319.88c0,11.776-9.536,21.333-21.333,21.333c-11.797,0-21.333-9.557-21.333-21.333 V106.547c0-11.776,9.536-21.333,21.333-21.333c11.797,0,21.333,9.557,21.333,21.333V319.88z"/>
    </svg>
  `,info:`
    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 460 460" xml:space="preserve" fill="currentColor">
        <path d="M230,0C102.975,0,0,102.975,0,230s102.975,230,230,230s230-102.974,230-230S357.025,0,230,0z M268.333,377.36 c0,8.676-7.034,15.71-15.71,15.71h-43.101c-8.676,0-15.71-7.034-15.71-15.71V202.477c0-8.676,7.033-15.71,15.71-15.71h43.101 c8.676,0,15.71,7.033,15.71,15.71V377.36z M230,157c-21.539,0-39-17.461-39-39s17.461-39,39-39s39,17.461,39,39 S251.539,157,230,157z"/>
    </svg>
  `},f=function(){return{id:"".concat(Date.now()),message:"",type:d.Info,showIcon:!0,dismiss:{automatically:!0,manually:!0},duration:C,showDurationProgress:!0,appearance:v.Light}},c=Object(r.reactive)({notifications:{}}),l=function(){var F=Object(r.computed)(function(){return c.notifications}),R=function(K){return Object(r.computed)(function(){return c.notifications[K]})},N=function(K){var G=JSON.parse(JSON.stringify(m(m({},f()),K)));c.notifications[G.id]=G},j=function(K){delete c.notifications[K]};return{notifications:F,notification:R,setNotification:N,unsetNotification:j}},b=Object(r.withScopeId)("data-v-0730d53e");Object(r.pushScopeId)("data-v-0730d53e");var S={class:"notification-list-item__message"},A={class:"notification-list-item__icon"};Object(r.popScopeId)();var L=b(function($,F,R,N,j,V){return Object(r.openBlock)(),Object(r.createBlock)("li",{class:[$.classList,"notification-list-item"],onClick:F[1]||(F[1]=function(){return $.dismissManually&&$.dismissManually.apply($,arguments)})},[Object(r.createVNode)("div",{ref:"tagRef",style:$.animationDurationStyle,class:"notification-list-item__tag"},null,4),Object(r.createVNode)("div",S,[Object(r.createVNode)("span",{innerHTML:$.notification.message},null,8,["innerHTML"])]),Object(r.createVNode)("div",A,[$.notification.showIcon?(Object(r.openBlock)(),Object(r.createBlock)("span",{key:0,innerHTML:$.icons[$.notification.type]},null,8,["innerHTML"])):Object(r.createCommentVNode)("",!0)])],2)}),x=Object(r.defineComponent)({name:"NotificationListItem",props:{notification:{type:Object,required:!0},layout:{type:String,default:E.Left}},setup:function(F){var R=Object(r.ref)(),N=l(),j=N.unsetNotification,V=Object(r.computed)(function(){return Object.values(d).includes(F.notification.type)?F.notification.type:d.Info}),K=Object(r.computed)(function(){return Object.values(E).includes(F.layout)?F.layout:E.Left}),G=Object(r.computed)(function(){return Object.values(v).includes(F.notification.appearance)?F.notification.appearance:v.Light}),Y=Object(r.computed)(function(){var D;return D={"notification-list-item--dismissible-manual":F.notification.dismiss.manually,"notification-list-item--dismissible-automatic":F.notification.dismiss.automatically&&F.notification.showDurationProgress},u(D,"notification-list-item--".concat(V.value),!0),u(D,"notification-list-item--".concat(K.value),!0),u(D,"notification-list-item--".concat(G.value),!0),D}),ee=Object(r.ref)({animationDuration:"".concat(F.notification.duration-500-100,"ms")}),Q=function(){!F.notification.dismiss.manually||j(F.notification.id)},k=function(){!F.notification.dismiss.automatically||setTimeout(function(){j(F.notification.id)},F.notification.duration)};return Object(r.onMounted)(function(){k()}),{tagRef:R,classList:Y,animationDurationStyle:ee,icons:y,dismissManually:Q}}});o("1dba"),o("44e1"),x.render=L,x.__scopeId="data-v-0730d53e";var M=x,O=Object(r.defineComponent)({name:"VueNotificationList",components:{VueNotificationListItem:M},props:{position:{type:String,default:w.BottomRight}},setup:function(F){var R=l(),N=R.notifications,j=Object(r.computed)(function(){return V.value.includes(E.Bottom)?N.value:Object.keys(N.value).reverse().reduce(function(Y,ee){return m(m({},Y),{},u({},ee,N.value[ee]))},{})}),V=Object(r.computed)(function(){return Object.values(w).includes(F.position)?F.position:w.BottomRight}),K=Object(r.computed)(function(){return"notification-list--".concat(V.value)}),G=Object(r.computed)(function(){return V.value.includes(E.Left)?E.Left:E.Right});return{notificationList:j,classList:K,notificationListItemLayout:G}}});o("d6d0"),O.render=s,O.__scopeId="data-v-e1ef80b2";var T=O,I=function(F){F.component("vue-notification-list",T),F.component("vue-notification-list-item",M)},P=I;typeof window!="undefined"&&window.Vue&&window.Vue.use(I),n.default=P},fc6a:function(t,n,o){var h=o("44ad"),_=o("1d80");t.exports=function(g){return h(_(g))}},fdbc:function(t,n){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,n,o){var h=o("4930");t.exports=h&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}})})(vueNotification_common);var vueNotification="",getSocketConnection=(e,t,n)=>{let o="/desktop-socket-endpoint",h=Stomp$1.over(new SockJS(o));h.connect({},()=>{h.subscribe(e,_=>{t(_)})},n),h.debug=null},index_vue_vue_type_style_index_0_lang="";const _hoisted_1={class:"app-list"},_hoisted_2=["onDblclick"],_hoisted_3={class:"app-item"},_hoisted_4={class:"app-icon"},_hoisted_5=["src"],_hoisted_6={class:"app-name"},_hoisted_7={class:"app-item"},_hoisted_8={class:"app-icon"},_hoisted_9=["src"],_hoisted_10={class:"app-name"},_hoisted_11={class:"work-region"},_hoisted_12={class:"task-bar"},_hoisted_13=createBaseVNode("div",{class:"task-bar-mask"},null,-1),_hoisted_14={class:"task-bar-content"},_hoisted_15=createBaseVNode("div",{class:"task-item"},[createBaseVNode("img",{src:_imports_0$3})],-1),_hoisted_16=[_hoisted_15],_hoisted_17=["onClick"],_hoisted_18={class:"task-item"},_hoisted_19=["src"],_sfc_main={setup(e){const{setNotification:t}=vueNotification_common.exports.useNotificationStore();onMounted(()=>{setTimeout(()=>{state.desktopScale=!1},10),initInstallProgressManager(),h()});let n=ref("/"),{proxy:o}=getCurrentInstance();getSocketConnection("/topic/events",g=>{let r=JSON.parse(g.body);o.eventBus.emit(r.subject,r)},g=>{}),o.eventBus.on("/event/refresh/application",g=>{refreshApplication()});const h=()=>{window.addEventListener("message",g=>{if(g.data.action=="notification"){_(g.data.param);return}})};refreshApplication();const _=g=>{t(g)};return(g,r)=>(openBlock(),createElementBlock("div",{class:normalizeClass([{"desktop-none":unref(state).desktopScale},"desktop"])},[createBaseVNode("div",{class:normalizeClass(["app-starter",{"app-starter-visible":unref(state).appStarterVisible}])},[createBaseVNode("div",_hoisted_1,[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(defaultAppList),a=>(openBlock(),createElementBlock("li",{key:a.name,onDblclick:a.action},[createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[createBaseVNode("img",{src:a.icon,alt:""},null,8,_hoisted_5)]),createBaseVNode("div",_hoisted_6,toDisplayString(a.name),1)])],40,_hoisted_2))),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(applicationState).applications,a=>(openBlock(),createElementBlock(Fragment,{key:a.applicationId},[a.visibilityIsDesktop?(openBlock(),createElementBlock("li",{key:0,onDblclick:r[0]||(r[0]=s=>unref(coolWindow).startNewTerminal("/"))},[createBaseVNode("div",_hoisted_7,[createBaseVNode("div",_hoisted_8,[createBaseVNode("img",{src:unref(n)+"desktop/webapplication/"+a.applicationId+"/logo.png",alt:""},null,8,_hoisted_9)]),createBaseVNode("div",_hoisted_10,toDisplayString(a.applicationName),1)])],32)):createCommentVNode("",!0)],64))),128))])])],2),createBaseVNode("div",_hoisted_11,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(state).windowsCollection,a=>(openBlock(),createElementBlock(Fragment,{key:a},[a.windowType=="dialog-create-file"?(openBlock(),createBlock(_sfc_main$a,{key:0,actionWindowId:unref(state).actionWindowId,item:a},null,8,["actionWindowId","item"])):createCommentVNode("",!0),a.windowType=="upload-manager"?(openBlock(),createBlock(_sfc_main$4,{key:1,actionWindowId:unref(state).actionWindowId,item:a},null,8,["actionWindowId","item"])):createCommentVNode("",!0),a.windowType=="folder"?(openBlock(),createBlock(_sfc_main$8,{key:2,actionWindowId:unref(state).actionWindowId,item:a},null,8,["actionWindowId","item"])):createCommentVNode("",!0),a.windowType=="web"?(openBlock(),createBlock(_sfc_main$7,{key:3,actionWindowId:unref(state).actionWindowId,item:a},null,8,["actionWindowId","item"])):createCommentVNode("",!0),a.windowType=="error-message"?(openBlock(),createBlock(_sfc_main$6,{key:4,actionWindowId:unref(state).actionWindowId,item:a},null,8,["actionWindowId","item"])):createCommentVNode("",!0),a.windowType=="success-message"?(openBlock(),createBlock(_sfc_main$5,{key:5,actionWindowId:unref(state).actionWindowId,item:a},null,8,["actionWindowId","item"])):createCommentVNode("",!0),a.windowType=="dialog-select"?(openBlock(),createBlock(_sfc_main$b,{key:6,actionWindowId:unref(state).actionWindowId,item:a},null,8,["actionWindowId","item"])):createCommentVNode("",!0),a.windowType=="file-attribute"?(openBlock(),createBlock(_sfc_main$2,{key:7,actionWindowId:unref(state).actionWindowId,item:a},null,8,["actionWindowId","item"])):createCommentVNode("",!0),a.windowType=="terminal"?(openBlock(),createBlock(_sfc_main$3,{key:8,actionWindowId:unref(state).actionWindowId,item:a},null,8,["actionWindowId","item"])):createCommentVNode("",!0),a.windowType=="loading-view"?(openBlock(),createBlock(_sfc_main$9,{key:9,actionWindowId:unref(state).actionWindowId,item:a},null,8,["actionWindowId","item"])):createCommentVNode("",!0),a.windowType=="software"?(openBlock(),createBlock(_sfc_main$1,{key:10,actionWindowId:unref(state).actionWindowId,item:a},null,8,["actionWindowId","item"])):createCommentVNode("",!0)],64))),128))]),createBaseVNode("div",_hoisted_12,[_hoisted_13,createBaseVNode("div",_hoisted_14,[createBaseVNode("ul",null,[createBaseVNode("li",{onClick:r[1]||(r[1]=a=>unref(coolWindow).openStarter())},_hoisted_16),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(state).windowsCollection,a=>(openBlock(),createElementBlock("li",{key:a,onClick:s=>unref(wact).showWindow(a.id)},[createBaseVNode("div",_hoisted_18,[createBaseVNode("img",{class:normalizeClass({select:a.id==unref(state).actionWindowId}),src:a.icon,alt:""},null,10,_hoisted_19),createBaseVNode("span",{class:normalizeClass({select:a.id==unref(state).actionWindowId})},null,2)])],8,_hoisted_17))),128))])])]),createVNode(unref(vueNotification_common.exports.VueNotificationList),{position:"top-right"})],2))}};export{_sfc_main as default};
