var gr=Object.defineProperty;var dr=Object.getOwnPropertySymbols;var mr=Object.prototype.hasOwnProperty,yr=Object.prototype.propertyIsEnumerable;var cr=(t,e,n)=>e in t?gr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,We=(t,e)=>{for(var n in e||(e={}))mr.call(e,n)&&cr(t,n,e[n]);if(dr)for(var n of dr(e))yr.call(e,n)&&cr(t,n,e[n]);return t};var ue=(t,e,n)=>(cr(t,typeof e!="symbol"?e+"":e,n),n);import{e as reactive,o as openBlock,f as createElementBlock,g as renderSlot,u as unref,n as normalizeClass,h as createCommentVNode,i as createBaseVNode,j as normalizeStyle,k as ref,c as createBlock,w as withCtx,l as withDirectives,v as vModelText,p as vModelRadio,q as createTextVNode,t as toDisplayString,s as onMounted,x as getCurrentInstance,y as isRef,F as Fragment,z as renderList,A as withModifiers,B as isString$2,C as hyphenate,N as NOOP,D as extend$1,E as isObject$1,G as isArray$5,H as makeMap,I as EMPTY_OBJ,J as capitalize,K as camelize$1,P as PatchFlagNames,L as isSymbol$1,M as isOn,O as toHandlerKey,Q as NO,R as isReservedProp,S as isVoidTag,T as isHTMLTag,U as isSVGTag,V as parseStringStyle,W as generateCodeFrame,X as runtimeDom_esmBundler,Y as shared_esmBundler,Z as createVNode}from"./vendor.281575db.js";var _imports_0$3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAf1JREFUaEPtWj1LA0EQneE2d6QRISHhogEL02gjNiJYxMp/IJb+M1v/gpWp/EBsxNgoJJB4CyFnIyQc2bAyEkGPVefwgoKz9duXvfnYe28uGEXRKQA0gbEQ8RIADsIw7KbhWusja+0hg4YgV4i4n+bRWq8AwLG1dovJ08IoiiwT/AqbTqe79Xq9ld6TB0+v12t6nkcBZS95gLdQSQYAQEqI0znSxLMouQIhJSQlxIlA3iWktb7I8OoGpVSjUqk8ON7EbElCe108g8Fg1Rhzz40DSRsk/WGMIQ3y7VJKDcIwvHMBO53OolJq41sSAPA877lWq127sFrrNWNMhcOjlOoiB/iXMfIAv50dycCvZ0Ac2SwF4gfEDzC7UfxA3mIuj+ajM+XBI4aG0wbSA9IDH+uEDM2ZtXabUz6ECYKgXiqV+j91ZC6eOI6XkyTpcc+CiOevapS6n7PJNdR9v4/L4/v+U7VavfnsN7k8dB6R05zMzRMjGZhndDncOBwOl8bjcYMDDoKg75oJ0d44jhdGo9Emh+er8QzNhpIkWebwFIvFe7pGb62165wNhEHEdddsKIuz+4yHZkLW2naGs7TlE9NbtESNiqVkdo7IaZHTKTmdx+0hnngW1H9r6tnfthCxXSgU9srl8mP60sr4d5uu7/s7aR7SZZPJ5CSDtGm9AAg0CqS22P2EAAAAAElFTkSuQmCC",getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(t){return typeof t=="string"&&REGEX.test(t)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify$2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(byteToHex[t[e+0]]+byteToHex[t[e+1]]+byteToHex[t[e+2]]+byteToHex[t[e+3]]+"-"+byteToHex[t[e+4]]+byteToHex[t[e+5]]+"-"+byteToHex[t[e+6]]+byteToHex[t[e+7]]+"-"+byteToHex[t[e+8]]+byteToHex[t[e+9]]+"-"+byteToHex[t[e+10]]+byteToHex[t[e+11]]+byteToHex[t[e+12]]+byteToHex[t[e+13]]+byteToHex[t[e+14]]+byteToHex[t[e+15]]).toLowerCase();if(!validate(n))throw TypeError("Stringified UUID is invalid");return n}function v4(t,e,n){t=t||{};var o=t.random||(t.rng||rng)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e){n=n||0;for(var p=0;p<16;++p)e[n+p]=o[p];return e}return stringify$2(o)}let serverDomain="/";function randId(){return v4()}function getApplicationIndexUrl(t,e=null){if(t.type==3)return`${serverDomain}${t.applicationId}/`;let n=`${serverDomain}desktop/webapplication/${t.applicationId}/index.html`;return e!=null&&(n=n+"?"+e),n}function getApplicationIconUrl(t){return`${serverDomain}desktop/webapplication/${t.applicationId}/logo.png`}const sizeFormate=t=>t<1024?t+"\u5B57\u8282":t/1024<1024?Math.floor(t/1024)+"KB":Math.round(t/1024/1024)+"MB";class LinuxPath{constructor(e){this.path=e,this.pathBlock=[],this.parse()}range(e){let n=this.pathBlock.slice(0,e+1);if(this.pathBlock=n,n.length==1){this.path=n.join("/");return}this.path=n.join("/").substring(1)}append(e){if(this.path==""&&e=="/"){this.path="/",this.parse();return}if(this.path=="/"){this.path=this.path+e,this.parse();return}this.path=this.path+"/"+e,this.parse()}getPath(){return this.path}parse(){if(this.path=="/"){this.pathBlock=["/"];return}let e=this.path.split("/");e[0]="/",this.pathBlock=e}}class Folder{constructor(e,n){this.path=new LinuxPath(e),this.child=n,this.select="",this.currentSelectName="",this.contextMenuPoint={x:0,y:0},this.contextMenuVisible=!1,this.folderContextMenuVisible=!1,this.folderContextMenuPoint={x:0,y:0},this.selectFileItem=null}}const createFolder=(t,e)=>new Folder(t,e);let actionMoveId="";class WindowActions{constructor(){ue(this,"setCanResize",(e,n)=>{this.getAppById(e).instance.canResize=n});ue(this,"closeWindowByType",e=>{let n=[];for(let o=0;o<state.windowsCollection.length;o++)state.windowsCollection[o].windowType==e&&n.push(o);for(const o of n)state.windowsCollection.splice(o,1)});ue(this,"hideWindow",e=>{if(e){state.windowVisibleState=state.windowsCollection.filter(n=>n.hideWindow==!0);for(const n of state.windowsCollection)n.hideWindow=!0;return}for(const n of state.windowsCollection)n.hideWindow=!1});ue(this,"getAppById",e=>{let n=state.windowsCollection.findIndex(o=>o.id==e);return{instance:state.windowsCollection[n],index:n}});ue(this,"setWindowPos",e=>{for(const n of state.windowsCollection)n.actionWindow=!1;if(state.actionWindowId=e,this.getAppById(e).instance.actionWindow=!0,this.getAppById(e).instance.minState){this.getAppById(e).instance.minState=!1;return}});ue(this,"windowMouseUp",(e,n)=>{for(const o of state.windowsCollection)o.pointerEvents=!1});ue(this,"showWindowByApplicationId",e=>{let n=state.windowsCollection.findIndex(o=>e===(o.application||{}).applicationId);n!=-1&&this.showWindow(state.windowsCollection[n].id)});ue(this,"showWindow",e=>{state.appStarterVisible&&(this.hideWindow(!1),state.appStarterVisible=!1),this.setWindowPos(e);let n=this.getAppById(e);if(n.instance.actionWindow==!0){n.instance.windowScale=!0,setTimeout(()=>{n.instance.windowScale=!1},301);return}n.instance.minState&&(n.instance.minState=!1)});ue(this,"windowMin",e=>{this.getAppById(e).instance.minState=!this.getAppById(e).instance.minState,this.getAppById(e).instance.actionWindow=!1,state.actionWindowId=-1});ue(this,"closeWindow",e=>{this.postWindowEvents(e,"close",{}),this.getAppById(e).instance.closeWindowTransition=!0,setTimeout(()=>{state.windowsCollection.splice(this.getAppById(e).index,1),state.actionWindowId==e&&(state.actionWindowId="")},200)});ue(this,"windowFullScreen",e=>{for(const o of state.windowsCollection)o.pointerEvents=!0;let n=this.getAppById(e);n.instance.maxState?(n.instance.maxState=!n.instance.maxState,setTimeout(()=>{n.instance.windowTransition=!n.instance.windowTransition;for(const o of state.windowsCollection)o.pointerEvents=!1},500)):(n.instance.windowTransition=!n.instance.windowTransition,setTimeout(()=>{n.instance.maxState=!n.instance.maxState;for(const o of state.windowsCollection)o.pointerEvents=!1},10))});ue(this,"postWindowEvents",(e,n,o)=>{let p=this.getAppById(e).instance.events;typeof p=="function"&&p(n,o)});ue(this,"windowMove",e=>{if(e.which==3)return;for(const r of state.windowsCollection)r.pointerEvents=!0;let n=e.target,o=[],p=!1;for(;o.findIndex(r=>r=="window-item")==-1;){n=n.parentNode,o.findIndex(s=>s=="window-title")!=-1&&(p||(p=!0));let r=n.classList;if(r==null)return;o=[...r]}if(actionMoveId=n.getAttribute("data-id"),this.setWindowPos(actionMoveId),!p)return;let y=e.clientX-n.offsetLeft,_=e.clientY-n.offsetTop;document.onmousemove=r=>{let s=r.clientX-y,a=r.clientY-_;if(a<=-10){document.onmousemove=null,document.onmouseup=null,this.windowFullScreen(actionMoveId);return}this.postWindowEvents(actionMoveId,"move",{left:s,top:a}),n.style.left=s+"px",n.style.top=a+"px"},document.onmouseup=r=>{document.onmousemove=null,document.onmouseup=null}})}}let defaultAppList=[{name:"\u6587\u4EF6",icon:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAudJREFUeF7tW01IVFEU/s68eTXZn2G1McdoGxQFQZCDI1qLaCMtgmhjQRGTZu2CwHERtAj6GQssmoRo0SIpxFUDhZNCLQTbuYgYpcAinTQTnu+9EzPk2BQ5P8y7Pp0zy8e55/vu98659368uYQy/1GZzx8igFTAXwoEIolTIM8RgPcC2OO0QAyeIKIRMI/aQN/ghdqXTmP+mT+rBQJdiTsAtaok8A8W42a81X9ZFYeMAIGuxARA21UBL4lDeB4P+ZtVcEkLUHd3/BYxX1QBmC8GER0fCNX05htfbBwFb4xutXzrvhabwMFxSZhmfbx913sHMUCBSOIQiN44CVJ0bhst8TZ/T9Hj8xhIdZHEWSLqziNWeQgRrg2E/FedBE4JECaiDidBis/Nz5jtruLHZ4+c503Db9uqprO2QXcLUKqpL+YhQp9p4dJQm/9D6qnLK6D0AixktE2tdrC9eqxsBQBTf7y15lhOAU7s3+Lca1CQ+enw1H9RmK2GnAKcPliFA7UVCqiWHmLo4ywev5tcQgDuFAFy7QJSAeXUAkReeLS1AGmZvtm3owLVm/XSN6iCjONJAyOf5jJIbM+DbQPMVvoZ8+81wOPROzR9IzTvegW0lh/CMmdhGlOLAqzxbevwaL7lZ6aQgWkkYc7PdFJ99+QTXa88qRDbNVDG3Jfb1HB/ul/zbjjqGlYKiZjGzAtqePDjlaZVBBXiugbKsn6+FgGkAqQFZA2QRVB2AdkG5RwgByHXHM8UEpGToByFxQuIGRI3KG5Q3KC4QXGD4gbFDYobFDeo0IS5BirtBpseWmG49m9yDmuV+josAkgFSAuU+RoQ5RaAow4vN65Mz7bdTId7uJFtjrmSoaOk6LNJ2J2+MdIYtXsJUHJFxdE5FZKcuTN2Rgtn7gw1Rfk8wPcKybFiY4mvx1q0Kyn+WbfGgo+4Ugd2smlWrtjJLUXc6/0GA2Oxc/R9IUxujq7KN13ApKQCChBrVYb+ApRNrTi6D+vLAAAAAElFTkSuQmCC",self.location).href,action:()=>{coolWindow.startNewFolder()}},{name:"\u6587\u4EF6\u4E0A\u4F20\u7BA1\u7406\u5668",icon:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAACLJJREFUeF7tWn1wVFcV/533QoBCyb6NiMgwFQomWZK3SQpDrR0keRvlo0L9AFtLbR2+6/RD/9GxzhQcrZ3+0yqKJBTHzoAgmTqUtKlMsgEdW6hAkt1Nk9DWCm3BIkl2Q2gp2d17nJfhI2Tf3ffebsAZyP0z93e+fnvuueeeF8JNvugmjx8jBIxkwE3OwMgRuMkTYKQIXpcjsL8tWsqMeQyUEGMGM88EKfkAjhNwnAnHidHSdza+c+ndE/uuZ1ZeMwKCkdhXwXwfAQEGpjoNisE1KuXUVZRMeMWpTDa4YScgGOl9ECxWAZiXjWMAHQTwnKF7arPTk1562AjY/28eI87FngHj8eF1mGsZ/FxAzzcJGfY1LAQ0tvX5FE5UM+PuYffwskJafi2yIWsCzOBJJHYDmHXtgr+kefhJyIoAF8GfAxAGc5gV5QhIPZhMfnxCVcf6iFEoROJ2heg7ABXakzi8JGRFQDASrQPjnnROM7iaFTxdVex93y64xlDs20S8BkCVHZaAA4Joe646qn6eb9x/7PCy/YwJCIZ6ngTRL+SG6U0B/lWVrr3sxLlgOPowAQ8xMN8JfhDmlGCxdfSoMdWZEJERAftCXXNzSD0kc1Sw2BhVvU8vL6Z+J8E0hLo3KKQ85QSbBnNKCDxTVaptcqMnIwIaw9HtBDxgaYjxF8OvfcupE/tCH43LodFvA/i8Uxmbm/1Phu6x9s1C0DUBwXDPQoDqJU6EeZRaGSia0O00mMa23jkkxD+d4p3gmGhfoMSzwAnWNQFNkeiLzPheinLm80LQoqoy7YATw4MxTZFoCzNKJXImmacIGCCVAR+Az9rZMI9hlT9/gx3OFQED3V5f7F+SdH3e0LUf2hm02m9oic5XVOwYpDdtYWsKRZcw4V4A309nzwkJ7giInL1HcLLOyigxBSr9nmAmBJgyf2//eHK8vz+gqGrU6UMoGI4tA/hJAH6pXSbD8HuaZPuOCXjjDR57flxsOwjftFD2vqFrt2UafDZy+4+d/QxfSNbKr0+qN3TP4qwICLZ+MoWUC9ulRgi/Nkq0J7IJJFvZxnD0PQKmWelhplUBv2ebZebaGd4Xik3LId4DQJdhRRIVbouf75H945MJz0KCmMUqNR/7ffleO1/S7TeFzhYwJY8CGDcUZ3aNlbpWkREBwXBsB8DfTWdcSWJaRZl23GkAResOFzPUajDuuiJDDUSJH3VsmdPmVM9Q3MWaYD7MUpaha5bHPW0NaGiNPqoo+I28wOAMiP9g6N6fOHXat7qlVCi8E4DVw6dTEXR/+9ayVqf6UkmIspWsLEulBPyj88ytF+I5ETBkxe2PShIb3fzyvnWtZQJiNxgzpAES3lWgLG/fUtqSCQmytlp2JUoJCIZjqwGusXaCf2vo3kfdOOhb3TpLkHgVJCX0ijrGCYWVxe1bS99yY8PEyt8VXGvo3uUW9cHaRDAcNe/0SovdvYauLXXjWNHalpkM3g9gigu5kwSq6Kgue8eFDC42Vaatq5asEFpmgHntQbnwoZuzJHOyaGXzbZyDNwFMchPIRexpSmBux7byE05l5YWQXjN0zyJHGSBjEYQ6o0Rb4tSZojVHJjMpEQDmN4BMVzexKOmome1o6CE7AgzsCOjaCkcEBEOxVSDeOhTMzJsDfu8PnEQya2WbN5nT/x6APCd4G0yvmsid/ta24h47XcFwz26AllngNhm69pgjAhpDPT8lol+mgunZSt3zYzsnfI+0jRfJ/tMAbrHDutj/RFFzJ7VvLjbni9IVDEfNPiJlQOvqFmgMda8kUl5IscK81/B70xZA37K2XKH194GQ6yI4Z1BGvxLNvbW9tthy0tTQ2v01RVH+alm7BMqrSrWUq9WyCDZFehczC4tPU3zM0L1pJ7eFa5uTABRnEWWEEp3V5aqVpOzXB9Bi6Fq5lYwlAfsi3VNzWLGc4pKiLq0snmDZtxeubTavH7dDzUxYONBZXX5Vb5/m7CPdXCBdI3QI4Lkp3hF1GSWeiUP/XrCu5QFi3m4XDTMtJ2LLft2Utdu/pJ+JVhzbUmYOUdAU7l3EEK9KbL8bV5S5C4rzLAuonIBI9CkwZCOlo4auzR5ssHDN0Q0gSjvZHQhOSZwBqymNymVdlKxgkTMxHUkDWOaNNeu++Lt4TuJZAA9LiSc8ZpTIJ8VSAl4Jx7SxwEGAC6yV06fEWFHp97xk7hesb15CAtJvAGbwx2rKagvXHZ5vR0DnljkHCta0LEtHwoI7tOqv3+kx7/WU5+/lLAFeDuiaOTpLw0+6KyUSWw/mzekUMPgDgtJpfvb6+c4Pv3E6Gp8+FL9ojqd24Zy8dvPvr7ef+8KuA90PyXTeNz//xS/7xg88rV873OurP2yOva5edxaOx4NGyikcCuuNnzs3fcFdU9P2DrYjMbcfLeoPx9DQHEN/gqFPuwVVZXmYPnnMZefeOfkpnt8jb+qeuHcyZk65gu/44DzqDkVx4r8XkDdORYU/b0Cn7SKaYZR4zAFu2mVLgCkdDMfqAV5op+zSfjzB6Dobx2RvaivgloBLOk9292NKvoPWgugjIl5QWayFnPjriABTUWOoZxcNfMHNbmVKgBOrDOxRR6urKwomdDnBmxjHBAxkwkBNMP8DRFYY7c1eEwIYrzOLTYHS/D/be3A1whUBpqh5O4zm5OMqKV/J4Esuho0Axhko9BIL8beA37vLbeCX8K4JGGzI/JiRSCbKhUh8DqBJDLY9pG5ugcG2FFCcSelSFHQl49ztdgotIygrAjJh3WkfkInuTGRGCMiEtWxkRjLAYSucDcluZK//EVh/9A4IOiJzUrAoertmdqebILLBXncCStaHtbhIyPrzQ53V5V/KJiC3stedANNB2dOZCPd3bCnP+E53G7zrTjATAzKZgecu+Gcg6GCECbSpo6YsdQ45nEYtdP1fMuAax+RK/QgBrui6AcEjGXAD/qiuQhrJAFd03YDgmz4D/gf8JHZudytI8AAAAABJRU5ErkJggg==",self.location).href,action:()=>{coolWindow.startFileUploadManager()}},{name:"\u7EC8\u7AEF",icon:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABACAYAAAC0oEFtAAAAAXNSR0IArs4c6QAAAttJREFUeF7t3L1rFFEUBfBzZlPYWaioaGEpNraJCFooWlhYaZUJC/4DomJhoaVgI0oQlWBkSxtbC7EVbGwELSxENMZN/ALBfOwcmUlWJX7Mzt03OJO5W2xg99235/1yZ+dNAkOsPubieIeoMwRHBYz1X/efmcBTgI+TJLm/tdN5kL7A9Gk2ji9FxEVHGkRAU1vudk5xvt3ekyS9Z4OU+Ji+AM+xOxFfAXDWUYoJsDsx/gjgwWJlPjrtODlDcQGHK26WVTicwxkFjGXecQ5nFDCWecc5nFHAWOYd53BGAWOZd5wZLo79z0kGPHYdzsCWXnI5nMOZBIxF3nEOZxQwlnnHOZxRwFjmHedwRgFjmXecwxkFjGXBOy6hNkbiZ2Oe2pQFhcvQwNMAr0L6VBsFQ9BgcD/RVlIQuibxgyFTLUqCwK1F66+cwnUB87WQKBgyCBwjjEk48qfPJjQpsVswV+WHB4HLDs1/4AG6AXG28hoFAgaDy8UTbgKYKZCt0kODwuXiQbcgvq20yIDhgsPl4UXE7STBmwHzVXZYKXB5eACnIL2urMoAwUqDy8MjcEfCqwEyVnJIqXB/29+t7pBfsKd7IpcrKZMTqjS49YyWHU1l/HtwvaOVAtcEtOBwTUELCtcktGBwZaER2BDijCvgW4h5fp0jwMkhARDtB3Hot3DEUFsOEUcJjA6zaAqXKwq3sitjhMMS9v1Y5JBo6TxNgAMiEAmOg9iLAGjNgUtXGqEF4ESoK4JmdNzqMUppJNRlVKPghvkiX1u7zs+qIanqM1eA7Uh9FhsyqcMZNR3O4YwCxjLvOCvcXByfV6CLaWOGWpbxfTs+yR521zL9fwrNSAv82B4/sNzz+44U+R0IeJ7dW2luYvyCxJEixU0eu7S0NJnBfYnjTYvAMQG7mgySt3ZFWojQerh5evpJBtd/pDeoWk6SnS1pe94kTXqfLb1jjzOL0sttnc7XdO3fAZIMfBS7QvzjAAAAAElFTkSuQmCC",self.location).href,action:()=>{coolWindow.startNewTerminal()}},{name:"\u8F6F\u4EF6\u5546\u5E97",icon:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABdlJREFUaEPtmW1sU2UUx//n9oW71Q1dHAwECb4EwTFntkkItoUE2N1UEIl+cCyALxAUNRKJBjGwEE3I1CgSvkiUFxEBFRGEQhYzug3NxiJsBY2CIRpxuEkc0Hbt2nvMvVuX0d7b3paOjYTnU3Ofc87z/z3neS/hBi90g+vHTYDBzuCQygAfnzgKbM2jkpM/Ge2YQQfgpvxKCCgHUwmAu3uF+wA0AHQSJG+nIk+LHlDaAS7OnDlcDJgmyCY5KATC7RnBzn+oublbSwAfL6gG+LUEvd0F0EYqblmpZXfNADy1NKfLIpQx83MgTAAwKqYhwlkwWsD0myyEa2zV570QqMHoMFHtGBeopDUv2idlAL+z1C4zLRSApxjISkaMcEc3TPl+mOxeUKacjOvHVNy6pL9D0gC+h2dPAdEbIHo8mZY10397CGa7F2b7FeOhiJ+gIs/eiENSAH5HWYUM3kBAjvEWE1ua7uuCdcm/iQ17LM5CDBdS/mmVWhPA75CelYGxioEAsNxrR8Aao60ka0e3hSG+1WbQTbBT8cl6TQCvQ1o7kELjKaQsGWLV34khGC9RSetG3Qz4nKV7IdOt6uQn5BBQkDhqeiyU+WCZ15kgGG+mYs/zugDR3j6H9CeAMemRmDiKpfQSzKWX9Q2J91ORZ44hAJ9TmgrGsf7RzE8/CdPUh3QbCH21D+FadYjCJM2CuWympm24+QRC23Zq1lmXdsA0IaDdBnMVlXjWXgVwxS4tEgifJu4fQPx2F2h4tq5puLEZwZWr1fqMo4f6fkccmBkIhWGeWw75RCtC3xyIiSWMDcK6rAMkcmw7xI9RkUd16luFBhLA7yzThLUsqlC/d2/ZoV0/txNmp9YeERpNxT+rs70PoH3anCyRgkXKR7PAoxmkHRXJZyBVAOGeAIa90BEFxyup2PNu5KPmPuCzl24C0TK9MZLsEEoVQGlfXNsGyg73SqFGKm6Z0l+XNoBDUo6vk4cCgHXhRZge8PdIGcZ5NNlzIS5A2+zZtuwuIe7h5HpmoHdJ/R5iuIzyTwejOzUmA16nVEKMxnirUboAzIsq1EmoN4nVSToy1JSxp0Z3zY4BMLIaWZYvgckxTZcxtGM3Qvu+U+utVatgmm7XtJVbTyGwPNF9Bk2ZbpdxgME8C+n0yLlMt2u8Xm/FDqFBPMxpiSTAm+F23ZJWAGUDMi9eoBmTOzsRXLEK8pnfexaOD9ZDmKjcNLVLcM3bCP/YpFvPQLvN7RphGMDnlF4G48N4k1g5HnQtXAo+90eMmTLezfMeReCV10EjR0DcvTVeKIS2f4HuzXFsGLWZda4ZhgGC08sLQ7Ic911GAdDbnITCAlgWV6QNgIFNNrfrRcMAiqHPISldq97ItMr1BAAwP9Pt+jo5ALu0DYTKIQDgvyTKuXlHjniTBCifD5K/HGwAImzJOOpaHG8SaZ6FuKjI4rfl/gLgriEwhCISmgRZWCDWH/y1vybdZxWfXXoVhPe1AMT9u9D93kbwf7F3V1PhZNDYMQiuWw8anQdxZ/w7Umjr5+j+ZHvclSpSKQh8r1h7+IwhAMXI75AOMPBIdHQadyesK7QXBu64qIqPFMszlaDx47QFBoLqEsptF8BAlSyjVo9EgHzZVn+kOUZLPHTl3dNvofPKfmSoi67BKCxjRla9SxcgqUnc31h5jWPwZ9egzZArAwcB9G3JJqBRdLuUb3GLoadFn0NSAHousNepKEA2tytm+CY1hPobex3SagLWDZh+vnr8M+Goze1Sn07iFUMZiAQI2KUCWcBuZvV/gLQVZn7HVnf4zVQCJgUQacDnkKoBJLyJGBDUQozqjDpXynMsJQBF2BVnaaWJhUoGzzIgNNrkLxBvyAhmf0Q/7Om9sacQRe95PZlQXkfZgwDPJcYkEjCJGfdH+ytnemKcIuIGGXQsYA015NTUJHrBNSQj5QzEi37ZXpZrBXKDzCNAdCqr7lC7ITUpGA0IQAo6Una5CZBy16XJ8YbPwP9qw1hPbsg6FAAAAABJRU5ErkJggg==",self.location).href,action:()=>{coolWindow.startSoftware()}},{name:"\u7CFB\u7EDF\u8BBE\u7F6E",icon:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABqxJREFUaEPNWWuME1UU/s7srhFfKOIiKyIaZHGJiLLTzm19sIIaEx+RGATUVWNAISK6PlAxURTiGxWIqBgjKipoJEYS5LEBDO2d6RQNq6xKiPhYUBZERcBA2zlmKrv2MdPOlJY4P9vvfuf75sy999xzCRV49Jh+G4PfzKUmomZN1d4pZ0gqJ1kXlzTlbDDuzeMmzBKqeLScMStlYBUYoxyELhYBMfb/byAmfwXQx0Foh8LKsGAw+Fu5TJQ9A4ZpNFtsLXQVSGgRqnjxiBnQTX1sCqmvw2r4ay9Bo7FoK4EuLYDdKAJiWDEu/Qu9ASkM1VTtg0LYghmQMTkBwOsE+g7AbC2gvV6ILBqPjieLFhUTByBCVTRZG661OWGjZvR2YpoG4GwAE0VALHDjdDWgx/SpDH4pZ+BCEBYLVSzP/D0ej/dPWAl7dbENe3oItIuZn1OqlfYqrtqQpOQpnOLxQHryD88kIdA9WkB72YnY0YAe0x9i8FOuShhbLFiLFFLOBWEgOP2menhSXiKIQA9rAe3pvL0l94eIEREKKUsA9CsxVqWGdVhsjQkHwzI7Ow7hZFzeDQuOKauUuqK8CqaKRjGnaAa6ALqpL2Tm5qLERwBARG9rqnaL5zlgAyOxyMUKlHVHQF/REBasS8KB8Oe+DNjgqBFdQUSXF41QQQAzrwwFQ1f4XkbtAVLKEajCmgrqK06dQpMQYm1JBqJm9A5ierV4FGdEIpHCjs4/0ae2J2pqqkqiYeI7Q2rotZIM6Kb+IjPf4yfy1p924futndixcw9+7fyze+iptT3R55QTcNaZtTizf2/PlET0kqZq+aX5IYZipcRKAJd5jbZ8dRu+2fxLUfg5g/riylFDi+IOAVaJgHCdh64GpCkfBOMZr1Fmv7LCK7Qb1zLZdW5mcxGmCVU863kVknF5ASzoAGq8qPqy7UesWf+tF2gWpunCwTh/6BlexiWgQBON4otccFYGpJQDUI0pYEzxKn7bL79j8dJYnoh+db06Tux57KoaBW0HkqlA58491+zavffYXOAN1wVwWt+TvJkgzEUSc4UQP3QNIMM0xlmwzoKFBhBGupykXAOsWrsJX7V3ZP0/aGCftbMendSUO2j6zPlrNm/ZMSLz93Mb+uGyEUO8GOjC7ACjFQraFSjfk4xJ9jM6F/vukig6d/3V/fMZ/Xtvfv6Ju+rdOCe1PL83MxO1vY/HTWNCJUs4LAMHE0nMW9CaFbxhUN0HMx6ZOM5N0X3T52z9advuAZn/3zVhJI6qqS7JxGEZ6Ni2G0s+MbMCnz/k9HsfeeD23INQN8bpMxpzrYp+p/U68gbsnXbugtXZGaive3/GwxPtk5Xj0zJ9ztafczIwZcKoknfqw8qArfC9j/SsHbd3r+P2zZ99/3FuBm6cOMs6eDDRvfrZO/T467WS3r49iHRTv5nB9WAMBBD2exJrXdeOjZt+LnkVOm/I6Rh5SYMfA/aSFwFhi91syNoHDMM42VKsZjDsw8N5Xljt2mfpsg15UDsTx/Q4aufRPWp+2L8/MXD3H/v67t9/IK+iu+6q4V5ro40gLFQs5e3Mxph7KRGT6w9lpKgPrzVQLpGPmigiAuJCJyHubZUN+lCk0MpgT6VjpWohu/2CKox06yEVrkYN+SDIe0HntSbyUQMBjGki6FzIpSdxoe/D2GBcZaWsT4t+QxkAuzZq/257+iCTuUPbO659sGmor/Na+6RZlSrl6uDw4DI3DQUNxOPxvgkrsd2PgUysvVN3du5Bbe0JJe+0NUpNXWNjo+sho6AB0zTrk5z0XyeX6thhXDVVD1ZV1e7NOj5lnQNl1P0f1eHMAeljKa2I+H9JXZfQgpNYxuSNAN6toDA/1DeJgHBs2zt+QoZhDGLijxns66ThR5EfLIE2EdPoYDC4OXecc3vd1Mcy8/t+glQaS0TjnG5rCpUS6dsZF2EfIoVXuJrrFSiDmdOZ8tx+yX+LtMkuIhnc0yWe6y1NwVXI4ZbmLbJonqZpedXboTbMTK/NAACfMfjJA/sOtDU1Ne21hUeN6HiFlGYGd/dbCt3OFJzEXW8ifVtDfCcIM0WjeKPQp+K1HWOxNSMcDD/uxiVj8lYAjxHoNadbmcxxnq5Zo2Y0EFJD+b0TBwXSlC+A0eJq1ONtfSQWUcOBcPZ51YHUkwE/EzTdW6pKN8WcLrr/TnJy2EXBi/JWEz8xfGfAL7k05CIQ8s/FhFeFKib55SuEL3sG7GDSlNPBsCd07jNZBMT8/72BdLePrfdyhTLz6FAwtLScBv4Bn6Z9cDvbXNwAAAAASUVORK5CYII=",self.location).href,action:()=>{coolWindow.startSetting()}},{name:"\u81EA\u5B9A\u4E49\u8F6F\u4EF6",icon:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABP1JREFUaEPdmttP3EUUx7/nt8siLEWhVhqrBeMFKg8mWgrVxMa/oJGFRyEx8anVh0JgY2qNlzQLoX3oYowxMamNT2UxPumDFvHFUuq9RJqiQdJK7AVa2Eu77O93zKws7G/3d5lZthScx/3NnDmfc2bmnJmzhCK01vfnazVvyT4magK4EaCXrMXSCIAJIho3NIwOd5f9tdbpqVABLx9d2Kpp3k7AeA1EDQXJYZ4EtI8NI3Xy8zcrbxQiQxkgbW2fr4sZrxcyod0YYoQJNHA6WD6jIlcJIBCKHQHhHZUJVPsStCNDvWXvyY6TAgj0xXaDaBDMzbKC19SPMKZpOHC62/+DmxxXgNa+6CsE+tRN0N34zuCO4d6KU06yHQECoeghEB27G8pJy2TuigQrjtvuHbsPG0L5jHIOEJYeuJfLxs6gdsspD6B9IPacoeO8tIvXt2NTpNdv0i0PINAfOwuG5WlT95CGZ+o8Sip/cW5Jqb9jZ6KxSE95S3YfE0BbX+IthvGulZD6HRp6W0uVlXk1nFAe4ziA8XYk6F/RcQWgPRTfaRDb5ib795Rgf7NXWZmiAwDgpWTd8OGqtK4rAG2h2Akm+/RgIwEQITzU439jBSCdmHk8153MWyjA0aE7aKn3pC31/UUdU7OGshetBhi6/qBIANMeCITih0DsGLAKBcie/M4S8MnXSYxP6WuHYOqKBMuPLwNEf3dLiYsBILT+e45x+LPbRQDgyUiwYhe1DiRqSTem3SQWCyCRBA58VJyTSWxmautPdDAbJ9cLQCyfD79Muk0n9Z2YOynQFw8DfNBthJUHJi8biCcBv49wM2aguT4/yP34h45nH//v95HfUjj1bREDGzAoAM4AbHOHXcXKBZi5ZmAuCniyQmFiibHnSTOEiANbyghlPuDqLXazk+J3HqFAX0xKai7A+Skdpd78XPDRbYQH/Ku/341AZkolCgX47oKOqop8gO3VhG2VmwBg+qqBxbjZ4wsJxgu78peQ4rpQ6i69hFqe8mKvxSZ1m+3Pf8yR99wlHbPz5t9efNpr8ubkFR0Xr8hF7HUFEJH4q5/yT6Entmto3LnquQ0LEL3N+ObXVJ7Tcu8ZigDRM/ZPgatzqSyh+SiDGajeQshdQr9M6xD7J9O8GrC3wYvqrANBHoDSx2gYgGsgkwUQCopzX7SbMTYdqRmlRTS+dsvAfT5Cww4ND1drJq8oAAxSWyjawUSuqYQMwM/TOiqXlXfb3E7fZQGItE4Sb51U4nNN5mQALs0a8JiNWRCHLAB7tDrpdFoG4MKMjvJS18c+VygpAF5Op2UvNDIAwgOirdULcgBZFxqZK6UMgFD+8pyB+UVGMgXUVBGSBSSfMgCmK6WYuK0/dsLpzV8WIHd95B6jrusHgBuAqCUMBbMu9UKo22beSAAaU22mEGLacU4FjEe2amh/vkTGgKY+hXhgdCKVjiFWLbcAYvG0GD9rV8iouZ/wWI3a0+J8TC4pyyh7Y5FxfcHmikIYi/T47Z8W0yeSqMYA48qmXocBmge7c6s2/7/n9YwhN3WBY0NBFFpiykDcy2rNmot8GYh01cbAB3aFj6LvX6IxMB/MrcZYH6sKszsVQBTEOHfNKWC4yVVOHUUhhMHdTrUEt0ktLUkIG8nksUzhQlaGMkBG8Kb9s4eVZcQLt2ZgHzM3AWi0f6rkEYAmiHncSC2Nqlrbau5/AWJIXU/ONsL7AAAAAElFTkSuQmCC",self.location).href,action:()=>{coolWindow.startCustomApplication()}},{name:"\u5F00\u53D1\u6587\u6863",icon:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABD5JREFUaEPtmW1MU1ccxp9LJKEuAhtIAisa3jpJdCQyBrW4SMnARYhtVUwUDG6Cc2aLHWZR5jfRZRuOmQxQQCVONCJQEI28SAEnFmEYYR8QJi68rDhLs8W3zrhxl3vnTVjkvjGPbZPeL03a/zl9fv/nOeee21Jw84tyc/3wADjbQY8DbuHAlp3GAzbbvSzrr1alw+Eg6ppCoaBDXg+ZWLgw6PuTxUWfizVIUMyHu/etGv75lmlifMJfbCISnytDlX+oopbojxQWdPDNLwigXbv+d2eJ5wQzEOaGmldlAzCx6bZY8kl0lpszONIbAI27t/9CnN99PKUp/GL3gfJPB+57e2PMR8GWJqjVB/nixOvAexmbx0Zuj4SSAmDEp328AE+f0Hj0zRAKou5g8NErqG30g+E3Kyz+r+GrcBX79RGREeOXqqsWzaaFFyBGkzRNcsEGR85Dau4CTP8NOA4PIT98FHccPjBd9Meae3fR5+ePwrAoVjOzsPu72r1kAaiWJ9Ckuj+XeYdvdM/abF4HPABzabPAGNkO1Ju7XCpCOq1GXoQ8AC84QsQduNHXh+bmJoyNjkKlegPGvLz/IBQdOoQHDx9g6dJlUKvVCA4JkYVIFODW4CAOf1vEioqNjWWFrUlLfw6AeWN4eIity8nJlQVBFODqD1dQdeoUjHm7oVL9e/fkuxinysuOInvr+4hPSJDsAlGAixcacaGxEaVHyyQJ2rE9F2np6c+5JDT4pQB8+XUhfH19RSFcFuCzPXsQFhYuCGC327Evf69rOWBua8O56rPYkp0NtXqFIEBvTw+OH6uATm9A6urVom5xBUQj1H/zJo6UlmBDxkZok5MFRV1ubUVtzTl8sC0Hb8XFOR/AZrPhcmsLrnR24pNdRkRHRwuK+mlgACXF38Gwbj3eTUlxLgCzHTLbInPpDQakpEqLxJnTVSxwUFAQ3o6Pl7QbEYnQ+YYG9PZcx9TUFDSJK5GZlSWpoxxAYGAgFi1ejJzc7aLjiABw39ra0oK62hrs+Ggn3oyJERQz0N+P0pJi14gQp/TH3l4cqyiXtDVyNz2XWcQMRHNTE+pNdWwUlj87C4kdJVxqG+W6WnDwCwQEBAhGaGJ8HAcK9ktya+ZERNeAnLOQ4/FjfGrc5b4ATFdd7ix0vbsblSeOY3NmJhJXviMYIYvlGk5WVr6U4/QUAOFAP5M6abWivLwMzKti/nyEKkNnfSJjyuf4QGPXaTWBs3WG93chk/nqWQpUhugdZgZEZ2cHJq2T7Dsv8pGSBl2t1yZulAVQZ+5a6wXUSwUgWTcN6AxaTYMsAKa4vv1aO2h6FUlxonNTVIcuaUUSX53g/wOmtq4IyouqcBoERXXQ0/Q2fbJmZE4A3CAmThToTRQo5rAvaWGLdpa/wE6DbqNBneaLzcyhRP/v+h8Qkod6ACS3ilChxwFCjZU8rds78A8GButAy7NP5AAAAABJRU5ErkJggg==",self.location).href,action:()=>{coolWindow.startNewDeveloperDoc()}}],BASE_WINDOW_PROPERTYS={showWindowInTaskBar:!0,minState:!1,maxState:!1,actionWindow:!0,windowTransition:!1,windowType:"web",pointerEvents:!1,hideWindow:!1,canMax:!0,canMin:!0,canClose:!0,icon:"",id:"",x:0,y:0,closeWindowTransition:!1,canResize:!0,singleInstance:!1};function getWindowProperty(t,e={}){return Object.assign({},BASE_WINDOW_PROPERTYS,t,{data:e})}function ErrorMessage(t){return getWindowProperty({windowType:"error-message",showWindowInTaskBar:!1,canMax:!1,canMin:!1},t)}function SuccessMessage(t){return getWindowProperty({windowType:"success-message",showWindowInTaskBar:!1,canMax:!1,canMin:!1},t)}function WebWindow(t){return getWindowProperty({windowType:"web"},t)}function DialogCompressSelect(t){return getWindowProperty({windowType:"dialog-compress-select",showWindowInTaskBar:!1,canMax:!1,canMin:!1},t)}function FileAttribute(t){return getWindowProperty({windowType:"file-attribute"},t)}function DialogCreateFile(t){return getWindowProperty({windowType:"dialog-create-file",showWindowInTaskBar:!1,canMax:!1,canMin:!1},t)}function DialogInput(t){return getWindowProperty({windowType:"input-dialog",showWindowInTaskBar:!1,canMax:!1,canMin:!1},t)}function LoadingView(t){return getWindowProperty({windowType:"loading-view",showWindowInTaskBar:!1,canClose:!1,canMin:!1},t)}function FolderWindow(t={}){return getWindowProperty({windowType:"folder",icon:defaultAppList[0].icon,isSelect:!1},t)}function FileSelectWindow(t={}){return getWindowProperty({windowType:"folder",icon:defaultAppList[0].icon,canMin:!1,canMax:!1,isSelect:!0},t)}function UploadManager(t){return getWindowProperty({windowType:"upload-manager",icon:defaultAppList[1].icon},t)}function Terminal(t){return getWindowProperty({windowType:"terminal",icon:defaultAppList[2].icon},t)}function Software(t){return getWindowProperty({windowType:"software",icon:defaultAppList[3].icon},t)}function Setting(t){return getWindowProperty({windowType:"setting",icon:defaultAppList[4].icon},t)}function CustomApplication(t){return getWindowProperty({windowType:"custom-application",icon:defaultAppList[5].icon,canMax:!1},t)}function DeveloperDoc(t){return getWindowProperty({windowType:"developer-doc",icon:defaultAppList[6].icon},t)}class Queue extends Array{constructor(){super();Object.defineProperty(this,"head",{value:0,writable:!0})}remove(e){return this.splice(e,1),this}enqueue(e){return this.push(e),this}dequeue(){var e;return this.head<this.length?(e=this[this.head],delete this[this.head++],e):void 0}peek(){return this[this.head]}size(){return this.length}}const limit={max:3,current:0},uploads=reactive({files:[]}),uploadQueue={files:new Proxy(new Queue,{get(t,e){let n=t[e];return e=="dequeue"&&n!=null&&limit.current++,n},set:function(t,e,n){return t[e]=n,!0}})},addProgress=t=>{t.controller=new AbortController,uploads.files.push(t)},getController=t=>uploads.files.length==0?null:uploads.files.find(n=>n.id==t).controller||null,cancel=t=>{try{let e=getController(t);e!=null&&e.abort();let n=-1;for(n=uploadQueue.files.findIndex(p=>p!=null&&p.uploadId==t);n>=0;)uploadQueue.files.splice(n,1),n=uploadQueue.files.findIndex(p=>p!=null&&p.uploadId==t);let o=uploads.files.findIndex(p=>p.id==t);o>=0&&uploads.files.splice(o,1)}catch{}},removeById=t=>{var e=uploads.files.findIndex(n=>n.id==t);uploads.files.splice(e,1),uploads.files.length==0},changeProgress=(t,e)=>{e==100&&removeById(t);for(const n of uploads.files)n.id==t&&(n.progress=e)},state=reactive({desktopScale:!0,positionX:0,positionY:0,actionWindowId:"",windowsCollection:[],appStarterVisible:!1,windowVisibleState:[]}),removeWindowActionState=()=>{for(const t of state.windowsCollection)t.actionWindow=!1},startNewWindow=(t={})=>{removeWindowActionState(),wact.hideWindow(!1),t.actionWindow=!0,state.appStarterVisible=!1,state.actionWindowId=t.id,state.windowsCollection.push(t)},createWindowByType=(t,e={})=>{let n=t(e);return n.id="window-id"+randId(),n.closeWindow=()=>{wact.closeWindow(n.id)},n};class CoolWindowStarter{constructor(){ue(this,"openStarter",()=>{wact.hideWindow(!state.appStarterVisible),state.appStarterVisible=!state.appStarterVisible});ue(this,"startNewFolder",(e="/")=>{startNewWindow(createWindowByType(FolderWindow,createFolder(e,[])))});ue(this,"startFileUploadManager",()=>{startNewWindow(createWindowByType(UploadManager,uploads))});ue(this,"startNewErrorMessageDialog",e=>{startNewWindow(createWindowByType(ErrorMessage,{message:e}))});ue(this,"startNewSuccessMessageDialog",e=>{startNewWindow(createWindowByType(SuccessMessage,{message:e}))});ue(this,"startNewCompressDialogSelect",(e,n)=>{startNewWindow(createWindowByType(DialogCompressSelect,{targetName:e,callback:n}))});ue(this,"startNewFileAttribute",e=>{startNewWindow(createWindowByType(FileAttribute,{path:e}))});ue(this,"startNewDialogCreateFile",e=>{startNewWindow(createWindowByType(DialogCreateFile,{callback:e}))});ue(this,"startNewTerminal",e=>{startNewWindow(createWindowByType(Terminal,{path:e}))});ue(this,"startNewWebView",(e,n=null)=>{if(e.singleInstance&&state.windowsCollection.findIndex(p=>e.applicationId===(p.application||{}).applicationId)!=-1){wact.showWindowByApplicationId(e.applicationId);return}let o=createWindowByType(WebWindow,{url:getApplicationIndexUrl(e,n),application:e});o.icon=getApplicationIconUrl(e),o.application=e,startNewWindow(o)});ue(this,"startNewLoadingView",(e="")=>{let n=createWindowByType(LoadingView,{message:e});return startNewWindow(n),n});ue(this,"startSoftware",(e={})=>{startNewWindow(createWindowByType(Software,{data:e}))});ue(this,"startSetting",(e={})=>{startNewWindow(createWindowByType(Setting,{data:e}))});ue(this,"startCustomApplication",(e={})=>{startNewWindow(createWindowByType(CustomApplication,{data:e}))});ue(this,"startNewDeveloperDoc",(e={})=>{startNewWindow(createWindowByType(DeveloperDoc,{data:e}))});ue(this,"startNewFileSelect",(e="file",n=function(o){})=>{let o=createWindowByType(FileSelectWindow,createFolder("/",[]));o.selectCallback=n,o.selectType=e,startNewWindow(o)});ue(this,"startNewInputDialog",(e,n="\u63D0\u793A")=>{startNewWindow(createWindowByType(DialogInput,{callback:e,title:n}))})}}const coolWindow=new CoolWindowStarter,wact=new WindowActions,_hoisted_1$g=["id","data-id"],_hoisted_2$f={class:"window-content"},_hoisted_3$b={class:"window-title base-title"},_hoisted_4$8={class:"opt"},_hoisted_5$8={class:"window-body"},_sfc_main$g={props:{className:String,item:Object,actionWindowId:String,title:String,backgroundClass:String},setup(t){const e=n=>(n||{}).windowBackground||"#000000c4";return(n,o)=>(openBlock(),createElementBlock("div",{id:t.item.id,"data-id":t.item.id,class:normalizeClass([[{"hide-window":t.item.hideWindow,"close-window-transition":t.item.closeWindowTransition,"window-transition":t.item.windowTransition,"window-scale":t.item.windowScale,"min-window":t.item.minState,"max-window":t.item.maxState,"window-z-height":t.item.actionWindow,"window-item-resize":t.item.canResize},t.className,t.backgroundClass],"window-item"]),style:normalizeStyle([{background:e(t.item.application)}]),onMousedown:o[4]||(o[4]=(...p)=>unref(wact).windowMove&&unref(wact).windowMove(...p)),onMouseup:o[5]||(o[5]=(...p)=>unref(wact).windowMouseUp&&unref(wact).windowMouseUp(...p))},[renderSlot(n.$slots,"extend"),t.item.windowType=="web"?(openBlock(),createElementBlock("div",{key:0,onClick:o[0]||(o[0]=p=>unref(wact).setWindowPos(t.item.id)),class:normalizeClass([{action:t.item.actionWindow},"window-mask"])},null,2)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_2$f,[createBaseVNode("div",_hoisted_3$b,[renderSlot(n.$slots,"header"),createBaseVNode("div",_hoisted_4$8,[t.item.canMin?(openBlock(),createElementBlock("i",{key:0,class:"iconfont icon-tzuixiaohua",onClick:o[1]||(o[1]=p=>unref(wact).windowMin(t.item.id))})):createCommentVNode("",!0),t.item.canMax?(openBlock(),createElementBlock("i",{key:1,class:"iconfont icon-big",onClick:o[2]||(o[2]=p=>unref(wact).windowFullScreen(t.item.id))})):createCommentVNode("",!0),t.item.canClose?(openBlock(),createElementBlock("i",{key:2,class:"iconfont icon-webicon309",onClick:o[3]||(o[3]=p=>unref(wact).closeWindow(t.item.id))})):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_5$8,[renderSlot(n.$slots,"body")])])],46,_hoisted_1$g))}};var selectCompress_vue_vue_type_style_index_0_lang="";const _hoisted_1$f={class:"item"},_hoisted_2$e=createBaseVNode("header",null,"\u5F52\u6863\u540D\u79F0:",-1),_hoisted_3$a={class:"item"},_hoisted_4$7=createBaseVNode("header",null,"\u5F52\u6863\u7C7B\u578B:",-1),_hoisted_5$7=createTextVNode(".zip"),_hoisted_6$6=createTextVNode("tar.gz"),_hoisted_7$6=createTextVNode("7z"),_hoisted_8$6=createBaseVNode("header",null,"\u538B\u7F29",-1),_sfc_main$f={props:{item:Object,actionWindowId:String},setup(t){const e=t,n=ref("zip"),o=ref(e.item.data.targetName),p=()=>{wact.closeWindow(e.item.id),e.item.data.callback({targetName:o.value,type:n.value},e.item)};return(y,_)=>(openBlock(),createBlock(_sfc_main$g,{item:t.item,className:"dialog-compress-select"},{body:withCtx(()=>[createBaseVNode("div",_hoisted_1$f,[_hoisted_2$e,withDirectives(createBaseVNode("input",{"onUpdate:modelValue":_[0]||(_[0]=r=>o.value=r),type:"text"},null,512),[[vModelText,o.value]])]),createBaseVNode("div",_hoisted_3$a,[_hoisted_4$7,createBaseVNode("form",null,[createBaseVNode("span",null,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":_[1]||(_[1]=r=>n.value=r),value:"zip",name:"select",type:"radio"},null,512),[[vModelRadio,n.value]]),_hoisted_5$7]),createBaseVNode("span",null,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":_[2]||(_[2]=r=>n.value=r),value:"tar",name:"select",type:"radio"},null,512),[[vModelRadio,n.value]]),_hoisted_6$6]),createBaseVNode("span",null,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":_[3]||(_[3]=r=>n.value=r),value:"7z",name:"select",type:"radio"},null,512),[[vModelRadio,n.value]]),_hoisted_7$6])])]),createBaseVNode("button",{onClick:_[4]||(_[4]=r=>p())},"\u786E\u8BA4")]),header:withCtx(()=>[_hoisted_8$6]),_:1},8,["item"]))}};var createFile_vue_vue_type_style_index_0_lang="";const _hoisted_1$e={class:"item"},_hoisted_2$d=createBaseVNode("header",null,"\u540D\u79F0:",-1),_hoisted_3$9=createBaseVNode("header",null,"\u63D0\u793A",-1),_sfc_main$e={props:{item:Object,actionWindowId:String},setup(t){const e=t,n=ref(e.item.data.targetName),o=()=>{wact.closeWindow(e.item.id),e.item.data.callback({targetName:n.value},e.item)};return(p,y)=>(openBlock(),createBlock(_sfc_main$g,{item:t.item,className:"dialog-create-file",backgroundClass:"window-body-background-green"},{body:withCtx(()=>[createBaseVNode("div",_hoisted_1$e,[_hoisted_2$d,withDirectives(createBaseVNode("input",{class:"base-input","onUpdate:modelValue":y[0]||(y[0]=_=>n.value=_),type:"text"},null,512),[[vModelText,n.value]])]),createBaseVNode("button",{class:"base-button color-white red-a",onClick:y[1]||(y[1]=_=>o())},"\u521B\u5EFA")]),header:withCtx(()=>[_hoisted_3$9]),_:1},8,["item"]))}};var loadingView_vue_vue_type_style_index_0_lang="";const _hoisted_1$d={class:"message"},_hoisted_2$c=createBaseVNode("div",{class:"loading"},[createBaseVNode("figure",null,[createBaseVNode("section",null,[createBaseVNode("div")]),createBaseVNode("section",null,[createBaseVNode("div")]),createBaseVNode("section",null,[createBaseVNode("div")]),createBaseVNode("section",null,[createBaseVNode("div")]),createBaseVNode("section",null,[createBaseVNode("div")]),createBaseVNode("section",null,[createBaseVNode("div")]),createBaseVNode("section",null,[createBaseVNode("div")]),createBaseVNode("section",null,[createBaseVNode("div")])])],-1),_hoisted_3$8=createBaseVNode("header",null,"\u63D0\u793A",-1),_sfc_main$d={props:{item:Object,actionWindowId:String},setup(t){let n=reactive(We({},t.item.data));return(o,p)=>(openBlock(),createBlock(_sfc_main$g,{item:t.item,className:"loading-view"},{body:withCtx(()=>[createBaseVNode("div",_hoisted_1$d,toDisplayString(unref(n).message),1),_hoisted_2$c]),header:withCtx(()=>[_hoisted_3$8]),_:1},8,["item"]))}};var _imports_0$2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA1RJREFUWEfVlk9MJFUQxr96TSaGxIMhYkzYAypsAiLTr3oYhEhUTh40AgmePLgSkr1sggc9umcP61UT2cSDf/CAhoMkJiqRuOJ09xuGwG52N4gXYjxIzHpQpNNl3mY6aWBgeoYF4rt1d72qX1fV++oRznnROcfH/w+gVCo90dLSMmwzF0XRjwMDA7+cJIuZMmCMGRWR14hoSER60wGJaENEbhDRnNb620Zh6gKUy+VrcRzPpBzfAvAzAAfAEIAnk29Kqfdd132rEYhjAYwxt0Wkm4h2LYTjOIuu6/6aDuD7/tNKqdcBvG3fE9EdrfXFrBBHAoRh+AOA5wDM7e3tTQ8ODt47zqnv+8NKKQvxCoBlZh7JAlETwBjzpoh8RERLWusXsjiyNuvr67nd3d1FAC8S0ZTWerbe3kMAxphnbVMB2GbmjnoODn4vlUoXlFILRJS3Tau1/uk4H7UAZkXkEoAJZp5vFMDah2H4BoDrIvKB53mXGwWwjde+ubn52OTk5L9NAjwF4C6AG8x8XzOOWvsyUC6Xu+I4vgPgK2YeayZ4sicIgk2lVLvW+uHMAEnqALzHzO+cBCAMwxUARQA9zGy1o+bal4EUwDwzT5wQwJbAliI7QKoEa8zcfxKAIAj+UErlGiqBDVhVvwuO43Tl8/ntZiCMMf0istpwE1YBkmPYdB+EYXgNwEyzxzARor8BDDLzWiNZqFQqHVEU2b9va0qIqlm4L8UAFnK53HRfX9/vWSCWl5cfaW1t/RjAy01LcRIoGUYichvAFc/zvjkOwvf9i0Q0S0RWeL5j5tEs0JnGcdXR53Ecf1goFJbSjo0xnohMARgH8KgdxyJyOY7jEcdxvtBa38wsRLUMD15I7IRM24nI88lzciHxff+qUupdAGtRFL1aLBa3MgnRUUbVK9kYEfWKCANI5PUvIgpFZIOIvkyuZMaYHhH5DMAzAFZEZNzzvN9q+a97Jau1aXV1tdu+z+fzdm7UXJVKpTOKIgth5fh7pdS467p/HjRuCiBLc1mbIAgeV0p9asskIl+3tbVNdHZ2/pPef6oANlD1aH4C4CUAh2bMqQNYiK2trYd2dnYshD0p/WlxOxOAJOX2dBQKhatnWoJ6/XKmGXhgx7DeXzXy/T9G8XAw0QXSDgAAAABJRU5ErkJggg==";const CANTHANDLE_FILE_TYPE="\u672A\u77E5\u6587\u4EF6\u7C7B\u578B\uFF0C\u65E0\u6CD5\u5904\u7406",NOTFOUND_APPLICATION="\u6CA1\u6709\u627E\u5230\u80FD\u5904\u7406\u6B64\u7C7B\u578B\u7684\u7A0B\u5E8F\uFF0C\u8BF7\u5C1D\u8BD5\u5230\u5E94\u7528\u5546\u5E97\u4E0B\u8F7D\uFF0C\u6216\u624B\u52A8\u9009\u62E9\u6253\u5F00\u65B9\u5F0F";var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getAugmentedNamespace(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),e}var axios$2={exports:{}},bind$4=function(e,n){return function(){for(var p=new Array(arguments.length),y=0;y<p.length;y++)p[y]=arguments[y];return e.apply(n,p)}},bind$3=bind$4,toString=Object.prototype.toString;function isArray$4(t){return toString.call(t)==="[object Array]"}function isUndefined(t){return typeof t=="undefined"}function isBuffer$1(t){return t!==null&&!isUndefined(t)&&t.constructor!==null&&!isUndefined(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function isArrayBuffer(t){return toString.call(t)==="[object ArrayBuffer]"}function isFormData(t){return typeof FormData!="undefined"&&t instanceof FormData}function isArrayBufferView(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function isString$1(t){return typeof t=="string"}function isNumber$1(t){return typeof t=="number"}function isObject(t){return t!==null&&typeof t=="object"}function isPlainObject(t){if(toString.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function isDate$1(t){return toString.call(t)==="[object Date]"}function isFile(t){return toString.call(t)==="[object File]"}function isBlob(t){return toString.call(t)==="[object Blob]"}function isFunction(t){return toString.call(t)==="[object Function]"}function isStream(t){return isObject(t)&&isFunction(t.pipe)}function isURLSearchParams(t){return typeof URLSearchParams!="undefined"&&t instanceof URLSearchParams}function trim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function forEach$2(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),isArray$4(t))for(var n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else for(var p in t)Object.prototype.hasOwnProperty.call(t,p)&&e.call(null,t[p],p,t)}function merge$1(){var t={};function e(p,y){isPlainObject(t[y])&&isPlainObject(p)?t[y]=merge$1(t[y],p):isPlainObject(p)?t[y]=merge$1({},p):isArray$4(p)?t[y]=p.slice():t[y]=p}for(var n=0,o=arguments.length;n<o;n++)forEach$2(arguments[n],e);return t}function extend(t,e,n){return forEach$2(e,function(p,y){n&&typeof p=="function"?t[y]=bind$3(p,n):t[y]=p}),t}function stripBOM(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var utils$k={isArray:isArray$4,isArrayBuffer,isBuffer:isBuffer$1,isFormData,isArrayBufferView,isString:isString$1,isNumber:isNumber$1,isObject,isPlainObject,isUndefined,isDate:isDate$1,isFile,isBlob,isFunction,isStream,isURLSearchParams,isStandardBrowserEnv,forEach:forEach$2,merge:merge$1,extend,trim,stripBOM},utils$j=utils$k;function encode$1(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$2=function(e,n,o){if(!n)return e;var p;if(o)p=o(n);else if(utils$j.isURLSearchParams(n))p=n.toString();else{var y=[];utils$j.forEach(n,function(s,a){s===null||typeof s=="undefined"||(utils$j.isArray(s)?a=a+"[]":s=[s],utils$j.forEach(s,function(v){utils$j.isDate(v)?v=v.toISOString():utils$j.isObject(v)&&(v=JSON.stringify(v)),y.push(encode$1(a)+"="+encode$1(v))}))}),p=y.join("&")}if(p){var _=e.indexOf("#");_!==-1&&(e=e.slice(0,_)),e+=(e.indexOf("?")===-1?"?":"&")+p}return e},utils$i=utils$k;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(e,n,o){return this.handlers.push({fulfilled:e,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};InterceptorManager$1.prototype.forEach=function(e){utils$i.forEach(this.handlers,function(o){o!==null&&e(o)})};var InterceptorManager_1=InterceptorManager$1,utils$h=utils$k,normalizeHeaderName$1=function(e,n){utils$h.forEach(e,function(p,y){y!==n&&y.toUpperCase()===n.toUpperCase()&&(e[n]=p,delete e[y])})},enhanceError$2=function(e,n,o,p,y){return e.config=n,o&&(e.code=o),e.request=p,e.response=y,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},enhanceError$1=enhanceError$2,createError$2=function(e,n,o,p,y){var _=new Error(e);return enhanceError$1(_,n,o,p,y)},createError$1=createError$2,settle$1=function(e,n,o){var p=o.config.validateStatus;!o.status||!p||p(o.status)?e(o):n(createError$1("Request failed with status code "+o.status,o.config,null,o.request,o))},utils$g=utils$k,cookies$1=utils$g.isStandardBrowserEnv()?function(){return{write:function(n,o,p,y,_,r){var s=[];s.push(n+"="+encodeURIComponent(o)),utils$g.isNumber(p)&&s.push("expires="+new Date(p).toGMTString()),utils$g.isString(y)&&s.push("path="+y),utils$g.isString(_)&&s.push("domain="+_),r===!0&&s.push("secure"),document.cookie=s.join("; ")},read:function(n){var o=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),isAbsoluteURL$1=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},combineURLs$1=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$1=function(e,n){return e&&!isAbsoluteURL(n)?combineURLs(e,n):n},utils$f=utils$k,ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders$1=function(e){var n={},o,p,y;return e&&utils$f.forEach(e.split(`
`),function(r){if(y=r.indexOf(":"),o=utils$f.trim(r.substr(0,y)).toLowerCase(),p=utils$f.trim(r.substr(y+1)),o){if(n[o]&&ignoreDuplicateOf.indexOf(o)>=0)return;o==="set-cookie"?n[o]=(n[o]?n[o]:[]).concat([p]):n[o]=n[o]?n[o]+", "+p:p}}),n},utils$e=utils$k,isURLSameOrigin$1=utils$e.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),o;function p(y){var _=y;return e&&(n.setAttribute("href",_),_=n.href),n.setAttribute("href",_),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return o=p(window.location.href),function(_){var r=utils$e.isString(_)?p(_):_;return r.protocol===o.protocol&&r.host===o.host}}():function(){return function(){return!0}}();function Cancel$3(t){this.message=t}Cancel$3.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Cancel$3.prototype.__CANCEL__=!0;var Cancel_1=Cancel$3,utils$d=utils$k,settle=settle$1,cookies=cookies$1,buildURL$1=buildURL$2,buildFullPath=buildFullPath$1,parseHeaders=parseHeaders$1,isURLSameOrigin=isURLSameOrigin$1,createError=createError$2,defaults$6=defaults_1,Cancel$2=Cancel_1,xhr=function(e){return new Promise(function(o,p){var y=e.data,_=e.headers,r=e.responseType,s;function a(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}utils$d.isFormData(y)&&delete _["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";_.Authorization="Basic "+btoa(v+":"+g)}var w=buildFullPath(e.baseURL,e.url);f.open(e.method.toUpperCase(),buildURL$1(w,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function E(){if(!!f){var h="getAllResponseHeaders"in f?parseHeaders(f.getAllResponseHeaders()):null,C=!r||r==="text"||r==="json"?f.responseText:f.response,m={data:C,status:f.status,statusText:f.statusText,headers:h,config:e,request:f};settle(function(c){o(c),a()},function(c){p(c),a()},m),f=null}}if("onloadend"in f?f.onloadend=E:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(E)},f.onabort=function(){!f||(p(createError("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){p(createError("Network Error",e,null,f)),f=null},f.ontimeout=function(){var C=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",m=e.transitional||defaults$6.transitional;e.timeoutErrorMessage&&(C=e.timeoutErrorMessage),p(createError(C,e,m.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",f)),f=null},utils$d.isStandardBrowserEnv()){var d=(e.withCredentials||isURLSameOrigin(w))&&e.xsrfCookieName?cookies.read(e.xsrfCookieName):void 0;d&&(_[e.xsrfHeaderName]=d)}"setRequestHeader"in f&&utils$d.forEach(_,function(C,m){typeof y=="undefined"&&m.toLowerCase()==="content-type"?delete _[m]:f.setRequestHeader(m,C)}),utils$d.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),r&&r!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(s=function(h){!f||(p(!h||h&&h.type?new Cancel$2("canceled"):h),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s))),y||(y=null),f.send(y)})},utils$c=utils$k,normalizeHeaderName=normalizeHeaderName$1,enhanceError=enhanceError$2,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(t,e){!utils$c.isUndefined(t)&&utils$c.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function getDefaultAdapter(){var t;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(t=xhr),t}function stringifySafely(t,e,n){if(utils$c.isString(t))try{return(e||JSON.parse)(t),utils$c.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(t)}var defaults$5={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:getDefaultAdapter(),transformRequest:[function(e,n){return normalizeHeaderName(n,"Accept"),normalizeHeaderName(n,"Content-Type"),utils$c.isFormData(e)||utils$c.isArrayBuffer(e)||utils$c.isBuffer(e)||utils$c.isStream(e)||utils$c.isFile(e)||utils$c.isBlob(e)?e:utils$c.isArrayBufferView(e)?e.buffer:utils$c.isURLSearchParams(e)?(setContentTypeIfUnset(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):utils$c.isObject(e)||n&&n["Content-Type"]==="application/json"?(setContentTypeIfUnset(n,"application/json"),stringifySafely(e)):e}],transformResponse:[function(e){var n=this.transitional||defaults$5.transitional,o=n&&n.silentJSONParsing,p=n&&n.forcedJSONParsing,y=!o&&this.responseType==="json";if(y||p&&utils$c.isString(e)&&e.length)try{return JSON.parse(e)}catch(_){if(y)throw _.name==="SyntaxError"?enhanceError(_,this,"E_JSON_PARSE"):_}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$c.forEach(["delete","get","head"],function(e){defaults$5.headers[e]={}});utils$c.forEach(["post","put","patch"],function(e){defaults$5.headers[e]=utils$c.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$5,utils$b=utils$k,defaults$4=defaults_1,transformData$1=function(e,n,o){var p=this||defaults$4;return utils$b.forEach(o,function(_){e=_.call(p,e,n)}),e},isCancel$1=function(e){return!!(e&&e.__CANCEL__)},utils$a=utils$k,transformData=transformData$1,isCancel=isCancel$1,defaults$3=defaults_1,Cancel$1=Cancel_1;function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Cancel$1("canceled")}var dispatchRequest$1=function(e){throwIfCancellationRequested(e),e.headers=e.headers||{},e.data=transformData.call(e,e.data,e.headers,e.transformRequest),e.headers=utils$a.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),utils$a.forEach(["delete","get","head","post","put","patch","common"],function(p){delete e.headers[p]});var n=e.adapter||defaults$3.adapter;return n(e).then(function(p){return throwIfCancellationRequested(e),p.data=transformData.call(e,p.data,p.headers,e.transformResponse),p},function(p){return isCancel(p)||(throwIfCancellationRequested(e),p&&p.response&&(p.response.data=transformData.call(e,p.response.data,p.response.headers,e.transformResponse))),Promise.reject(p)})},utils$9=utils$k,mergeConfig$2=function(e,n){n=n||{};var o={};function p(f,v){return utils$9.isPlainObject(f)&&utils$9.isPlainObject(v)?utils$9.merge(f,v):utils$9.isPlainObject(v)?utils$9.merge({},v):utils$9.isArray(v)?v.slice():v}function y(f){if(utils$9.isUndefined(n[f])){if(!utils$9.isUndefined(e[f]))return p(void 0,e[f])}else return p(e[f],n[f])}function _(f){if(!utils$9.isUndefined(n[f]))return p(void 0,n[f])}function r(f){if(utils$9.isUndefined(n[f])){if(!utils$9.isUndefined(e[f]))return p(void 0,e[f])}else return p(void 0,n[f])}function s(f){if(f in n)return p(e[f],n[f]);if(f in e)return p(void 0,e[f])}var a={url:_,method:_,data:_,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:s};return utils$9.forEach(Object.keys(e).concat(Object.keys(n)),function(v){var g=a[v]||y,w=g(v);utils$9.isUndefined(w)&&g!==s||(o[v]=w)}),o},data={version:"0.24.0"},VERSION=data.version,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){validators$1[t]=function(o){return typeof o===t||"a"+(e<1?"n ":" ")+t}});var deprecatedWarnings={};validators$1.transitional=function(e,n,o){function p(y,_){return"[Axios v"+VERSION+"] Transitional option '"+y+"'"+_+(o?". "+o:"")}return function(y,_,r){if(e===!1)throw new Error(p(_," has been removed"+(n?" in "+n:"")));return n&&!deprecatedWarnings[_]&&(deprecatedWarnings[_]=!0,console.warn(p(_," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(y,_,r):!0}};function assertOptions(t,e,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var o=Object.keys(t),p=o.length;p-- >0;){var y=o[p],_=e[y];if(_){var r=t[y],s=r===void 0||_(r,y,t);if(s!==!0)throw new TypeError("option "+y+" must be "+s);continue}if(n!==!0)throw Error("Unknown option "+y)}}var validator$1={assertOptions,validators:validators$1},utils$8=utils$k,buildURL=buildURL$2,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,validator=validator$1,validators=validator.validators;function Axios$1(t){this.defaults=t,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=mergeConfig$1(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;n!==void 0&&validator.assertOptions(n,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var o=[],p=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(e)===!1||(p=p&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});var y=[];this.interceptors.response.forEach(function(g){y.push(g.fulfilled,g.rejected)});var _;if(!p){var r=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(r,o),r=r.concat(y),_=Promise.resolve(e);r.length;)_=_.then(r.shift(),r.shift());return _}for(var s=e;o.length;){var a=o.shift(),f=o.shift();try{s=a(s)}catch(v){f(v);break}}try{_=dispatchRequest(s)}catch(v){return Promise.reject(v)}for(;y.length;)_=_.then(y.shift(),y.shift());return _};Axios$1.prototype.getUri=function(e){return e=mergeConfig$1(this.defaults,e),buildURL(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};utils$8.forEach(["delete","get","head","options"],function(e){Axios$1.prototype[e]=function(n,o){return this.request(mergeConfig$1(o||{},{method:e,url:n,data:(o||{}).data}))}});utils$8.forEach(["post","put","patch"],function(e){Axios$1.prototype[e]=function(n,o,p){return this.request(mergeConfig$1(p||{},{method:e,url:n,data:o}))}});var Axios_1=Axios$1,Cancel=Cancel_1;function CancelToken(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(p){e=p});var n=this;this.promise.then(function(o){if(!!n._listeners){var p,y=n._listeners.length;for(p=0;p<y;p++)n._listeners[p](o);n._listeners=null}}),this.promise.then=function(o){var p,y=new Promise(function(_){n.subscribe(_),p=_}).then(o);return y.cancel=function(){n.unsubscribe(p)},y},t(function(p){n.reason||(n.reason=new Cancel(p),e(n.reason))})}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};CancelToken.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};CancelToken.prototype.unsubscribe=function(e){if(!!this._listeners){var n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}};CancelToken.source=function(){var e,n=new CancelToken(function(p){e=p});return{token:n,cancel:e}};var CancelToken_1=CancelToken,spread=function(e){return function(o){return e.apply(null,o)}},isAxiosError=function(e){return typeof e=="object"&&e.isAxiosError===!0},utils$7=utils$k,bind$2=bind$4,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults$2=defaults_1;function createInstance(t){var e=new Axios(t),n=bind$2(Axios.prototype.request,e);return utils$7.extend(n,Axios.prototype,e),utils$7.extend(n,e),n.create=function(p){return createInstance(mergeConfig(t,p))},n}var axios$1=createInstance(defaults$2);axios$1.Axios=Axios;axios$1.Cancel=Cancel_1;axios$1.CancelToken=CancelToken_1;axios$1.isCancel=isCancel$1;axios$1.VERSION=data.version;axios$1.all=function(e){return Promise.all(e)};axios$1.spread=spread;axios$1.isAxiosError=isAxiosError;axios$2.exports=axios$1;axios$2.exports.default=axios$1;var axios=axios$2.exports;let instance=axios.create({baseURL:"/",timeout:4e3}),applicationServer=axios.create({baseURL:"http://www.houxinlin.com:8081/",timeout:4e3});instance.interceptors.response.use(t=>(t.headers["content-type"]!=null&&t.headers["content-type"].substr(0,9)=="text/html"&&(window.location.href="/"),t),t=>Promise.reject(t));var shams=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),o=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var p=42;e[n]=p;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var y=Object.getOwnPropertySymbols(e);if(y.length!==1||y[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var _=Object.getOwnPropertyDescriptor(e,n);if(_.value!==p||_.enumerable!==!0)return!1}return!0},origSymbol=typeof Symbol!="undefined"&&Symbol,hasSymbolSham=shams,hasSymbols$1=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice=Array.prototype.slice,toStr$1=Object.prototype.toString,funcType="[object Function]",implementation$1=function(e){var n=this;if(typeof n!="function"||toStr$1.call(n)!==funcType)throw new TypeError(ERROR_MESSAGE+n);for(var o=slice.call(arguments,1),p,y=function(){if(this instanceof p){var f=n.apply(this,o.concat(slice.call(arguments)));return Object(f)===f?f:this}else return n.apply(e,o.concat(slice.call(arguments)))},_=Math.max(0,n.length-o.length),r=[],s=0;s<_;s++)r.push("$"+s);if(p=Function("binder","return function ("+r.join(",")+"){ return binder.apply(this,arguments); }")(y),n.prototype){var a=function(){};a.prototype=n.prototype,p.prototype=new a,a.prototype=null}return p},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,bind$1=functionBind,src=bind$1.call(Function.call,Object.prototype.hasOwnProperty),undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError$1=TypeError,getEvalledConstructor=function(t){try{return $Function('"use strict"; return ('+t+").constructor;")()}catch{}},$gOPD=Object.getOwnPropertyDescriptor;if($gOPD)try{$gOPD({},"")}catch{$gOPD=null}var throwTypeError=function(){throw new $TypeError$1},ThrowTypeError=$gOPD?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),getProto=Object.getPrototypeOf||function(t){return t.__proto__},needsEval={},TypedArray=typeof Uint8Array=="undefined"?undefined$1:getProto(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError=="undefined"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics=="undefined"?undefined$1:Atomics,"%BigInt%":typeof BigInt=="undefined"?undefined$1:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array=="undefined"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map=="undefined"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!hasSymbols?undefined$1:getProto(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?undefined$1:Promise,"%Proxy%":typeof Proxy=="undefined"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!hasSymbols?undefined$1:getProto(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$1,"%Uint8Array%":typeof Uint8Array=="undefined"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?undefined$1:WeakSet},doEval=function t(e){var n;if(e==="%AsyncFunction%")n=getEvalledConstructor("async function () {}");else if(e==="%GeneratorFunction%")n=getEvalledConstructor("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=getEvalledConstructor("async function* () {}");else if(e==="%AsyncGenerator%"){var o=t("%AsyncGeneratorFunction%");o&&(n=o.prototype)}else if(e==="%AsyncIteratorPrototype%"){var p=t("%AsyncGenerator%");p&&(n=getProto(p.prototype))}return INTRINSICS[e]=n,n},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn$1=src,$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(e){var n=$strSlice(e,0,1),o=$strSlice(e,-1);if(n==="%"&&o!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&n!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var p=[];return $replace(e,rePropName,function(y,_,r,s){p[p.length]=r?$replace(s,reEscapeChar,"$1"):_||y}),p},getBaseIntrinsic=function(e,n){var o=e,p;if(hasOwn$1(LEGACY_ALIASES,o)&&(p=LEGACY_ALIASES[o],o="%"+p[0]+"%"),hasOwn$1(INTRINSICS,o)){var y=INTRINSICS[o];if(y===needsEval&&(y=doEval(o)),typeof y=="undefined"&&!n)throw new $TypeError$1("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:p,name:o,value:y}}throw new $SyntaxError("intrinsic "+e+" does not exist!")},getIntrinsic=function(e,n){if(typeof e!="string"||e.length===0)throw new $TypeError$1("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new $TypeError$1('"allowMissing" argument must be a boolean');var o=stringToPath(e),p=o.length>0?o[0]:"",y=getBaseIntrinsic("%"+p+"%",n),_=y.name,r=y.value,s=!1,a=y.alias;a&&(p=a[0],$spliceApply(o,$concat([0,1],a)));for(var f=1,v=!0;f<o.length;f+=1){var g=o[f],w=$strSlice(g,0,1),E=$strSlice(g,-1);if((w==='"'||w==="'"||w==="`"||E==='"'||E==="'"||E==="`")&&w!==E)throw new $SyntaxError("property names with quotes must have matching quotes");if((g==="constructor"||!v)&&(s=!0),p+="."+g,_="%"+p+"%",hasOwn$1(INTRINSICS,_))r=INTRINSICS[_];else if(r!=null){if(!(g in r)){if(!n)throw new $TypeError$1("base intrinsic for "+e+" exists, but the property is not available.");return}if($gOPD&&f+1>=o.length){var d=$gOPD(r,g);v=!!d,v&&"get"in d&&!("originalValue"in d.get)?r=d.get:r=r[g]}else v=hasOwn$1(r,g),r=r[g];v&&!s&&(INTRINSICS[_]=r)}}return r},callBind$1={exports:{}};(function(t){var e=functionBind,n=getIntrinsic,o=n("%Function.prototype.apply%"),p=n("%Function.prototype.call%"),y=n("%Reflect.apply%",!0)||e.call(p,o),_=n("%Object.getOwnPropertyDescriptor%",!0),r=n("%Object.defineProperty%",!0),s=n("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}t.exports=function(v){var g=y(e,p,arguments);if(_&&r){var w=_(g,"length");w.configurable&&r(g,"length",{value:1+s(0,v.length-(arguments.length-1))})}return g};var a=function(){return y(e,o,arguments)};r?r(t.exports,"apply",{value:a}):t.exports.apply=a})(callBind$1);var GetIntrinsic$1=getIntrinsic,callBind=callBind$1.exports,$indexOf=callBind(GetIntrinsic$1("String.prototype.indexOf")),callBound$1=function(e,n){var o=GetIntrinsic$1(e,!!n);return typeof o=="function"&&$indexOf(e,".prototype.")>-1?callBind(o):o},__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:__viteBrowserExternal}),require$$1$1=getAugmentedNamespace(__viteBrowserExternal$1),hasMap=typeof Map=="function"&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&typeof mapSizeDescriptor.get=="function"?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet=typeof Set=="function"&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&typeof setSizeDescriptor.get=="function"?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,hasWeakMap=typeof WeakMap=="function"&&WeakMap.prototype,weakMapHas=hasWeakMap?WeakMap.prototype.has:null,hasWeakSet=typeof WeakSet=="function"&&WeakSet.prototype,weakSetHas=hasWeakSet?WeakSet.prototype.has:null,hasWeakRef=typeof WeakRef=="function"&&WeakRef.prototype,weakRefDeref=hasWeakRef?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,functionToString=Function.prototype.toString,match=String.prototype.match,bigIntValueOf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hasShammedSymbols=typeof Symbol=="function"&&typeof Symbol.iterator=="object",toStringTag=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hasShammedSymbols?"object":"symbol")?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),inspectCustom=require$$1$1.custom,inspectSymbol=inspectCustom&&isSymbol(inspectCustom)?inspectCustom:null,objectInspect=function t(e,n,o,p){var y=n||{};if(has$3(y,"quoteStyle")&&y.quoteStyle!=="single"&&y.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has$3(y,"maxStringLength")&&(typeof y.maxStringLength=="number"?y.maxStringLength<0&&y.maxStringLength!==1/0:y.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var _=has$3(y,"customInspect")?y.customInspect:!0;if(typeof _!="boolean"&&_!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has$3(y,"indent")&&y.indent!==null&&y.indent!=="	"&&!(parseInt(y.indent,10)===y.indent&&y.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof e=="undefined")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return inspectString(e,y);if(typeof e=="number")return e===0?1/0/e>0?"0":"-0":String(e);if(typeof e=="bigint")return String(e)+"n";var r=typeof y.depth=="undefined"?5:y.depth;if(typeof o=="undefined"&&(o=0),o>=r&&r>0&&typeof e=="object")return isArray$3(e)?"[Array]":"[Object]";var s=getIndent(y,o);if(typeof p=="undefined")p=[];else if(indexOf(p,e)>=0)return"[Circular]";function a(T,B,O){if(B&&(p=p.slice(),p.push(B)),O){var x={depth:y.depth};return has$3(y,"quoteStyle")&&(x.quoteStyle=y.quoteStyle),t(T,x,o+1,p)}return t(T,y,o+1,p)}if(typeof e=="function"){var f=nameOf(e),v=arrObjKeys(e,a);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(v.length>0?" { "+v.join(", ")+" }":"")}if(isSymbol(e)){var g=hasShammedSymbols?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(e);return typeof e=="object"&&!hasShammedSymbols?markBoxed(g):g}if(isElement$1(e)){for(var w="<"+String(e.nodeName).toLowerCase(),E=e.attributes||[],d=0;d<E.length;d++)w+=" "+E[d].name+"="+wrapQuotes(quote(E[d].value),"double",y);return w+=">",e.childNodes&&e.childNodes.length&&(w+="..."),w+="</"+String(e.nodeName).toLowerCase()+">",w}if(isArray$3(e)){if(e.length===0)return"[]";var h=arrObjKeys(e,a);return s&&!singleLineValues(h)?"["+indentedJoin(h,s)+"]":"[ "+h.join(", ")+" ]"}if(isError(e)){var C=arrObjKeys(e,a);return C.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+C.join(", ")+" }"}if(typeof e=="object"&&_){if(inspectSymbol&&typeof e[inspectSymbol]=="function")return e[inspectSymbol]();if(_!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(isMap(e)){var m=[];return mapForEach.call(e,function(T,B){m.push(a(B,e,!0)+" => "+a(T,e))}),collectionOf("Map",mapSize.call(e),m,s)}if(isSet(e)){var u=[];return setForEach.call(e,function(T){u.push(a(T,e))}),collectionOf("Set",setSize.call(e),u,s)}if(isWeakMap(e))return weakCollectionOf("WeakMap");if(isWeakSet(e))return weakCollectionOf("WeakSet");if(isWeakRef(e))return weakCollectionOf("WeakRef");if(isNumber(e))return markBoxed(a(Number(e)));if(isBigInt(e))return markBoxed(a(bigIntValueOf.call(e)));if(isBoolean(e))return markBoxed(booleanValueOf.call(e));if(isString(e))return markBoxed(a(String(e)));if(!isDate(e)&&!isRegExp$1(e)){var c=arrObjKeys(e,a),l=gPO?gPO(e)===Object.prototype:e instanceof Object||e.constructor===Object,b=e instanceof Object?"":"null prototype",S=!l&&toStringTag&&Object(e)===e&&toStringTag in e?toStr(e).slice(8,-1):b?"Object":"",A=l||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",L=A+(S||b?"["+[].concat(S||[],b||[]).join(": ")+"] ":"");return c.length===0?L+"{}":s?L+"{"+indentedJoin(c,s)+"}":L+"{ "+c.join(", ")+" }"}return String(e)};function wrapQuotes(t,e,n){var o=(n.quoteStyle||e)==="double"?'"':"'";return o+t+o}function quote(t){return String(t).replace(/"/g,"&quot;")}function isArray$3(t){return toStr(t)==="[object Array]"&&(!toStringTag||!(typeof t=="object"&&toStringTag in t))}function isDate(t){return toStr(t)==="[object Date]"&&(!toStringTag||!(typeof t=="object"&&toStringTag in t))}function isRegExp$1(t){return toStr(t)==="[object RegExp]"&&(!toStringTag||!(typeof t=="object"&&toStringTag in t))}function isError(t){return toStr(t)==="[object Error]"&&(!toStringTag||!(typeof t=="object"&&toStringTag in t))}function isString(t){return toStr(t)==="[object String]"&&(!toStringTag||!(typeof t=="object"&&toStringTag in t))}function isNumber(t){return toStr(t)==="[object Number]"&&(!toStringTag||!(typeof t=="object"&&toStringTag in t))}function isBoolean(t){return toStr(t)==="[object Boolean]"&&(!toStringTag||!(typeof t=="object"&&toStringTag in t))}function isSymbol(t){if(hasShammedSymbols)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!symToString)return!1;try{return symToString.call(t),!0}catch{}return!1}function isBigInt(t){if(!t||typeof t!="object"||!bigIntValueOf)return!1;try{return bigIntValueOf.call(t),!0}catch{}return!1}var hasOwn=Object.prototype.hasOwnProperty||function(t){return t in this};function has$3(t,e){return hasOwn.call(t,e)}function toStr(t){return objectToString.call(t)}function nameOf(t){if(t.name)return t.name;var e=match.call(functionToString.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function indexOf(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1}function isMap(t){if(!mapSize||!t||typeof t!="object")return!1;try{mapSize.call(t);try{setSize.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function isWeakMap(t){if(!weakMapHas||!t||typeof t!="object")return!1;try{weakMapHas.call(t,weakMapHas);try{weakSetHas.call(t,weakSetHas)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function isWeakRef(t){if(!weakRefDeref||!t||typeof t!="object")return!1;try{return weakRefDeref.call(t),!0}catch{}return!1}function isSet(t){if(!setSize||!t||typeof t!="object")return!1;try{setSize.call(t);try{mapSize.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function isWeakSet(t){if(!weakSetHas||!t||typeof t!="object")return!1;try{weakSetHas.call(t,weakSetHas);try{weakMapHas.call(t,weakMapHas)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function isElement$1(t){return!t||typeof t!="object"?!1:typeof HTMLElement!="undefined"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function inspectString(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,o="... "+n+" more character"+(n>1?"s":"");return inspectString(t.slice(0,e.maxStringLength),e)+o}var p=t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,lowbyte);return wrapQuotes(p,"single",e)}function lowbyte(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function markBoxed(t){return"Object("+t+")"}function weakCollectionOf(t){return t+" { ? }"}function collectionOf(t,e,n,o){var p=o?indentedJoin(n,o):n.join(", ");return t+" ("+e+") {"+p+"}"}function singleLineValues(t){for(var e=0;e<t.length;e++)if(indexOf(t[e],`
`)>=0)return!1;return!0}function getIndent(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=Array(t.indent+1).join(" ");else return null;return{base:n,prev:Array(e+1).join(n)}}function indentedJoin(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+t.join(","+n)+`
`+e.prev}function arrObjKeys(t,e){var n=isArray$3(t),o=[];if(n){o.length=t.length;for(var p=0;p<t.length;p++)o[p]=has$3(t,p)?e(t[p],t):""}var y=typeof gOPS=="function"?gOPS(t):[],_;if(hasShammedSymbols){_={};for(var r=0;r<y.length;r++)_["$"+y[r]]=y[r]}for(var s in t)!has$3(t,s)||n&&String(Number(s))===s&&s<t.length||hasShammedSymbols&&_["$"+s]instanceof Symbol||(/[^\w$]/.test(s)?o.push(e(s,t)+": "+e(t[s],t)):o.push(s+": "+e(t[s],t)));if(typeof gOPS=="function")for(var a=0;a<y.length;a++)isEnumerable.call(t,y[a])&&o.push("["+e(y[a])+"]: "+e(t[y[a]],t));return o}var GetIntrinsic=getIntrinsic,callBound=callBound$1,inspect=objectInspect,$TypeError=GetIntrinsic("%TypeError%"),$WeakMap=GetIntrinsic("%WeakMap%",!0),$Map=GetIntrinsic("%Map%",!0),$weakMapGet=callBound("WeakMap.prototype.get",!0),$weakMapSet=callBound("WeakMap.prototype.set",!0),$weakMapHas=callBound("WeakMap.prototype.has",!0),$mapGet=callBound("Map.prototype.get",!0),$mapSet=callBound("Map.prototype.set",!0),$mapHas=callBound("Map.prototype.has",!0),listGetNode=function(t,e){for(var n=t,o;(o=n.next)!==null;n=o)if(o.key===e)return n.next=o.next,o.next=t.next,t.next=o,o},listGet=function(t,e){var n=listGetNode(t,e);return n&&n.value},listSet=function(t,e,n){var o=listGetNode(t,e);o?o.value=n:t.next={key:e,next:t.next,value:n}},listHas=function(t,e){return!!listGetNode(t,e)},sideChannel=function(){var e,n,o,p={assert:function(y){if(!p.has(y))throw new $TypeError("Side channel does not contain "+inspect(y))},get:function(y){if($WeakMap&&y&&(typeof y=="object"||typeof y=="function")){if(e)return $weakMapGet(e,y)}else if($Map){if(n)return $mapGet(n,y)}else if(o)return listGet(o,y)},has:function(y){if($WeakMap&&y&&(typeof y=="object"||typeof y=="function")){if(e)return $weakMapHas(e,y)}else if($Map){if(n)return $mapHas(n,y)}else if(o)return listHas(o,y);return!1},set:function(y,_){$WeakMap&&y&&(typeof y=="object"||typeof y=="function")?(e||(e=new $WeakMap),$weakMapSet(e,y,_)):$Map?(n||(n=new $Map),$mapSet(n,y,_)):(o||(o={key:{},next:null}),listSet(o,y,_))}};return p},replace=String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats$3={default:Format.RFC3986,formatters:{RFC1738:function(t){return replace.call(t,percentTwenties,"+")},RFC3986:function(t){return String(t)}},RFC1738:Format.RFC1738,RFC3986:Format.RFC3986},formats$2=formats$3,has$2=Object.prototype.hasOwnProperty,isArray$2=Array.isArray,hexTable=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),compactQueue=function(e){for(;e.length>1;){var n=e.pop(),o=n.obj[n.prop];if(isArray$2(o)){for(var p=[],y=0;y<o.length;++y)typeof o[y]!="undefined"&&p.push(o[y]);n.obj[n.prop]=p}}},arrayToObject=function(e,n){for(var o=n&&n.plainObjects?Object.create(null):{},p=0;p<e.length;++p)typeof e[p]!="undefined"&&(o[p]=e[p]);return o},merge=function t(e,n,o){if(!n)return e;if(typeof n!="object"){if(isArray$2(e))e.push(n);else if(e&&typeof e=="object")(o&&(o.plainObjects||o.allowPrototypes)||!has$2.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var p=e;return isArray$2(e)&&!isArray$2(n)&&(p=arrayToObject(e,o)),isArray$2(e)&&isArray$2(n)?(n.forEach(function(y,_){if(has$2.call(e,_)){var r=e[_];r&&typeof r=="object"&&y&&typeof y=="object"?e[_]=t(r,y,o):e.push(y)}else e[_]=y}),e):Object.keys(n).reduce(function(y,_){var r=n[_];return has$2.call(y,_)?y[_]=t(y[_],r,o):y[_]=r,y},p)},assign=function(e,n){return Object.keys(n).reduce(function(o,p){return o[p]=n[p],o},e)},decode=function(t,e,n){var o=t.replace(/\+/g," ");if(n==="iso-8859-1")return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch{return o}},encode=function(e,n,o,p,y){if(e.length===0)return e;var _=e;if(typeof e=="symbol"?_=Symbol.prototype.toString.call(e):typeof e!="string"&&(_=String(e)),o==="iso-8859-1")return escape(_).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var r="",s=0;s<_.length;++s){var a=_.charCodeAt(s);if(a===45||a===46||a===95||a===126||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||y===formats$2.RFC1738&&(a===40||a===41)){r+=_.charAt(s);continue}if(a<128){r=r+hexTable[a];continue}if(a<2048){r=r+(hexTable[192|a>>6]+hexTable[128|a&63]);continue}if(a<55296||a>=57344){r=r+(hexTable[224|a>>12]+hexTable[128|a>>6&63]+hexTable[128|a&63]);continue}s+=1,a=65536+((a&1023)<<10|_.charCodeAt(s)&1023),r+=hexTable[240|a>>18]+hexTable[128|a>>12&63]+hexTable[128|a>>6&63]+hexTable[128|a&63]}return r},compact=function(e){for(var n=[{obj:{o:e},prop:"o"}],o=[],p=0;p<n.length;++p)for(var y=n[p],_=y.obj[y.prop],r=Object.keys(_),s=0;s<r.length;++s){var a=r[s],f=_[a];typeof f=="object"&&f!==null&&o.indexOf(f)===-1&&(n.push({obj:_,prop:a}),o.push(f))}return compactQueue(n),e},isRegExp=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},isBuffer=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},combine=function(e,n){return[].concat(e,n)},maybeMap=function(e,n){if(isArray$2(e)){for(var o=[],p=0;p<e.length;p+=1)o.push(n(e[p]));return o}return n(e)},utils$6={arrayToObject,assign,combine,compact,decode,encode,isBuffer,isRegExp,maybeMap,merge},getSideChannel=sideChannel,utils$5=utils$6,formats$1=formats$3,has$1=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},isArray$1=Array.isArray,split=String.prototype.split,push=Array.prototype.push,pushToArray=function(t,e){push.apply(t,isArray$1(e)?e:[e])},toISO=Date.prototype.toISOString,defaultFormat=formats$1.default,defaults$1={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils$5.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats$1.formatters[defaultFormat],indices:!1,serializeDate:function(e){return toISO.call(e)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},sentinel={},stringify$1=function t(e,n,o,p,y,_,r,s,a,f,v,g,w,E,d){for(var h=e,C=d,m=0,u=!1;(C=C.get(sentinel))!==void 0&&!u;){var c=C.get(e);if(m+=1,typeof c!="undefined"){if(c===m)throw new RangeError("Cyclic object value");u=!0}typeof C.get(sentinel)=="undefined"&&(m=0)}if(typeof r=="function"?h=r(n,h):h instanceof Date?h=f(h):o==="comma"&&isArray$1(h)&&(h=utils$5.maybeMap(h,function(D){return D instanceof Date?f(D):D})),h===null){if(p)return _&&!w?_(n,defaults$1.encoder,E,"key",v):n;h=""}if(isNonNullishPrimitive(h)||utils$5.isBuffer(h)){if(_){var l=w?n:_(n,defaults$1.encoder,E,"key",v);if(o==="comma"&&w){for(var b=split.call(String(h),","),S="",A=0;A<b.length;++A)S+=(A===0?"":",")+g(_(b[A],defaults$1.encoder,E,"value",v));return[g(l)+"="+S]}return[g(l)+"="+g(_(h,defaults$1.encoder,E,"value",v))]}return[g(n)+"="+g(String(h))]}var L=[];if(typeof h=="undefined")return L;var T;if(o==="comma"&&isArray$1(h))T=[{value:h.length>0?h.join(",")||null:void 0}];else if(isArray$1(r))T=r;else{var B=Object.keys(h);T=s?B.sort(s):B}for(var O=0;O<T.length;++O){var x=T[O],I=typeof x=="object"&&x.value!==void 0?x.value:h[x];if(!(y&&I===null)){var R=isArray$1(h)?typeof o=="function"?o(n,x):n:n+(a?"."+x:"["+x+"]");d.set(e,m);var F=getSideChannel();F.set(sentinel,d),pushToArray(L,t(I,R,o,p,y,_,r,s,a,f,v,g,w,E,F))}}return L},normalizeStringifyOptions=function(e){if(!e)return defaults$1;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||defaults$1.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=formats$1.default;if(typeof e.format!="undefined"){if(!has$1.call(formats$1.formatters,e.format))throw new TypeError("Unknown format option provided.");o=e.format}var p=formats$1.formatters[o],y=defaults$1.filter;return(typeof e.filter=="function"||isArray$1(e.filter))&&(y=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:defaults$1.addQueryPrefix,allowDots:typeof e.allowDots=="undefined"?defaults$1.allowDots:!!e.allowDots,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:defaults$1.charsetSentinel,delimiter:typeof e.delimiter=="undefined"?defaults$1.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:defaults$1.encode,encoder:typeof e.encoder=="function"?e.encoder:defaults$1.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:defaults$1.encodeValuesOnly,filter:y,format:o,formatter:p,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:defaults$1.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:defaults$1.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:defaults$1.strictNullHandling}},stringify_1=function(t,e){var n=t,o=normalizeStringifyOptions(e),p,y;typeof o.filter=="function"?(y=o.filter,n=y("",n)):isArray$1(o.filter)&&(y=o.filter,p=y);var _=[];if(typeof n!="object"||n===null)return"";var r;e&&e.arrayFormat in arrayPrefixGenerators?r=e.arrayFormat:e&&"indices"in e?r=e.indices?"indices":"repeat":r="indices";var s=arrayPrefixGenerators[r];p||(p=Object.keys(n)),o.sort&&p.sort(o.sort);for(var a=getSideChannel(),f=0;f<p.length;++f){var v=p[f];o.skipNulls&&n[v]===null||pushToArray(_,stringify$1(n[v],v,s,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,a))}var g=_.join(o.delimiter),w=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),g.length>0?w+g:""},utils$4=utils$6,has=Object.prototype.hasOwnProperty,isArray=Array.isArray,defaults={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils$4.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},parseArrayValue=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},isoSentinel="utf8=%26%2310003%3B",charsetSentinel="utf8=%E2%9C%93",parseValues=function(e,n){var o={},p=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,y=n.parameterLimit===1/0?void 0:n.parameterLimit,_=p.split(n.delimiter,y),r=-1,s,a=n.charset;if(n.charsetSentinel)for(s=0;s<_.length;++s)_[s].indexOf("utf8=")===0&&(_[s]===charsetSentinel?a="utf-8":_[s]===isoSentinel&&(a="iso-8859-1"),r=s,s=_.length);for(s=0;s<_.length;++s)if(s!==r){var f=_[s],v=f.indexOf("]="),g=v===-1?f.indexOf("="):v+1,w,E;g===-1?(w=n.decoder(f,defaults.decoder,a,"key"),E=n.strictNullHandling?null:""):(w=n.decoder(f.slice(0,g),defaults.decoder,a,"key"),E=utils$4.maybeMap(parseArrayValue(f.slice(g+1),n),function(d){return n.decoder(d,defaults.decoder,a,"value")})),E&&n.interpretNumericEntities&&a==="iso-8859-1"&&(E=interpretNumericEntities(E)),f.indexOf("[]=")>-1&&(E=isArray(E)?[E]:E),has.call(o,w)?o[w]=utils$4.combine(o[w],E):o[w]=E}return o},parseObject=function(t,e,n,o){for(var p=o?e:parseArrayValue(e,n),y=t.length-1;y>=0;--y){var _,r=t[y];if(r==="[]"&&n.parseArrays)_=[].concat(p);else{_=n.plainObjects?Object.create(null):{};var s=r.charAt(0)==="["&&r.charAt(r.length-1)==="]"?r.slice(1,-1):r,a=parseInt(s,10);!n.parseArrays&&s===""?_={0:p}:!isNaN(a)&&r!==s&&String(a)===s&&a>=0&&n.parseArrays&&a<=n.arrayLimit?(_=[],_[a]=p):_[s]=p}p=_}return p},parseKeys=function(e,n,o,p){if(!!e){var y=o.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,_=/(\[[^[\]]*])/,r=/(\[[^[\]]*])/g,s=o.depth>0&&_.exec(y),a=s?y.slice(0,s.index):y,f=[];if(a){if(!o.plainObjects&&has.call(Object.prototype,a)&&!o.allowPrototypes)return;f.push(a)}for(var v=0;o.depth>0&&(s=r.exec(y))!==null&&v<o.depth;){if(v+=1,!o.plainObjects&&has.call(Object.prototype,s[1].slice(1,-1))&&!o.allowPrototypes)return;f.push(s[1])}return s&&f.push("["+y.slice(s.index)+"]"),parseObject(f,n,o,p)}},normalizeParseOptions=function(e){if(!e)return defaults;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset=="undefined"?defaults.charset:e.charset;return{allowDots:typeof e.allowDots=="undefined"?defaults.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:defaults.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:defaults.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:defaults.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:defaults.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:defaults.comma,decoder:typeof e.decoder=="function"?e.decoder:defaults.decoder,delimiter:typeof e.delimiter=="string"||utils$4.isRegExp(e.delimiter)?e.delimiter:defaults.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:defaults.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:defaults.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:defaults.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:defaults.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:defaults.strictNullHandling}},parse$2=function(t,e){var n=normalizeParseOptions(e);if(t===""||t===null||typeof t=="undefined")return n.plainObjects?Object.create(null):{};for(var o=typeof t=="string"?parseValues(t,n):t,p=n.plainObjects?Object.create(null):{},y=Object.keys(o),_=0;_<y.length;++_){var r=y[_],s=parseKeys(r,o[r],n,typeof t=="string");p=utils$4.merge(p,s,n)}return n.allowSparse===!0?p:utils$4.compact(p)},stringify=stringify_1,parse$1=parse$2,formats=formats$3,lib={formats,parse:parse$1,stringify};function apiListDirectory(t){return instance.get("/desktop/api/file/list",{params:{root:t}})}function apiDeleteFileOrFolder(t){return instance.get("/desktop/api/file/delete?",{params:{path:t}})}function apiChunkFileUpload(t,e){return instance.post("/desktop/api/file/chunkUpload",t,e)}function apiFileCopy(t){return instance.post("/desktop/api/file/fileCopy",lib.stringify({path:t}))}function apiFilePaste(t,e){return instance.post("/desktop/api/file/filePaste",lib.stringify({path:t,taskId:e}),{timeout:60*1e3*30})}function apiFileCut(t){return instance.post("/desktop/api/file/fileCut",lib.stringify({path:t}))}function apiFileRename(t,e){return instance.post("/desktop/api/file/fileRename",lib.stringify({newName:e,source:t}))}function apiFileCompress(t,e,n,o){return instance.post("/desktop/api/file/fileCompress",lib.stringify({path:t,targetName:e,compressType:n,taskId:o}))}function apiFileDecompression(t,e){return instance.post("/desktop/api/file/fileDecompression",lib.stringify({path:t,taskId:e}))}function apiFileAttribute(t){return instance.post("/desktop/api/file/getFileAttribute",lib.stringify({path:t}))}function apiCreateFile(t,e,n){return instance.post("/desktop/api/file/createFile",lib.stringify({parent:t,name:e,type:n}))}function apiRunJar(t,e){return instance.post("/desktop/api/file/runJar",lib.stringify({path:t,arg:e}))}function apiStopJar(t){return instance.post("/desktop/api/file/stopJar",lib.stringify({path:t}))}function apiRunShell(t){return instance.post("/desktop/api/file/runShell",lib.stringify({path:t}))}const UPLOAD_TIMER_OUT$1=1e3*60*15,CHUNK_SIZE_MB=15*1024*1024;let errorMessage=new Map;function sum(t){let e=0;for(var n in t)e+=t[n];return e}class FileItemInfo{constructor(e,n,o,p,y,_,r,s){this.file=e,this.uploadId=n,this.blobId=o,this.isChunks=p,this.progress=y,this.target=_,this.fileName=r,this.total=s}}let isStart=!1,intervalId=null;const getChunk=t=>{let e=Math.ceil(t.size/CHUNK_SIZE_MB),n=[];for(let o=0;o<e;o++){let p=o*CHUNK_SIZE_MB,y=p+CHUNK_SIZE_MB,_=t.slice(p,y);n.push({id:o,data:_})}return n},showErrorMessage=(t,e="")=>{errorMessage.get(t)!=!0&&(errorMessage.set(t,!0),coolWindow.startNewErrorMessageDialog(e))},doHandlerChunkItem=t=>{let e={signal:getController(t.uploadId).signal,timeout:UPLOAD_TIMER_OUT$1,headers:{},onUploadProgress:t.progress},n=createFormData(t.file,t.uploadId,t.blobId,t.target,t.fileName,t.total);apiChunkFileUpload(n,e).then(o=>{o.data.status!=0&&(showErrorMessage(t.uploadId,o.data.msg),cancel(t.uploadId))}).catch(o=>{showErrorMessage(t.uploadId,o),cancel(t.uploadId)}).finally(o=>{limit.current>0&&limit.current--})},fileConsume=()=>{if(limit.current<limit.max){let t=uploadQueue.files.dequeue();if(t!=null){doHandlerChunkItem(t);return}limit.current=0,clearInterval(intervalId),isStart=!1}},startConsumer=()=>{isStart||(isStart=!0,intervalId=setInterval(fileConsume,120))};function createChunksUpload(t,e){let n=randId(),o=getChunk(t);addProgress({id:n,name:t.name,progress:"0"});let p=[...new Array(o.length).keys()];for(const y of o){let _=r=>{var s=Math.round(r.loaded*100/r.total);p[parseInt(y.id)]=s;let a=sum(p)/(o.length*100);return changeProgress(n,a*100),s};uploadQueue.files.enqueue(new FileItemInfo(y.data,n,y.id,!0,_,e,t.name,t.size))}}function createSingleFileUpload(t,e){let n=randId(),o=p=>{var y=Math.round(p.loaded*100/p.total);return changeProgress(n,y),y};addProgress({id:n,name:t.name,progress:"0"}),uploadQueue.files.enqueue(new FileItemInfo(t,n,"0",!1,o,e,t.name,t.size))}const offerFile=(t,e)=>{if(startConsumer(),t.size>CHUNK_SIZE_MB){createChunksUpload(t,e);return}createSingleFileUpload(t,e)},createFormData=(t,e,n,o,p,y)=>{let _=new FormData;return _.append("target",o),_.append("fileBinary",t),_.append("chunkId",e),_.append("blobId",n),_.append("fileName",p),_.append("total",y),_};function apiListApplication(){return instance.get("/desktop/api/application/list")}function apiListAllApplicationByType(t){return applicationServer.get("software/api/list",{params:{typeName:t}})}function apiListAllApplicationType(t){return applicationServer.get("software/api/types")}function apiUnInstallApplication(t){return instance.post("/desktop/api/application/uninstall",lib.stringify({id:t}))}function apiInstallApplication(t){return instance.post("/desktop/api/application/install",lib.stringify({id:t}))}function apiInstallCustomApplication(t,e){return instance.post("/desktop/api/application/installCustomApplication",t,e)}let applicationState=reactive({applications:[]});const getApplicationByMedia=t=>{let e=[];for(let n of applicationState.applications)n.supportMediaTypes.findIndex(o=>o==t)!=-1&&e.push(n);return e},getApplicationById=t=>{for(let e of applicationState.applications)if(e.applicationId==t)return e;return null},refreshApplication=()=>{apiListApplication().then(t=>{applicationState.applications=t.data.data})},_hoisted_1$c={class:"item-group"},_hoisted_2$b={class:"item-group"},_hoisted_3$7={class:"item-group"},_hoisted_4$6={class:"item-group"},_hoisted_5$6={key:0,class:"item-group"},_hoisted_6$5={key:1,class:"item-group"},_hoisted_7$5={class:"item-group"},_hoisted_8$5={key:2,class:"item-group"},_hoisted_9$5={class:"item-group"},_hoisted_10$4={class:"item-group"},_hoisted_11$4={key:3,class:"item-group mulit"},_hoisted_12$4=createBaseVNode("span",null,"jar",-1),_hoisted_13$4={class:"second-menu"},_hoisted_14$4={key:4,class:"item-group mulit"},_hoisted_15$4=createBaseVNode("span",null,"sh",-1),_hoisted_16$4={class:"second-menu"},_hoisted_17$4={key:0,class:"select-method-mask pos-absolute fit-parent"},_hoisted_18$4={key:1,class:"select-method pos-absolute flex flex-all-center fit-parent"},_hoisted_19$4={class:"height-200px flex flex-column background-white"},_hoisted_20$2={class:"grid"},_hoisted_21$2=createBaseVNode("div",{class:"title flex flex-all-center"},"\u8BF7\u9009\u62E9\u6253\u5F00\u65B9\u5F0F",-1),_hoisted_22$1=createBaseVNode("div",null,null,-1),_hoisted_23$1={class:"padding-10px flex-1"},_hoisted_24$1=["onClick"],_hoisted_25$1={class:"flex flex-aling-item-center"},_hoisted_26$1=["src"],_hoisted_27$1={class:"font-size-10px"},_hoisted_28$1={key:0,class:"folder-u"},_hoisted_29$1=["onContextmenu","onClick","onDblclick"],_hoisted_30$1={class:"file-item"},_hoisted_31$1=["src"],_hoisted_32$1=["src"],_hoisted_33$1=["onKeydown","onBlur"],_hoisted_34$1={key:3,class:"file-name"},_hoisted_35$1={class:"tip"},_hoisted_36$1=["onClick"],_hoisted_37$1={class:"infos"},_hoisted_38$1={class:"search"},_sfc_main$c={props:{item:Object,actionWindowId:String},setup(t){const e=t;let n=reactive(We({},e.item.data)),o=ref("/"),p=ref(""),y=[],{proxy:_}=getCurrentInstance(),r=new Map,s=ref(!1);const a=X=>{L(),apiRunShell(X).then(G=>{})},f=X=>{L(),coolWindow.startNewInputDialog(G=>{let $=coolWindow.startNewLoadingView("\u542F\u52A8\u4E2D");apiRunJar(X,G.targetName).then(ie=>{coolWindow.startNewSuccessMessageDialog(ie.data.data==!0?"\u542F\u52A8\u6210\u529F":"\u542F\u52A8\u5931\u8D25"),$.closeWindow()})},"\u586B\u5199\u542F\u52A8\u53C2\u6570")},v=X=>{let G=coolWindow.startNewLoadingView("\u505C\u6B62\u4E2D");apiStopJar(X).then($=>{coolWindow.startNewSuccessMessageDialog($.data.data),G.closeWindow()}),L()},g=X=>{s.value=!1;let G=z();coolWindow.startNewWebView(X,`path=${G.path}`)},w=()=>{if(z()!=null&&!(e.item.selectType=="file"&&z().type=="folder")&&!(e.item.selectType=="folder"&&z().type!="folder")&&e.item.selectCallback!=null){e.item.selectCallback(z()),wact.closeWindow(e.item.id);return}},E=()=>{L(),s.value=!0},d=()=>{coolWindow.startFileUploadManager()},h=()=>{L(),coolWindow.startNewTerminal(u())},C=()=>{n.searchInputVisible=!n.searchInputVisible,document.querySelector(`#${e.item.id} #searchInput`).focus()},m=X=>{let G=p.value;n.child=y.filter($=>$.name.startsWith(G))},u=()=>n.path.getPath(),c=()=>{L();var X=document.createElement("a");X.download,X.style.display="none",X.href=o.value+`desktop/api/file/download?path=${z().path}`,document.body.appendChild(X),X.click()},l=X=>{L(),coolWindow.startNewDialogCreateFile(G=>{apiCreateFile(u(),G.targetName,X).then($=>{$.data.status!=0&&coolWindow.startNewErrorMessageDialog($.data.msg),ee()})})},b=X=>{coolWindow.startNewFileAttribute(X),L()},S=()=>{L();let X=coolWindow.startNewLoadingView("\u89E3\u538B\u4E2D"),G=randId();W(G,()=>{X.closeWindow(),ee()}),apiFileDecompression(z().path,G).then($=>{})},A=()=>{L();let X=z(),G="";if(X.isFile){let $=X.name.indexOf(".");$==-1?G=X.name:G=X.name.substring(0,$)}else G=X.name;coolWindow.startNewCompressDialogSelect(G,function($,ie){let ce=coolWindow.startNewLoadingView("\u538B\u7F29\u4E2D"),fe=randId();W(fe,()=>{ce.closeWindow(),ee()}),apiFileCompress(z().path,$.targetName,$.type,fe).then(pe=>{})})},L=()=>{n.folderContextMenuVisible=!1,n.contextMenuVisible=!1,e.item.canResize=!0},T=()=>{L(),apiFileCopy(z().path).then(X=>{})},B=()=>{L();let X=coolWindow.startNewLoadingView("\u6587\u4EF6\u590D\u5236\u4E2D..."),G=randId();W(G,()=>{X.closeWindow(),ee()}),apiFilePaste(n.path.getPath(),G).then($=>{$.data.code!=0&&coolWindow.startNewErrorMessageDialog($.data.msg)}).catch($=>{})},O=()=>{apiFileCut(z().path).then(X=>{}),L()},x=X=>{var G=document.querySelector(X);if(document.body.createTextRange){var $=document.body.createTextRange();$.moveToElementText(G),$.select()}else if(window.getSelection){var ie=window.getSelection(),$=document.createRange();$.selectNodeContents(G),ie.removeAllRanges(),ie.addRange($)}},I=(X,G)=>{if(X.keyCode==13){let $=document.querySelector(`.window-body ul li:nth-child(${G+1}) span`);apiFileRename(n.child[G].path,$.textContent).then(ie=>{ee(),ie.data.status!=0&&coolWindow.startNewErrorMessageDialog(ie.data.msg)}),X.preventDefault(),X.stopPropagation()}},R=X=>{n.child[X].edit=!1},F=()=>{let X=z(),G=n.child.findIndex($=>$==X);setTimeout(function(){document.querySelector(`.window-body ul li:nth-child(${G+1}) span`).focus(),x(`.window-body ul li:nth-child(${G+1}) span`)},0),n.child[G].edit=!0,L()},D=(X,G)=>{X.preventDefault(),X.stopPropagation(),e.item.canResize=!1,n.selectFileItem=G,n.folderContextMenuVisible=!1,n.currentSelectName=G.name,n.contextMenuVisible=!0;let $=document.getElementById(e.item.id);n.contextMenuPoint.x=X.x-$.offsetLeft,n.contextMenuPoint.y=X.y-$.offsetTop,console.log(n.selectFileItem)},k=X=>{X.preventDefault(),X.stopPropagation(),e.item.canResize=!1,n.currentSelectName="",n.folderContextMenuVisible=!0,n.contextMenuVisible=!1;let G=document.getElementById(e.item.id);n.folderContextMenuPoint.x=X.x-G.offsetLeft,n.folderContextMenuPoint.y=X.y-G.offsetTop},P=X=>{apiListDirectory(X).then(G=>{n.child=G.data.data,n.searchInputVisible=!1,y=n.child;for(const $ of n.child)$.edit=!1})},j=X=>{if(X.type=="none"){postMessage({action:"notification",param:{message:CANTHANDLE_FILE_TYPE,type:"error"}});return}let G=getApplicationByMedia(X.type)[0];if(G==null){postMessage({action:"notification",param:{message:NOTFOUND_APPLICATION,type:"error"}});return}coolWindow.startNewWebView(G,`path=${X.path}`)},V=X=>{if(X.type!="folder"){j(X);return}n.child.length=0,n.contextMenuVisible=!1,n.path.append(X.name),P(n.path.getPath())},J=X=>{n.path.range(X),n.contextMenuVisible=!1,P(n.path.getPath()),L()},z=()=>n.selectFileItem,Q=()=>{n.contextMenuVisible=!1,z().type=="folder"&&(L(),coolWindow.startNewFolder(z().path))},ee=()=>{L(),P(n.path.getPath())},re=()=>{n.contextMenuVisible=!1,apiDeleteFileOrFolder(z().path).then(X=>{if(X.data.status==0){ee();return}coolWindow.startNewErrorMessageDialog(X.data.msg)})},M=X=>{X.dataTransfer.effectAllowed="all",X.dataTransfer.dropEffect="move"},H=X=>{X.preventDefault()},N=X=>{},U=X=>{X.preventDefault();let G=X.dataTransfer.files,$=n.path.path;for(let ie=0;ie<G.length;ie++){const ce=G[ie];offerFile(ce,$)}},W=(X,G)=>{r.set(X,{doneFunction:G})},Y=X=>{if(X.action=="refresh"){ee();return}let G=r.get(X.id);if(G!=null){let $=G.doneFunction;$ instanceof Function&&$()}};let Z=X=>{Y(X)};const se=()=>{_.eventBus.on("/event/file",Z),_.eventBus.on("/event/compress/result",Z)};return e.item.events=function(X,G){X=="close"&&(_.eventBus.off("/event/file",Z),_.eventBus.off("/event/compress/result",Z))},onMounted(()=>{se(),P(n.path.getPath())}),(X,G)=>(openBlock(),createBlock(_sfc_main$g,{item:t.item,className:"folder"},{extend:withCtx(()=>[unref(n).folderContextMenuVisible?(openBlock(),createElementBlock("div",{key:0,style:normalizeStyle({left:unref(n).folderContextMenuPoint.x+"px",top:unref(n).folderContextMenuPoint.y+"px"}),class:"file-menu"},[createBaseVNode("menu",null,[createBaseVNode("div",_hoisted_1$c,[createBaseVNode("li",{onClick:G[0]||(G[0]=$=>h())},"\u5728\u6B64\u5904\u6253\u5F00\u7EC8\u7AEF")]),createBaseVNode("div",_hoisted_2$b,[createBaseVNode("li",{onClick:G[1]||(G[1]=$=>l("folder"))},"\u521B\u5EFA\u6587\u4EF6\u5939"),createBaseVNode("li",{onClick:G[2]||(G[2]=$=>l("file"))},"\u521B\u5EFA\u6587\u4EF6")]),createBaseVNode("div",_hoisted_3$7,[createBaseVNode("li",{onClick:G[3]||(G[3]=$=>B())},"\u7C98\u8D34")]),createBaseVNode("div",_hoisted_4$6,[createBaseVNode("li",{onClick:G[4]||(G[4]=$=>b(u()))},"\u5C5E\u6027")])])],4)):createCommentVNode("",!0),unref(n).contextMenuVisible?(openBlock(),createElementBlock("div",{key:1,style:normalizeStyle({left:unref(n).contextMenuPoint.x+"px",top:unref(n).contextMenuPoint.y+"px"}),class:"file-menu"},[createBaseVNode("menu",null,[unref(n).selectFileItem.type!="folder"?(openBlock(),createElementBlock("div",_hoisted_5$6,[createBaseVNode("li",{onClick:G[5]||(G[5]=$=>E())},"\u6253\u5F00\u65B9\u5F0F")])):createCommentVNode("",!0),unref(n).selectFileItem.type=="folder"?(openBlock(),createElementBlock("div",_hoisted_6$5,[createBaseVNode("li",{onClick:G[6]||(G[6]=$=>Q())},"\u5728\u65B0\u7A97\u53E3\u6253\u5F00")])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_7$5,[createBaseVNode("li",{onClick:G[7]||(G[7]=$=>re())},"\u5220\u9664"),createBaseVNode("li",{onClick:G[8]||(G[8]=$=>T())},"\u590D\u5236"),createBaseVNode("li",{onClick:G[9]||(G[9]=$=>O())},"\u526A\u5207"),createBaseVNode("li",{onClick:G[10]||(G[10]=$=>F())},"\u91CD\u547D\u540D")]),unref(n).selectFileItem.type!="folder"?(openBlock(),createElementBlock("div",_hoisted_8$5,[createBaseVNode("li",{onClick:G[11]||(G[11]=$=>c())},"\u4E0B\u8F7D")])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_9$5,[createBaseVNode("li",{onClick:G[12]||(G[12]=$=>A())},"\u538B\u7F29"),createBaseVNode("li",{onClick:G[13]||(G[13]=$=>S())},"\u89E3\u538B")]),createBaseVNode("div",_hoisted_10$4,[createBaseVNode("li",{onClick:G[14]||(G[14]=$=>b(z().path))},"\u5C5E\u6027")]),unref(n).selectFileItem.rawType=="jar"?(openBlock(),createElementBlock("div",_hoisted_11$4,[createBaseVNode("li",null,[_hoisted_12$4,createBaseVNode("menu",_hoisted_13$4,[createBaseVNode("li",{onClick:G[15]||(G[15]=$=>f(z().path))},"\u8FD0\u884C"),createBaseVNode("li",{onClick:G[16]||(G[16]=$=>v(z().path))},"\u505C\u6B62")])])])):createCommentVNode("",!0),unref(n).selectFileItem.rawType=="sh"?(openBlock(),createElementBlock("div",_hoisted_14$4,[createBaseVNode("li",null,[_hoisted_15$4,createBaseVNode("menu",_hoisted_16$4,[createBaseVNode("li",{onClick:G[17]||(G[17]=$=>a(z().path))},"\u8FD0\u884C")])])])):createCommentVNode("",!0)])],4)):createCommentVNode("",!0)]),body:withCtx(()=>[unref(s)?(openBlock(),createElementBlock("div",_hoisted_17$4)):createCommentVNode("",!0),unref(s)?(openBlock(),createElementBlock("div",_hoisted_18$4,[createBaseVNode("div",_hoisted_19$4,[createBaseVNode("header",_hoisted_20$2,[createBaseVNode("button",{onClick:G[18]||(G[18]=$=>isRef(s)?s.value=!1:s=!1),class:"base-button"},"\u53D6\u6D88"),_hoisted_21$2,_hoisted_22$1]),createBaseVNode("ul",_hoisted_23$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(applicationState).applications,$=>(openBlock(),createElementBlock("li",{key:$.applicationId,onClick:ie=>g($),class:"cursor-pointer margin-b-5px"},[createBaseVNode("div",_hoisted_25$1,[createBaseVNode("img",{class:"wh-30px",src:unref(o)+"desktop/webapplication/"+$.applicationId+"/logo.png",alt:""},null,8,_hoisted_26$1),createBaseVNode("span",_hoisted_27$1,toDisplayString($.applicationName),1)])],8,_hoisted_24$1))),128))])])])):createCommentVNode("",!0),createBaseVNode("div",{onDragstart:M,onDragover:H,onDragleave:N,onDrop:U,onContextmenu:G[19]||(G[19]=withModifiers($=>k($),["prevent"])),onClick:G[20]||(G[20]=$=>L()),class:"folder-global"},[t.item.windowType=="folder"?(openBlock(),createElementBlock("ul",_hoisted_28$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n).child,($,ie)=>(openBlock(),createElementBlock("li",{key:$,onContextmenu:withModifiers(ce=>D(ce,$),["prevent"]),class:normalizeClass({select:unref(n).currentSelectName==$.name}),onClick:ce=>{unref(n).currentSelectName=$.name,unref(n).contextMenuVisible=!1,unref(n).selectFileItem=$},onDblclick:ce=>V($)},[createBaseVNode("div",_hoisted_30$1,[$.type!="image"?(openBlock(),createElementBlock("img",{key:0,src:unref(o)+"desktop/api/file/getFileIconByType?type="+$.rawType},null,8,_hoisted_31$1)):createCommentVNode("",!0),$.type=="image"?(openBlock(),createElementBlock("img",{key:1,src:unref(o)+"desktop/api/file/getImageThumbnail?path="+encodeURIComponent($.path),alt:""},null,8,_hoisted_32$1)):createCommentVNode("",!0),$.edit?(openBlock(),createElementBlock("span",{key:2,onKeydown:ce=>I(ce,ie),onBlur:ce=>R(ie),class:"contenteditable",contenteditable:"true"},toDisplayString($.name),41,_hoisted_33$1)):createCommentVNode("",!0),$.edit==!1?(openBlock(),createElementBlock("span",_hoisted_34$1,toDisplayString($.name),1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_35$1,toDisplayString($.name),1)])],42,_hoisted_29$1))),128))])):createCommentVNode("",!0)],32)]),header:withCtx(()=>[createBaseVNode("header",null,[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n).path.pathBlock,($,ie)=>(openBlock(),createElementBlock("li",{key:$,onClick:ce=>J(ie)},toDisplayString($),9,_hoisted_36$1))),128))]),createBaseVNode("div",_hoisted_37$1,[createBaseVNode("div",_hoisted_38$1,[withDirectives(createBaseVNode("input",{id:"searchInput",class:normalizeClass([{open:unref(n).searchInputVisible},"base-input close"]),placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5B57\u7B26","onUpdate:modelValue":G[21]||(G[21]=$=>isRef(p)?p.value=$:p=$),onInput:m,type:"text"},null,34),[[vModelText,unref(p)]]),createBaseVNode("img",{onClick:G[22]||(G[22]=$=>C()),src:_imports_0$2,alt:""})]),unref(uploads).files.length>0?(openBlock(),createElementBlock("div",{key:0,onClick:G[23]||(G[23]=withModifiers($=>d(),["stop"])),class:"loader"})):createCommentVNode("",!0),e.item.isSelect==!0?(openBlock(),createElementBlock("button",{key:1,onClick:w,class:"base-button green"},"\u9009\u62E9")):createCommentVNode("",!0)])])]),_:1},8,["item"]))}};var iframe_vue_vue_type_style_index_0_lang="";const _hoisted_1$b={class:"iframe"},_hoisted_2$a={key:0,class:"menu"},_hoisted_3$6={class:"first-menu"},_hoisted_4$5=["onClick"],_hoisted_5$5=["src"],_sfc_main$b={props:{item:Object,actionWindowId:String},setup(t){const e=t;e.item.events=function(s,a){s=="close"&&(document.querySelector(`#${e.actionWindowId} #iframe`).style.display="none")};const n=s=>{document.getElementById("iframe").contentWindow.postMessage({"menu-event":{action:s}},"*")};let o=reactive(We({},e.item.data)),p=o.application.menus,y=reactive([]),_=new Map;return(()=>{for(let s of p){if(s.length==0)continue;let a=s.split("/"),f=_.get(a[0])||[];f.push(a[1]),_.set(a[0],f)}for(let[s,a]of _)y.push({name:s,subMenu:a})})(),(s,a)=>(openBlock(),createBlock(_sfc_main$g,{item:t.item,className:"web"},{body:withCtx(()=>[createBaseVNode("div",_hoisted_1$b,[unref(y).length!=0?(openBlock(),createElementBlock("menu",_hoisted_2$a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(y),f=>(openBlock(),createElementBlock("li",{key:f.name,class:"menu-item"},[createBaseVNode("div",_hoisted_3$6,toDisplayString(f.name),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(f.subMenu,v=>(openBlock(),createElementBlock("menu",{key:v,class:"second-menu"},[createBaseVNode("div",{onClick:g=>n(f.name+"/"+v),class:"second-name"},toDisplayString(v),9,_hoisted_4$5)]))),128))]))),128))])):createCommentVNode("",!0),createBaseVNode("iframe",{id:"iframe",class:normalizeClass({"iframe-pointer-events":unref(o).pointerEvents}),src:unref(o).url},null,10,_hoisted_5$5)])]),header:withCtx(()=>[createBaseVNode("header",null,toDisplayString(t.item.application.applicationName),1)]),_:1},8,["item"]))}},_hoisted_1$a={class:"fit-parent"},_hoisted_2$9=createBaseVNode("header",null,"\u63D0\u793A",-1),_sfc_main$a={props:{item:Object,actionWindowId:String},setup(t){let n=reactive(We({},t.item.data));return(o,p)=>(openBlock(),createBlock(_sfc_main$g,{item:t.item,className:"error-message"},{body:withCtx(()=>[createBaseVNode("div",_hoisted_1$a,toDisplayString(unref(n).message),1)]),header:withCtx(()=>[_hoisted_2$9]),_:1},8,["item"]))}},_hoisted_1$9={class:"fit-parent"},_hoisted_2$8=createBaseVNode("header",null,"\u63D0\u793A",-1),_sfc_main$9={props:{item:Object,actionWindowId:String},setup(t){let n=reactive(We({},t.item.data));return(o,p)=>(openBlock(),createBlock(_sfc_main$g,{item:t.item,className:"success-message",backgroundClass:"window-body-background-green"},{body:withCtx(()=>[createBaseVNode("div",_hoisted_1$9,toDisplayString(unref(n).message),1)]),header:withCtx(()=>[_hoisted_2$8]),_:1},8,["item"]))}};function selectFile(t,e){return new Promise(n=>{let o=document.createElement("input");o.type="file",o.multiple=e,o.accept=t,o.onchange=p=>{let y=Array.from(o.files);n(e?y:y[0])},o.click()})}const UPLOAD_TIMER_OUT=1e3*60*15;function apiChangeWallpaper(t){let e={timeout:UPLOAD_TIMER_OUT};return instance.post("/desktop/api/system/changeWallpaper",t,e)}function apiGetSystemProperty(){return instance.post("/desktop/api/system/getCoolDesktopProperty")}function apiConfigSecureShell(){return instance.post("/desktop/api/system/configSecureShell")}function apiConfigSecureShellUser(t){return instance.post("/desktop/api/system/configSecureShellUser",lib.stringify({userName:t}))}function apiResetLogoPasswd(){return instance.post("/desktop/api/system/resetLogoPasswd")}function apiGetOpenUrl(){return instance.post("/desktop/api/system/getOpenUrl")}function apiAddOpenUrl(t){return instance.post("/desktop/api/system/addOpenUrl",lib.stringify({url:t}))}function apiRemoveOpenUrl(t){return instance.post("/desktop/api/system/removeOpenUrl",lib.stringify({url:t}))}var setting_vue_vue_type_style_index_0_lang="";const _hoisted_1$8={class:"pos-fixed pos-t-b-r-0"},_hoisted_2$7=["onClick"],_hoisted_3$5=["src"],_hoisted_4$4={class:"setting-container"},_hoisted_5$4={class:"form-item"},_hoisted_6$4=createBaseVNode("span",null,"\u7528\u6237\u540D:",-1),_hoisted_7$4=createBaseVNode("div",{class:"form-item"},[createBaseVNode("div",{class:"tip"},[createBaseVNode("div",null,"\u7CFB\u7EDF\u5C06\u91C7\u7528RSA\u8BA4\u8BC1\uFF0C\u60A8\u53EA\u9700\u8981\u63D0\u4F9B\u7528\u6237\u540D\u5373\u53EF\uFF0C\u4F46\u8FD9\u91CC\u6211\u4EEC\u4E0D\u4F1A\u8FC7\u591A\u4F20\u8F93\u60A8\u7684\u7528\u6237\u540D"),createBaseVNode("br"),createBaseVNode("div",null,'\u70B9\u51FB\u4E0B\u65B9\u91CD\u7F6E\u6309\u94AE\u5C06\u81EA\u52A8\u751F\u6210\u516C/\u79C1\u94A5\u5E76\u4FDD\u5B58\u81F3"authorized_keys"\u6587\u4EF6\u4E2D\uFF0C\u6B64\u540E\u60A8\u5C06\u53EF\u4EE5\u4F7F\u7528\u7EC8\u7AEF\u7A0B\u5E8F')])],-1),_hoisted_8$4={class:"perview"},_hoisted_9$4=["src"],_hoisted_10$3=createBaseVNode("span",null,"\u5F00\u653E\u8DEF\u5F84\u7528\u4E8E\u5BF9\u5916\u5F00\u653E\u67D0\u4E2A\u8BF7\u6C42\u8DEF\u5F84\uFF0C\u4F7F\u6B64\u5730\u5740\u4E0D\u518D\u53D7\u7CFB\u7EDF\u6743\u9650\u7BA1\u7406",-1),_hoisted_11$3={class:"flex-1 font-size-10px"},_hoisted_12$3=["onClick"],_hoisted_13$3=createBaseVNode("br",null,null,-1),_hoisted_14$3=createBaseVNode("br",null,null,-1),_hoisted_15$3=createTextVNode(" \u8BE6\u7EC6\u8BF7\u67E5\u770B\u5B98\u65B9\u6587\u6863 "),_hoisted_16$3=createBaseVNode("br",null,null,-1),_hoisted_17$3=createBaseVNode("br",null,null,-1),_hoisted_18$3=createTextVNode(" \u672C\u7CFB\u7EDF\u8FD8\u5904\u4E8E\u5F00\u53D1\u9636\u6BB5\uFF0C\u6B22\u8FCE\u5BF9\u672C\u7CFB\u7EDF\u611F\u5174\u8DA3\u5E76\u60F3\u53C2\u4E0E\u4ED6\u7684\u5F00\u53D1\u7684\u670B\u53CB\u52A0\u5165\u3002 "),_hoisted_19$3=createBaseVNode("header",null,"\u8BBE\u7F6E",-1),_sfc_main$8={props:{item:Object,actionWindowId:String},setup(t){let e=ref(""),n=reactive({list:[]}),o=ref(`${new URL("/assets/desktop.117a6063.jpg",self.location).href}`),p=ref("\u672A\u83B7\u53D6\u5230");const y=[{name:"SSH",icon:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABBxJREFUWEe1l21sFFUUhp8zW1oUC91Kv5eAVGsDfoA0WtSm+kNDqHwERVE0iqbwR+MHsaiJ/tDECAZJjCFBYpGIRE0INEKjYkIQVEKLgkQjmpYmdretK922SGgLnWNmhm13l+3ettL5N3Pf9z3vuffcc+8Io3xawlqQkc7cAZtcEXIcuiphn8XfWDQUZEp4NJIyEnD4nBb09bPCgsUK96TiqLJPfNSnp7E7Z5K0mfRTGnAC9/ayxrKoBgpNYgnjIdtm68SJbEllZFgDrT06X2xqUUpHGTgRfhrh1aIs+TyZTlIDoYguU9j1PwPH0RXWBvzyXqLmZQZCEX1BYdOVDB7V8vlYlD9Z9sZqxxkIRXSpwu7xCB7VtC3umDZFjkbfBw00NuqEgmKOALeNpwHgp7YmysvK5IITZ9BAa0RfEtg4zsFd+dh6cA00d2heRrqb/YyRGDh/Ef7ohD8jHvoGP5Rkw1VpI2G7mJa+fspn5kmHayAY0eeA90dC/7kD3voBfBbc4vZB+CUMAza8fifMzRuJijv3NUVZ8q5rIBTRA6YO5+A+PA5bTsCLZfD47PhAO36FTY2w5lZYPcdsQqEh4JfbpbVHS2SAUyZKcxcsr4NjT6ZGztsO26vgpqkmRbDSmC3BHl3MAHUm+LP7YXkpVE6DQ61QEUjOONYO207CB/eZFAEfSyQY0aeBj0xwJzMn+29b4I3DsPl+mJObnBXFmjSBZyTYqTUI61OBnel/5SB8scRDOSY2H4f1ld4OSHweroN3KmFmlsGCsk6CXfoyyoZU0JZuWHsAdi31UOsOQuE18Py85KwH98DGe2HGFIMBoUZaI/qUwDbTdJV/Akee8LL/rhXevNtjrP56iFmW5+2AKNakqbBK2rp1oW2zzwR++0e4OQcWXR+PdIou9gn9CyfD8Np8kyJYFlXyV7dmWzZnzHCo2AlbF0BpdnL0751Q/RUcemwkau42zPU6YafuRHjURHMCrKqHlbPggeKhNXZqZG8TfPobbFs4vMFYfVXqA9lS5XXCTl2pwg6TAWf8bL/XihvbITPdYzjfyvK9Vhz9ZtJy1j/gl48HT8NgRA8Dd5mIseOnu72360zVfrno90V+cct4yMAZfQSLz0ZjYMxYmxVF13p3xLgbUTCizm3o0m4fs3xKonPXDPjloSgozkD7Wc0duOgeTKYeNlZ3oV5lVnG2XFq8hBlwC7JLy1RpGGuEVDyfUJyfJc2xmOGu5dNV+Aal5EoYEaHdVhYE/HIiUW/YH5NwWDMvTKBWlcH1GqOZPeKjunCy/JOMb/w3dI9rxTkxbxyVAeUUwoYiv9Sm4hkNuHUR0qlczTKUCqBCYfow2TTZyn4Rjsp5viwsTJ61sQZMmba36yTNIAfL+z3HJix9hPPz5ZyJmzj+H/e2VF5XXYT5AAAAAElFTkSuQmCC",self.location).href},{name:"\u80CC\u666F",icon:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAjpJREFUWEfNl01IVFEUx//nvlHaiDHjSCi4VUjHTUKFCO4FlwqCy9wo1KYWrYJauFLITdso0GXgXpCooBBmRsFaCAq58PkmrU0w790T9+ab5uN94gy3uz1fv3vOPefeS0i42LYHADHjgacINAZgCMDNK/MLACcMLlugXUBuUz5/msQ1xSmx49yVEg8BzMXpNsm3hMA65XKfouxCAXhnJyPHxtfAvJwycKM60YYoFx/R9LQb5CcQgCuVgnT5NQjj1wruGzOKIkOLlM2Wmv21AFTPKpOCeBtAb1uC/3NyKZlmuvqz7+v9NgDonXu824HgfsxLYdFUfSZqALrmtwtf2pb2sPSpchyU7vhnogbgnVdeXvvAJa0Z0YbVl11R6hrgqtU+JrVvh54QuKdaVAN4trMZ1efutyO4e+VUcbvuT8AaGoiy2bLyuXlSE05CfA/VrLr4+fg5vKPjVADW4C30rD8DdXeH2gnIQWLbeSCBV2Fa7v4hfj1dTRXcV+558QSZ0ZEIACyRa5+/IdCCCQAGvyXPdooACiYAAJQUwI+6W62Fo5MlAHChADiqwB0GwH8BYLwEkYdQlUe1oSpFmqXaT7VhzCrFtqHvIAjA3f+qxZnR4ZY4Uf3vK+s2jBtEUTv4vflOi2/Mz8btNFAugKX4URxg6p2covrhc4Mkwexv8aRHcZLLqNmyTQB/LyPl3Ph1rLNg8kGis2D6SaYhTD5K/YNm9FleGxAmPyY1CJNfs/q+N/Y5bR4+nfqe/wGEC0Tymoqk2QAAAABJRU5ErkJggg==",self.location).href},{name:"\u767B\u5F55\u5BC6\u7801",icon:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAotJREFUWEftlsFLVFEUxr/z7oxN0kiu2ogJQThvpMgstGZsJGrbjFKECymIMtq4ae9/0DIXgbQIC2mctm6S3piBUwnla4wsaRcFRoYNzrv3xDiOaM7Me6MvNehu77nf9zvnnXfuJezwoh32x78LEDmCOkuKsMbQpJSp8RnMbKaaFVegPSh6mNELoA3ALMCLANUDSDHwIGnKwUpAKgIIB8UQGJcZfMOj1OhYGnMFs5CuXSfGLRB9NEwZcwrhGCAcENdA3GeYqqmU+NkmHFhSYgCgD4Zp3XYC4QjgdMDbqpGaAMmgMQ2znHCo0XucNJViQndyWg7ZQTgCCOviLoO/JE3VbyeY22/XRZwJP41p2WMX7wwgIMaZcM9pg4V0rZ8YMeOdOuoOgC4WSKOuZ2+tUTvB3H4oIGJEiBumtE3QNiAnGNYFs6KOZNoacwKwDKGLi0lTDtvF/zUAO+PC/u4FWHh1QVdZukQanXmT/hY5WFczVbOv6rvTzFbjmO9LibHatsTq0FqrUbICP1Kdg2C+UrFhsQNEiZqWeNHpWBRgfiLaIDz0yRXzFRESKuhvfrJhiBUHmIxGBOhpOQA5B1jveTnEc5ggGsrjSnBH7YnEhr9oUwCWyfg1mDcvrL1XCR69dE+7CpB5zMi+WA/gbSX4urYL4BEjm7v91yzvMYKve5sAsi8ZmYfrAarOEfac3yaAXOKLAwpyNl8CcQio7tXKdqGrPbArALLPGZmR/GfwxQjeU+WnuusVyD1FrfTKHGgkULWbc+B1dL+w6DMAv0vTMEPCU+9vHv76p17Jui1Mdt5hcJ8bAEQY8LeM3Cx6TZQzmJ+MRjSFyFYgFCFRezIxVUrD0XtgKwB2Z/8D/Ab4yx0wf+i0NwAAAABJRU5ErkJggg==",self.location).href},{name:"\u5F00\u653E\u8DEF\u5F84",icon:new URL("/assets/ic-setting-url.f843a023.png",self.location).href},{name:"\u5173\u4E8E",icon:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAxFJREFUWEfNV01IFGEYft7Z7QdDxVk9hukhybGDCNGlKOpgh4qKfoiMwFFRqHsUVGA/d6Eoxw4dSvuD6mQYRV0KpIIcNRF/6iDkOqsrCanzvfGNzrLrujozrdDcdvZ9nvf53u9953s+gsenrG08d51N+1lRTgLYCqAQQGQRPgEgCmCAhOiYC3HX99qiaS/UtFpQRWt0G5NyHoxTIBSsFu/8z4iB0E4sWnrqCvtWwqwoQDOsZhBk8jxPiZcGEeJgtJi6ejkTPqMAzbDeA9gVKHE66IOpq7uX41pWgGZY44t7nKX8Dk3U1NWi9CIteaMZ1jCALdnMnMQ1YupqSTJ3SgU0w3oM4PgaJXdpn5i6esL9kRDgNBxwyWdyOWrNDB4mKDUAH/SIv+42piPAGTVF+Rig29+ZurpXclTeny6aFXO/PAkgxEmInXJEHQGaYd0G0OgJnBREjJaeOvWC+0ozLPbBccfU1SYqvWvl54QwykC+D7AbOkik3Jqf5TdKWJwjoiteOQiYmrFRTBVGrIbBD7wCsxlHoLOkGRNPATqWTWLvXPyMNMP6LHvIO2ghkhnfKISbZNtjTKGmgOP7RQr4AWCzPwH0SmxY39BXs2ksqQHfAtjjjwc/pYDfAHJ8AhPjF3ACXNhMUAGw56ikv7FgRDKVG5P7CKLL5yJkuCMgwBYALKiyt77gq/MhM6wbDFwMIMDZgiBNGDd1NfHd0IzYJ4B3BBDgNGE7AGmzvD+ETrNWrZaAsjbODXMs7h2cEtlBFfeiR1hRnvshYOZrvXWRqxKzvXWySpDo9oN3Y0mIoyTNZliERj37PYkWXG3WRzr/aQIYsXnFLg50GP3ZyPmDZyKJspcbE90EqvJZhYXDyOlin8exLcJl/fV5A4E/QkuPY0nky5AwHjGL1xJHiiLdzQGfq081JEkryaYTzqQpxSGnueI1csSumDRnnMmWr4UzTnPEzhZmqlOWHXKKE07O+f9ezVyV7uWUgNNefaP0eww8/OfLaXKpFswrHWKIwwCVLn895yGC8mLG5pdDDeqUl9H8C5rePgCzJWRDAAAAAElFTkSuQmCC",self.location).href}];let _=ref(0);const r=()=>{let h=coolWindow.startNewLoadingView("\u91CD\u7F6E\u4E2D");apiResetLogoPasswd().then(C=>{h.closeWindow(),coolWindow.startNewSuccessMessageDialog(C.data.data)})},s=()=>{apiGetSystemProperty().then(h=>{let C=h.data.data.wallpaper;if(p.value=h.data.data["cooldesktop.version"],C!=null&&C!=""){C=C.substr(1);let m=ref("/");o.value=`${m.value}${C}`}})},a=()=>{selectFile("image/*",!1).then(h=>{const C=new FormData;C.append("file",h);let m=coolWindow.startNewLoadingView("\u4E0A\u4F20\u4E2D...");apiChangeWallpaper(C).then(u=>{s(),m.closeWindow()})})},f=()=>{let h=coolWindow.startNewLoadingView("\u4FDD\u5B58\u4E2D");apiConfigSecureShellUser(e.value).then(C=>{h.closeWindow(),coolWindow.startNewSuccessMessageDialog(C.data.data)})},v=()=>{let h=coolWindow.startNewLoadingView("\u91CD\u7F6E\u4E2D");apiConfigSecureShell().then(C=>{h.closeWindow(),coolWindow.startNewSuccessMessageDialog(C.data.data)})},g=()=>{coolWindow.startNewDialogCreateFile(h=>{if((h.targetName||"").length==0){coolWindow.startNewErrorMessageDialog("\u53C2\u6570\u4E0D\u80FD\u4E3A\u7A7A");return}apiAddOpenUrl(h.targetName).then(C=>{C.data.status<0&&coolWindow.startNewErrorMessageDialog(C.data.msg),E()})})},w=h=>{apiRemoveOpenUrl(h).then(C=>{coolWindow.startNewSuccessMessageDialog(C.data.msg),E()})},E=()=>{apiGetOpenUrl().then(h=>{n.list=h.data.data})};s(),E();const d=h=>{_.value=h};return(h,C)=>(openBlock(),createBlock(_sfc_main$g,{className:"setting",item:t.item},{body:withCtx(()=>[createBaseVNode("aside",_hoisted_1$8,[createBaseVNode("ul",null,[(openBlock(),createElementBlock(Fragment,null,renderList(y,(m,u)=>createBaseVNode("li",{onClick:c=>d(u),class:normalizeClass([u==unref(_)?"select":""]),key:m},[createBaseVNode("div",null,[createBaseVNode("img",{src:m.icon,alt:"",srcset:""},null,8,_hoisted_3$5),createBaseVNode("span",null,toDisplayString(m.name),1)])],10,_hoisted_2$7)),64))])]),createBaseVNode("div",_hoisted_4$4,[createBaseVNode("div",{style:normalizeStyle([unref(_)==0?"":"display:none"]),class:"page page-ssh"},[createBaseVNode("div",_hoisted_5$4,[_hoisted_6$4,withDirectives(createBaseVNode("input",{"onUpdate:modelValue":C[0]||(C[0]=m=>isRef(e)?e.value=m:e=m),type:"text"},null,512),[[vModelText,unref(e)]]),createBaseVNode("button",{class:"save-user-button base-button green",onClick:f},"\u4FDD\u5B58")]),_hoisted_7$4,createBaseVNode("div",{class:"form-item"},[createBaseVNode("button",{onClick:v,class:"button base-button green"},"\u91CD\u7F6E")])],4),createBaseVNode("div",{style:normalizeStyle([unref(_)==1?"":"display:none"]),class:"page-background"},[createBaseVNode("div",_hoisted_8$4,[createBaseVNode("img",{onClick:a,src:unref(o),alt:""},null,8,_hoisted_9$4)])],4),createBaseVNode("div",{style:normalizeStyle([unref(_)==2?"":"display:none"]),class:"page-passwd"},[createBaseVNode("button",{onClick:r,class:"button color-white base-button"},"\u91CD\u7F6E")],4),createBaseVNode("div",{style:normalizeStyle([unref(_)==3?"":"display:none"]),class:"padding-10px page-url-config"},[_hoisted_10$3,createBaseVNode("button",{onClick:g,class:"button color-white base-button green"},"\u589E\u52A0"),createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n).list,m=>(openBlock(),createElementBlock("li",{key:m,class:"margin-10px background-white-translucent padding-10px border-5-radius flex"},[createBaseVNode("div",_hoisted_11$3,toDisplayString(m),1),createBaseVNode("button",{onClick:u=>w(m),class:"button color-white base-button red"},"\u5220\u9664",8,_hoisted_12$3)]))),128))])],4),createBaseVNode("div",{style:normalizeStyle([unref(_)==4?"":"display:none"]),class:"page-about padding-10px"},[createTextVNode(" CoolDesktop("+toDisplayString(unref(p))+")\u662F\u4E00\u6B3E\u670D\u52A1\u5668\u7BA1\u7406\u8F6F\u4EF6\uFF0C\u63D0\u4F9B\u5F3A\u5927\u7684\u8F6F\u4EF6\u6269\u5C55\u80FD\u529B\uFF0C\u4EFB\u4F55\u5F00\u53D1\u8005\u90FD\u5C06\u53EF\u4EE5\u81EA\u884C\u5F00\u53D1\u7BA1\u7406\u8F6F\u4EF6\u5E76\u6302\u5728\u5230\u672C\u7CFB\u7EDF\u4E0A\u3002 ",1),_hoisted_13$3,_hoisted_14$3,_hoisted_15$3,_hoisted_16$3,_hoisted_17$3,_hoisted_18$3],4)])]),header:withCtx(()=>[_hoisted_19$3]),_:1},8,["item"]))}};var _imports_0$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAgdJREFUWEfNV11LG0EUPbewk/9Q2Mnj7v4TX/ooKC0oFS0ttigqlRbqB9j6SUvjB41YKiiKvvkL+ug/2M1jNvTJX5AN5Mpukxgzs26MsdN9nL1zz5lzZu7MJV+KxSeEAWbYAJ+5YW0aj/gFtrUDYBBEl4T6OgVSXAB41sQkwqlTjoYfg0MpL06YMdTKzfw7JvAHwNMOwGM3jF70k0QgxRGA57dyMl9RIK2vAE11ghFw6ITRaD9IlKT4xcCIkot5l+JBRZpmJOOnW4nGHkIisMUBCC+VBTasTgjEn1YiAAza98LqRC8kSjL3g8G6uS2LWwQSJdKkItpzy9U39yER5HO7YH6dZe0tAokSKZIx87ZXqb3thkRJWt8ZpMZqLFUIxAC+zBUJPK6C8besOpG+qanohNVXGkX0a0qTkJm3vEptVjcrsMUGCOq/OyzUKtBM7ttWgYgmNWBrbhjNt48HUqwCeK+ukAtOWHuXZt2dBP6eDn2dYMJnrxx9TCzLixVifOjFskwCCYBtbRLRTCcAA8vxGAGf1CKDTbcSzWVt2q4INOqEVuIUAMWini1on5gu9U1UuzVZq2+o103YTYwvxZJW8qRqYtkLo4X7ZOzagtbJMEnAqAVp5/yfbEKjx9BoITJaio1eRkavY6MPEqNPMqOPUqPPcuONyX/QmhlsToFzMtmeM9W/XAOpb13f7mgI7QAAAABJRU5ErkJggg==";const _hoisted_1$7={key:0,class:"empty"},_hoisted_2$6=createBaseVNode("svg",{t:"1640616804409",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5084",width:"60",height:"60"},[createBaseVNode("path",{d:"M459.485 887.553v-1.398 1.398z m55.893-60.475c-30.733 0-55.893 23.867-55.893 53.996v0.67c0 6.163 4.87 10.975 11.139 10.975 6.262 0 11.139-4.812 11.139-10.975v-0.67c0-17.808 14.618-32.82 33.516-32.82s33.516 15.012 33.516 32.82v0.67c0 6.163 4.87 10.975 11.14 10.975 6.262 0 11.139-4.812 11.139-10.975v-0.67c0.197-29.453-24.963-53.996-55.696-53.996zM381.766 710.664c-15.846-3.57-39.457-2.776-44.465 13.391-2.862 9.826 13.594 11.316 28.724 14.789 12.164 2.776 18.708 9.124 17.277 11.31-2.862 3.57-20.854-3.473-37.317 2.087-15.845 5.652-12.878 19.745-3.577 23.217 9.308 3.571 24.438-0.696 59.602 4.963 17.985 2.776 28.724-2.783 30.87-13.398 4.09-23.912-28.927-51.396-51.114-56.359z m209.394 56.49c2.146 10.424 12.163 16.03 30.87 13.28 35.164-5.606 50.294-1.379 59.596-4.923 9.3-3.44 12.163-18.19-3.578-23.007-15.845-5.606-33.74 1.378-37.31-2.068-2.146-2.757 5.008-9.045 17.27-11.9 15.032-3.545 31.586-4.917 28.724-14.652-5.008-16.036-28.008-16.718-44.464-13.279-22.384 4.923-55.5 32.164-51.108 56.55z m420.835-294.726l-195.28-181.004c-6.302-6.374-15.492-9.163-24.596-9.163H232.473a35.814 35.814 0 0 0-23.893 9.163L11.9 472.428C4.202 479.498 0 488.668 0 499.321v443.39C0 987.24 35.794 1024 80.79 1024h862.414c44.195 0 80.79-36.759 80.79-81.29V499.322c-0.098-9.958-5.002-19.823-11.999-26.893z m-351.965-2.54c-12.65 0-23.29 10.62-23.29 24.143 0 66.809-56.398 122.997-123.338 122.997S390.063 560.84 390.063 494.031c0-12.82-10.542-24.143-23.283-24.143H91.897l146.621-135.115H786.88l145.217 135.115H660.023z m311.452 48.679v425.962c0 15.576-11.92 26.958-26.749 26.958H80.666c-15.53 0-28.153-12.077-28.153-26.958V518.567h292.763c5.613 36.844 23.244 71.594 51.397 97.85 32.36 31.154 73.846 47.53 117.53 47.53 43.585 0 85.162-16.974 117.523-47.523 27.457-26.965 45.79-60.914 51.396-97.857h288.36z m-723.23-315.049l-89.835-83.941a23.447 23.447 0 0 1-0.807-33.477c9.176-9.432 24.398-9.82 33.982-0.788l89.73 83.942a23.447 23.447 0 0 1 0.913 33.476 24.313 24.313 0 0 1-33.982 0.788z m241.887-39.39a23.65 23.65 0 0 1-7.647-16.64l-3.315-122.913C478.868 11.303 489.614 0.406 503.155 0.012c13.64-0.295 24.904 10.103 25.318 23.277l3.216 122.912a23.808 23.808 0 0 1-14.572 22.383 25.239 25.239 0 0 1-26.978-4.457z m232.702 32.688a23.913 23.913 0 0 1-7.351-16.837 24.123 24.123 0 0 1 6.459-17.132l84.02-89.77a23.453 23.453 0 0 1 33.463-0.8 24.3 24.3 0 0 1 0.795 33.975l-84.02 89.77a24.011 24.011 0 0 1-16.575 7.47c-6.157 0-12.209-2.298-16.784-6.676z",fill:"#ffffff4a","p-id":"5085"})],-1),_hoisted_3$4=[_hoisted_2$6],_hoisted_4$3=["onClick"],_hoisted_5$3=createBaseVNode("img",{src:_imports_0$1,alt:""},null,-1),_hoisted_6$3=[_hoisted_5$3],_hoisted_7$3={class:"info"},_hoisted_8$3={class:"name"},_hoisted_9$3=createBaseVNode("header",null,"\u6587\u4EF6\u4E0A\u4F20\u7BA1\u7406\u5668",-1),_sfc_main$7={props:{item:Object,actionWindowId:String},setup(t){let n=reactive(We({},t.item.data));const o=p=>{cancel(p)};return(p,y)=>(openBlock(),createBlock(_sfc_main$g,{item:t.item,className:"file-upload-manager"},{body:withCtx(()=>[unref(n)!=null&&unref(n).files.length==0?(openBlock(),createElementBlock("div",_hoisted_1$7,_hoisted_3$4)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n).files,_=>(openBlock(),createElementBlock("div",{key:_.id,class:"item"},[createBaseVNode("div",{onClick:r=>o(_.id),class:"cancel"},_hoisted_6$3,8,_hoisted_4$3),createBaseVNode("div",_hoisted_7$3,[createBaseVNode("span",_hoisted_8$3,toDisplayString(_.name),1),createBaseVNode("div",{style:normalizeStyle({width:_.progress+"%"}),class:"progress"},null,4)])]))),128))]),header:withCtx(()=>[_hoisted_9$3]),_:1},8,["item"]))}};var collectionUtils={exports:{}},utils$3=collectionUtils.exports={};utils$3.forEach=function(t,e){for(var n=0;n<t.length;n++){var o=e(t[n]);if(o)return o}};var elementUtils=function(t){var e=t.stateHandler.getState;function n(_){var r=e(_);return r&&!!r.isDetectable}function o(_){e(_).isDetectable=!0}function p(_){return!!e(_).busy}function y(_,r){e(_).busy=!!r}return{isDetectable:n,markAsDetectable:o,isBusy:p,markBusy:y}},listenerHandler=function(t){var e={};function n(_){var r=t.get(_);return r===void 0?[]:e[r]||[]}function o(_,r){var s=t.get(_);e[s]||(e[s]=[]),e[s].push(r)}function p(_,r){for(var s=n(_),a=0,f=s.length;a<f;++a)if(s[a]===r){s.splice(a,1);break}}function y(_){var r=n(_);!r||(r.length=0)}return{get:n,add:o,removeListener:p,removeAllListeners:y}},idGenerator=function(){var t=1;function e(){return t++}return{generate:e}},idHandler=function(t){var e=t.idGenerator,n=t.stateHandler.getState;function o(y){var _=n(y);return _&&_.id!==void 0?_.id:null}function p(y){var _=n(y);if(!_)throw new Error("setId required the element to have a resize detection state.");var r=e.generate();return _.id=r,r}return{get:o,set:p}},reporter=function(t){function e(){}var n={log:e,warn:e,error:e};if(!t&&window.console){var o=function(p,y){p[y]=function(){var r=console[y];if(r.apply)r.apply(console,arguments);else for(var s=0;s<arguments.length;s++)r(arguments[s])}};o(n,"log"),o(n,"warn"),o(n,"error")}return n},browserDetector$2={exports:{}},detector=browserDetector$2.exports={};detector.isIE=function(t){function e(){var o=navigator.userAgent.toLowerCase();return o.indexOf("msie")!==-1||o.indexOf("trident")!==-1||o.indexOf(" edge/")!==-1}if(!e())return!1;if(!t)return!0;var n=function(){var o,p=3,y=document.createElement("div"),_=y.getElementsByTagName("i");do y.innerHTML="<!--[if gt IE "+ ++p+"]><i></i><![endif]-->";while(_[0]);return p>4?p:o}();return t===n};detector.isLegacyOpera=function(){return!!window.opera};var utils$2={exports:{}},utils$1=utils$2.exports={};utils$1.getOption=getOption$1;function getOption$1(t,e,n){var o=t[e];return o==null&&n!==void 0?n:o}var utils=utils$2.exports,batchProcessor=function(e){e=e||{};var n=e.reporter,o=utils.getOption(e,"async",!0),p=utils.getOption(e,"auto",!0);p&&!o&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),o=!0);var y=Batch(),_,r=!1;function s(E,d){!r&&p&&o&&y.size()===0&&v(),y.add(E,d)}function a(){for(r=!0;y.size();){var E=y;y=Batch(),E.process()}r=!1}function f(E){r||(E===void 0&&(E=o),_&&(g(_),_=null),E?v():a())}function v(){_=w(a)}function g(E){var d=clearTimeout;return d(E)}function w(E){var d=function(h){return setTimeout(h,0)};return d(E)}return{add:s,force:f}};function Batch(){var t={},e=0,n=0,o=0;function p(r,s){s||(s=r,r=0),r>n?n=r:r<o&&(o=r),t[r]||(t[r]=[]),t[r].push(s),e++}function y(){for(var r=o;r<=n;r++)for(var s=t[r],a=0;a<s.length;a++){var f=s[a];f()}}function _(){return e}return{add:p,process:y,size:_}}var prop="_erd";function initState(t){return t[prop]={},getState(t)}function getState(t){return t[prop]}function cleanState(t){delete t[prop]}var stateHandler$1={initState,getState,cleanState},browserDetector$1=browserDetector$2.exports,object=function(t){t=t||{};var e=t.reporter,n=t.batchProcessor,o=t.stateHandler.getState;if(!e)throw new Error("Missing required dependency: reporter.");function p(a,f){function v(){f(a)}if(browserDetector$1.isIE(8))o(a).object={proxy:v},a.attachEvent("onresize",v);else{var g=r(a);if(!g)throw new Error("Element is not detectable by this strategy.");g.contentDocument.defaultView.addEventListener("resize",v)}}function y(a){var f=t.important?" !important; ":"; ";return(a.join(f)+f).trim()}function _(a,f,v){v||(v=f,f=a,a=null),a=a||{},a.debug;function g(w,E){var d=y(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),h=!1,C=window.getComputedStyle(w),m=w.offsetWidth,u=w.offsetHeight;o(w).startSize={width:m,height:u};function c(){function l(){if(C.position==="static"){w.style.setProperty("position","relative",a.important?"important":"");var A=function(L,T,B,O){function x(R){return R.replace(/[^-\d\.]/g,"")}var I=B[O];I!=="auto"&&x(I)!=="0"&&(L.warn("An element that is positioned static has style."+O+"="+I+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+O+" will be set to 0. Element: ",T),T.style.setProperty(O,"0",a.important?"important":""))};A(e,w,C,"top"),A(e,w,C,"right"),A(e,w,C,"bottom"),A(e,w,C,"left")}}function b(){h||l();function A(T,B){if(!T.contentDocument){var O=o(T);O.checkForObjectDocumentTimeoutId&&window.clearTimeout(O.checkForObjectDocumentTimeoutId),O.checkForObjectDocumentTimeoutId=setTimeout(function(){O.checkForObjectDocumentTimeoutId=0,A(T,B)},100);return}B(T.contentDocument)}var L=this;A(L,function(B){E(w)})}C.position!==""&&(l(),h=!0);var S=document.createElement("object");S.style.cssText=d,S.tabIndex=-1,S.type="text/html",S.setAttribute("aria-hidden","true"),S.onload=b,browserDetector$1.isIE()||(S.data="about:blank"),!!o(w)&&(w.appendChild(S),o(w).object=S,browserDetector$1.isIE()&&(S.data="about:blank"))}n?n.add(c):c()}browserDetector$1.isIE(8)?v(f):g(f,v)}function r(a){return o(a).object}function s(a){if(!!o(a)){var f=r(a);!f||(browserDetector$1.isIE(8)?a.detachEvent("onresize",f.proxy):a.removeChild(f),o(a).checkForObjectDocumentTimeoutId&&window.clearTimeout(o(a).checkForObjectDocumentTimeoutId),delete o(a).object)}}return{makeDetectable:_,addListener:p,uninstall:s}},forEach$1=collectionUtils.exports.forEach,scroll=function(t){t=t||{};var e=t.reporter,n=t.batchProcessor,o=t.stateHandler.getState;t.stateHandler.hasState;var p=t.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!e)throw new Error("Missing required dependency: reporter.");var y=f(),_="erd_scroll_detection_scrollbar_style",r="erd_scroll_detection_container";function s(c){v(c,_,r)}s(window.document);function a(c){var l=t.important?" !important; ":"; ";return(c.join(l)+l).trim()}function f(){var c=500,l=500,b=document.createElement("div");b.style.cssText=a(["position: absolute","width: "+c*2+"px","height: "+l*2+"px","visibility: hidden","margin: 0","padding: 0"]);var S=document.createElement("div");S.style.cssText=a(["position: absolute","width: "+c+"px","height: "+l+"px","overflow: scroll","visibility: none","top: "+-c*3+"px","left: "+-l*3+"px","visibility: hidden","margin: 0","padding: 0"]),S.appendChild(b),document.body.insertBefore(S,document.body.firstChild);var A=c-S.clientWidth,L=l-S.clientHeight;return document.body.removeChild(S),{width:A,height:L}}function v(c,l,b){function S(B,O){O=O||function(I){c.head.appendChild(I)};var x=c.createElement("style");return x.innerHTML=B,x.id=l,O(x),x}if(!c.getElementById(l)){var A=b+"_animation",L=b+"_animation_active",T=`/* Created by the element-resize-detector library. */
`;T+="."+b+" > div::-webkit-scrollbar { "+a(["display: none"])+` }

`,T+="."+L+" { "+a(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+A,"animation-name: "+A])+` }
`,T+="@-webkit-keyframes "+A+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,T+="@keyframes "+A+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",S(T)}}function g(c){c.className+=" "+r+"_animation_active"}function w(c,l,b){if(c.addEventListener)c.addEventListener(l,b);else if(c.attachEvent)c.attachEvent("on"+l,b);else return e.error("[scroll] Don't know how to add event listeners.")}function E(c,l,b){if(c.removeEventListener)c.removeEventListener(l,b);else if(c.detachEvent)c.detachEvent("on"+l,b);else return e.error("[scroll] Don't know how to remove event listeners.")}function d(c){return o(c).container.childNodes[0].childNodes[0].childNodes[0]}function h(c){return o(c).container.childNodes[0].childNodes[0].childNodes[1]}function C(c,l){var b=o(c).listeners;if(!b.push)throw new Error("Cannot add listener to an element that is not detectable.");o(c).listeners.push(l)}function m(c,l,b){b||(b=l,l=c,c=null),c=c||{};function S(){if(c.debug){var N=Array.prototype.slice.call(arguments);if(N.unshift(p.get(l),"Scroll: "),e.log.apply)e.log.apply(null,N);else for(var U=0;U<N.length;U++)e.log(N[U])}}function A(N){function U(W){var Y=W.getRootNode&&W.getRootNode().contains(W);return W===W.ownerDocument.body||W.ownerDocument.body.contains(W)||Y}return!U(N)||window.getComputedStyle(N)===null}function L(N){var U=o(N).container.childNodes[0],W=window.getComputedStyle(U);return!W.width||W.width.indexOf("px")===-1}function T(){var N=window.getComputedStyle(l),U={};return U.position=N.position,U.width=l.offsetWidth,U.height=l.offsetHeight,U.top=N.top,U.right=N.right,U.bottom=N.bottom,U.left=N.left,U.widthCSS=N.width,U.heightCSS=N.height,U}function B(){var N=T();o(l).startSize={width:N.width,height:N.height},S("Element start size",o(l).startSize)}function O(){o(l).listeners=[]}function x(){if(S("storeStyle invoked."),!o(l)){S("Aborting because element has been uninstalled");return}var N=T();o(l).style=N}function I(N,U,W){o(N).lastWidth=U,o(N).lastHeight=W}function R(N){return d(N).childNodes[0]}function F(){return 2*y.width+1}function D(){return 2*y.height+1}function k(N){return N+10+F()}function P(N){return N+10+D()}function j(N){return N*2+F()}function V(N){return N*2+D()}function J(N,U,W){var Y=d(N),Z=h(N),se=k(U),X=P(W),G=j(U),$=V(W);Y.scrollLeft=se,Y.scrollTop=X,Z.scrollLeft=G,Z.scrollTop=$}function z(){var N=o(l).container;if(!N){N=document.createElement("div"),N.className=r,N.style.cssText=a(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),o(l).container=N,g(N),l.appendChild(N);var U=function(){o(l).onRendered&&o(l).onRendered()};w(N,"animationstart",U),o(l).onAnimationStart=U}return N}function Q(){function N(){var de=o(l).style;if(de.position==="static"){l.style.setProperty("position","relative",c.important?"important":"");var ge=function(ye,Se,Ne,Ee){function je(te){return te.replace(/[^-\d\.]/g,"")}var oe=Ne[Ee];oe!=="auto"&&je(oe)!=="0"&&(ye.warn("An element that is positioned static has style."+Ee+"="+oe+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Ee+" will be set to 0. Element: ",Se),Se.style[Ee]=0)};ge(e,l,de,"top"),ge(e,l,de,"right"),ge(e,l,de,"bottom"),ge(e,l,de,"left")}}function U(de,ge,ye,Se){return de=de?de+"px":"0",ge=ge?ge+"px":"0",ye=ye?ye+"px":"0",Se=Se?Se+"px":"0",["left: "+de,"top: "+ge,"right: "+Se,"bottom: "+ye]}if(S("Injecting elements"),!o(l)){S("Aborting because element has been uninstalled");return}N();var W=o(l).container;W||(W=z());var Y=y.width,Z=y.height,se=a(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),X=a(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(U(-(1+Y),-(1+Z),-Z,-Y))),G=a(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),$=a(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),ie=a(["position: absolute","left: 0","top: 0"]),ce=a(["position: absolute","width: 200%","height: 200%"]),fe=document.createElement("div"),pe=document.createElement("div"),me=document.createElement("div"),xe=document.createElement("div"),we=document.createElement("div"),Te=document.createElement("div");fe.dir="ltr",fe.style.cssText=se,fe.className=r,pe.className=r,pe.style.cssText=X,me.style.cssText=G,xe.style.cssText=ie,we.style.cssText=$,Te.style.cssText=ce,me.appendChild(xe),we.appendChild(Te),pe.appendChild(me),pe.appendChild(we),fe.appendChild(pe),W.appendChild(fe);function Be(){var de=o(l);de&&de.onExpand?de.onExpand():S("Aborting expand scroll handler: element has been uninstalled")}function Le(){var de=o(l);de&&de.onShrink?de.onShrink():S("Aborting shrink scroll handler: element has been uninstalled")}w(me,"scroll",Be),w(we,"scroll",Le),o(l).onExpandScroll=Be,o(l).onShrinkScroll=Le}function ee(){function N(G,$,ie){var ce=R(G),fe=k($),pe=P(ie);ce.style.setProperty("width",fe+"px",c.important?"important":""),ce.style.setProperty("height",pe+"px",c.important?"important":"")}function U(G){var $=l.offsetWidth,ie=l.offsetHeight,ce=$!==o(l).lastWidth||ie!==o(l).lastHeight;S("Storing current size",$,ie),I(l,$,ie),n.add(0,function(){if(!!ce){if(!o(l)){S("Aborting because element has been uninstalled");return}if(!W()){S("Aborting because element container has not been initialized");return}if(c.debug){var pe=l.offsetWidth,me=l.offsetHeight;(pe!==$||me!==ie)&&e.warn(p.get(l),"Scroll: Size changed before updating detector elements.")}N(l,$,ie)}}),n.add(1,function(){if(!o(l)){S("Aborting because element has been uninstalled");return}if(!W()){S("Aborting because element container has not been initialized");return}J(l,$,ie)}),ce&&G&&n.add(2,function(){if(!o(l)){S("Aborting because element has been uninstalled");return}if(!W()){S("Aborting because element container has not been initialized");return}G()})}function W(){return!!o(l).container}function Y(){function G(){return o(l).lastNotifiedWidth===void 0}S("notifyListenersIfNeeded invoked");var $=o(l);if(G()&&$.lastWidth===$.startSize.width&&$.lastHeight===$.startSize.height)return S("Not notifying: Size is the same as the start size, and there has been no notification yet.");if($.lastWidth===$.lastNotifiedWidth&&$.lastHeight===$.lastNotifiedHeight)return S("Not notifying: Size already notified");S("Current size not notified, notifying..."),$.lastNotifiedWidth=$.lastWidth,$.lastNotifiedHeight=$.lastHeight,forEach$1(o(l).listeners,function(ie){ie(l)})}function Z(){if(S("startanimation triggered."),L(l)){S("Ignoring since element is still unrendered...");return}S("Element rendered.");var G=d(l),$=h(l);(G.scrollLeft===0||G.scrollTop===0||$.scrollLeft===0||$.scrollTop===0)&&(S("Scrollbars out of sync. Updating detector elements..."),U(Y))}function se(){if(S("Scroll detected."),L(l)){S("Scroll event fired while unrendered. Ignoring...");return}U(Y)}if(S("registerListenersAndPositionElements invoked."),!o(l)){S("Aborting because element has been uninstalled");return}o(l).onRendered=Z,o(l).onExpand=se,o(l).onShrink=se;var X=o(l).style;N(l,X.width,X.height)}function re(){if(S("finalizeDomMutation invoked."),!o(l)){S("Aborting because element has been uninstalled");return}var N=o(l).style;I(l,N.width,N.height),J(l,N.width,N.height)}function M(){b(l)}function H(){S("Installing..."),O(),B(),n.add(0,x),n.add(1,Q),n.add(2,ee),n.add(3,re),n.add(4,M)}S("Making detectable..."),A(l)?(S("Element is detached"),z(),S("Waiting until element is attached..."),o(l).onRendered=function(){S("Element is now attached"),H()}):H()}function u(c){var l=o(c);!l||(l.onExpandScroll&&E(d(c),"scroll",l.onExpandScroll),l.onShrinkScroll&&E(h(c),"scroll",l.onShrinkScroll),l.onAnimationStart&&E(l.container,"animationstart",l.onAnimationStart),l.container&&c.removeChild(l.container))}return{makeDetectable:m,addListener:C,uninstall:u,initDocument:s}},forEach=collectionUtils.exports.forEach,elementUtilsMaker=elementUtils,listenerHandlerMaker=listenerHandler,idGeneratorMaker=idGenerator,idHandlerMaker=idHandler,reporterMaker=reporter,browserDetector=browserDetector$2.exports,batchProcessorMaker=batchProcessor,stateHandler=stateHandler$1,objectStrategyMaker=object,scrollStrategyMaker=scroll;function isCollection(t){return Array.isArray(t)||t.length!==void 0}function toArray(t){if(Array.isArray(t))return t;var e=[];return forEach(t,function(n){e.push(n)}),e}function isElement(t){return t&&t.nodeType===1}var elementResizeDetector=function(t){t=t||{};var e;if(t.idHandler)e={get:function(m){return t.idHandler.get(m,!0)},set:t.idHandler.set};else{var n=idGeneratorMaker(),o=idHandlerMaker({idGenerator:n,stateHandler});e=o}var p=t.reporter;if(!p){var y=p===!1;p=reporterMaker(y)}var _=getOption(t,"batchProcessor",batchProcessorMaker({reporter:p})),r={};r.callOnAdd=!!getOption(t,"callOnAdd",!0),r.debug=!!getOption(t,"debug",!1);var s=listenerHandlerMaker(e),a=elementUtilsMaker({stateHandler}),f,v=getOption(t,"strategy","object"),g=getOption(t,"important",!1),w={reporter:p,batchProcessor:_,stateHandler,idHandler:e,important:g};if(v==="scroll"&&(browserDetector.isLegacyOpera()?(p.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),v="object"):browserDetector.isIE(9)&&(p.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),v="object")),v==="scroll")f=scrollStrategyMaker(w);else if(v==="object")f=objectStrategyMaker(w);else throw new Error("Invalid strategy name: "+v);var E={};function d(m,u,c){function l(B){var O=s.get(B);forEach(O,function(I){I(B)})}function b(B,O,x){s.add(O,x),B&&x(O)}if(c||(c=u,u=m,m={}),!u)throw new Error("At least one element required.");if(!c)throw new Error("Listener required.");if(isElement(u))u=[u];else if(isCollection(u))u=toArray(u);else return p.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var S=0,A=getOption(m,"callOnAdd",r.callOnAdd),L=getOption(m,"onReady",function(){}),T=getOption(m,"debug",r.debug);forEach(u,function(O){stateHandler.getState(O)||(stateHandler.initState(O),e.set(O));var x=e.get(O);if(T&&p.log("Attaching listener to element",x,O),!a.isDetectable(O)){if(T&&p.log(x,"Not detectable."),a.isBusy(O)){T&&p.log(x,"System busy making it detectable"),b(A,O,c),E[x]=E[x]||[],E[x].push(function(){S++,S===u.length&&L()});return}return T&&p.log(x,"Making detectable..."),a.markBusy(O,!0),f.makeDetectable({debug:T,important:g},O,function(R){if(T&&p.log(x,"onElementDetectable"),stateHandler.getState(R)){a.markAsDetectable(R),a.markBusy(R,!1),f.addListener(R,l),b(A,R,c);var F=stateHandler.getState(R);if(F&&F.startSize){var D=R.offsetWidth,k=R.offsetHeight;(F.startSize.width!==D||F.startSize.height!==k)&&l(R)}E[x]&&forEach(E[x],function(P){P()})}else T&&p.log(x,"Element uninstalled before being detectable.");delete E[x],S++,S===u.length&&L()})}T&&p.log(x,"Already detecable, adding listener."),b(A,O,c),S++}),S===u.length&&L()}function h(m){if(!m)return p.error("At least one element is required.");if(isElement(m))m=[m];else if(isCollection(m))m=toArray(m);else return p.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");forEach(m,function(u){s.removeAllListeners(u),f.uninstall(u),stateHandler.cleanState(u)})}function C(m){f.initDocument&&f.initDocument(m)}return{listenTo:d,removeListener:s.removeListener,removeAllListeners:s.removeAllListeners,uninstall:h,initDocument:C}};function getOption(t,e,n){var o=t[e];return o==null&&n!==void 0?n:o}var stompjs={exports:{}},stomp={};(function(t){(function(){var e,n,o,p,y={}.hasOwnProperty,_=[].slice;e={LF:`
`,NULL:"\0"},o=function(){var r;function s(a,f,v){this.command=a,this.headers=f!=null?f:{},this.body=v!=null?v:""}return s.prototype.toString=function(){var a,f,v,g,w;a=[this.command],v=this.headers["content-length"]===!1,v&&delete this.headers["content-length"],w=this.headers;for(f in w)!y.call(w,f)||(g=w[f],a.push(""+f+":"+g));return this.body&&!v&&a.push("content-length:"+s.sizeOfUTF8(this.body)),a.push(e.LF+this.body),a.join(e.LF)},s.sizeOfUTF8=function(a){return a?encodeURI(a).match(/%..|./g).length:0},r=function(a){var f,v,g,w,E,d,h,C,m,u,c,l,b,S,A,L,T;for(w=a.search(RegExp(""+e.LF+e.LF)),E=a.substring(0,w).split(e.LF),g=E.shift(),d={},l=function(B){return B.replace(/^\s+|\s+$/g,"")},L=E.reverse(),b=0,A=L.length;b<A;b++)u=L[b],C=u.indexOf(":"),d[l(u.substring(0,C))]=l(u.substring(C+1));if(f="",c=w+2,d["content-length"])m=parseInt(d["content-length"]),f=(""+a).substring(c,c+m);else for(v=null,h=S=c,T=a.length;(c<=T?S<T:S>T)&&(v=a.charAt(h),v!==e.NULL);h=c<=T?++S:--S)f+=v;return new s(g,d,f)},s.unmarshall=function(a){var f;return function(){var v,g,w,E;for(w=a.split(RegExp(""+e.NULL+e.LF+"*")),E=[],v=0,g=w.length;v<g;v++)f=w[v],(f!=null?f.length:void 0)>0&&E.push(r(f));return E}()},s.marshall=function(a,f,v){var g;return g=new s(a,f,v),g.toString()+e.NULL},s}(),n=function(){var r;function s(a){this.ws=a,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16*1024,this.subscriptions={}}return s.prototype.debug=function(a){var f;return typeof window!="undefined"&&window!==null&&(f=window.console)!=null?f.log(a):void 0},r=function(){return Date.now?Date.now():new Date().valueOf},s.prototype._transmit=function(a,f,v){var g;for(g=o.marshall(a,f,v),typeof this.debug=="function"&&this.debug(">>> "+g);;)if(g.length>this.maxWebSocketFrameSize)this.ws.send(g.substring(0,this.maxWebSocketFrameSize)),g=g.substring(this.maxWebSocketFrameSize),typeof this.debug=="function"&&this.debug("remaining = "+g.length);else return this.ws.send(g)},s.prototype._setupHeartbeat=function(a){var f,v,g,w,E,d;if(!((E=a.version)!==p.VERSIONS.V1_1&&E!==p.VERSIONS.V1_2)&&(d=function(){var h,C,m,u;for(m=a["heart-beat"].split(","),u=[],h=0,C=m.length;h<C;h++)w=m[h],u.push(parseInt(w));return u}(),v=d[0],f=d[1],this.heartbeat.outgoing===0||f===0||(g=Math.max(this.heartbeat.outgoing,f),typeof this.debug=="function"&&this.debug("send PING every "+g+"ms"),this.pinger=p.setInterval(g,function(h){return function(){return h.ws.send(e.LF),typeof h.debug=="function"?h.debug(">>> PING"):void 0}}(this))),!(this.heartbeat.incoming===0||v===0)))return g=Math.max(this.heartbeat.incoming,v),typeof this.debug=="function"&&this.debug("check PONG every "+g+"ms"),this.ponger=p.setInterval(g,function(h){return function(){var C;if(C=r()-h.serverActivity,C>g*2)return typeof h.debug=="function"&&h.debug("did not receive server activity for the last "+C+"ms"),h.ws.close()}}(this))},s.prototype._parseConnect=function(){var a,f,v,g;switch(a=1<=arguments.length?_.call(arguments,0):[],g={},a.length){case 2:g=a[0],f=a[1];break;case 3:a[1]instanceof Function?(g=a[0],f=a[1],v=a[2]):(g.login=a[0],g.passcode=a[1],f=a[2]);break;case 4:g.login=a[0],g.passcode=a[1],f=a[2],v=a[3];break;default:g.login=a[0],g.passcode=a[1],f=a[2],v=a[3],g.host=a[4]}return[g,f,v]},s.prototype.connect=function(){var a,f,v,g;return a=1<=arguments.length?_.call(arguments,0):[],g=this._parseConnect.apply(this,a),v=g[0],this.connectCallback=g[1],f=g[2],typeof this.debug=="function"&&this.debug("Opening Web Socket..."),this.ws.onmessage=function(w){return function(E){var d,h,C,m,u,c,l,b,S,A,L,T;if(m=typeof ArrayBuffer!="undefined"&&E.data instanceof ArrayBuffer?(d=new Uint8Array(E.data),typeof w.debug=="function"&&w.debug("--- got data length: "+d.length),function(){var B,O,x;for(x=[],B=0,O=d.length;B<O;B++)h=d[B],x.push(String.fromCharCode(h));return x}().join("")):E.data,w.serverActivity=r(),m===e.LF){typeof w.debug=="function"&&w.debug("<<< PONG");return}for(typeof w.debug=="function"&&w.debug("<<< "+m),L=o.unmarshall(m),T=[],S=0,A=L.length;S<A;S++)switch(u=L[S],u.command){case"CONNECTED":typeof w.debug=="function"&&w.debug("connected to server "+u.headers.server),w.connected=!0,w._setupHeartbeat(u.headers),T.push(typeof w.connectCallback=="function"?w.connectCallback(u):void 0);break;case"MESSAGE":b=u.headers.subscription,l=w.subscriptions[b]||w.onreceive,l?(C=w,c=u.headers["message-id"],u.ack=function(B){return B==null&&(B={}),C.ack(c,b,B)},u.nack=function(B){return B==null&&(B={}),C.nack(c,b,B)},T.push(l(u))):T.push(typeof w.debug=="function"?w.debug("Unhandled received MESSAGE: "+u):void 0);break;case"RECEIPT":T.push(typeof w.onreceipt=="function"?w.onreceipt(u):void 0);break;case"ERROR":T.push(typeof f=="function"?f(u):void 0);break;default:T.push(typeof w.debug=="function"?w.debug("Unhandled frame: "+u):void 0)}return T}}(this),this.ws.onclose=function(w){return function(){var E;return E="Whoops! Lost connection to "+w.ws.url,typeof w.debug=="function"&&w.debug(E),w._cleanUp(),typeof f=="function"?f(E):void 0}}(this),this.ws.onopen=function(w){return function(){return typeof w.debug=="function"&&w.debug("Web Socket Opened..."),v["accept-version"]=p.VERSIONS.supportedVersions(),v["heart-beat"]=[w.heartbeat.outgoing,w.heartbeat.incoming].join(","),w._transmit("CONNECT",v)}}(this)},s.prototype.disconnect=function(a,f){return f==null&&(f={}),this._transmit("DISCONNECT",f),this.ws.onclose=null,this.ws.close(),this._cleanUp(),typeof a=="function"?a():void 0},s.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&p.clearInterval(this.pinger),this.ponger)return p.clearInterval(this.ponger)},s.prototype.send=function(a,f,v){return f==null&&(f={}),v==null&&(v=""),f.destination=a,this._transmit("SEND",f,v)},s.prototype.subscribe=function(a,f,v){var g;return v==null&&(v={}),v.id||(v.id="sub-"+this.counter++),v.destination=a,this.subscriptions[v.id]=f,this._transmit("SUBSCRIBE",v),g=this,{id:v.id,unsubscribe:function(){return g.unsubscribe(v.id)}}},s.prototype.unsubscribe=function(a){return delete this.subscriptions[a],this._transmit("UNSUBSCRIBE",{id:a})},s.prototype.begin=function(a){var f,v;return v=a||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:v}),f=this,{id:v,commit:function(){return f.commit(v)},abort:function(){return f.abort(v)}}},s.prototype.commit=function(a){return this._transmit("COMMIT",{transaction:a})},s.prototype.abort=function(a){return this._transmit("ABORT",{transaction:a})},s.prototype.ack=function(a,f,v){return v==null&&(v={}),v["message-id"]=a,v.subscription=f,this._transmit("ACK",v)},s.prototype.nack=function(a,f,v){return v==null&&(v={}),v["message-id"]=a,v.subscription=f,this._transmit("NACK",v)},s}(),p={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(r,s){var a,f;return s==null&&(s=["v10.stomp","v11.stomp"]),a=p.WebSocketClass||WebSocket,f=new a(r,s),new n(f)},over:function(r){return new n(r)},Frame:o},t!==null&&(t.Stomp=p),typeof window!="undefined"&&window!==null?(p.setInterval=function(r,s){return window.setInterval(s,r)},p.clearInterval=function(r){return window.clearInterval(r)},window.Stomp=p):t||(self.Stomp=p)}).call(commonjsGlobal)})(stomp);var stompNode={};const name="websocket",description="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",keywords=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],author="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",contributors=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],version$1="1.0.34",repository={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},homepage="https://github.com/theturtle32/WebSocket-Node",engines={node:">=4.0.0"},dependencies={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},devDependencies={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},config={verbose:!1},scripts={test:"tape test/unit/*.js",gulp:"gulp"},main="index",directories={lib:"./lib"},browser$1="lib/browser.js",license="Apache-2.0";var require$$0$1={name,description,keywords,author,contributors,version:version$1,repository,homepage,engines,dependencies,devDependencies,config,scripts,main,directories,browser:browser$1,license},version=require$$0$1.version,_globalThis;if(typeof globalThis=="object")_globalThis=globalThis;else try{_globalThis=require("es5-ext/global")}catch{}finally{if(!_globalThis&&typeof window!="undefined"&&(_globalThis=window),!_globalThis)throw new Error("Could not determine global this")}var NativeWebSocket=_globalThis.WebSocket||_globalThis.MozWebSocket,websocket_version=version;function W3CWebSocket(t,e){var n;return e?n=new NativeWebSocket(t,e):n=new NativeWebSocket(t),n}NativeWebSocket&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty(W3CWebSocket,t,{get:function(){return NativeWebSocket[t]}})});var browser={w3cwebsocket:NativeWebSocket?W3CWebSocket:null,version:websocket_version};(function(){var t,e,n,o,p,y;t=stomp,e=require$$1$1,t.Stomp.setInterval=function(_,r){return setInterval(r,_)},t.Stomp.clearInterval=function(_){return clearInterval(_)},p=function(_,r){var s,a;return s=null,a={url:"tcp:// "+r+":"+_,send:function(f){return s.write(f)},close:function(){return s.end()}},s=e.connect(_,r,function(f){return a.onopen()}),s.on("error",function(f){return typeof a.onclose=="function"?a.onclose(f):void 0}),s.on("close",function(f){return typeof a.onclose=="function"?a.onclose(f):void 0}),s.on("data",function(f){var v;return v={data:f.toString()},a.onmessage(v)}),a},y=function(_){var r,s,a,f;return r=browser.client,s=null,f={url:_,send:function(v){return s.sendUTF(v)},close:function(){return s.close()}},a=new r,a.on("connect",function(v){return s=v,f.onopen(),s.on("error",function(g){return typeof f.onclose=="function"?f.onclose(g):void 0}),s.on("close",function(){return typeof f.onclose=="function"?f.onclose():void 0}),s.on("message",function(g){var w;if(g.type==="utf8")return w={data:g.utf8Data},f.onmessage(w)})}),a.connect(_),f},n=function(_,r){var s;return s=p(r,_),t.Stomp.over(s)},o=function(_){var r;return r=y(_),t.Stomp.over(r)},stompNode.overTCP=n,stompNode.overWS=o}).call(commonjsGlobal);var Stomp=stomp,StompNode=stompNode;stompjs.exports=Stomp.Stomp;stompjs.exports.overTCP=StompNode.overTCP;stompjs.exports.overWS=StompNode.overWS;var Stomp$1=stompjs.exports,xterm={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(self,function(){return(()=>{var n={4567:function(_,r,s){var a,f=this&&this.__extends||(a=function(u,c){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,b){l.__proto__=b}||function(l,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(l[S]=b[S])},a(u,c)},function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function l(){this.constructor=u}a(u,c),u.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)});Object.defineProperty(r,"__esModule",{value:!0}),r.AccessibilityManager=void 0;var v=s(9042),g=s(6114),w=s(9924),E=s(3656),d=s(844),h=s(5596),C=s(9631),m=function(u){function c(l,b){var S=u.call(this)||this;S._terminal=l,S._renderService=b,S._liveRegionLineCount=0,S._charsToConsume=[],S._charsToAnnounce="",S._accessibilityTreeRoot=document.createElement("div"),S._accessibilityTreeRoot.setAttribute("role","document"),S._accessibilityTreeRoot.classList.add("xterm-accessibility"),S._accessibilityTreeRoot.tabIndex=0,S._rowContainer=document.createElement("div"),S._rowContainer.setAttribute("role","list"),S._rowContainer.classList.add("xterm-accessibility-tree"),S._rowElements=[];for(var A=0;A<S._terminal.rows;A++)S._rowElements[A]=S._createAccessibilityTreeNode(),S._rowContainer.appendChild(S._rowElements[A]);if(S._topBoundaryFocusListener=function(L){return S._onBoundaryFocus(L,0)},S._bottomBoundaryFocusListener=function(L){return S._onBoundaryFocus(L,1)},S._rowElements[0].addEventListener("focus",S._topBoundaryFocusListener),S._rowElements[S._rowElements.length-1].addEventListener("focus",S._bottomBoundaryFocusListener),S._refreshRowsDimensions(),S._accessibilityTreeRoot.appendChild(S._rowContainer),S._renderRowsDebouncer=new w.TimeBasedDebouncer(S._renderRows.bind(S)),S._refreshRows(),S._liveRegion=document.createElement("div"),S._liveRegion.classList.add("live-region"),S._liveRegion.setAttribute("aria-live","assertive"),S._accessibilityTreeRoot.appendChild(S._liveRegion),!S._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return S._terminal.element.insertAdjacentElement("afterbegin",S._accessibilityTreeRoot),S.register(S._renderRowsDebouncer),S.register(S._terminal.onResize(function(L){return S._onResize(L.rows)})),S.register(S._terminal.onRender(function(L){return S._refreshRows(L.start,L.end)})),S.register(S._terminal.onScroll(function(){return S._refreshRows()})),S.register(S._terminal.onA11yChar(function(L){return S._onChar(L)})),S.register(S._terminal.onLineFeed(function(){return S._onChar(`
`)})),S.register(S._terminal.onA11yTab(function(L){return S._onTab(L)})),S.register(S._terminal.onKey(function(L){return S._onKey(L.key)})),S.register(S._terminal.onBlur(function(){return S._clearLiveRegion()})),S.register(S._renderService.onDimensionsChange(function(){return S._refreshRowsDimensions()})),S._screenDprMonitor=new h.ScreenDprMonitor,S.register(S._screenDprMonitor),S._screenDprMonitor.setListener(function(){return S._refreshRowsDimensions()}),S.register((0,E.addDisposableDomListener)(window,"resize",function(){return S._refreshRowsDimensions()})),S}return f(c,u),c.prototype.dispose=function(){u.prototype.dispose.call(this),(0,C.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0},c.prototype._onBoundaryFocus=function(l,b){var S=l.target,A=this._rowElements[b===0?1:this._rowElements.length-2];if(S.getAttribute("aria-posinset")!==(b===0?"1":""+this._terminal.buffer.lines.length)&&l.relatedTarget===A){var L,T;if(b===0?(L=S,T=this._rowElements.pop(),this._rowContainer.removeChild(T)):(L=this._rowElements.shift(),T=S,this._rowContainer.removeChild(L)),L.removeEventListener("focus",this._topBoundaryFocusListener),T.removeEventListener("focus",this._bottomBoundaryFocusListener),b===0){var B=this._createAccessibilityTreeNode();this._rowElements.unshift(B),this._rowContainer.insertAdjacentElement("afterbegin",B)}else B=this._createAccessibilityTreeNode(),this._rowElements.push(B),this._rowContainer.appendChild(B);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(b===0?-1:1),this._rowElements[b===0?1:this._rowElements.length-2].focus(),l.preventDefault(),l.stopImmediatePropagation()}},c.prototype._onResize=function(l){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var b=this._rowContainer.children.length;b<this._terminal.rows;b++)this._rowElements[b]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[b]);for(;this._rowElements.length>l;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},c.prototype._createAccessibilityTreeNode=function(){var l=document.createElement("div");return l.setAttribute("role","listitem"),l.tabIndex=-1,this._refreshRowDimensions(l),l},c.prototype._onTab=function(l){for(var b=0;b<l;b++)this._onChar(" ")},c.prototype._onChar=function(l){var b=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==l&&(this._charsToAnnounce+=l):this._charsToAnnounce+=l,l===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=v.tooMuchOutput)),g.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(function(){b._accessibilityTreeRoot.appendChild(b._liveRegion)},0))},c.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,g.isMac&&(0,C.removeElementFromParent)(this._liveRegion)},c.prototype._onKey=function(l){this._clearLiveRegion(),this._charsToConsume.push(l)},c.prototype._refreshRows=function(l,b){this._renderRowsDebouncer.refresh(l,b,this._terminal.rows)},c.prototype._renderRows=function(l,b){for(var S=this._terminal.buffer,A=S.lines.length.toString(),L=l;L<=b;L++){var T=S.translateBufferLineToString(S.ydisp+L,!0),B=(S.ydisp+L+1).toString(),O=this._rowElements[L];O&&(T.length===0?O.innerText="\xA0":O.textContent=T,O.setAttribute("aria-posinset",B),O.setAttribute("aria-setsize",A))}this._announceCharacters()},c.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var l=0;l<this._terminal.rows;l++)this._refreshRowDimensions(this._rowElements[l])}},c.prototype._refreshRowDimensions=function(l){l.style.height=this._renderService.dimensions.actualCellHeight+"px"},c.prototype._announceCharacters=function(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},c}(d.Disposable);r.AccessibilityManager=m},3614:(_,r)=>{function s(g){return g.replace(/\r?\n/g,"\r")}function a(g,w){return w?"[200~"+g+"[201~":g}function f(g,w,E){g=a(g=s(g),E.decPrivateModes.bracketedPasteMode),E.triggerDataEvent(g,!0),w.value=""}function v(g,w,E){var d=E.getBoundingClientRect(),h=g.clientX-d.left-10,C=g.clientY-d.top-10;w.style.width="20px",w.style.height="20px",w.style.left=h+"px",w.style.top=C+"px",w.style.zIndex="1000",w.focus()}Object.defineProperty(r,"__esModule",{value:!0}),r.rightClickHandler=r.moveTextAreaUnderMouseCursor=r.paste=r.handlePasteEvent=r.copyHandler=r.bracketTextForPaste=r.prepareTextForTerminal=void 0,r.prepareTextForTerminal=s,r.bracketTextForPaste=a,r.copyHandler=function(g,w){g.clipboardData&&g.clipboardData.setData("text/plain",w.selectionText),g.preventDefault()},r.handlePasteEvent=function(g,w,E){g.stopPropagation(),g.clipboardData&&f(g.clipboardData.getData("text/plain"),w,E)},r.paste=f,r.moveTextAreaUnderMouseCursor=v,r.rightClickHandler=function(g,w,E,d,h){v(g,w,E),h&&d.rightClickSelect(g),w.value=d.selectionText,w.select()}},4774:(_,r)=>{var s,a,f,v;function g(E){var d=E.toString(16);return d.length<2?"0"+d:d}function w(E,d){return E<d?(d+.05)/(E+.05):(E+.05)/(d+.05)}Object.defineProperty(r,"__esModule",{value:!0}),r.contrastRatio=r.toPaddedHex=r.rgba=r.rgb=r.css=r.color=r.channels=void 0,function(E){E.toCss=function(d,h,C,m){return m!==void 0?"#"+g(d)+g(h)+g(C)+g(m):"#"+g(d)+g(h)+g(C)},E.toRgba=function(d,h,C,m){return m===void 0&&(m=255),(d<<24|h<<16|C<<8|m)>>>0}}(s=r.channels||(r.channels={})),(a=r.color||(r.color={})).blend=function(E,d){var h=(255&d.rgba)/255;if(h===1)return{css:d.css,rgba:d.rgba};var C=d.rgba>>24&255,m=d.rgba>>16&255,u=d.rgba>>8&255,c=E.rgba>>24&255,l=E.rgba>>16&255,b=E.rgba>>8&255,S=c+Math.round((C-c)*h),A=l+Math.round((m-l)*h),L=b+Math.round((u-b)*h);return{css:s.toCss(S,A,L),rgba:s.toRgba(S,A,L)}},a.isOpaque=function(E){return(255&E.rgba)==255},a.ensureContrastRatio=function(E,d,h){var C=v.ensureContrastRatio(E.rgba,d.rgba,h);if(C)return v.toColor(C>>24&255,C>>16&255,C>>8&255)},a.opaque=function(E){var d=(255|E.rgba)>>>0,h=v.toChannels(d),C=h[0],m=h[1],u=h[2];return{css:s.toCss(C,m,u),rgba:d}},a.opacity=function(E,d){var h=Math.round(255*d),C=v.toChannels(E.rgba),m=C[0],u=C[1],c=C[2];return{css:s.toCss(m,u,c,h),rgba:s.toRgba(m,u,c,h)}},a.toColorRGB=function(E){return[E.rgba>>24&255,E.rgba>>16&255,E.rgba>>8&255]},(r.css||(r.css={})).toColor=function(E){switch(E.length){case 7:return{css:E,rgba:(parseInt(E.slice(1),16)<<8|255)>>>0};case 9:return{css:E,rgba:parseInt(E.slice(1),16)>>>0}}throw new Error("css.toColor: Unsupported css format")},function(E){function d(h,C,m){var u=h/255,c=C/255,l=m/255;return .2126*(u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4))+.7152*(c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4))+.0722*(l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4))}E.relativeLuminance=function(h){return d(h>>16&255,h>>8&255,255&h)},E.relativeLuminance2=d}(f=r.rgb||(r.rgb={})),function(E){function d(C,m,u){for(var c=C>>24&255,l=C>>16&255,b=C>>8&255,S=m>>24&255,A=m>>16&255,L=m>>8&255,T=w(f.relativeLuminance2(S,L,A),f.relativeLuminance2(c,l,b));T<u&&(S>0||A>0||L>0);)S-=Math.max(0,Math.ceil(.1*S)),A-=Math.max(0,Math.ceil(.1*A)),L-=Math.max(0,Math.ceil(.1*L)),T=w(f.relativeLuminance2(S,L,A),f.relativeLuminance2(c,l,b));return(S<<24|A<<16|L<<8|255)>>>0}function h(C,m,u){for(var c=C>>24&255,l=C>>16&255,b=C>>8&255,S=m>>24&255,A=m>>16&255,L=m>>8&255,T=w(f.relativeLuminance2(S,L,A),f.relativeLuminance2(c,l,b));T<u&&(S<255||A<255||L<255);)S=Math.min(255,S+Math.ceil(.1*(255-S))),A=Math.min(255,A+Math.ceil(.1*(255-A))),L=Math.min(255,L+Math.ceil(.1*(255-L))),T=w(f.relativeLuminance2(S,L,A),f.relativeLuminance2(c,l,b));return(S<<24|A<<16|L<<8|255)>>>0}E.ensureContrastRatio=function(C,m,u){var c=f.relativeLuminance(C>>8),l=f.relativeLuminance(m>>8);if(w(c,l)<u)return l<c?d(C,m,u):h(C,m,u)},E.reduceLuminance=d,E.increaseLuminance=h,E.toChannels=function(C){return[C>>24&255,C>>16&255,C>>8&255,255&C]},E.toColor=function(C,m,u){return{css:s.toCss(C,m,u),rgba:s.toRgba(C,m,u)}}}(v=r.rgba||(r.rgba={})),r.toPaddedHex=g,r.contrastRatio=w},7239:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ColorContrastCache=void 0;var s=function(){function a(){this._color={},this._rgba={}}return a.prototype.clear=function(){this._color={},this._rgba={}},a.prototype.setCss=function(f,v,g){this._rgba[f]||(this._rgba[f]={}),this._rgba[f][v]=g},a.prototype.getCss=function(f,v){return this._rgba[f]?this._rgba[f][v]:void 0},a.prototype.setColor=function(f,v,g){this._color[f]||(this._color[f]={}),this._color[f][v]=g},a.prototype.getColor=function(f,v){return this._color[f]?this._color[f][v]:void 0},a}();r.ColorContrastCache=s},5680:function(_,r,s){var a=this&&this.__spreadArray||function(m,u,c){if(c||arguments.length===2)for(var l,b=0,S=u.length;b<S;b++)!l&&b in u||(l||(l=Array.prototype.slice.call(u,0,b)),l[b]=u[b]);return m.concat(l||Array.prototype.slice.call(u))};Object.defineProperty(r,"__esModule",{value:!0}),r.ColorManager=r.DEFAULT_ANSI_COLORS=void 0;var f=s(4774),v=s(7239),g=f.css.toColor("#ffffff"),w=f.css.toColor("#000000"),E=f.css.toColor("#ffffff"),d=f.css.toColor("#000000"),h={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};r.DEFAULT_ANSI_COLORS=Object.freeze(function(){for(var m=[f.css.toColor("#2e3436"),f.css.toColor("#cc0000"),f.css.toColor("#4e9a06"),f.css.toColor("#c4a000"),f.css.toColor("#3465a4"),f.css.toColor("#75507b"),f.css.toColor("#06989a"),f.css.toColor("#d3d7cf"),f.css.toColor("#555753"),f.css.toColor("#ef2929"),f.css.toColor("#8ae234"),f.css.toColor("#fce94f"),f.css.toColor("#729fcf"),f.css.toColor("#ad7fa8"),f.css.toColor("#34e2e2"),f.css.toColor("#eeeeec")],u=[0,95,135,175,215,255],c=0;c<216;c++){var l=u[c/36%6|0],b=u[c/6%6|0],S=u[c%6];m.push({css:f.channels.toCss(l,b,S),rgba:f.channels.toRgba(l,b,S)})}for(c=0;c<24;c++){var A=8+10*c;m.push({css:f.channels.toCss(A,A,A),rgba:f.channels.toRgba(A,A,A)})}return m}());var C=function(){function m(u,c){this.allowTransparency=c;var l=u.createElement("canvas");l.width=1,l.height=1;var b=l.getContext("2d");if(!b)throw new Error("Could not get rendering context");this._ctx=b,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new v.ColorContrastCache,this.colors={foreground:g,background:w,cursor:E,cursorAccent:d,selectionTransparent:h,selectionOpaque:f.color.blend(w,h),ansi:r.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors()}return m.prototype.onOptionsChange=function(u){u==="minimumContrastRatio"&&this._contrastCache.clear()},m.prototype.setTheme=function(u){u===void 0&&(u={}),this.colors.foreground=this._parseColor(u.foreground,g),this.colors.background=this._parseColor(u.background,w),this.colors.cursor=this._parseColor(u.cursor,E,!0),this.colors.cursorAccent=this._parseColor(u.cursorAccent,d,!0),this.colors.selectionTransparent=this._parseColor(u.selection,h,!0),this.colors.selectionOpaque=f.color.blend(this.colors.background,this.colors.selectionTransparent),f.color.isOpaque(this.colors.selectionTransparent)&&(this.colors.selectionTransparent=f.color.opacity(this.colors.selectionTransparent,.3)),this.colors.ansi[0]=this._parseColor(u.black,r.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(u.red,r.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(u.green,r.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(u.yellow,r.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(u.blue,r.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(u.magenta,r.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(u.cyan,r.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(u.white,r.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(u.brightBlack,r.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(u.brightRed,r.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(u.brightGreen,r.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(u.brightYellow,r.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(u.brightBlue,r.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(u.brightMagenta,r.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(u.brightCyan,r.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(u.brightWhite,r.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear(),this._updateRestoreColors()},m.prototype.restoreColor=function(u){if(u!==void 0)switch(u){case 256:this.colors.foreground=this._restoreColors.foreground;break;case 257:this.colors.background=this._restoreColors.background;break;case 258:this.colors.cursor=this._restoreColors.cursor;break;default:this.colors.ansi[u]=this._restoreColors.ansi[u]}else for(var c=0;c<this._restoreColors.ansi.length;++c)this.colors.ansi[c]=this._restoreColors.ansi[c]},m.prototype._updateRestoreColors=function(){this._restoreColors={foreground:this.colors.foreground,background:this.colors.background,cursor:this.colors.cursor,ansi:a([],this.colors.ansi,!0)}},m.prototype._parseColor=function(u,c,l){if(l===void 0&&(l=this.allowTransparency),u===void 0)return c;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=u,typeof this._ctx.fillStyle!="string")return console.warn("Color: "+u+" is invalid using fallback "+c.css),c;this._ctx.fillRect(0,0,1,1);var b=this._ctx.getImageData(0,0,1,1).data;if(b[3]!==255){if(!l)return console.warn("Color: "+u+" is using transparency, but allowTransparency is false. Using fallback "+c.css+"."),c;var S=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map(function(x){return Number(x)}),A=S[0],L=S[1],T=S[2],B=S[3],O=Math.round(255*B);return{rgba:f.channels.toRgba(A,L,T,O),css:u}}return{css:this._ctx.fillStyle,rgba:f.channels.toRgba(b[0],b[1],b[2],b[3])}},m}();r.ColorManager=C},9631:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.removeElementFromParent=void 0,r.removeElementFromParent=function(){for(var s,a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];for(var v=0,g=a;v<g.length;v++){var w=g[v];(s=w==null?void 0:w.parentElement)===null||s===void 0||s.removeChild(w)}}},3656:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.addDisposableDomListener=void 0,r.addDisposableDomListener=function(s,a,f,v){s.addEventListener(a,f,v);var g=!1;return{dispose:function(){g||(g=!0,s.removeEventListener(a,f,v))}}}},3551:function(_,r,s){var a=this&&this.__decorate||function(d,h,C,m){var u,c=arguments.length,l=c<3?h:m===null?m=Object.getOwnPropertyDescriptor(h,C):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(d,h,C,m);else for(var b=d.length-1;b>=0;b--)(u=d[b])&&(l=(c<3?u(l):c>3?u(h,C,l):u(h,C))||l);return c>3&&l&&Object.defineProperty(h,C,l),l},f=this&&this.__param||function(d,h){return function(C,m){h(C,m,d)}};Object.defineProperty(r,"__esModule",{value:!0}),r.MouseZone=r.Linkifier=void 0;var v=s(8460),g=s(2585),w=function(){function d(h,C,m){this._bufferService=h,this._logService=C,this._unicodeService=m,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new v.EventEmitter,this._onHideLinkUnderline=new v.EventEmitter,this._onLinkTooltip=new v.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(d.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),d.prototype.attachToDom=function(h,C){this._element=h,this._mouseZoneManager=C},d.prototype.linkifyRows=function(h,C){var m=this;this._mouseZoneManager&&(this._rowsToLinkify.start===void 0||this._rowsToLinkify.end===void 0?(this._rowsToLinkify.start=h,this._rowsToLinkify.end=C):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,h),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,C)),this._mouseZoneManager.clearAll(h,C),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return m._linkifyRows()},d._timeBeforeLatency))},d.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var h=this._bufferService.buffer;if(this._rowsToLinkify.start!==void 0&&this._rowsToLinkify.end!==void 0){var C=h.ydisp+this._rowsToLinkify.start;if(!(C>=h.lines.length)){for(var m=h.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,u=Math.ceil(2e3/this._bufferService.cols),c=this._bufferService.buffer.iterator(!1,C,m,u,u);c.hasNext();)for(var l=c.next(),b=0;b<this._linkMatchers.length;b++)this._doLinkifyRow(l.range.first,l.content,this._linkMatchers[b]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},d.prototype.registerLinkMatcher=function(h,C,m){if(m===void 0&&(m={}),!C)throw new Error("handler must be defined");var u={id:this._nextLinkMatcherId++,regex:h,handler:C,matchIndex:m.matchIndex,validationCallback:m.validationCallback,hoverTooltipCallback:m.tooltipCallback,hoverLeaveCallback:m.leaveCallback,willLinkActivate:m.willLinkActivate,priority:m.priority||0};return this._addLinkMatcherToList(u),u.id},d.prototype._addLinkMatcherToList=function(h){if(this._linkMatchers.length!==0){for(var C=this._linkMatchers.length-1;C>=0;C--)if(h.priority<=this._linkMatchers[C].priority)return void this._linkMatchers.splice(C+1,0,h);this._linkMatchers.splice(0,0,h)}else this._linkMatchers.push(h)},d.prototype.deregisterLinkMatcher=function(h){for(var C=0;C<this._linkMatchers.length;C++)if(this._linkMatchers[C].id===h)return this._linkMatchers.splice(C,1),!0;return!1},d.prototype._doLinkifyRow=function(h,C,m){for(var u,c=this,l=new RegExp(m.regex.source,(m.regex.flags||"")+"g"),b=-1,S=function(){var L=u[typeof m.matchIndex!="number"?0:m.matchIndex];if(!L)return A._logService.debug("match found without corresponding matchIndex",u,m),"break";if(b=C.indexOf(L,b+1),l.lastIndex=b+L.length,b<0)return"break";var T=A._bufferService.buffer.stringIndexToBufferIndex(h,b);if(T[0]<0)return"break";var B=A._bufferService.buffer.lines.get(T[0]);if(!B)return"break";var O=B.getFg(T[1]),x=O?O>>9&511:void 0;m.validationCallback?m.validationCallback(L,function(I){c._rowsTimeoutId||I&&c._addLink(T[1],T[0]-c._bufferService.buffer.ydisp,L,m,x)}):A._addLink(T[1],T[0]-A._bufferService.buffer.ydisp,L,m,x)},A=this;(u=l.exec(C))!==null&&S()!=="break";);},d.prototype._addLink=function(h,C,m,u,c){var l=this;if(this._mouseZoneManager&&this._element){var b=this._unicodeService.getStringCellWidth(m),S=h%this._bufferService.cols,A=C+Math.floor(h/this._bufferService.cols),L=(S+b)%this._bufferService.cols,T=A+Math.floor((S+b)/this._bufferService.cols);L===0&&(L=this._bufferService.cols,T--),this._mouseZoneManager.add(new E(S+1,A+1,L+1,T+1,function(B){if(u.handler)return u.handler(B,m);var O=window.open();O?(O.opener=null,O.location.href=m):console.warn("Opening link blocked as opener could not be cleared")},function(){l._onShowLinkUnderline.fire(l._createLinkHoverEvent(S,A,L,T,c)),l._element.classList.add("xterm-cursor-pointer")},function(B){l._onLinkTooltip.fire(l._createLinkHoverEvent(S,A,L,T,c)),u.hoverTooltipCallback&&u.hoverTooltipCallback(B,m,{start:{x:S,y:A},end:{x:L,y:T}})},function(){l._onHideLinkUnderline.fire(l._createLinkHoverEvent(S,A,L,T,c)),l._element.classList.remove("xterm-cursor-pointer"),u.hoverLeaveCallback&&u.hoverLeaveCallback()},function(B){return!u.willLinkActivate||u.willLinkActivate(B,m)}))}},d.prototype._createLinkHoverEvent=function(h,C,m,u,c){return{x1:h,y1:C,x2:m,y2:u,cols:this._bufferService.cols,fg:c}},d._timeBeforeLatency=200,d=a([f(0,g.IBufferService),f(1,g.ILogService),f(2,g.IUnicodeService)],d)}();r.Linkifier=w;var E=function(d,h,C,m,u,c,l,b,S){this.x1=d,this.y1=h,this.x2=C,this.y2=m,this.clickCallback=u,this.hoverCallback=c,this.tooltipCallback=l,this.leaveCallback=b,this.willLinkActivate=S};r.MouseZone=E},6465:function(_,r,s){var a,f=this&&this.__extends||(a=function(m,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var b in l)Object.prototype.hasOwnProperty.call(l,b)&&(c[b]=l[b])},a(m,u)},function(m,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function c(){this.constructor=m}a(m,u),m.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}),v=this&&this.__decorate||function(m,u,c,l){var b,S=arguments.length,A=S<3?u:l===null?l=Object.getOwnPropertyDescriptor(u,c):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(m,u,c,l);else for(var L=m.length-1;L>=0;L--)(b=m[L])&&(A=(S<3?b(A):S>3?b(u,c,A):b(u,c))||A);return S>3&&A&&Object.defineProperty(u,c,A),A},g=this&&this.__param||function(m,u){return function(c,l){u(c,l,m)}};Object.defineProperty(r,"__esModule",{value:!0}),r.Linkifier2=void 0;var w=s(2585),E=s(8460),d=s(844),h=s(3656),C=function(m){function u(c){var l=m.call(this)||this;return l._bufferService=c,l._linkProviders=[],l._linkCacheDisposables=[],l._isMouseOut=!0,l._activeLine=-1,l._onShowLinkUnderline=l.register(new E.EventEmitter),l._onHideLinkUnderline=l.register(new E.EventEmitter),l.register((0,d.getDisposeArrayDisposable)(l._linkCacheDisposables)),l}return f(u,m),Object.defineProperty(u.prototype,"currentLink",{get:function(){return this._currentLink},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),u.prototype.registerLinkProvider=function(c){var l=this;return this._linkProviders.push(c),{dispose:function(){var b=l._linkProviders.indexOf(c);b!==-1&&l._linkProviders.splice(b,1)}}},u.prototype.attachToDom=function(c,l,b){var S=this;this._element=c,this._mouseService=l,this._renderService=b,this.register((0,h.addDisposableDomListener)(this._element,"mouseleave",function(){S._isMouseOut=!0,S._clearCurrentLink()})),this.register((0,h.addDisposableDomListener)(this._element,"mousemove",this._onMouseMove.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"click",this._onClick.bind(this)))},u.prototype._onMouseMove=function(c){if(this._lastMouseEvent=c,this._element&&this._mouseService){var l=this._positionFromMouseEvent(c,this._element,this._mouseService);if(l){this._isMouseOut=!1;for(var b=c.composedPath(),S=0;S<b.length;S++){var A=b[S];if(A.classList.contains("xterm"))break;if(A.classList.contains("xterm-hover"))return}this._lastBufferCell&&l.x===this._lastBufferCell.x&&l.y===this._lastBufferCell.y||(this._onHover(l),this._lastBufferCell=l)}}},u.prototype._onHover=function(c){if(this._activeLine!==c.y)return this._clearCurrentLink(),void this._askForLink(c,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,c)||(this._clearCurrentLink(),this._askForLink(c,!0))},u.prototype._askForLink=function(c,l){var b,S=this;this._activeProviderReplies&&l||((b=this._activeProviderReplies)===null||b===void 0||b.forEach(function(L){L==null||L.forEach(function(T){T.link.dispose&&T.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=c.y);var A=!1;this._linkProviders.forEach(function(L,T){var B;l?((B=S._activeProviderReplies)===null||B===void 0?void 0:B.get(T))&&(A=S._checkLinkProviderResult(T,c,A)):L.provideLinks(c.y,function(O){var x,I;if(!S._isMouseOut){var R=O==null?void 0:O.map(function(F){return{link:F}});(x=S._activeProviderReplies)===null||x===void 0||x.set(T,R),A=S._checkLinkProviderResult(T,c,A),((I=S._activeProviderReplies)===null||I===void 0?void 0:I.size)===S._linkProviders.length&&S._removeIntersectingLinks(c.y,S._activeProviderReplies)}})})},u.prototype._removeIntersectingLinks=function(c,l){for(var b=new Set,S=0;S<l.size;S++){var A=l.get(S);if(A)for(var L=0;L<A.length;L++)for(var T=A[L],B=T.link.range.start.y<c?0:T.link.range.start.x,O=T.link.range.end.y>c?this._bufferService.cols:T.link.range.end.x,x=B;x<=O;x++){if(b.has(x)){A.splice(L--,1);break}b.add(x)}}},u.prototype._checkLinkProviderResult=function(c,l,b){var S,A=this;if(!this._activeProviderReplies)return b;for(var L=this._activeProviderReplies.get(c),T=!1,B=0;B<c;B++)this._activeProviderReplies.has(B)&&!this._activeProviderReplies.get(B)||(T=!0);if(!T&&L){var O=L.find(function(I){return A._linkAtPosition(I.link,l)});O&&(b=!0,this._handleNewLink(O))}if(this._activeProviderReplies.size===this._linkProviders.length&&!b)for(B=0;B<this._activeProviderReplies.size;B++){var x=(S=this._activeProviderReplies.get(B))===null||S===void 0?void 0:S.find(function(I){return A._linkAtPosition(I.link,l)});if(x){b=!0,this._handleNewLink(x);break}}return b},u.prototype._onClick=function(c){if(this._element&&this._mouseService&&this._currentLink){var l=this._positionFromMouseEvent(c,this._element,this._mouseService);l&&this._linkAtPosition(this._currentLink.link,l)&&this._currentLink.link.activate(c,this._currentLink.link.text)}},u.prototype._clearCurrentLink=function(c,l){this._element&&this._currentLink&&this._lastMouseEvent&&(!c||!l||this._currentLink.link.range.start.y>=c&&this._currentLink.link.range.end.y<=l)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,d.disposeArray)(this._linkCacheDisposables))},u.prototype._handleNewLink=function(c){var l=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var b=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);b&&this._linkAtPosition(c.link,b)&&(this._currentLink=c,this._currentLink.state={decorations:{underline:c.link.decorations===void 0||c.link.decorations.underline,pointerCursor:c.link.decorations===void 0||c.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,c.link,this._lastMouseEvent),c.link.decorations={},Object.defineProperties(c.link.decorations,{pointerCursor:{get:function(){var S,A;return(A=(S=l._currentLink)===null||S===void 0?void 0:S.state)===null||A===void 0?void 0:A.decorations.pointerCursor},set:function(S){var A,L;((A=l._currentLink)===null||A===void 0?void 0:A.state)&&l._currentLink.state.decorations.pointerCursor!==S&&(l._currentLink.state.decorations.pointerCursor=S,l._currentLink.state.isHovered&&((L=l._element)===null||L===void 0||L.classList.toggle("xterm-cursor-pointer",S)))}},underline:{get:function(){var S,A;return(A=(S=l._currentLink)===null||S===void 0?void 0:S.state)===null||A===void 0?void 0:A.decorations.underline},set:function(S){var A,L,T;((A=l._currentLink)===null||A===void 0?void 0:A.state)&&((T=(L=l._currentLink)===null||L===void 0?void 0:L.state)===null||T===void 0?void 0:T.decorations.underline)!==S&&(l._currentLink.state.decorations.underline=S,l._currentLink.state.isHovered&&l._fireUnderlineEvent(c.link,S))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedBufferChange(function(S){var A=S.start===0?0:S.start+1+l._bufferService.buffer.ydisp;l._clearCurrentLink(A,S.end+1+l._bufferService.buffer.ydisp)})))}},u.prototype._linkHover=function(c,l,b){var S;((S=this._currentLink)===null||S===void 0?void 0:S.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(l,!0),this._currentLink.state.decorations.pointerCursor&&c.classList.add("xterm-cursor-pointer")),l.hover&&l.hover(b,l.text)},u.prototype._fireUnderlineEvent=function(c,l){var b=c.range,S=this._bufferService.buffer.ydisp,A=this._createLinkUnderlineEvent(b.start.x-1,b.start.y-S-1,b.end.x,b.end.y-S-1,void 0);(l?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(A)},u.prototype._linkLeave=function(c,l,b){var S;((S=this._currentLink)===null||S===void 0?void 0:S.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(l,!1),this._currentLink.state.decorations.pointerCursor&&c.classList.remove("xterm-cursor-pointer")),l.leave&&l.leave(b,l.text)},u.prototype._linkAtPosition=function(c,l){var b=c.range.start.y===c.range.end.y,S=c.range.start.y<l.y,A=c.range.end.y>l.y;return(b&&c.range.start.x<=l.x&&c.range.end.x>=l.x||S&&c.range.end.x>=l.x||A&&c.range.start.x<=l.x||S&&A)&&c.range.start.y<=l.y&&c.range.end.y>=l.y},u.prototype._positionFromMouseEvent=function(c,l,b){var S=b.getCoords(c,l,this._bufferService.cols,this._bufferService.rows);if(S)return{x:S[0],y:S[1]+this._bufferService.buffer.ydisp}},u.prototype._createLinkUnderlineEvent=function(c,l,b,S,A){return{x1:c,y1:l,x2:b,y2:S,cols:this._bufferService.cols,fg:A}},v([g(0,w.IBufferService)],u)}(d.Disposable);r.Linkifier2=C},9042:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.tooMuchOutput=r.promptLabel=void 0,r.promptLabel="Terminal input",r.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},6954:function(_,r,s){var a,f=this&&this.__extends||(a=function(m,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var b in l)Object.prototype.hasOwnProperty.call(l,b)&&(c[b]=l[b])},a(m,u)},function(m,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function c(){this.constructor=m}a(m,u),m.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}),v=this&&this.__decorate||function(m,u,c,l){var b,S=arguments.length,A=S<3?u:l===null?l=Object.getOwnPropertyDescriptor(u,c):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(m,u,c,l);else for(var L=m.length-1;L>=0;L--)(b=m[L])&&(A=(S<3?b(A):S>3?b(u,c,A):b(u,c))||A);return S>3&&A&&Object.defineProperty(u,c,A),A},g=this&&this.__param||function(m,u){return function(c,l){u(c,l,m)}};Object.defineProperty(r,"__esModule",{value:!0}),r.MouseZoneManager=void 0;var w=s(844),E=s(3656),d=s(4725),h=s(2585),C=function(m){function u(c,l,b,S,A,L){var T=m.call(this)||this;return T._element=c,T._screenElement=l,T._bufferService=b,T._mouseService=S,T._selectionService=A,T._optionsService=L,T._zones=[],T._areZonesActive=!1,T._lastHoverCoords=[void 0,void 0],T._initialSelectionLength=0,T.register((0,E.addDisposableDomListener)(T._element,"mousedown",function(B){return T._onMouseDown(B)})),T._mouseMoveListener=function(B){return T._onMouseMove(B)},T._mouseLeaveListener=function(B){return T._onMouseLeave(B)},T._clickListener=function(B){return T._onClick(B)},T}return f(u,m),u.prototype.dispose=function(){m.prototype.dispose.call(this),this._deactivate()},u.prototype.add=function(c){this._zones.push(c),this._zones.length===1&&this._activate()},u.prototype.clearAll=function(c,l){if(this._zones.length!==0){c&&l||(c=0,l=this._bufferService.rows-1);for(var b=0;b<this._zones.length;b++){var S=this._zones[b];(S.y1>c&&S.y1<=l+1||S.y2>c&&S.y2<=l+1||S.y1<c&&S.y2>l+1)&&(this._currentZone&&this._currentZone===S&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(b--,1))}this._zones.length===0&&this._deactivate()}},u.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},u.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},u.prototype._onMouseMove=function(c){this._lastHoverCoords[0]===c.pageX&&this._lastHoverCoords[1]===c.pageY||(this._onHover(c),this._lastHoverCoords=[c.pageX,c.pageY])},u.prototype._onHover=function(c){var l=this,b=this._findZoneEventAt(c);b!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),b&&(this._currentZone=b,b.hoverCallback&&b.hoverCallback(c),this._tooltipTimeout=window.setTimeout(function(){return l._onTooltip(c)},this._optionsService.options.linkTooltipHoverDuration)))},u.prototype._onTooltip=function(c){this._tooltipTimeout=void 0;var l=this._findZoneEventAt(c);l==null||l.tooltipCallback(c)},u.prototype._onMouseDown=function(c){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var l=this._findZoneEventAt(c);(l==null?void 0:l.willLinkActivate(c))&&(c.preventDefault(),c.stopImmediatePropagation())}},u.prototype._onMouseLeave=function(c){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},u.prototype._onClick=function(c){var l=this._findZoneEventAt(c),b=this._getSelectionLength();l&&b===this._initialSelectionLength&&(l.clickCallback(c),c.preventDefault(),c.stopImmediatePropagation())},u.prototype._getSelectionLength=function(){var c=this._selectionService.selectionText;return c?c.length:0},u.prototype._findZoneEventAt=function(c){var l=this._mouseService.getCoords(c,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(l)for(var b=l[0],S=l[1],A=0;A<this._zones.length;A++){var L=this._zones[A];if(L.y1===L.y2){if(S===L.y1&&b>=L.x1&&b<L.x2)return L}else if(S===L.y1&&b>=L.x1||S===L.y2&&b<L.x2||S>L.y1&&S<L.y2)return L}},v([g(2,h.IBufferService),g(3,d.IMouseService),g(4,d.ISelectionService),g(5,h.IOptionsService)],u)}(w.Disposable);r.MouseZoneManager=C},6193:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.RenderDebouncer=void 0;var s=function(){function a(f){this._renderCallback=f}return a.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},a.prototype.refresh=function(f,v,g){var w=this;this._rowCount=g,f=f!==void 0?f:0,v=v!==void 0?v:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,f):f,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,v):v,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return w._innerRefresh()}))},a.prototype._innerRefresh=function(){if(this._rowStart!==void 0&&this._rowEnd!==void 0&&this._rowCount!==void 0){var f=Math.max(this._rowStart,0),v=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._animationFrame=void 0,this._renderCallback(f,v)}},a}();r.RenderDebouncer=s},5596:function(_,r,s){var a,f=this&&this.__extends||(a=function(g,w){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,d){E.__proto__=d}||function(E,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(E[h]=d[h])},a(g,w)},function(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function E(){this.constructor=g}a(g,w),g.prototype=w===null?Object.create(w):(E.prototype=w.prototype,new E)});Object.defineProperty(r,"__esModule",{value:!0}),r.ScreenDprMonitor=void 0;var v=function(g){function w(){var E=g!==null&&g.apply(this,arguments)||this;return E._currentDevicePixelRatio=window.devicePixelRatio,E}return f(w,g),w.prototype.setListener=function(E){var d=this;this._listener&&this.clearListener(),this._listener=E,this._outerListener=function(){d._listener&&(d._listener(window.devicePixelRatio,d._currentDevicePixelRatio),d._updateDpr())},this._updateDpr()},w.prototype.dispose=function(){g.prototype.dispose.call(this),this.clearListener()},w.prototype._updateDpr=function(){var E;this._outerListener&&((E=this._resolutionMediaMatchList)===null||E===void 0||E.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},w.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},w}(s(844).Disposable);r.ScreenDprMonitor=v},3236:function(_,r,s){var a,f=this&&this.__extends||(a=function(re,M){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,N){H.__proto__=N}||function(H,N){for(var U in N)Object.prototype.hasOwnProperty.call(N,U)&&(H[U]=N[U])},a(re,M)},function(re,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function H(){this.constructor=re}a(re,M),re.prototype=M===null?Object.create(M):(H.prototype=M.prototype,new H)});Object.defineProperty(r,"__esModule",{value:!0}),r.Terminal=void 0;var v=s(2950),g=s(1680),w=s(3614),E=s(2584),d=s(5435),h=s(3525),C=s(3551),m=s(9312),u=s(6114),c=s(3656),l=s(9042),b=s(357),S=s(6954),A=s(4567),L=s(1296),T=s(7399),B=s(8460),O=s(8437),x=s(5680),I=s(3230),R=s(4725),F=s(428),D=s(8934),k=s(6465),P=s(5114),j=s(8969),V=s(4774),J=s(4269),z=s(5941),Q=typeof window!="undefined"?window.document:null,ee=function(re){function M(H){H===void 0&&(H={});var N=re.call(this,H)||this;return N.browser=u,N._keyDownHandled=!1,N._keyPressHandled=!1,N._unprocessedDeadKey=!1,N._onCursorMove=new B.EventEmitter,N._onKey=new B.EventEmitter,N._onRender=new B.EventEmitter,N._onSelectionChange=new B.EventEmitter,N._onTitleChange=new B.EventEmitter,N._onBell=new B.EventEmitter,N._onFocus=new B.EventEmitter,N._onBlur=new B.EventEmitter,N._onA11yCharEmitter=new B.EventEmitter,N._onA11yTabEmitter=new B.EventEmitter,N._setup(),N.linkifier=N._instantiationService.createInstance(C.Linkifier),N.linkifier2=N.register(N._instantiationService.createInstance(k.Linkifier2)),N.register(N._inputHandler.onRequestBell(function(){return N.bell()})),N.register(N._inputHandler.onRequestRefreshRows(function(U,W){return N.refresh(U,W)})),N.register(N._inputHandler.onRequestSendFocus(function(){return N._reportFocus()})),N.register(N._inputHandler.onRequestReset(function(){return N.reset()})),N.register(N._inputHandler.onRequestWindowsOptionsReport(function(U){return N._reportWindowsOptions(U)})),N.register(N._inputHandler.onColor(function(U){return N._handleColorEvent(U)})),N.register((0,B.forwardEvent)(N._inputHandler.onCursorMove,N._onCursorMove)),N.register((0,B.forwardEvent)(N._inputHandler.onTitleChange,N._onTitleChange)),N.register((0,B.forwardEvent)(N._inputHandler.onA11yChar,N._onA11yCharEmitter)),N.register((0,B.forwardEvent)(N._inputHandler.onA11yTab,N._onA11yTabEmitter)),N.register(N._bufferService.onResize(function(U){return N._afterResize(U.cols,U.rows)})),N}return f(M,re),Object.defineProperty(M.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"onBell",{get:function(){return this._onBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),M.prototype._handleColorEvent=function(H){var N,U;if(this._colorManager){for(var W=0,Y=H;W<Y.length;W++){var Z=Y[W],se=void 0,X="";switch(Z.index){case 256:se="foreground",X="10";break;case 257:se="background",X="11";break;case 258:se="cursor",X="12";break;default:se="ansi",X="4;"+Z.index}if(se)switch(Z.type){case 0:var G=V.color.toColorRGB(se==="ansi"?this._colorManager.colors.ansi[Z.index]:this._colorManager.colors[se]);this.coreService.triggerDataEvent(E.C0.ESC+"]"+X+";"+(0,z.toRgbString)(G)+E.C0.BEL);break;case 1:se==="ansi"?this._colorManager.colors.ansi[Z.index]=V.rgba.toColor.apply(V.rgba,Z.color):this._colorManager.colors[se]=V.rgba.toColor.apply(V.rgba,Z.color);break;case 2:this._colorManager.restoreColor(Z.index)}}(N=this._renderService)===null||N===void 0||N.setColors(this._colorManager.colors),(U=this.viewport)===null||U===void 0||U.onThemeChange(this._colorManager.colors)}},M.prototype.dispose=function(){var H,N,U;this._isDisposed||(re.prototype.dispose.call(this),(H=this._renderService)===null||H===void 0||H.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},(U=(N=this.element)===null||N===void 0?void 0:N.parentNode)===null||U===void 0||U.removeChild(this.element))},M.prototype._setup=function(){re.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(M.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),M.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},M.prototype._updateOptions=function(H){var N,U,W,Y;switch(re.prototype._updateOptions.call(this,H),H){case"fontFamily":case"fontSize":(N=this._renderService)===null||N===void 0||N.clear(),(U=this._charSizeService)===null||U===void 0||U.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"customGlyphs":case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":(W=this.viewport)===null||W===void 0||W.syncScrollArea();break;case"screenReaderMode":this.optionsService.options.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new A.AccessibilityManager(this,this._renderService)):((Y=this._accessibilityManager)===null||Y===void 0||Y.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.options.theme)}},M.prototype._onTextAreaFocus=function(H){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(E.C0.ESC+"[I"),this.updateCursorStyle(H),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},M.prototype.blur=function(){var H;return(H=this.textarea)===null||H===void 0?void 0:H.blur()},M.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(E.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},M.prototype._syncTextArea=function(){if(this.textarea&&this.buffer.isCursorInViewport&&!this._compositionHelper.isComposing&&this._renderService){var H=this.buffer.ybase+this.buffer.y,N=this.buffer.lines.get(H);if(N){var U=Math.min(this.buffer.x,this.cols-1),W=this._renderService.dimensions.actualCellHeight,Y=N.getWidth(U),Z=this._renderService.dimensions.actualCellWidth*Y,se=this.buffer.y*this._renderService.dimensions.actualCellHeight,X=U*this._renderService.dimensions.actualCellWidth;this.textarea.style.left=X+"px",this.textarea.style.top=se+"px",this.textarea.style.width=Z+"px",this.textarea.style.height=W+"px",this.textarea.style.lineHeight=W+"px",this.textarea.style.zIndex="-5"}}},M.prototype._initGlobal=function(){var H=this;this._bindKeys(),this.register((0,c.addDisposableDomListener)(this.element,"copy",function(U){H.hasSelection()&&(0,w.copyHandler)(U,H._selectionService)}));var N=function(U){return(0,w.handlePasteEvent)(U,H.textarea,H.coreService)};this.register((0,c.addDisposableDomListener)(this.textarea,"paste",N)),this.register((0,c.addDisposableDomListener)(this.element,"paste",N)),u.isFirefox?this.register((0,c.addDisposableDomListener)(this.element,"mousedown",function(U){U.button===2&&(0,w.rightClickHandler)(U,H.textarea,H.screenElement,H._selectionService,H.options.rightClickSelectsWord)})):this.register((0,c.addDisposableDomListener)(this.element,"contextmenu",function(U){(0,w.rightClickHandler)(U,H.textarea,H.screenElement,H._selectionService,H.options.rightClickSelectsWord)})),u.isLinux&&this.register((0,c.addDisposableDomListener)(this.element,"auxclick",function(U){U.button===1&&(0,w.moveTextAreaUnderMouseCursor)(U,H.textarea,H.screenElement)}))},M.prototype._bindKeys=function(){var H=this;this.register((0,c.addDisposableDomListener)(this.textarea,"keyup",function(N){return H._keyUp(N)},!0)),this.register((0,c.addDisposableDomListener)(this.textarea,"keydown",function(N){return H._keyDown(N)},!0)),this.register((0,c.addDisposableDomListener)(this.textarea,"keypress",function(N){return H._keyPress(N)},!0)),this.register((0,c.addDisposableDomListener)(this.textarea,"compositionstart",function(){return H._compositionHelper.compositionstart()})),this.register((0,c.addDisposableDomListener)(this.textarea,"compositionupdate",function(N){return H._compositionHelper.compositionupdate(N)})),this.register((0,c.addDisposableDomListener)(this.textarea,"compositionend",function(){return H._compositionHelper.compositionend()})),this.register((0,c.addDisposableDomListener)(this.textarea,"input",function(N){return H._inputEvent(N)},!0)),this.register(this.onRender(function(){return H._compositionHelper.updateCompositionElements()})),this.register(this.onRender(function(N){return H._queueLinkification(N.start,N.end)}))},M.prototype.open=function(H){var N=this;if(!H)throw new Error("Terminal requires a parent element.");H.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=H.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),H.appendChild(this.element);var U=Q.createDocumentFragment();this._viewportElement=Q.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),U.appendChild(this._viewportElement),this._viewportScrollArea=Q.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=Q.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=Q.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),U.appendChild(this.screenElement),this.textarea=Q.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",l.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register((0,c.addDisposableDomListener)(this.textarea,"focus",function(Z){return N._onTextAreaFocus(Z)})),this.register((0,c.addDisposableDomListener)(this.textarea,"blur",function(){return N._onTextAreaBlur()})),this._helperContainer.appendChild(this.textarea);var W=this._instantiationService.createInstance(P.CoreBrowserService,this.textarea);this._instantiationService.setService(R.ICoreBrowserService,W),this._charSizeService=this._instantiationService.createInstance(F.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(R.ICharSizeService,this._charSizeService),this._theme=this.options.theme||this._theme,this._colorManager=new x.ColorManager(Q,this.options.allowTransparency),this.register(this.optionsService.onOptionChange(function(Z){return N._colorManager.onOptionsChange(Z)})),this._colorManager.setTheme(this._theme),this._characterJoinerService=this._instantiationService.createInstance(J.CharacterJoinerService),this._instantiationService.setService(R.ICharacterJoinerService,this._characterJoinerService);var Y=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(I.RenderService,Y,this.rows,this.screenElement)),this._instantiationService.setService(R.IRenderService,this._renderService),this.register(this._renderService.onRenderedBufferChange(function(Z){return N._onRender.fire(Z)})),this.onResize(function(Z){return N._renderService.resize(Z.cols,Z.rows)}),this._compositionView=Q.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(v.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(U),this._soundService=this._instantiationService.createInstance(b.SoundService),this._instantiationService.setService(R.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(D.MouseService),this._instantiationService.setService(R.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(g.Viewport,function(Z){return N.scrollLines(Z,!0,1)},this._viewportElement,this._viewportScrollArea,this.element),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar(function(){return N.viewport.syncScrollArea()})),this.register(this.viewport),this.register(this.onCursorMove(function(){N._renderService.onCursorMove(),N._syncTextArea()})),this.register(this.onResize(function(){return N._renderService.onResize(N.cols,N.rows)})),this.register(this.onBlur(function(){return N._renderService.onBlur()})),this.register(this.onFocus(function(){return N._renderService.onFocus()})),this.register(this._renderService.onDimensionsChange(function(){return N.viewport.syncScrollArea()})),this._selectionService=this.register(this._instantiationService.createInstance(m.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(R.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(function(Z){return N.scrollLines(Z.amount,Z.suppressScrollEvent)})),this.register(this._selectionService.onSelectionChange(function(){return N._onSelectionChange.fire()})),this.register(this._selectionService.onRequestRedraw(function(Z){return N._renderService.onSelectionChanged(Z.start,Z.end,Z.columnSelectMode)})),this.register(this._selectionService.onLinuxMouseSelection(function(Z){N.textarea.value=Z,N.textarea.focus(),N.textarea.select()})),this.register(this._onScroll.event(function(Z){N.viewport.syncScrollArea(),N._selectionService.refresh()})),this.register((0,c.addDisposableDomListener)(this._viewportElement,"scroll",function(){return N._selectionService.refresh()})),this._mouseZoneManager=this._instantiationService.createInstance(S.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll(function(){return N._mouseZoneManager.clearAll()})),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register((0,c.addDisposableDomListener)(this.element,"mousedown",function(Z){return N._selectionService.onMouseDown(Z)})),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new A.AccessibilityManager(this,this._renderService)),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},M.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(h.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(L.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},M.prototype._setTheme=function(H){var N,U,W;this._theme=H,(N=this._colorManager)===null||N===void 0||N.setTheme(H),(U=this._renderService)===null||U===void 0||U.setColors(this._colorManager.colors),(W=this.viewport)===null||W===void 0||W.onThemeChange(this._colorManager.colors)},M.prototype.bindMouse=function(){var H=this,N=this,U=this.element;function W($){var ie,ce,fe=N._mouseService.getRawByteCoords($,N.screenElement,N.cols,N.rows);if(!fe)return!1;switch($.overrideType||$.type){case"mousemove":ce=32,$.buttons===void 0?(ie=3,$.button!==void 0&&(ie=$.button<3?$.button:3)):ie=1&$.buttons?0:4&$.buttons?1:2&$.buttons?2:3;break;case"mouseup":ce=0,ie=$.button<3?$.button:3;break;case"mousedown":ce=1,ie=$.button<3?$.button:3;break;case"wheel":$.deltaY!==0&&(ce=$.deltaY<0?0:1),ie=4;break;default:return!1}return!(ce===void 0||ie===void 0||ie>4)&&N.coreMouseService.triggerMouseEvent({col:fe.x-33,row:fe.y-33,button:ie,action:ce,ctrl:$.ctrlKey,alt:$.altKey,shift:$.shiftKey})}var Y={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Z=function($){return W($),$.buttons||(H._document.removeEventListener("mouseup",Y.mouseup),Y.mousedrag&&H._document.removeEventListener("mousemove",Y.mousedrag)),H.cancel($)},se=function($){return W($),H.cancel($,!0)},X=function($){$.buttons&&W($)},G=function($){$.buttons||W($)};this.register(this.coreMouseService.onProtocolChange(function($){$?(H.optionsService.options.logLevel==="debug"&&H._logService.debug("Binding to mouse events:",H.coreMouseService.explainEvents($)),H.element.classList.add("enable-mouse-events"),H._selectionService.disable()):(H._logService.debug("Unbinding from mouse events."),H.element.classList.remove("enable-mouse-events"),H._selectionService.enable()),8&$?Y.mousemove||(U.addEventListener("mousemove",G),Y.mousemove=G):(U.removeEventListener("mousemove",Y.mousemove),Y.mousemove=null),16&$?Y.wheel||(U.addEventListener("wheel",se,{passive:!1}),Y.wheel=se):(U.removeEventListener("wheel",Y.wheel),Y.wheel=null),2&$?Y.mouseup||(Y.mouseup=Z):(H._document.removeEventListener("mouseup",Y.mouseup),Y.mouseup=null),4&$?Y.mousedrag||(Y.mousedrag=X):(H._document.removeEventListener("mousemove",Y.mousedrag),Y.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,c.addDisposableDomListener)(U,"mousedown",function($){if($.preventDefault(),H.focus(),H.coreMouseService.areMouseEventsActive&&!H._selectionService.shouldForceSelection($))return W($),Y.mouseup&&H._document.addEventListener("mouseup",Y.mouseup),Y.mousedrag&&H._document.addEventListener("mousemove",Y.mousedrag),H.cancel($)})),this.register((0,c.addDisposableDomListener)(U,"wheel",function($){if(!Y.wheel){if(!H.buffer.hasScrollback){var ie=H.viewport.getLinesScrolled($);if(ie===0)return;for(var ce=E.C0.ESC+(H.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+($.deltaY<0?"A":"B"),fe="",pe=0;pe<Math.abs(ie);pe++)fe+=ce;return H.coreService.triggerDataEvent(fe,!0),H.cancel($,!0)}return H.viewport.onWheel($)?H.cancel($):void 0}},{passive:!1})),this.register((0,c.addDisposableDomListener)(U,"touchstart",function($){if(!H.coreMouseService.areMouseEventsActive)return H.viewport.onTouchStart($),H.cancel($)},{passive:!0})),this.register((0,c.addDisposableDomListener)(U,"touchmove",function($){if(!H.coreMouseService.areMouseEventsActive)return H.viewport.onTouchMove($)?void 0:H.cancel($)},{passive:!1}))},M.prototype.refresh=function(H,N){var U;(U=this._renderService)===null||U===void 0||U.refreshRows(H,N)},M.prototype._queueLinkification=function(H,N){var U;(U=this.linkifier)===null||U===void 0||U.linkifyRows(H,N)},M.prototype.updateCursorStyle=function(H){var N;((N=this._selectionService)===null||N===void 0?void 0:N.shouldColumnSelect(H))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},M.prototype._showCursor=function(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},M.prototype.scrollLines=function(H,N,U){U===void 0&&(U=0),re.prototype.scrollLines.call(this,H,N,U),this.refresh(0,this.rows-1)},M.prototype.paste=function(H){(0,w.paste)(H,this.textarea,this.coreService)},M.prototype.attachCustomKeyEventHandler=function(H){this._customKeyEventHandler=H},M.prototype.registerLinkMatcher=function(H,N,U){var W=this.linkifier.registerLinkMatcher(H,N,U);return this.refresh(0,this.rows-1),W},M.prototype.deregisterLinkMatcher=function(H){this.linkifier.deregisterLinkMatcher(H)&&this.refresh(0,this.rows-1)},M.prototype.registerLinkProvider=function(H){return this.linkifier2.registerLinkProvider(H)},M.prototype.registerCharacterJoiner=function(H){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");var N=this._characterJoinerService.register(H);return this.refresh(0,this.rows-1),N},M.prototype.deregisterCharacterJoiner=function(H){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(H)&&this.refresh(0,this.rows-1)},Object.defineProperty(M.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),M.prototype.addMarker=function(H){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+H)},M.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},M.prototype.select=function(H,N,U){this._selectionService.setSelection(H,N,U)},M.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},M.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},M.prototype.clearSelection=function(){var H;(H=this._selectionService)===null||H===void 0||H.clearSelection()},M.prototype.selectAll=function(){var H;(H=this._selectionService)===null||H===void 0||H.selectAll()},M.prototype.selectLines=function(H,N){var U;(U=this._selectionService)===null||U===void 0||U.selectLines(H,N)},M.prototype._keyDown=function(H){if(this._keyDownHandled=!1,this._customKeyEventHandler&&this._customKeyEventHandler(H)===!1)return!1;if(!this._compositionHelper.keydown(H))return this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;H.key!=="Dead"&&H.key!=="AltGraph"||(this._unprocessedDeadKey=!0);var N=(0,T.evaluateKeyboardEvent)(H,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(H),N.type===3||N.type===2){var U=this.rows-1;return this.scrollLines(N.type===2?-U:U),this.cancel(H,!0)}return N.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,H)||(N.cancel&&this.cancel(H,!0),!N.key||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(N.key!==E.C0.ETX&&N.key!==E.C0.CR||(this.textarea.value=""),this._onKey.fire({key:N.key,domEvent:H}),this._showCursor(),this.coreService.triggerDataEvent(N.key,!0),this.optionsService.options.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(H,!0))))},M.prototype._isThirdLevelShift=function(H,N){var U=H.isMac&&!this.options.macOptionIsMeta&&N.altKey&&!N.ctrlKey&&!N.metaKey||H.isWindows&&N.altKey&&N.ctrlKey&&!N.metaKey||H.isWindows&&N.getModifierState("AltGraph");return N.type==="keypress"?U:U&&(!N.keyCode||N.keyCode>47)},M.prototype._keyUp=function(H){this._customKeyEventHandler&&this._customKeyEventHandler(H)===!1||(function(N){return N.keyCode===16||N.keyCode===17||N.keyCode===18}(H)||this.focus(),this.updateCursorStyle(H),this._keyPressHandled=!1)},M.prototype._keyPress=function(H){var N;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(H)===!1)return!1;if(this.cancel(H),H.charCode)N=H.charCode;else if(H.which===null||H.which===void 0)N=H.keyCode;else{if(H.which===0||H.charCode===0)return!1;N=H.which}return!(!N||(H.altKey||H.ctrlKey||H.metaKey)&&!this._isThirdLevelShift(this.browser,H)||(N=String.fromCharCode(N),this._onKey.fire({key:N,domEvent:H}),this._showCursor(),this.coreService.triggerDataEvent(N,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))},M.prototype._inputEvent=function(H){if(H.data&&H.inputType==="insertText"&&!H.composed&&!this.optionsService.options.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;var N=H.data;return this.coreService.triggerDataEvent(N,!0),this.cancel(H),!0}return!1},M.prototype.bell=function(){var H;this._soundBell()&&((H=this._soundService)===null||H===void 0||H.playBellSound()),this._onBell.fire()},M.prototype.resize=function(H,N){H!==this.cols||N!==this.rows?re.prototype.resize.call(this,H,N):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},M.prototype._afterResize=function(H,N){var U,W;(U=this._charSizeService)===null||U===void 0||U.measure(),(W=this.viewport)===null||W===void 0||W.syncScrollArea(!0)},M.prototype.clear=function(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var H=1;H<this.rows;H++)this.buffer.lines.push(this.buffer.getBlankLine(O.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}},M.prototype.reset=function(){var H,N;this.options.rows=this.rows,this.options.cols=this.cols;var U=this._customKeyEventHandler;this._setup(),re.prototype.reset.call(this),(H=this._selectionService)===null||H===void 0||H.reset(),this._customKeyEventHandler=U,this.refresh(0,this.rows-1),(N=this.viewport)===null||N===void 0||N.syncScrollArea()},M.prototype.clearTextureAtlas=function(){var H;(H=this._renderService)===null||H===void 0||H.clearTextureAtlas()},M.prototype._reportFocus=function(){var H;((H=this.element)===null||H===void 0?void 0:H.classList.contains("focus"))?this.coreService.triggerDataEvent(E.C0.ESC+"[I"):this.coreService.triggerDataEvent(E.C0.ESC+"[O")},M.prototype._reportWindowsOptions=function(H){if(this._renderService)switch(H){case d.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var N=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),U=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this.coreService.triggerDataEvent(E.C0.ESC+"[4;"+U+";"+N+"t");break;case d.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var W=this._renderService.dimensions.scaledCellWidth.toFixed(0),Y=this._renderService.dimensions.scaledCellHeight.toFixed(0);this.coreService.triggerDataEvent(E.C0.ESC+"[6;"+Y+";"+W+"t")}},M.prototype.cancel=function(H,N){if(this.options.cancelEvents||N)return H.preventDefault(),H.stopPropagation(),!1},M.prototype._visualBell=function(){return!1},M.prototype._soundBell=function(){return this.options.bellStyle==="sound"},M}(j.CoreTerminal);r.Terminal=ee},9924:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TimeBasedDebouncer=void 0;var s=function(){function a(f,v){v===void 0&&(v=1e3),this._renderCallback=f,this._debounceThresholdMS=v,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}return a.prototype.dispose=function(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)},a.prototype.refresh=function(f,v,g){var w=this;this._rowCount=g,f=f!==void 0?f:0,v=v!==void 0?v:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,f):f,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,v):v;var E=Date.now();if(E-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=E,this._innerRefresh();else if(!this._additionalRefreshRequested){var d=E-this._lastRefreshMs,h=this._debounceThresholdMS-d;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(function(){w._lastRefreshMs=Date.now(),w._innerRefresh(),w._additionalRefreshRequested=!1,w._refreshTimeoutID=void 0},h)}},a.prototype._innerRefresh=function(){if(this._rowStart!==void 0&&this._rowEnd!==void 0&&this._rowCount!==void 0){var f=Math.max(this._rowStart,0),v=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(f,v)}},a}();r.TimeBasedDebouncer=s},1680:function(_,r,s){var a,f=this&&this.__extends||(a=function(m,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var b in l)Object.prototype.hasOwnProperty.call(l,b)&&(c[b]=l[b])},a(m,u)},function(m,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function c(){this.constructor=m}a(m,u),m.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}),v=this&&this.__decorate||function(m,u,c,l){var b,S=arguments.length,A=S<3?u:l===null?l=Object.getOwnPropertyDescriptor(u,c):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(m,u,c,l);else for(var L=m.length-1;L>=0;L--)(b=m[L])&&(A=(S<3?b(A):S>3?b(u,c,A):b(u,c))||A);return S>3&&A&&Object.defineProperty(u,c,A),A},g=this&&this.__param||function(m,u){return function(c,l){u(c,l,m)}};Object.defineProperty(r,"__esModule",{value:!0}),r.Viewport=void 0;var w=s(844),E=s(3656),d=s(4725),h=s(2585),C=function(m){function u(c,l,b,S,A,L,T,B){var O=m.call(this)||this;return O._scrollLines=c,O._viewportElement=l,O._scrollArea=b,O._element=S,O._bufferService=A,O._optionsService=L,O._charSizeService=T,O._renderService=B,O.scrollBarWidth=0,O._currentRowHeight=0,O._currentScaledCellHeight=0,O._lastRecordedBufferLength=0,O._lastRecordedViewportHeight=0,O._lastRecordedBufferHeight=0,O._lastTouchY=0,O._lastScrollTop=0,O._lastHadScrollBar=!1,O._wheelPartialScroll=0,O._refreshAnimationFrame=null,O._ignoreNextScrollEvent=!1,O.scrollBarWidth=O._viewportElement.offsetWidth-O._scrollArea.offsetWidth||15,O._lastHadScrollBar=!0,O.register((0,E.addDisposableDomListener)(O._viewportElement,"scroll",O._onScroll.bind(O))),O._activeBuffer=O._bufferService.buffer,O.register(O._bufferService.buffers.onBufferActivate(function(x){return O._activeBuffer=x.activeBuffer})),O._renderDimensions=O._renderService.dimensions,O.register(O._renderService.onDimensionsChange(function(x){return O._renderDimensions=x})),setTimeout(function(){return O.syncScrollArea()},0),O}return f(u,m),u.prototype.onThemeChange=function(c){this._viewportElement.style.backgroundColor=c.background.css},u.prototype._refresh=function(c){var l=this;if(c)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=requestAnimationFrame(function(){return l._innerRefresh()}))},u.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._currentScaledCellHeight=this._renderService.dimensions.scaledCellHeight,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var c=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==c&&(this._lastRecordedBufferHeight=c,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var l=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==l&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=l),this._optionsService.options.scrollback===0?this.scrollBarWidth=0:this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this._lastHadScrollBar=this.scrollBarWidth>0;var b=window.getComputedStyle(this._element),S=parseInt(b.paddingLeft)+parseInt(b.paddingRight);this._viewportElement.style.width=(this._renderService.dimensions.actualCellWidth*this._bufferService.cols+this.scrollBarWidth+(this._lastHadScrollBar?S:0)).toString()+"px",this._refreshAnimationFrame=null},u.prototype.syncScrollArea=function(c){if(c===void 0&&(c=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(c);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.scaledCellHeight===this._currentScaledCellHeight?this._lastHadScrollBar!==this._optionsService.options.scrollback>0&&this._refresh(c):this._refresh(c)},u.prototype._onScroll=function(c){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent){if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);var l=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(l)}},u.prototype._bubbleScroll=function(c,l){var b=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(l<0&&this._viewportElement.scrollTop!==0||l>0&&b<this._lastRecordedBufferHeight)||(c.cancelable&&c.preventDefault(),!1)},u.prototype.onWheel=function(c){var l=this._getPixelsScrolled(c);return l!==0&&(this._viewportElement.scrollTop+=l,this._bubbleScroll(c,l))},u.prototype._getPixelsScrolled=function(c){if(c.deltaY===0||c.shiftKey)return 0;var l=this._applyScrollModifier(c.deltaY,c);return c.deltaMode===WheelEvent.DOM_DELTA_LINE?l*=this._currentRowHeight:c.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(l*=this._currentRowHeight*this._bufferService.rows),l},u.prototype.getLinesScrolled=function(c){if(c.deltaY===0||c.shiftKey)return 0;var l=this._applyScrollModifier(c.deltaY,c);return c.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(l/=this._currentRowHeight+0,this._wheelPartialScroll+=l,l=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):c.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(l*=this._bufferService.rows),l},u.prototype._applyScrollModifier=function(c,l){var b=this._optionsService.options.fastScrollModifier;return b==="alt"&&l.altKey||b==="ctrl"&&l.ctrlKey||b==="shift"&&l.shiftKey?c*this._optionsService.options.fastScrollSensitivity*this._optionsService.options.scrollSensitivity:c*this._optionsService.options.scrollSensitivity},u.prototype.onTouchStart=function(c){this._lastTouchY=c.touches[0].pageY},u.prototype.onTouchMove=function(c){var l=this._lastTouchY-c.touches[0].pageY;return this._lastTouchY=c.touches[0].pageY,l!==0&&(this._viewportElement.scrollTop+=l,this._bubbleScroll(c,l))},v([g(4,h.IBufferService),g(5,h.IOptionsService),g(6,d.ICharSizeService),g(7,d.IRenderService)],u)}(w.Disposable);r.Viewport=C},2950:function(_,r,s){var a=this&&this.__decorate||function(E,d,h,C){var m,u=arguments.length,c=u<3?d:C===null?C=Object.getOwnPropertyDescriptor(d,h):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(E,d,h,C);else for(var l=E.length-1;l>=0;l--)(m=E[l])&&(c=(u<3?m(c):u>3?m(d,h,c):m(d,h))||c);return u>3&&c&&Object.defineProperty(d,h,c),c},f=this&&this.__param||function(E,d){return function(h,C){d(h,C,E)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CompositionHelper=void 0;var v=s(4725),g=s(2585),w=function(){function E(d,h,C,m,u,c){this._textarea=d,this._compositionView=h,this._bufferService=C,this._optionsService=m,this._coreService=u,this._renderService=c,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}return Object.defineProperty(E.prototype,"isComposing",{get:function(){return this._isComposing},enumerable:!1,configurable:!0}),E.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")},E.prototype.compositionupdate=function(d){var h=this;this._compositionView.textContent=d.data,this.updateCompositionElements(),setTimeout(function(){h._compositionPosition.end=h._textarea.value.length},0)},E.prototype.compositionend=function(){this._finalizeComposition(!0)},E.prototype.keydown=function(d){if(this._isComposing||this._isSendingComposition){if(d.keyCode===229||d.keyCode===16||d.keyCode===17||d.keyCode===18)return!1;this._finalizeComposition(!1)}return d.keyCode!==229||(this._handleAnyTextareaChanges(),!1)},E.prototype._finalizeComposition=function(d){var h=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,d){var C={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(function(){if(h._isSendingComposition){h._isSendingComposition=!1;var u;C.start+=h._dataAlreadySent.length,(u=h._isComposing?h._textarea.value.substring(C.start,C.end):h._textarea.value.substring(C.start)).length>0&&h._coreService.triggerDataEvent(u,!0)}},0)}else{this._isSendingComposition=!1;var m=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(m,!0)}},E.prototype._handleAnyTextareaChanges=function(){var d=this,h=this._textarea.value;setTimeout(function(){if(!d._isComposing){var C=d._textarea.value.replace(h,"");C.length>0&&(d._dataAlreadySent=C,d._coreService.triggerDataEvent(C,!0))}},0)},E.prototype.updateCompositionElements=function(d){var h=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var C=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),m=this._renderService.dimensions.actualCellHeight,u=this._bufferService.buffer.y*this._renderService.dimensions.actualCellHeight,c=C*this._renderService.dimensions.actualCellWidth;this._compositionView.style.left=c+"px",this._compositionView.style.top=u+"px",this._compositionView.style.height=m+"px",this._compositionView.style.lineHeight=m+"px",this._compositionView.style.fontFamily=this._optionsService.options.fontFamily,this._compositionView.style.fontSize=this._optionsService.options.fontSize+"px";var l=this._compositionView.getBoundingClientRect();this._textarea.style.left=c+"px",this._textarea.style.top=u+"px",this._textarea.style.width=Math.max(l.width,1)+"px",this._textarea.style.height=Math.max(l.height,1)+"px",this._textarea.style.lineHeight=l.height+"px"}d||setTimeout(function(){return h.updateCompositionElements(!0)},0)}},a([f(2,g.IBufferService),f(3,g.IOptionsService),f(4,g.ICoreService),f(5,v.IRenderService)],E)}();r.CompositionHelper=w},9806:(_,r)=>{function s(a,f){var v=f.getBoundingClientRect();return[a.clientX-v.left,a.clientY-v.top]}Object.defineProperty(r,"__esModule",{value:!0}),r.getRawByteCoords=r.getCoords=r.getCoordsRelativeToElement=void 0,r.getCoordsRelativeToElement=s,r.getCoords=function(a,f,v,g,w,E,d,h){if(w){var C=s(a,f);if(C)return C[0]=Math.ceil((C[0]+(h?E/2:0))/E),C[1]=Math.ceil(C[1]/d),C[0]=Math.min(Math.max(C[0],1),v+(h?1:0)),C[1]=Math.min(Math.max(C[1],1),g),C}},r.getRawByteCoords=function(a){if(a)return{x:a[0]+32,y:a[1]+32}}},9504:(_,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.moveToCellSequence=void 0;var a=s(2584);function f(h,C,m,u){var c=h-v(m,h),l=C-v(m,C),b=Math.abs(c-l)-function(S,A,L){for(var T=0,B=S-v(L,S),O=A-v(L,A),x=0;x<Math.abs(B-O);x++){var I=g(S,A)==="A"?-1:1,R=L.buffer.lines.get(B+I*x);(R==null?void 0:R.isWrapped)&&T++}return T}(h,C,m);return d(b,E(g(h,C),u))}function v(h,C){for(var m=0,u=h.buffer.lines.get(C),c=u==null?void 0:u.isWrapped;c&&C>=0&&C<h.rows;)m++,c=(u=h.buffer.lines.get(--C))==null?void 0:u.isWrapped;return m}function g(h,C){return h>C?"A":"B"}function w(h,C,m,u,c,l){for(var b=h,S=C,A="";b!==m||S!==u;)b+=c?1:-1,c&&b>l.cols-1?(A+=l.buffer.translateBufferLineToString(S,!1,h,b),b=0,h=0,S++):!c&&b<0&&(A+=l.buffer.translateBufferLineToString(S,!1,0,h+1),h=b=l.cols-1,S--);return A+l.buffer.translateBufferLineToString(S,!1,h,b)}function E(h,C){var m=C?"O":"[";return a.C0.ESC+m+h}function d(h,C){h=Math.floor(h);for(var m="",u=0;u<h;u++)m+=C;return m}r.moveToCellSequence=function(h,C,m,u){var c,l=m.buffer.x,b=m.buffer.y;if(!m.buffer.hasScrollback)return function(A,L,T,B,O,x){return f(L,B,O,x).length===0?"":d(w(A,L,A,L-v(O,L),!1,O).length,E("D",x))}(l,b,0,C,m,u)+f(b,C,m,u)+function(A,L,T,B,O,x){var I;I=f(L,B,O,x).length>0?B-v(O,B):L;var R=B,F=function(D,k,P,j,V,J){var z;return z=f(P,j,V,J).length>0?j-v(V,j):k,D<P&&z<=j||D>=P&&z<j?"C":"D"}(A,L,T,B,O,x);return d(w(A,I,T,R,F==="C",O).length,E(F,x))}(l,b,h,C,m,u);if(b===C)return c=l>h?"D":"C",d(Math.abs(l-h),E(c,u));c=b>C?"D":"C";var S=Math.abs(b-C);return d(function(A,L){return L.cols-A}(b>C?h:l,m)+(S-1)*m.cols+1+((b>C?l:h)-1),E(c,u))}},1546:(_,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BaseRenderLayer=void 0;var a=s(643),f=s(8803),v=s(1420),g=s(3734),w=s(1752),E=s(4774),d=s(9631),h=s(8978),C=function(){function m(u,c,l,b,S,A,L,T){this._container=u,this._alpha=b,this._colors=S,this._rendererId=A,this._bufferService=L,this._optionsService=T,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+c+"-layer"),this._canvas.style.zIndex=l.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return m.prototype.dispose=function(){var u;(0,d.removeElementFromParent)(this._canvas),(u=this._charAtlas)===null||u===void 0||u.dispose()},m.prototype._initCanvas=function(){this._ctx=(0,w.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},m.prototype.onOptionsChanged=function(){},m.prototype.onBlur=function(){},m.prototype.onFocus=function(){},m.prototype.onCursorMove=function(){},m.prototype.onGridChanged=function(u,c){},m.prototype.onSelectionChanged=function(u,c,l){},m.prototype.setColors=function(u){this._refreshCharAtlas(u)},m.prototype._setTransparency=function(u){if(u!==this._alpha){var c=this._canvas;this._alpha=u,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,c),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},m.prototype._refreshCharAtlas=function(u){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=(0,v.acquireCharAtlas)(this._optionsService.options,this._rendererId,u,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},m.prototype.resize=function(u){this._scaledCellWidth=u.scaledCellWidth,this._scaledCellHeight=u.scaledCellHeight,this._scaledCharWidth=u.scaledCharWidth,this._scaledCharHeight=u.scaledCharHeight,this._scaledCharLeft=u.scaledCharLeft,this._scaledCharTop=u.scaledCharTop,this._canvas.width=u.scaledCanvasWidth,this._canvas.height=u.scaledCanvasHeight,this._canvas.style.width=u.canvasWidth+"px",this._canvas.style.height=u.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},m.prototype.clearTextureAtlas=function(){var u;(u=this._charAtlas)===null||u===void 0||u.clear()},m.prototype._fillCells=function(u,c,l,b){this._ctx.fillRect(u*this._scaledCellWidth,c*this._scaledCellHeight,l*this._scaledCellWidth,b*this._scaledCellHeight)},m.prototype._fillMiddleLineAtCells=function(u,c,l){l===void 0&&(l=1);var b=Math.ceil(.5*this._scaledCellHeight);this._ctx.fillRect(u*this._scaledCellWidth,(c+1)*this._scaledCellHeight-b-window.devicePixelRatio,l*this._scaledCellWidth,window.devicePixelRatio)},m.prototype._fillBottomLineAtCells=function(u,c,l){l===void 0&&(l=1),this._ctx.fillRect(u*this._scaledCellWidth,(c+1)*this._scaledCellHeight-window.devicePixelRatio-1,l*this._scaledCellWidth,window.devicePixelRatio)},m.prototype._fillLeftLineAtCell=function(u,c,l){this._ctx.fillRect(u*this._scaledCellWidth,c*this._scaledCellHeight,window.devicePixelRatio*l,this._scaledCellHeight)},m.prototype._strokeRectAtCell=function(u,c,l,b){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(u*this._scaledCellWidth+window.devicePixelRatio/2,c*this._scaledCellHeight+window.devicePixelRatio/2,l*this._scaledCellWidth-window.devicePixelRatio,b*this._scaledCellHeight-window.devicePixelRatio)},m.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},m.prototype._clearCells=function(u,c,l,b){this._alpha?this._ctx.clearRect(u*this._scaledCellWidth,c*this._scaledCellHeight,l*this._scaledCellWidth,b*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(u*this._scaledCellWidth,c*this._scaledCellHeight,l*this._scaledCellWidth,b*this._scaledCellHeight))},m.prototype._fillCharTrueColor=function(u,c,l){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline=f.TEXT_BASELINE,this._clipRow(l);var b=!1;this._optionsService.options.customGlyphs!==!1&&(b=(0,h.tryDrawCustomChar)(this._ctx,u.getChars(),c*this._scaledCellWidth,l*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),b||this._ctx.fillText(u.getChars(),c*this._scaledCellWidth+this._scaledCharLeft,l*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight)},m.prototype._drawChars=function(u,c,l){var b,S,A,L=this._getContrastColor(u);L||u.isFgRGB()||u.isBgRGB()?this._drawUncachedChars(u,c,l,L):(u.isInverse()?(S=u.isBgDefault()?f.INVERTED_DEFAULT_COLOR:u.getBgColor(),A=u.isFgDefault()?f.INVERTED_DEFAULT_COLOR:u.getFgColor()):(A=u.isBgDefault()?a.DEFAULT_COLOR:u.getBgColor(),S=u.isFgDefault()?a.DEFAULT_COLOR:u.getFgColor()),S+=this._optionsService.options.drawBoldTextInBrightColors&&u.isBold()&&S<8?8:0,this._currentGlyphIdentifier.chars=u.getChars()||a.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=u.getCode()||a.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=A,this._currentGlyphIdentifier.fg=S,this._currentGlyphIdentifier.bold=!!u.isBold(),this._currentGlyphIdentifier.dim=!!u.isDim(),this._currentGlyphIdentifier.italic=!!u.isItalic(),((b=this._charAtlas)===null||b===void 0?void 0:b.draw(this._ctx,this._currentGlyphIdentifier,c*this._scaledCellWidth+this._scaledCharLeft,l*this._scaledCellHeight+this._scaledCharTop))||this._drawUncachedChars(u,c,l))},m.prototype._drawUncachedChars=function(u,c,l,b){if(this._ctx.save(),this._ctx.font=this._getFont(!!u.isBold(),!!u.isItalic()),this._ctx.textBaseline=f.TEXT_BASELINE,u.isInverse())if(b)this._ctx.fillStyle=b.css;else if(u.isBgDefault())this._ctx.fillStyle=E.color.opaque(this._colors.background).css;else if(u.isBgRGB())this._ctx.fillStyle="rgb("+g.AttributeData.toColorRGB(u.getBgColor()).join(",")+")";else{var S=u.getBgColor();this._optionsService.options.drawBoldTextInBrightColors&&u.isBold()&&S<8&&(S+=8),this._ctx.fillStyle=this._colors.ansi[S].css}else if(b)this._ctx.fillStyle=b.css;else if(u.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(u.isFgRGB())this._ctx.fillStyle="rgb("+g.AttributeData.toColorRGB(u.getFgColor()).join(",")+")";else{var A=u.getFgColor();this._optionsService.options.drawBoldTextInBrightColors&&u.isBold()&&A<8&&(A+=8),this._ctx.fillStyle=this._colors.ansi[A].css}this._clipRow(l),u.isDim()&&(this._ctx.globalAlpha=f.DIM_OPACITY);var L=!1;this._optionsService.options.customGlyphs!==!1&&(L=(0,h.tryDrawCustomChar)(this._ctx,u.getChars(),c*this._scaledCellWidth,l*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),L||this._ctx.fillText(u.getChars(),c*this._scaledCellWidth+this._scaledCharLeft,l*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight),this._ctx.restore()},m.prototype._clipRow=function(u){this._ctx.beginPath(),this._ctx.rect(0,u*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},m.prototype._getFont=function(u,c){return(c?"italic":"")+" "+(u?this._optionsService.options.fontWeightBold:this._optionsService.options.fontWeight)+" "+this._optionsService.options.fontSize*window.devicePixelRatio+"px "+this._optionsService.options.fontFamily},m.prototype._getContrastColor=function(u){if(this._optionsService.options.minimumContrastRatio!==1){var c=this._colors.contrastCache.getColor(u.bg,u.fg);if(c!==void 0)return c||void 0;var l=u.getFgColor(),b=u.getFgColorMode(),S=u.getBgColor(),A=u.getBgColorMode(),L=!!u.isInverse(),T=!!u.isInverse();if(L){var B=l;l=S,S=B;var O=b;b=A,A=O}var x=this._resolveBackgroundRgba(A,S,L),I=this._resolveForegroundRgba(b,l,L,T),R=E.rgba.ensureContrastRatio(x,I,this._optionsService.options.minimumContrastRatio);if(R){var F={css:E.channels.toCss(R>>24&255,R>>16&255,R>>8&255),rgba:R};return this._colors.contrastCache.setColor(u.bg,u.fg,F),F}this._colors.contrastCache.setColor(u.bg,u.fg,null)}},m.prototype._resolveBackgroundRgba=function(u,c,l){switch(u){case 16777216:case 33554432:return this._colors.ansi[c].rgba;case 50331648:return c<<8;default:return l?this._colors.foreground.rgba:this._colors.background.rgba}},m.prototype._resolveForegroundRgba=function(u,c,l,b){switch(u){case 16777216:case 33554432:return this._optionsService.options.drawBoldTextInBrightColors&&b&&c<8&&(c+=8),this._colors.ansi[c].rgba;case 50331648:return c<<8;default:return l?this._colors.background.rgba:this._colors.foreground.rgba}},m}();r.BaseRenderLayer=C},2512:function(_,r,s){var a,f=this&&this.__extends||(a=function(c,l){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,S){b.__proto__=S}||function(b,S){for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(b[A]=S[A])},a(c,l)},function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function b(){this.constructor=c}a(c,l),c.prototype=l===null?Object.create(l):(b.prototype=l.prototype,new b)}),v=this&&this.__decorate||function(c,l,b,S){var A,L=arguments.length,T=L<3?l:S===null?S=Object.getOwnPropertyDescriptor(l,b):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(c,l,b,S);else for(var B=c.length-1;B>=0;B--)(A=c[B])&&(T=(L<3?A(T):L>3?A(l,b,T):A(l,b))||T);return L>3&&T&&Object.defineProperty(l,b,T),T},g=this&&this.__param||function(c,l){return function(b,S){l(b,S,c)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CursorRenderLayer=void 0;var w=s(1546),E=s(511),d=s(2585),h=s(4725),C=600,m=function(c){function l(b,S,A,L,T,B,O,x,I){var R=c.call(this,b,"cursor",S,!0,A,L,B,O)||this;return R._onRequestRedraw=T,R._coreService=x,R._coreBrowserService=I,R._cell=new E.CellData,R._state={x:0,y:0,isFocused:!1,style:"",width:0},R._cursorRenderers={bar:R._renderBarCursor.bind(R),block:R._renderBlockCursor.bind(R),underline:R._renderUnderlineCursor.bind(R)},R}return f(l,c),l.prototype.dispose=function(){this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0),c.prototype.dispose.call(this)},l.prototype.resize=function(b){c.prototype.resize.call(this,b),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},l.prototype.reset=function(){var b;this._clearCursor(),(b=this._cursorBlinkStateManager)===null||b===void 0||b.restartBlinkAnimation(),this.onOptionsChanged()},l.prototype.onBlur=function(){var b;(b=this._cursorBlinkStateManager)===null||b===void 0||b.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},l.prototype.onFocus=function(){var b;(b=this._cursorBlinkStateManager)===null||b===void 0||b.resume(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},l.prototype.onOptionsChanged=function(){var b,S=this;this._optionsService.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new u(this._coreBrowserService.isFocused,function(){S._render(!0)})):((b=this._cursorBlinkStateManager)===null||b===void 0||b.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},l.prototype.onCursorMove=function(){var b;(b=this._cursorBlinkStateManager)===null||b===void 0||b.restartBlinkAnimation()},l.prototype.onGridChanged=function(b,S){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},l.prototype._render=function(b){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var S=this._bufferService.buffer.ybase+this._bufferService.buffer.y,A=S-this._bufferService.buffer.ydisp;if(A<0||A>=this._bufferService.rows)this._clearCursor();else{var L=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(S).loadCell(L,this._cell),this._cell.content!==void 0){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var T=this._optionsService.options.cursorStyle;return T&&T!=="block"?this._cursorRenderers[T](L,A,this._cell):this._renderBlurCursor(L,A,this._cell),this._ctx.restore(),this._state.x=L,this._state.y=A,this._state.isFocused=!1,this._state.style=T,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===L&&this._state.y===A&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.options.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.options.cursorStyle||"block"](L,A,this._cell),this._ctx.restore(),this._state.x=L,this._state.y=A,this._state.isFocused=!1,this._state.style=this._optionsService.options.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},l.prototype._clearCursor=function(){this._state&&(window.devicePixelRatio<1?this._clearAll():this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},l.prototype._renderBarCursor=function(b,S,A){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(b,S,this._optionsService.options.cursorWidth),this._ctx.restore()},l.prototype._renderBlockCursor=function(b,S,A){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(b,S,A.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(A,b,S),this._ctx.restore()},l.prototype._renderUnderlineCursor=function(b,S,A){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(b,S),this._ctx.restore()},l.prototype._renderBlurCursor=function(b,S,A){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(b,S,A.getWidth(),1),this._ctx.restore()},v([g(5,d.IBufferService),g(6,d.IOptionsService),g(7,d.ICoreService),g(8,h.ICoreBrowserService)],l)}(w.BaseRenderLayer);r.CursorRenderLayer=m;var u=function(){function c(l,b){this._renderCallback=b,this.isCursorVisible=!0,l&&this._restartInterval()}return Object.defineProperty(c.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),c.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},c.prototype.restartBlinkAnimation=function(){var l=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){l._renderCallback(),l._animationFrame=void 0})))},c.prototype._restartInterval=function(l){var b=this;l===void 0&&(l=C),this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=window.setTimeout(function(){if(b._animationTimeRestarted){var S=C-(Date.now()-b._animationTimeRestarted);if(b._animationTimeRestarted=void 0,S>0)return void b._restartInterval(S)}b.isCursorVisible=!1,b._animationFrame=window.requestAnimationFrame(function(){b._renderCallback(),b._animationFrame=void 0}),b._blinkInterval=window.setInterval(function(){if(b._animationTimeRestarted){var A=C-(Date.now()-b._animationTimeRestarted);return b._animationTimeRestarted=void 0,void b._restartInterval(A)}b.isCursorVisible=!b.isCursorVisible,b._animationFrame=window.requestAnimationFrame(function(){b._renderCallback(),b._animationFrame=void 0})},C)},l)},c.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},c.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},c}()},8978:(_,r,s)=>{var a,f,v,g,w,E,d,h,C,m,u,c,l,b,S,A,L,T,B,O,x,I,R,F,D,k,P,j,V,J,z,Q,ee,re,M,H,N,U,W,Y,Z,se,X,G,$,ie,ce,fe,pe,me,xe,we,Te,Be,Le,de,ge,ye,Se,Ne,Ee,je,oe,te,ne,ae,le,ve,Fe,Ge,Pe,rt,it,nt,ot,st,at,ct,lt,ut,ft,dt,ht,pt,vt,_t,gt,mt,yt,St,bt,Ct,wt,Et,At,Lt,Ot,xt,Tt,Bt,kt,Mt,Rt,It,Pt,Dt,Nt,Ft,Ht,Wt,jt,Vt,Ut,zt,Kt,Gt,qt,Jt,Xt,Yt,Qt,Zt,er,tr,rr,ir,nr,or;Object.defineProperty(r,"__esModule",{value:!0}),r.tryDrawCustomChar=r.boxDrawingDefinitions=r.blockElementDefinitions=void 0;var lr=s(1752);r.blockElementDefinitions={"\u2580":[{x:0,y:0,w:8,h:4}],"\u2581":[{x:0,y:7,w:8,h:1}],"\u2582":[{x:0,y:6,w:8,h:2}],"\u2583":[{x:0,y:5,w:8,h:3}],"\u2584":[{x:0,y:4,w:8,h:4}],"\u2585":[{x:0,y:3,w:8,h:5}],"\u2586":[{x:0,y:2,w:8,h:6}],"\u2587":[{x:0,y:1,w:8,h:7}],"\u2588":[{x:0,y:0,w:8,h:8}],"\u2589":[{x:0,y:0,w:7,h:8}],"\u258A":[{x:0,y:0,w:6,h:8}],"\u258B":[{x:0,y:0,w:5,h:8}],"\u258C":[{x:0,y:0,w:4,h:8}],"\u258D":[{x:0,y:0,w:3,h:8}],"\u258E":[{x:0,y:0,w:2,h:8}],"\u258F":[{x:0,y:0,w:1,h:8}],"\u2590":[{x:4,y:0,w:4,h:8}],"\u2594":[{x:0,y:0,w:9,h:1}],"\u2595":[{x:7,y:0,w:1,h:8}],"\u2596":[{x:0,y:4,w:4,h:4}],"\u2597":[{x:4,y:4,w:4,h:4}],"\u2598":[{x:0,y:0,w:4,h:4}],"\u2599":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u259A":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"\u259B":[{x:0,y:0,w:4,h:8},{x:0,y:0,w:4,h:8}],"\u259C":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"\u259D":[{x:4,y:0,w:4,h:4}],"\u259E":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"\u259F":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u{1FB70}":[{x:1,y:0,w:1,h:8}],"\u{1FB71}":[{x:2,y:0,w:1,h:8}],"\u{1FB72}":[{x:3,y:0,w:1,h:8}],"\u{1FB73}":[{x:4,y:0,w:1,h:8}],"\u{1FB74}":[{x:5,y:0,w:1,h:8}],"\u{1FB75}":[{x:6,y:0,w:1,h:8}],"\u{1FB76}":[{x:0,y:1,w:8,h:1}],"\u{1FB77}":[{x:0,y:2,w:8,h:1}],"\u{1FB78}":[{x:0,y:3,w:8,h:1}],"\u{1FB79}":[{x:0,y:4,w:8,h:1}],"\u{1FB7A}":[{x:0,y:5,w:8,h:1}],"\u{1FB7B}":[{x:0,y:6,w:8,h:1}],"\u{1FB7C}":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1FB7D}":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1FB7E}":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1FB7F}":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1FB80}":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1FB81}":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1FB82}":[{x:0,y:0,w:8,h:2}],"\u{1FB83}":[{x:0,y:0,w:8,h:3}],"\u{1FB84}":[{x:0,y:0,w:8,h:5}],"\u{1FB85}":[{x:0,y:0,w:8,h:6}],"\u{1FB86}":[{x:0,y:0,w:8,h:7}],"\u{1FB87}":[{x:6,y:0,w:2,h:8}],"\u{1FB88}":[{x:5,y:0,w:3,h:8}],"\u{1FB89}":[{x:3,y:0,w:5,h:8}],"\u{1FB8A}":[{x:2,y:0,w:6,h:8}],"\u{1FB8B}":[{x:1,y:0,w:7,h:8}],"\u{1FB95}":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"\u{1FB96}":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"\u{1FB97}":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};var hr={"\u2591":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"\u2592":[[1,0],[0,0],[0,1],[0,0]],"\u2593":[[0,1],[1,1],[1,0],[1,1]]};r.boxDrawingDefinitions={"\u2500":(a={},a[1]="M0,.5 L1,.5",a),"\u2501":(f={},f[3]="M0,.5 L1,.5",f),"\u2502":(v={},v[1]="M.5,0 L.5,1",v),"\u2503":(g={},g[3]="M.5,0 L.5,1",g),"\u250C":(w={},w[1]="M0.5,1 L.5,.5 L1,.5",w),"\u250F":(E={},E[3]="M0.5,1 L.5,.5 L1,.5",E),"\u2510":(d={},d[1]="M0,.5 L.5,.5 L.5,1",d),"\u2513":(h={},h[3]="M0,.5 L.5,.5 L.5,1",h),"\u2514":(C={},C[1]="M.5,0 L.5,.5 L1,.5",C),"\u2517":(m={},m[3]="M.5,0 L.5,.5 L1,.5",m),"\u2518":(u={},u[1]="M.5,0 L.5,.5 L0,.5",u),"\u251B":(c={},c[3]="M.5,0 L.5,.5 L0,.5",c),"\u251C":(l={},l[1]="M.5,0 L.5,1 M.5,.5 L1,.5",l),"\u2523":(b={},b[3]="M.5,0 L.5,1 M.5,.5 L1,.5",b),"\u2524":(S={},S[1]="M.5,0 L.5,1 M.5,.5 L0,.5",S),"\u252B":(A={},A[3]="M.5,0 L.5,1 M.5,.5 L0,.5",A),"\u252C":(L={},L[1]="M0,.5 L1,.5 M.5,.5 L.5,1",L),"\u2533":(T={},T[3]="M0,.5 L1,.5 M.5,.5 L.5,1",T),"\u2534":(B={},B[1]="M0,.5 L1,.5 M.5,.5 L.5,0",B),"\u253B":(O={},O[3]="M0,.5 L1,.5 M.5,.5 L.5,0",O),"\u253C":(x={},x[1]="M0,.5 L1,.5 M.5,0 L.5,1",x),"\u254B":(I={},I[3]="M0,.5 L1,.5 M.5,0 L.5,1",I),"\u2574":(R={},R[1]="M.5,.5 L0,.5",R),"\u2578":(F={},F[3]="M.5,.5 L0,.5",F),"\u2575":(D={},D[1]="M.5,.5 L.5,0",D),"\u2579":(k={},k[3]="M.5,.5 L.5,0",k),"\u2576":(P={},P[1]="M.5,.5 L1,.5",P),"\u257A":(j={},j[3]="M.5,.5 L1,.5",j),"\u2577":(V={},V[1]="M.5,.5 L.5,1",V),"\u257B":(J={},J[3]="M.5,.5 L.5,1",J),"\u2550":(z={},z[1]=function(q,K){return"M0,"+(.5-K)+" L1,"+(.5-K)+" M0,"+(.5+K)+" L1,"+(.5+K)},z),"\u2551":(Q={},Q[1]=function(q,K){return"M"+(.5-q)+",0 L"+(.5-q)+",1 M"+(.5+q)+",0 L"+(.5+q)+",1"},Q),"\u2552":(ee={},ee[1]=function(q,K){return"M.5,1 L.5,"+(.5-K)+" L1,"+(.5-K)+" M.5,"+(.5+K)+" L1,"+(.5+K)},ee),"\u2553":(re={},re[1]=function(q,K){return"M"+(.5-q)+",1 L"+(.5-q)+",.5 L1,.5 M"+(.5+q)+",.5 L"+(.5+q)+",1"},re),"\u2554":(M={},M[1]=function(q,K){return"M1,"+(.5-K)+" L"+(.5-q)+","+(.5-K)+" L"+(.5-q)+",1 M1,"+(.5+K)+" L"+(.5+q)+","+(.5+K)+" L"+(.5+q)+",1"},M),"\u2555":(H={},H[1]=function(q,K){return"M0,"+(.5-K)+" L.5,"+(.5-K)+" L.5,1 M0,"+(.5+K)+" L.5,"+(.5+K)},H),"\u2556":(N={},N[1]=function(q,K){return"M"+(.5+q)+",1 L"+(.5+q)+",.5 L0,.5 M"+(.5-q)+",.5 L"+(.5-q)+",1"},N),"\u2557":(U={},U[1]=function(q,K){return"M0,"+(.5+K)+" L"+(.5-q)+","+(.5+K)+" L"+(.5-q)+",1 M0,"+(.5-K)+" L"+(.5+q)+","+(.5-K)+" L"+(.5+q)+",1"},U),"\u2558":(W={},W[1]=function(q,K){return"M.5,0 L.5,"+(.5+K)+" L1,"+(.5+K)+" M.5,"+(.5-K)+" L1,"+(.5-K)},W),"\u2559":(Y={},Y[1]=function(q,K){return"M1,.5 L"+(.5-q)+",.5 L"+(.5-q)+",0 M"+(.5+q)+",.5 L"+(.5+q)+",0"},Y),"\u255A":(Z={},Z[1]=function(q,K){return"M1,"+(.5-K)+" L"+(.5+q)+","+(.5-K)+" L"+(.5+q)+",0 M1,"+(.5+K)+" L"+(.5-q)+","+(.5+K)+" L"+(.5-q)+",0"},Z),"\u255B":(se={},se[1]=function(q,K){return"M0,"+(.5+K)+" L.5,"+(.5+K)+" L.5,0 M0,"+(.5-K)+" L.5,"+(.5-K)},se),"\u255C":(X={},X[1]=function(q,K){return"M0,.5 L"+(.5+q)+",.5 L"+(.5+q)+",0 M"+(.5-q)+",.5 L"+(.5-q)+",0"},X),"\u255D":(G={},G[1]=function(q,K){return"M0,"+(.5-K)+" L"+(.5-q)+","+(.5-K)+" L"+(.5-q)+",0 M0,"+(.5+K)+" L"+(.5+q)+","+(.5+K)+" L"+(.5+q)+",0"},G),"\u255E":($={},$[1]=function(q,K){return"M.5,0 L.5,1 M.5,"+(.5-K)+" L1,"+(.5-K)+" M.5,"+(.5+K)+" L1,"+(.5+K)},$),"\u255F":(ie={},ie[1]=function(q,K){return"M"+(.5-q)+",0 L"+(.5-q)+",1 M"+(.5+q)+",0 L"+(.5+q)+",1 M"+(.5+q)+",.5 L1,.5"},ie),"\u2560":(ce={},ce[1]=function(q,K){return"M"+(.5-q)+",0 L"+(.5-q)+",1 M1,"+(.5+K)+" L"+(.5+q)+","+(.5+K)+" L"+(.5+q)+",1 M1,"+(.5-K)+" L"+(.5+q)+","+(.5-K)+" L"+(.5+q)+",0"},ce),"\u2561":(fe={},fe[1]=function(q,K){return"M.5,0 L.5,1 M0,"+(.5-K)+" L.5,"+(.5-K)+" M0,"+(.5+K)+" L.5,"+(.5+K)},fe),"\u2562":(pe={},pe[1]=function(q,K){return"M0,.5 L"+(.5-q)+",.5 M"+(.5-q)+",0 L"+(.5-q)+",1 M"+(.5+q)+",0 L"+(.5+q)+",1"},pe),"\u2563":(me={},me[1]=function(q,K){return"M"+(.5+q)+",0 L"+(.5+q)+",1 M0,"+(.5+K)+" L"+(.5-q)+","+(.5+K)+" L"+(.5-q)+",1 M0,"+(.5-K)+" L"+(.5-q)+","+(.5-K)+" L"+(.5-q)+",0"},me),"\u2564":(xe={},xe[1]=function(q,K){return"M0,"+(.5-K)+" L1,"+(.5-K)+" M0,"+(.5+K)+" L1,"+(.5+K)+" M.5,"+(.5+K)+" L.5,1"},xe),"\u2565":(we={},we[1]=function(q,K){return"M0,.5 L1,.5 M"+(.5-q)+",.5 L"+(.5-q)+",1 M"+(.5+q)+",.5 L"+(.5+q)+",1"},we),"\u2566":(Te={},Te[1]=function(q,K){return"M0,"+(.5-K)+" L1,"+(.5-K)+" M0,"+(.5+K)+" L"+(.5-q)+","+(.5+K)+" L"+(.5-q)+",1 M1,"+(.5+K)+" L"+(.5+q)+","+(.5+K)+" L"+(.5+q)+",1"},Te),"\u2567":(Be={},Be[1]=function(q,K){return"M.5,0 L.5,"+(.5-K)+" M0,"+(.5-K)+" L1,"+(.5-K)+" M0,"+(.5+K)+" L1,"+(.5+K)},Be),"\u2568":(Le={},Le[1]=function(q,K){return"M0,.5 L1,.5 M"+(.5-q)+",.5 L"+(.5-q)+",0 M"+(.5+q)+",.5 L"+(.5+q)+",0"},Le),"\u2569":(de={},de[1]=function(q,K){return"M0,"+(.5+K)+" L1,"+(.5+K)+" M0,"+(.5-K)+" L"+(.5-q)+","+(.5-K)+" L"+(.5-q)+",0 M1,"+(.5-K)+" L"+(.5+q)+","+(.5-K)+" L"+(.5+q)+",0"},de),"\u256A":(ge={},ge[1]=function(q,K){return"M.5,0 L.5,1 M0,"+(.5-K)+" L1,"+(.5-K)+" M0,"+(.5+K)+" L1,"+(.5+K)},ge),"\u256B":(ye={},ye[1]=function(q,K){return"M0,.5 L1,.5 M"+(.5-q)+",0 L"+(.5-q)+",1 M"+(.5+q)+",0 L"+(.5+q)+",1"},ye),"\u256C":(Se={},Se[1]=function(q,K){return"M0,"+(.5+K)+" L"+(.5-q)+","+(.5+K)+" L"+(.5-q)+",1 M1,"+(.5+K)+" L"+(.5+q)+","+(.5+K)+" L"+(.5+q)+",1 M0,"+(.5-K)+" L"+(.5-q)+","+(.5-K)+" L"+(.5-q)+",0 M1,"+(.5-K)+" L"+(.5+q)+","+(.5-K)+" L"+(.5+q)+",0"},Se),"\u2571":(Ne={},Ne[1]="M1,0 L0,1",Ne),"\u2572":(Ee={},Ee[1]="M0,0 L1,1",Ee),"\u2573":(je={},je[1]="M1,0 L0,1 M0,0 L1,1",je),"\u257C":(oe={},oe[1]="M.5,.5 L0,.5",oe[3]="M.5,.5 L1,.5",oe),"\u257D":(te={},te[1]="M.5,.5 L.5,0",te[3]="M.5,.5 L.5,1",te),"\u257E":(ne={},ne[1]="M.5,.5 L1,.5",ne[3]="M.5,.5 L0,.5",ne),"\u257F":(ae={},ae[1]="M.5,.5 L.5,1",ae[3]="M.5,.5 L.5,0",ae),"\u250D":(le={},le[1]="M.5,.5 L.5,1",le[3]="M.5,.5 L1,.5",le),"\u250E":(ve={},ve[1]="M.5,.5 L1,.5",ve[3]="M.5,.5 L.5,1",ve),"\u2511":(Fe={},Fe[1]="M.5,.5 L.5,1",Fe[3]="M.5,.5 L0,.5",Fe),"\u2512":(Ge={},Ge[1]="M.5,.5 L0,.5",Ge[3]="M.5,.5 L.5,1",Ge),"\u2515":(Pe={},Pe[1]="M.5,.5 L.5,0",Pe[3]="M.5,.5 L1,.5",Pe),"\u2516":(rt={},rt[1]="M.5,.5 L1,.5",rt[3]="M.5,.5 L.5,0",rt),"\u2519":(it={},it[1]="M.5,.5 L.5,0",it[3]="M.5,.5 L0,.5",it),"\u251A":(nt={},nt[1]="M.5,.5 L0,.5",nt[3]="M.5,.5 L.5,0",nt),"\u251D":(ot={},ot[1]="M.5,0 L.5,1",ot[3]="M.5,.5 L1,.5",ot),"\u251E":(st={},st[1]="M0.5,1 L.5,.5 L1,.5",st[3]="M.5,.5 L.5,0",st),"\u251F":(at={},at[1]="M.5,0 L.5,.5 L1,.5",at[3]="M.5,.5 L.5,1",at),"\u2520":(ct={},ct[1]="M.5,.5 L1,.5",ct[3]="M.5,0 L.5,1",ct),"\u2521":(lt={},lt[1]="M.5,.5 L.5,1",lt[3]="M.5,0 L.5,.5 L1,.5",lt),"\u2522":(ut={},ut[1]="M.5,.5 L.5,0",ut[3]="M0.5,1 L.5,.5 L1,.5",ut),"\u2525":(ft={},ft[1]="M.5,0 L.5,1",ft[3]="M.5,.5 L0,.5",ft),"\u2526":(dt={},dt[1]="M0,.5 L.5,.5 L.5,1",dt[3]="M.5,.5 L.5,0",dt),"\u2527":(ht={},ht[1]="M.5,0 L.5,.5 L0,.5",ht[3]="M.5,.5 L.5,1",ht),"\u2528":(pt={},pt[1]="M.5,.5 L0,.5",pt[3]="M.5,0 L.5,1",pt),"\u2529":(vt={},vt[1]="M.5,.5 L.5,1",vt[3]="M.5,0 L.5,.5 L0,.5",vt),"\u252A":(_t={},_t[1]="M.5,.5 L.5,0",_t[3]="M0,.5 L.5,.5 L.5,1",_t),"\u252D":(gt={},gt[1]="M0.5,1 L.5,.5 L1,.5",gt[3]="M.5,.5 L0,.5",gt),"\u252E":(mt={},mt[1]="M0,.5 L.5,.5 L.5,1",mt[3]="M.5,.5 L1,.5",mt),"\u252F":(yt={},yt[1]="M.5,.5 L.5,1",yt[3]="M0,.5 L1,.5",yt),"\u2530":(St={},St[1]="M0,.5 L1,.5",St[3]="M.5,.5 L.5,1",St),"\u2531":(bt={},bt[1]="M.5,.5 L1,.5",bt[3]="M0,.5 L.5,.5 L.5,1",bt),"\u2532":(Ct={},Ct[1]="M.5,.5 L0,.5",Ct[3]="M0.5,1 L.5,.5 L1,.5",Ct),"\u2535":(wt={},wt[1]="M.5,0 L.5,.5 L1,.5",wt[3]="M.5,.5 L0,.5",wt),"\u2536":(Et={},Et[1]="M.5,0 L.5,.5 L0,.5",Et[3]="M.5,.5 L1,.5",Et),"\u2537":(At={},At[1]="M.5,.5 L.5,0",At[3]="M0,.5 L1,.5",At),"\u2538":(Lt={},Lt[1]="M0,.5 L1,.5",Lt[3]="M.5,.5 L.5,0",Lt),"\u2539":(Ot={},Ot[1]="M.5,.5 L1,.5",Ot[3]="M.5,0 L.5,.5 L0,.5",Ot),"\u253A":(xt={},xt[1]="M.5,.5 L0,.5",xt[3]="M.5,0 L.5,.5 L1,.5",xt),"\u253D":(Tt={},Tt[1]="M.5,0 L.5,1 M.5,.5 L1,.5",Tt[3]="M.5,.5 L0,.5",Tt),"\u253E":(Bt={},Bt[1]="M.5,0 L.5,1 M.5,.5 L0,.5",Bt[3]="M.5,.5 L1,.5",Bt),"\u253F":(kt={},kt[1]="M.5,0 L.5,1",kt[3]="M0,.5 L1,.5",kt),"\u2540":(Mt={},Mt[1]="M0,.5 L1,.5 M.5,.5 L.5,1",Mt[3]="M.5,.5 L.5,0",Mt),"\u2541":(Rt={},Rt[1]="M.5,.5 L.5,0 M0,.5 L1,.5",Rt[3]="M.5,.5 L.5,1",Rt),"\u2542":(It={},It[1]="M0,.5 L1,.5",It[3]="M.5,0 L.5,1",It),"\u2543":(Pt={},Pt[1]="M0.5,1 L.5,.5 L1,.5",Pt[3]="M.5,0 L.5,.5 L0,.5",Pt),"\u2544":(Dt={},Dt[1]="M0,.5 L.5,.5 L.5,1",Dt[3]="M.5,0 L.5,.5 L1,.5",Dt),"\u2545":(Nt={},Nt[1]="M.5,0 L.5,.5 L1,.5",Nt[3]="M0,.5 L.5,.5 L.5,1",Nt),"\u2546":(Ft={},Ft[1]="M.5,0 L.5,.5 L0,.5",Ft[3]="M0.5,1 L.5,.5 L1,.5",Ft),"\u2547":(Ht={},Ht[1]="M.5,.5 L.5,1",Ht[3]="M.5,.5 L.5,0 M0,.5 L1,.5",Ht),"\u2548":(Wt={},Wt[1]="M.5,.5 L.5,0",Wt[3]="M0,.5 L1,.5 M.5,.5 L.5,1",Wt),"\u2549":(jt={},jt[1]="M.5,.5 L1,.5",jt[3]="M.5,0 L.5,1 M.5,.5 L0,.5",jt),"\u254A":(Vt={},Vt[1]="M.5,.5 L0,.5",Vt[3]="M.5,0 L.5,1 M.5,.5 L1,.5",Vt),"\u254C":(Ut={},Ut[1]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",Ut),"\u254D":(zt={},zt[3]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",zt),"\u2504":(Kt={},Kt[1]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",Kt),"\u2505":(Gt={},Gt[3]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",Gt),"\u2508":(qt={},qt[1]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",qt),"\u2509":(Jt={},Jt[3]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",Jt),"\u254E":(Xt={},Xt[1]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",Xt),"\u254F":(Yt={},Yt[3]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",Yt),"\u2506":(Qt={},Qt[1]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",Qt),"\u2507":(Zt={},Zt[3]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",Zt),"\u250A":(er={},er[1]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",er),"\u250B":(tr={},tr[3]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",tr),"\u256D":(rr={},rr[1]="C.5,1,.5,.5,1,.5",rr),"\u256E":(ir={},ir[1]="C.5,1,.5,.5,0,.5",ir),"\u256F":(nr={},nr[1]="C.5,0,.5,.5,0,.5",nr),"\u2570":(or={},or[1]="C.5,0,.5,.5,1,.5",or)},r.tryDrawCustomChar=function(q,K,ke,Ye,Qe,_e){var Me=r.blockElementDefinitions[K];if(Me)return function(be,Ie,et,tt,qe,Je){for(var Ae=0;Ae<Ie.length;Ae++){var Ce=Ie[Ae],he=qe/8,De=Je/8;be.fillRect(et+Ce.x*he,tt+Ce.y*De,Ce.w*he,Ce.h*De)}}(q,Me,ke,Ye,Qe,_e),!0;var Re=hr[K];if(Re)return function(be,Ie,et,tt,qe,Je){var Ae,Ce=ur.get(Ie);Ce||(Ce=new Map,ur.set(Ie,Ce));var he=be.fillStyle;if(typeof he!="string")throw new Error('Unexpected fillStyle type "'+he+'"');var De=Ce.get(he);if(!De){var Oe=Ie[0].length,Ve=Ie.length,$e=document.createElement("canvas");$e.width=Oe,$e.height=Ve;var $t=(0,lr.throwIfFalsy)($e.getContext("2d")),He=new ImageData(Oe,Ve),Xe=void 0,Ue=void 0,sr=void 0,ar=void 0;if(he.startsWith("#"))Xe=parseInt(he.substr(1,2),16),Ue=parseInt(he.substr(3,2),16),sr=parseInt(he.substr(5,2),16),ar=he.length>7&&parseInt(he.substr(7,2),16)||1;else{if(!he.startsWith("rgba"))throw new Error('Unexpected fillStyle color format "'+he+'" when drawing pattern glyph');Xe=(Ae=he.substring(5,he.length-1).split(",").map(function(_r){return parseFloat(_r)}))[0],Ue=Ae[1],sr=Ae[2],ar=Ae[3]}for(var ze=0;ze<Ve;ze++)for(var Ke=0;Ke<Oe;Ke++)He.data[4*(ze*Oe+Ke)]=Xe,He.data[4*(ze*Oe+Ke)+1]=Ue,He.data[4*(ze*Oe+Ke)+2]=sr,He.data[4*(ze*Oe+Ke)+3]=Ie[ze][Ke]*(255*ar);$t.putImageData(He,0,0),De=(0,lr.throwIfFalsy)(be.createPattern($e,null)),Ce.set(he,De)}be.fillStyle=De,be.fillRect(et,tt,qe,Je)}(q,Re,ke,Ye,Qe,_e),!0;var Ze=r.boxDrawingDefinitions[K];return!!Ze&&(function(be,Ie,et,tt,qe,Je){be.strokeStyle=be.fillStyle;for(var Ae=0,Ce=Object.entries(Ie);Ae<Ce.length;Ae++){var he=Ce[Ae],De=he[0],Oe=he[1];be.beginPath(),be.lineWidth=window.devicePixelRatio*Number.parseInt(De);for(var Ve=0,$e=(typeof Oe=="function"?Oe(.15,.15/Je*qe):Oe).split(" ");Ve<$e.length;Ve++){var $t=$e[Ve],He=$t[0],Xe=pr[He];if(Xe){var Ue=$t.substring(1).split(",");Ue[0]&&Ue[1]&&Xe(be,vr(Ue,qe,Je,et,tt))}else console.error('Could not find drawing instructions for "'+He+'"')}be.stroke(),be.closePath()}}(q,Ze,ke,Ye,Qe,_e),!0)};var ur=new Map;function fr(q,K,ke){return ke===void 0&&(ke=0),Math.max(Math.min(q,K),ke)}var pr={C:function(q,K){return q.bezierCurveTo(K[0],K[1],K[2],K[3],K[4],K[5])},L:function(q,K){return q.lineTo(K[0],K[1])},M:function(q,K){return q.moveTo(K[0],K[1])}};function vr(q,K,ke,Ye,Qe){var _e=q.map(function(Ze){return parseFloat(Ze)||parseInt(Ze)});if(_e.length<2)throw new Error("Too few arguments for instruction");for(var Me=0;Me<_e.length;Me+=2)_e[Me]*=K,_e[Me]!==0&&(_e[Me]=fr(Math.round(_e[Me]+.5)-.5,K,0)),_e[Me]+=Ye;for(var Re=1;Re<_e.length;Re+=2)_e[Re]*=ke,_e[Re]!==0&&(_e[Re]=fr(Math.round(_e[Re]+.5)-.5,ke,0)),_e[Re]+=Qe;return _e}},3700:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.GridCache=void 0;var s=function(){function a(){this.cache=[]}return a.prototype.resize=function(f,v){for(var g=0;g<f;g++){this.cache.length<=g&&this.cache.push([]);for(var w=this.cache[g].length;w<v;w++)this.cache[g].push(void 0);this.cache[g].length=v}this.cache.length=f},a.prototype.clear=function(){for(var f=0;f<this.cache.length;f++)for(var v=0;v<this.cache[f].length;v++)this.cache[f][v]=void 0},a}();r.GridCache=s},5098:function(_,r,s){var a,f=this&&this.__extends||(a=function(m,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var b in l)Object.prototype.hasOwnProperty.call(l,b)&&(c[b]=l[b])},a(m,u)},function(m,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function c(){this.constructor=m}a(m,u),m.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}),v=this&&this.__decorate||function(m,u,c,l){var b,S=arguments.length,A=S<3?u:l===null?l=Object.getOwnPropertyDescriptor(u,c):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(m,u,c,l);else for(var L=m.length-1;L>=0;L--)(b=m[L])&&(A=(S<3?b(A):S>3?b(u,c,A):b(u,c))||A);return S>3&&A&&Object.defineProperty(u,c,A),A},g=this&&this.__param||function(m,u){return function(c,l){u(c,l,m)}};Object.defineProperty(r,"__esModule",{value:!0}),r.LinkRenderLayer=void 0;var w=s(1546),E=s(8803),d=s(2040),h=s(2585),C=function(m){function u(c,l,b,S,A,L,T,B){var O=m.call(this,c,"link",l,!0,b,S,T,B)||this;return A.onShowLinkUnderline(function(x){return O._onShowLinkUnderline(x)}),A.onHideLinkUnderline(function(x){return O._onHideLinkUnderline(x)}),L.onShowLinkUnderline(function(x){return O._onShowLinkUnderline(x)}),L.onHideLinkUnderline(function(x){return O._onHideLinkUnderline(x)}),O}return f(u,m),u.prototype.resize=function(c){m.prototype.resize.call(this,c),this._state=void 0},u.prototype.reset=function(){this._clearCurrentLink()},u.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var c=this._state.y2-this._state.y1-1;c>0&&this._clearCells(0,this._state.y1+1,this._state.cols,c),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},u.prototype._onShowLinkUnderline=function(c){if(c.fg===E.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:c.fg&&(0,d.is256Color)(c.fg)?this._ctx.fillStyle=this._colors.ansi[c.fg].css:this._ctx.fillStyle=this._colors.foreground.css,c.y1===c.y2)this._fillBottomLineAtCells(c.x1,c.y1,c.x2-c.x1);else{this._fillBottomLineAtCells(c.x1,c.y1,c.cols-c.x1);for(var l=c.y1+1;l<c.y2;l++)this._fillBottomLineAtCells(0,l,c.cols);this._fillBottomLineAtCells(0,c.y2,c.x2)}this._state=c},u.prototype._onHideLinkUnderline=function(c){this._clearCurrentLink()},v([g(6,h.IBufferService),g(7,h.IOptionsService)],u)}(w.BaseRenderLayer);r.LinkRenderLayer=C},3525:function(_,r,s){var a,f=this&&this.__extends||(a=function(A,L){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,B){T.__proto__=B}||function(T,B){for(var O in B)Object.prototype.hasOwnProperty.call(B,O)&&(T[O]=B[O])},a(A,L)},function(A,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function T(){this.constructor=A}a(A,L),A.prototype=L===null?Object.create(L):(T.prototype=L.prototype,new T)}),v=this&&this.__decorate||function(A,L,T,B){var O,x=arguments.length,I=x<3?L:B===null?B=Object.getOwnPropertyDescriptor(L,T):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(A,L,T,B);else for(var R=A.length-1;R>=0;R--)(O=A[R])&&(I=(x<3?O(I):x>3?O(L,T,I):O(L,T))||I);return x>3&&I&&Object.defineProperty(L,T,I),I},g=this&&this.__param||function(A,L){return function(T,B){L(T,B,A)}};Object.defineProperty(r,"__esModule",{value:!0}),r.Renderer=void 0;var w=s(9596),E=s(4149),d=s(2512),h=s(5098),C=s(844),m=s(4725),u=s(2585),c=s(1420),l=s(8460),b=1,S=function(A){function L(T,B,O,x,I,R,F,D){var k=A.call(this)||this;k._colors=T,k._screenElement=B,k._bufferService=R,k._charSizeService=F,k._optionsService=D,k._id=b++,k._onRequestRedraw=new l.EventEmitter;var P=k._optionsService.options.allowTransparency;return k._renderLayers=[I.createInstance(w.TextRenderLayer,k._screenElement,0,k._colors,P,k._id),I.createInstance(E.SelectionRenderLayer,k._screenElement,1,k._colors,k._id),I.createInstance(h.LinkRenderLayer,k._screenElement,2,k._colors,k._id,O,x),I.createInstance(d.CursorRenderLayer,k._screenElement,3,k._colors,k._id,k._onRequestRedraw)],k.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},k._devicePixelRatio=window.devicePixelRatio,k._updateDimensions(),k.onOptionsChanged(),k}return f(L,A),Object.defineProperty(L.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),L.prototype.dispose=function(){for(var T=0,B=this._renderLayers;T<B.length;T++)B[T].dispose();A.prototype.dispose.call(this),(0,c.removeTerminalFromCache)(this._id)},L.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},L.prototype.setColors=function(T){this._colors=T;for(var B=0,O=this._renderLayers;B<O.length;B++){var x=O[B];x.setColors(this._colors),x.reset()}},L.prototype.onResize=function(T,B){this._updateDimensions();for(var O=0,x=this._renderLayers;O<x.length;O++)x[O].resize(this.dimensions);this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},L.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},L.prototype.onBlur=function(){this._runOperation(function(T){return T.onBlur()})},L.prototype.onFocus=function(){this._runOperation(function(T){return T.onFocus()})},L.prototype.onSelectionChanged=function(T,B,O){O===void 0&&(O=!1),this._runOperation(function(x){return x.onSelectionChanged(T,B,O)})},L.prototype.onCursorMove=function(){this._runOperation(function(T){return T.onCursorMove()})},L.prototype.onOptionsChanged=function(){this._runOperation(function(T){return T.onOptionsChanged()})},L.prototype.clear=function(){this._runOperation(function(T){return T.reset()})},L.prototype._runOperation=function(T){for(var B=0,O=this._renderLayers;B<O.length;B++)T(O[B])},L.prototype.renderRows=function(T,B){for(var O=0,x=this._renderLayers;O<x.length;O++)x[O].onGridChanged(T,B)},L.prototype.clearTextureAtlas=function(){for(var T=0,B=this._renderLayers;T<B.length;T++)B[T].clearTextureAtlas()},L.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharTop=this._optionsService.options.lineHeight===1?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},v([g(4,u.IInstantiationService),g(5,u.IBufferService),g(6,m.ICharSizeService),g(7,u.IOptionsService)],L)}(C.Disposable);r.Renderer=S},1752:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.throwIfFalsy=void 0,r.throwIfFalsy=function(s){if(!s)throw new Error("value must not be falsy");return s}},4149:function(_,r,s){var a,f=this&&this.__extends||(a=function(h,C){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,u){m.__proto__=u}||function(m,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(m[c]=u[c])},a(h,C)},function(h,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function m(){this.constructor=h}a(h,C),h.prototype=C===null?Object.create(C):(m.prototype=C.prototype,new m)}),v=this&&this.__decorate||function(h,C,m,u){var c,l=arguments.length,b=l<3?C:u===null?u=Object.getOwnPropertyDescriptor(C,m):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(h,C,m,u);else for(var S=h.length-1;S>=0;S--)(c=h[S])&&(b=(l<3?c(b):l>3?c(C,m,b):c(C,m))||b);return l>3&&b&&Object.defineProperty(C,m,b),b},g=this&&this.__param||function(h,C){return function(m,u){C(m,u,h)}};Object.defineProperty(r,"__esModule",{value:!0}),r.SelectionRenderLayer=void 0;var w=s(1546),E=s(2585),d=function(h){function C(m,u,c,l,b,S){var A=h.call(this,m,"selection",u,!0,c,l,b,S)||this;return A._clearState(),A}return f(C,h),C.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},C.prototype.resize=function(m){h.prototype.resize.call(this,m),this._clearState()},C.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},C.prototype.onSelectionChanged=function(m,u,c){if(this._didStateChange(m,u,c,this._bufferService.buffer.ydisp))if(this._clearAll(),m&&u){var l=m[1]-this._bufferService.buffer.ydisp,b=u[1]-this._bufferService.buffer.ydisp,S=Math.max(l,0),A=Math.min(b,this._bufferService.rows-1);if(S>=this._bufferService.rows||A<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=this._colors.selectionTransparent.css,c){var L=m[0],T=u[0]-L,B=A-S+1;this._fillCells(L,S,T,B)}else{L=l===S?m[0]:0;var O=S===b?u[0]:this._bufferService.cols;this._fillCells(L,S,O-L,1);var x=Math.max(A-S-1,0);if(this._fillCells(0,S+1,this._bufferService.cols,x),S!==A){var I=b===A?u[0]:this._bufferService.cols;this._fillCells(0,A,I,1)}}this._state.start=[m[0],m[1]],this._state.end=[u[0],u[1]],this._state.columnSelectMode=c,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},C.prototype._didStateChange=function(m,u,c,l){return!this._areCoordinatesEqual(m,this._state.start)||!this._areCoordinatesEqual(u,this._state.end)||c!==this._state.columnSelectMode||l!==this._state.ydisp},C.prototype._areCoordinatesEqual=function(m,u){return!(!m||!u)&&m[0]===u[0]&&m[1]===u[1]},v([g(4,E.IBufferService),g(5,E.IOptionsService)],C)}(w.BaseRenderLayer);r.SelectionRenderLayer=d},9596:function(_,r,s){var a,f=this&&this.__extends||(a=function(b,S){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,L){A.__proto__=L}||function(A,L){for(var T in L)Object.prototype.hasOwnProperty.call(L,T)&&(A[T]=L[T])},a(b,S)},function(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function A(){this.constructor=b}a(b,S),b.prototype=S===null?Object.create(S):(A.prototype=S.prototype,new A)}),v=this&&this.__decorate||function(b,S,A,L){var T,B=arguments.length,O=B<3?S:L===null?L=Object.getOwnPropertyDescriptor(S,A):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(b,S,A,L);else for(var x=b.length-1;x>=0;x--)(T=b[x])&&(O=(B<3?T(O):B>3?T(S,A,O):T(S,A))||O);return B>3&&O&&Object.defineProperty(S,A,O),O},g=this&&this.__param||function(b,S){return function(A,L){S(A,L,b)}};Object.defineProperty(r,"__esModule",{value:!0}),r.TextRenderLayer=void 0;var w=s(3700),E=s(1546),d=s(3734),h=s(643),C=s(511),m=s(2585),u=s(4725),c=s(4269),l=function(b){function S(A,L,T,B,O,x,I,R){var F=b.call(this,A,"text",L,B,T,O,x,I)||this;return F._characterJoinerService=R,F._characterWidth=0,F._characterFont="",F._characterOverlapCache={},F._workCell=new C.CellData,F._state=new w.GridCache,F}return f(S,b),S.prototype.resize=function(A){b.prototype.resize.call(this,A);var L=this._getFont(!1,!1);this._characterWidth===A.scaledCharWidth&&this._characterFont===L||(this._characterWidth=A.scaledCharWidth,this._characterFont=L,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},S.prototype.reset=function(){this._state.clear(),this._clearAll()},S.prototype._forEachCell=function(A,L,T){for(var B=A;B<=L;B++)for(var O=B+this._bufferService.buffer.ydisp,x=this._bufferService.buffer.lines.get(O),I=this._characterJoinerService.getJoinedCharacters(O),R=0;R<this._bufferService.cols;R++){x.loadCell(R,this._workCell);var F=this._workCell,D=!1,k=R;if(F.getWidth()!==0){if(I.length>0&&R===I[0][0]){D=!0;var P=I.shift();F=new c.JoinedCellData(this._workCell,x.translateToString(!0,P[0],P[1]),P[1]-P[0]),k=P[1]-1}!D&&this._isOverlapping(F)&&k<x.length-1&&x.getCodePoint(k+1)===h.NULL_CELL_CODE&&(F.content&=-12582913,F.content|=2<<22),T(F,R,B),R=k}}},S.prototype._drawBackground=function(A,L){var T=this,B=this._ctx,O=this._bufferService.cols,x=0,I=0,R=null;B.save(),this._forEachCell(A,L,function(F,D,k){var P=null;F.isInverse()?P=F.isFgDefault()?T._colors.foreground.css:F.isFgRGB()?"rgb("+d.AttributeData.toColorRGB(F.getFgColor()).join(",")+")":T._colors.ansi[F.getFgColor()].css:F.isBgRGB()?P="rgb("+d.AttributeData.toColorRGB(F.getBgColor()).join(",")+")":F.isBgPalette()&&(P=T._colors.ansi[F.getBgColor()].css),R===null&&(x=D,I=k),k!==I?(B.fillStyle=R||"",T._fillCells(x,I,O-x,1),x=D,I=k):R!==P&&(B.fillStyle=R||"",T._fillCells(x,I,D-x,1),x=D,I=k),R=P}),R!==null&&(B.fillStyle=R,this._fillCells(x,I,O-x,1)),B.restore()},S.prototype._drawForeground=function(A,L){var T=this;this._forEachCell(A,L,function(B,O,x){if(!B.isInvisible()&&(T._drawChars(B,O,x),B.isUnderline()||B.isStrikethrough())){if(T._ctx.save(),B.isInverse())if(B.isBgDefault())T._ctx.fillStyle=T._colors.background.css;else if(B.isBgRGB())T._ctx.fillStyle="rgb("+d.AttributeData.toColorRGB(B.getBgColor()).join(",")+")";else{var I=B.getBgColor();T._optionsService.options.drawBoldTextInBrightColors&&B.isBold()&&I<8&&(I+=8),T._ctx.fillStyle=T._colors.ansi[I].css}else if(B.isFgDefault())T._ctx.fillStyle=T._colors.foreground.css;else if(B.isFgRGB())T._ctx.fillStyle="rgb("+d.AttributeData.toColorRGB(B.getFgColor()).join(",")+")";else{var R=B.getFgColor();T._optionsService.options.drawBoldTextInBrightColors&&B.isBold()&&R<8&&(R+=8),T._ctx.fillStyle=T._colors.ansi[R].css}B.isStrikethrough()&&T._fillMiddleLineAtCells(O,x,B.getWidth()),B.isUnderline()&&T._fillBottomLineAtCells(O,x,B.getWidth()),T._ctx.restore()}})},S.prototype.onGridChanged=function(A,L){this._state.cache.length!==0&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,A,this._bufferService.cols,L-A+1),this._drawBackground(A,L),this._drawForeground(A,L))},S.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.options.allowTransparency)},S.prototype._isOverlapping=function(A){if(A.getWidth()!==1||A.getCode()<256)return!1;var L=A.getChars();if(this._characterOverlapCache.hasOwnProperty(L))return this._characterOverlapCache[L];this._ctx.save(),this._ctx.font=this._characterFont;var T=Math.floor(this._ctx.measureText(L).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[L]=T,T},v([g(5,m.IBufferService),g(6,m.IOptionsService),g(7,u.ICharacterJoinerService)],S)}(E.BaseRenderLayer);r.TextRenderLayer=l},9616:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BaseCharAtlas=void 0;var s=function(){function a(){this._didWarmUp=!1}return a.prototype.dispose=function(){},a.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},a.prototype._doWarmUp=function(){},a.prototype.clear=function(){},a.prototype.beginFrame=function(){},a}();r.BaseCharAtlas=s},1420:(_,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.removeTerminalFromCache=r.acquireCharAtlas=void 0;var a=s(2040),f=s(1906),v=[];r.acquireCharAtlas=function(g,w,E,d,h){for(var C=(0,a.generateConfig)(d,h,g,E),m=0;m<v.length;m++){var u=(c=v[m]).ownedBy.indexOf(w);if(u>=0){if((0,a.configEquals)(c.config,C))return c.atlas;c.ownedBy.length===1?(c.atlas.dispose(),v.splice(m,1)):c.ownedBy.splice(u,1);break}}for(m=0;m<v.length;m++){var c=v[m];if((0,a.configEquals)(c.config,C))return c.ownedBy.push(w),c.atlas}var l={atlas:new f.DynamicCharAtlas(document,C),config:C,ownedBy:[w]};return v.push(l),l.atlas},r.removeTerminalFromCache=function(g){for(var w=0;w<v.length;w++){var E=v[w].ownedBy.indexOf(g);if(E!==-1){v[w].ownedBy.length===1?(v[w].atlas.dispose(),v.splice(w,1)):v[w].ownedBy.splice(E,1);break}}}},2040:function(_,r,s){var a=this&&this.__spreadArray||function(v,g,w){if(w||arguments.length===2)for(var E,d=0,h=g.length;d<h;d++)!E&&d in g||(E||(E=Array.prototype.slice.call(g,0,d)),E[d]=g[d]);return v.concat(E||Array.prototype.slice.call(g))};Object.defineProperty(r,"__esModule",{value:!0}),r.is256Color=r.configEquals=r.generateConfig=void 0;var f=s(643);r.generateConfig=function(v,g,w,E){var d={foreground:E.foreground,background:E.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:a([],E.ansi,!0)};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:v,scaledCharHeight:g,fontFamily:w.fontFamily,fontSize:w.fontSize,fontWeight:w.fontWeight,fontWeightBold:w.fontWeightBold,allowTransparency:w.allowTransparency,colors:d}},r.configEquals=function(v,g){for(var w=0;w<v.colors.ansi.length;w++)if(v.colors.ansi[w].rgba!==g.colors.ansi[w].rgba)return!1;return v.devicePixelRatio===g.devicePixelRatio&&v.fontFamily===g.fontFamily&&v.fontSize===g.fontSize&&v.fontWeight===g.fontWeight&&v.fontWeightBold===g.fontWeightBold&&v.allowTransparency===g.allowTransparency&&v.scaledCharWidth===g.scaledCharWidth&&v.scaledCharHeight===g.scaledCharHeight&&v.colors.foreground===g.colors.foreground&&v.colors.background===g.colors.background},r.is256Color=function(v){return v<f.DEFAULT_COLOR}},8803:(_,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CHAR_ATLAS_CELL_SPACING=r.TEXT_BASELINE=r.DIM_OPACITY=r.INVERTED_DEFAULT_COLOR=void 0;var a=s(6114);r.INVERTED_DEFAULT_COLOR=257,r.DIM_OPACITY=.5,r.TEXT_BASELINE=a.isFirefox?"bottom":"ideographic",r.CHAR_ATLAS_CELL_SPACING=1},1906:function(_,r,s){var a,f=this&&this.__extends||(a=function(L,T){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,O){B.__proto__=O}||function(B,O){for(var x in O)Object.prototype.hasOwnProperty.call(O,x)&&(B[x]=O[x])},a(L,T)},function(L,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function B(){this.constructor=L}a(L,T),L.prototype=T===null?Object.create(T):(B.prototype=T.prototype,new B)});Object.defineProperty(r,"__esModule",{value:!0}),r.NoneCharAtlas=r.DynamicCharAtlas=r.getGlyphCacheKey=void 0;var v=s(8803),g=s(9616),w=s(5680),E=s(7001),d=s(6114),h=s(1752),C=s(4774),m=1024,u=1024,c={css:"rgba(0, 0, 0, 0)",rgba:0};function l(L){return L.code<<21|L.bg<<12|L.fg<<3|(L.bold?0:4)+(L.dim?0:2)+(L.italic?0:1)}r.getGlyphCacheKey=l;var b=function(L){function T(B,O){var x=L.call(this)||this;x._config=O,x._drawToCacheCount=0,x._glyphsWaitingOnBitmap=[],x._bitmapCommitTimeout=null,x._bitmap=null,x._cacheCanvas=B.createElement("canvas"),x._cacheCanvas.width=m,x._cacheCanvas.height=u,x._cacheCtx=(0,h.throwIfFalsy)(x._cacheCanvas.getContext("2d",{alpha:!0}));var I=B.createElement("canvas");I.width=x._config.scaledCharWidth,I.height=x._config.scaledCharHeight,x._tmpCtx=(0,h.throwIfFalsy)(I.getContext("2d",{alpha:x._config.allowTransparency})),x._width=Math.floor(m/x._config.scaledCharWidth),x._height=Math.floor(u/x._config.scaledCharHeight);var R=x._width*x._height;return x._cacheMap=new E.LRUMap(R),x._cacheMap.prealloc(R),x}return f(T,L),T.prototype.dispose=function(){this._bitmapCommitTimeout!==null&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},T.prototype.beginFrame=function(){this._drawToCacheCount=0},T.prototype.clear=function(){if(this._cacheMap.size>0){var B=this._width*this._height;this._cacheMap=new E.LRUMap(B),this._cacheMap.prealloc(B)}this._cacheCtx.clearRect(0,0,m,u),this._tmpCtx.clearRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight)},T.prototype.draw=function(B,O,x,I){if(O.code===32)return!0;if(!this._canCache(O))return!1;var R=l(O),F=this._cacheMap.get(R);if(F!=null)return this._drawFromCache(B,F,x,I),!0;if(this._drawToCacheCount<100){var D;D=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var k=this._drawToCache(O,D);return this._cacheMap.set(R,k),this._drawFromCache(B,k,x,I),!0}return!1},T.prototype._canCache=function(B){return B.code<256},T.prototype._toCoordinateX=function(B){return B%this._width*this._config.scaledCharWidth},T.prototype._toCoordinateY=function(B){return Math.floor(B/this._width)*this._config.scaledCharHeight},T.prototype._drawFromCache=function(B,O,x,I){if(!O.isEmpty){var R=this._toCoordinateX(O.index),F=this._toCoordinateY(O.index);B.drawImage(O.inBitmap?this._bitmap:this._cacheCanvas,R,F,this._config.scaledCharWidth,this._config.scaledCharHeight,x,I,this._config.scaledCharWidth,this._config.scaledCharHeight)}},T.prototype._getColorFromAnsiIndex=function(B){return B<this._config.colors.ansi.length?this._config.colors.ansi[B]:w.DEFAULT_ANSI_COLORS[B]},T.prototype._getBackgroundColor=function(B){return this._config.allowTransparency?c:B.bg===v.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:B.bg<256?this._getColorFromAnsiIndex(B.bg):this._config.colors.background},T.prototype._getForegroundColor=function(B){return B.fg===v.INVERTED_DEFAULT_COLOR?C.color.opaque(this._config.colors.background):B.fg<256?this._getColorFromAnsiIndex(B.fg):this._config.colors.foreground},T.prototype._drawToCache=function(B,O){this._drawToCacheCount++,this._tmpCtx.save();var x=this._getBackgroundColor(B);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=x.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var I=B.bold?this._config.fontWeightBold:this._config.fontWeight,R=B.italic?"italic":"";this._tmpCtx.font=R+" "+I+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline=v.TEXT_BASELINE,this._tmpCtx.fillStyle=this._getForegroundColor(B).css,B.dim&&(this._tmpCtx.globalAlpha=v.DIM_OPACITY),this._tmpCtx.fillText(B.chars,0,this._config.scaledCharHeight);var F=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),D=!1;if(this._config.allowTransparency||(D=A(F,x)),D&&B.chars==="_"&&!this._config.allowTransparency)for(var k=1;k<=5&&(this._tmpCtx.fillText(B.chars,0,this._config.scaledCharHeight-k),D=A(F=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),x));k++);this._tmpCtx.restore();var P=this._toCoordinateX(O),j=this._toCoordinateY(O);this._cacheCtx.putImageData(F,P,j);var V={index:O,isEmpty:D,inBitmap:!1};return this._addGlyphToBitmap(V),V},T.prototype._addGlyphToBitmap=function(B){var O=this;!("createImageBitmap"in window)||d.isFirefox||d.isSafari||(this._glyphsWaitingOnBitmap.push(B),this._bitmapCommitTimeout===null&&(this._bitmapCommitTimeout=window.setTimeout(function(){return O._generateBitmap()},100)))},T.prototype._generateBitmap=function(){var B=this,O=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then(function(x){B._bitmap=x;for(var I=0;I<O.length;I++)O[I].inBitmap=!0}),this._bitmapCommitTimeout=null},T}(g.BaseCharAtlas);r.DynamicCharAtlas=b;var S=function(L){function T(B,O){return L.call(this)||this}return f(T,L),T.prototype.draw=function(B,O,x,I){return!1},T}(g.BaseCharAtlas);function A(L,T){for(var B=!0,O=T.rgba>>>24,x=T.rgba>>>16&255,I=T.rgba>>>8&255,R=0;R<L.data.length;R+=4)L.data[R]===O&&L.data[R+1]===x&&L.data[R+2]===I?L.data[R+3]=0:B=!1;return B}r.NoneCharAtlas=S},7001:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.LRUMap=void 0;var s=function(){function a(f){this.capacity=f,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return a.prototype._unlinkNode=function(f){var v=f.prev,g=f.next;f===this._head&&(this._head=g),f===this._tail&&(this._tail=v),v!==null&&(v.next=g),g!==null&&(g.prev=v)},a.prototype._appendNode=function(f){var v=this._tail;v!==null&&(v.next=f),f.prev=v,f.next=null,this._tail=f,this._head===null&&(this._head=f)},a.prototype.prealloc=function(f){for(var v=this._nodePool,g=0;g<f;g++)v.push({prev:null,next:null,key:null,value:null})},a.prototype.get=function(f){var v=this._map[f];return v!==void 0?(this._unlinkNode(v),this._appendNode(v),v.value):null},a.prototype.peekValue=function(f){var v=this._map[f];return v!==void 0?v.value:null},a.prototype.peek=function(){var f=this._head;return f===null?null:f.value},a.prototype.set=function(f,v){var g=this._map[f];if(g!==void 0)g=this._map[f],this._unlinkNode(g),g.value=v;else if(this.size>=this.capacity)g=this._head,this._unlinkNode(g),delete this._map[g.key],g.key=f,g.value=v,this._map[f]=g;else{var w=this._nodePool;w.length>0?((g=w.pop()).key=f,g.value=v):g={prev:null,next:null,key:f,value:v},this._map[f]=g,this.size++}this._appendNode(g)},a}();r.LRUMap=s},1296:function(_,r,s){var a,f=this&&this.__extends||(a=function(B,O){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,I){x.__proto__=I}||function(x,I){for(var R in I)Object.prototype.hasOwnProperty.call(I,R)&&(x[R]=I[R])},a(B,O)},function(B,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function x(){this.constructor=B}a(B,O),B.prototype=O===null?Object.create(O):(x.prototype=O.prototype,new x)}),v=this&&this.__decorate||function(B,O,x,I){var R,F=arguments.length,D=F<3?O:I===null?I=Object.getOwnPropertyDescriptor(O,x):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(B,O,x,I);else for(var k=B.length-1;k>=0;k--)(R=B[k])&&(D=(F<3?R(D):F>3?R(O,x,D):R(O,x))||D);return F>3&&D&&Object.defineProperty(O,x,D),D},g=this&&this.__param||function(B,O){return function(x,I){O(x,I,B)}};Object.defineProperty(r,"__esModule",{value:!0}),r.DomRenderer=void 0;var w=s(3787),E=s(8803),d=s(844),h=s(4725),C=s(2585),m=s(8460),u=s(4774),c=s(9631),l="xterm-dom-renderer-owner-",b="xterm-fg-",S="xterm-bg-",A="xterm-focus",L=1,T=function(B){function O(x,I,R,F,D,k,P,j,V,J){var z=B.call(this)||this;return z._colors=x,z._element=I,z._screenElement=R,z._viewportElement=F,z._linkifier=D,z._linkifier2=k,z._charSizeService=j,z._optionsService=V,z._bufferService=J,z._terminalClass=L++,z._rowElements=[],z._rowContainer=document.createElement("div"),z._rowContainer.classList.add("xterm-rows"),z._rowContainer.style.lineHeight="normal",z._rowContainer.setAttribute("aria-hidden","true"),z._refreshRowElements(z._bufferService.cols,z._bufferService.rows),z._selectionContainer=document.createElement("div"),z._selectionContainer.classList.add("xterm-selection"),z._selectionContainer.setAttribute("aria-hidden","true"),z.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},z._updateDimensions(),z._injectCss(),z._rowFactory=P.createInstance(w.DomRendererRowFactory,document,z._colors),z._element.classList.add(l+z._terminalClass),z._screenElement.appendChild(z._rowContainer),z._screenElement.appendChild(z._selectionContainer),z._linkifier.onShowLinkUnderline(function(Q){return z._onLinkHover(Q)}),z._linkifier.onHideLinkUnderline(function(Q){return z._onLinkLeave(Q)}),z._linkifier2.onShowLinkUnderline(function(Q){return z._onLinkHover(Q)}),z._linkifier2.onHideLinkUnderline(function(Q){return z._onLinkLeave(Q)}),z}return f(O,B),Object.defineProperty(O.prototype,"onRequestRedraw",{get:function(){return new m.EventEmitter().event},enumerable:!1,configurable:!0}),O.prototype.dispose=function(){this._element.classList.remove(l+this._terminalClass),(0,c.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),B.prototype.dispose.call(this)},O.prototype._updateDimensions=function(){this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;for(var x=0,I=this._rowElements;x<I.length;x++){var R=I[x];R.style.width=this.dimensions.canvasWidth+"px",R.style.height=this.dimensions.actualCellHeight+"px",R.style.lineHeight=this.dimensions.actualCellHeight+"px",R.style.overflow="hidden"}this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));var F=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.textContent=F,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},O.prototype.setColors=function(x){this._colors=x,this._injectCss()},O.prototype._injectCss=function(){var x=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var I=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.options.fontFamily+"; font-size: "+this._optionsService.options.fontSize+"px;}";I+=this._terminalSelector+" span:not(."+w.BOLD_CLASS+") { font-weight: "+this._optionsService.options.fontWeight+";}"+this._terminalSelector+" span."+w.BOLD_CLASS+" { font-weight: "+this._optionsService.options.fontWeightBold+";}"+this._terminalSelector+" span."+w.ITALIC_CLASS+" { font-style: italic;}",I+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",I+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",I+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+w.CURSOR_CLASS+"."+w.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+w.CURSOR_CLASS+"."+w.CURSOR_BLINK_CLASS+":not(."+w.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+w.CURSOR_CLASS+"."+w.CURSOR_BLINK_CLASS+"."+w.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+w.CURSOR_CLASS+"."+w.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+w.CURSOR_CLASS+"."+w.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.options.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+w.CURSOR_CLASS+"."+w.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",I+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selectionTransparent.css+";}",this._colors.ansi.forEach(function(R,F){I+=x._terminalSelector+" ."+b+F+" { color: "+R.css+"; }"+x._terminalSelector+" ."+S+F+" { background-color: "+R.css+"; }"}),I+=this._terminalSelector+" ."+b+E.INVERTED_DEFAULT_COLOR+" { color: "+u.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" ."+S+E.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.textContent=I},O.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},O.prototype._refreshRowElements=function(x,I){for(var R=this._rowElements.length;R<=I;R++){var F=document.createElement("div");this._rowContainer.appendChild(F),this._rowElements.push(F)}for(;this._rowElements.length>I;)this._rowContainer.removeChild(this._rowElements.pop())},O.prototype.onResize=function(x,I){this._refreshRowElements(x,I),this._updateDimensions()},O.prototype.onCharSizeChanged=function(){this._updateDimensions()},O.prototype.onBlur=function(){this._rowContainer.classList.remove(A)},O.prototype.onFocus=function(){this._rowContainer.classList.add(A)},O.prototype.onSelectionChanged=function(x,I,R){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(x&&I){var F=x[1]-this._bufferService.buffer.ydisp,D=I[1]-this._bufferService.buffer.ydisp,k=Math.max(F,0),P=Math.min(D,this._bufferService.rows-1);if(!(k>=this._bufferService.rows||P<0)){var j=document.createDocumentFragment();if(R)j.appendChild(this._createSelectionElement(k,x[0],I[0],P-k+1));else{var V=F===k?x[0]:0,J=k===D?I[0]:this._bufferService.cols;j.appendChild(this._createSelectionElement(k,V,J));var z=P-k-1;if(j.appendChild(this._createSelectionElement(k+1,0,this._bufferService.cols,z)),k!==P){var Q=D===P?I[0]:this._bufferService.cols;j.appendChild(this._createSelectionElement(P,0,Q))}}this._selectionContainer.appendChild(j)}}},O.prototype._createSelectionElement=function(x,I,R,F){F===void 0&&(F=1);var D=document.createElement("div");return D.style.height=F*this.dimensions.actualCellHeight+"px",D.style.top=x*this.dimensions.actualCellHeight+"px",D.style.left=I*this.dimensions.actualCellWidth+"px",D.style.width=this.dimensions.actualCellWidth*(R-I)+"px",D},O.prototype.onCursorMove=function(){},O.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},O.prototype.clear=function(){for(var x=0,I=this._rowElements;x<I.length;x++)I[x].innerText=""},O.prototype.renderRows=function(x,I){for(var R=this._bufferService.buffer.ybase+this._bufferService.buffer.y,F=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),D=this._optionsService.options.cursorBlink,k=x;k<=I;k++){var P=this._rowElements[k];P.innerText="";var j=k+this._bufferService.buffer.ydisp,V=this._bufferService.buffer.lines.get(j),J=this._optionsService.options.cursorStyle;P.appendChild(this._rowFactory.createRow(V,j,j===R,J,F,D,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(O.prototype,"_terminalSelector",{get:function(){return"."+l+this._terminalClass},enumerable:!1,configurable:!0}),O.prototype._onLinkHover=function(x){this._setCellUnderline(x.x1,x.x2,x.y1,x.y2,x.cols,!0)},O.prototype._onLinkLeave=function(x){this._setCellUnderline(x.x1,x.x2,x.y1,x.y2,x.cols,!1)},O.prototype._setCellUnderline=function(x,I,R,F,D,k){for(;x!==I||R!==F;){var P=this._rowElements[R];if(!P)return;var j=P.children[x];j&&(j.style.textDecoration=k?"underline":"none"),++x>=D&&(x=0,R++)}},v([g(6,C.IInstantiationService),g(7,h.ICharSizeService),g(8,C.IOptionsService),g(9,C.IBufferService)],O)}(d.Disposable);r.DomRenderer=T},3787:function(_,r,s){var a=this&&this.__decorate||function(c,l,b,S){var A,L=arguments.length,T=L<3?l:S===null?S=Object.getOwnPropertyDescriptor(l,b):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(c,l,b,S);else for(var B=c.length-1;B>=0;B--)(A=c[B])&&(T=(L<3?A(T):L>3?A(l,b,T):A(l,b))||T);return L>3&&T&&Object.defineProperty(l,b,T),T},f=this&&this.__param||function(c,l){return function(b,S){l(b,S,c)}};Object.defineProperty(r,"__esModule",{value:!0}),r.DomRendererRowFactory=r.CURSOR_STYLE_UNDERLINE_CLASS=r.CURSOR_STYLE_BAR_CLASS=r.CURSOR_STYLE_BLOCK_CLASS=r.CURSOR_BLINK_CLASS=r.CURSOR_CLASS=r.STRIKETHROUGH_CLASS=r.UNDERLINE_CLASS=r.ITALIC_CLASS=r.DIM_CLASS=r.BOLD_CLASS=void 0;var v=s(8803),g=s(643),w=s(511),E=s(2585),d=s(4774),h=s(4725),C=s(4269);r.BOLD_CLASS="xterm-bold",r.DIM_CLASS="xterm-dim",r.ITALIC_CLASS="xterm-italic",r.UNDERLINE_CLASS="xterm-underline",r.STRIKETHROUGH_CLASS="xterm-strikethrough",r.CURSOR_CLASS="xterm-cursor",r.CURSOR_BLINK_CLASS="xterm-cursor-blink",r.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",r.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",r.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var m=function(){function c(l,b,S,A,L){this._document=l,this._colors=b,this._characterJoinerService=S,this._optionsService=A,this._coreService=L,this._workCell=new w.CellData}return c.prototype.setColors=function(l){this._colors=l},c.prototype.createRow=function(l,b,S,A,L,T,B,O){for(var x=this._document.createDocumentFragment(),I=this._characterJoinerService.getJoinedCharacters(b),R=0,F=Math.min(l.length,O)-1;F>=0;F--)if(l.loadCell(F,this._workCell).getCode()!==g.NULL_CELL_CODE||S&&F===L){R=F+1;break}for(F=0;F<R;F++){l.loadCell(F,this._workCell);var D=this._workCell.getWidth();if(D!==0){var k=!1,P=F,j=this._workCell;if(I.length>0&&F===I[0][0]){k=!0;var V=I.shift();j=new C.JoinedCellData(this._workCell,l.translateToString(!0,V[0],V[1]),V[1]-V[0]),P=V[1]-1,D=j.getWidth()}var J=this._document.createElement("span");if(D>1&&(J.style.width=B*D+"px"),k&&(J.style.display="inline",L>=F&&L<=P&&(L=F)),!this._coreService.isCursorHidden&&S&&F===L)switch(J.classList.add(r.CURSOR_CLASS),T&&J.classList.add(r.CURSOR_BLINK_CLASS),A){case"bar":J.classList.add(r.CURSOR_STYLE_BAR_CLASS);break;case"underline":J.classList.add(r.CURSOR_STYLE_UNDERLINE_CLASS);break;default:J.classList.add(r.CURSOR_STYLE_BLOCK_CLASS)}j.isBold()&&J.classList.add(r.BOLD_CLASS),j.isItalic()&&J.classList.add(r.ITALIC_CLASS),j.isDim()&&J.classList.add(r.DIM_CLASS),j.isUnderline()&&J.classList.add(r.UNDERLINE_CLASS),j.isInvisible()?J.textContent=g.WHITESPACE_CELL_CHAR:J.textContent=j.getChars()||g.WHITESPACE_CELL_CHAR,j.isStrikethrough()&&J.classList.add(r.STRIKETHROUGH_CLASS);var z=j.getFgColor(),Q=j.getFgColorMode(),ee=j.getBgColor(),re=j.getBgColorMode(),M=!!j.isInverse();if(M){var H=z;z=ee,ee=H;var N=Q;Q=re,re=N}switch(Q){case 16777216:case 33554432:j.isBold()&&z<8&&this._optionsService.options.drawBoldTextInBrightColors&&(z+=8),this._applyMinimumContrast(J,this._colors.background,this._colors.ansi[z])||J.classList.add("xterm-fg-"+z);break;case 50331648:var U=d.rgba.toColor(z>>16&255,z>>8&255,255&z);this._applyMinimumContrast(J,this._colors.background,U)||this._addStyle(J,"color:#"+u(z.toString(16),"0",6));break;default:this._applyMinimumContrast(J,this._colors.background,this._colors.foreground)||M&&J.classList.add("xterm-fg-"+v.INVERTED_DEFAULT_COLOR)}switch(re){case 16777216:case 33554432:J.classList.add("xterm-bg-"+ee);break;case 50331648:this._addStyle(J,"background-color:#"+u(ee.toString(16),"0",6));break;default:M&&J.classList.add("xterm-bg-"+v.INVERTED_DEFAULT_COLOR)}x.appendChild(J),F=P}}return x},c.prototype._applyMinimumContrast=function(l,b,S){if(this._optionsService.options.minimumContrastRatio===1)return!1;var A=this._colors.contrastCache.getColor(this._workCell.bg,this._workCell.fg);return A===void 0&&(A=d.color.ensureContrastRatio(b,S,this._optionsService.options.minimumContrastRatio),this._colors.contrastCache.setColor(this._workCell.bg,this._workCell.fg,A!=null?A:null)),!!A&&(this._addStyle(l,"color:"+A.css),!0)},c.prototype._addStyle=function(l,b){l.setAttribute("style",""+(l.getAttribute("style")||"")+b+";")},a([f(2,h.ICharacterJoinerService),f(3,E.IOptionsService),f(4,E.ICoreService)],c)}();function u(c,l,b){for(;c.length<b;)c=l+c;return c}r.DomRendererRowFactory=m},456:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SelectionModel=void 0;var s=function(){function a(f){this._bufferService=f,this.isSelectAllActive=!1,this.selectionStartLength=0}return a.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(a.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"finalSelectionEnd",{get:function(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){var f=this.selectionStart[0]+this.selectionStartLength;return f>this._bufferService.cols?f%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(f/this._bufferService.cols)-1]:[f%this._bufferService.cols,this.selectionStart[1]+Math.floor(f/this._bufferService.cols)]:[f,this.selectionStart[1]]}return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd}},enumerable:!1,configurable:!0}),a.prototype.areSelectionValuesReversed=function(){var f=this.selectionStart,v=this.selectionEnd;return!(!f||!v)&&(f[1]>v[1]||f[1]===v[1]&&f[0]>v[0])},a.prototype.onTrim=function(f){return this.selectionStart&&(this.selectionStart[1]-=f),this.selectionEnd&&(this.selectionEnd[1]-=f),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},a}();r.SelectionModel=s},428:function(_,r,s){var a=this&&this.__decorate||function(d,h,C,m){var u,c=arguments.length,l=c<3?h:m===null?m=Object.getOwnPropertyDescriptor(h,C):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(d,h,C,m);else for(var b=d.length-1;b>=0;b--)(u=d[b])&&(l=(c<3?u(l):c>3?u(h,C,l):u(h,C))||l);return c>3&&l&&Object.defineProperty(h,C,l),l},f=this&&this.__param||function(d,h){return function(C,m){h(C,m,d)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharSizeService=void 0;var v=s(2585),g=s(8460),w=function(){function d(h,C,m){this._optionsService=m,this.width=0,this.height=0,this._onCharSizeChange=new g.EventEmitter,this._measureStrategy=new E(h,C,this._optionsService)}return Object.defineProperty(d.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),d.prototype.measure=function(){var h=this._measureStrategy.measure();h.width===this.width&&h.height===this.height||(this.width=h.width,this.height=h.height,this._onCharSizeChange.fire())},a([f(2,v.IOptionsService)],d)}();r.CharSizeService=w;var E=function(){function d(h,C,m){this._document=h,this._parentElement=C,this._optionsService=m,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return d.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.options.fontFamily,this._measureElement.style.fontSize=this._optionsService.options.fontSize+"px";var h=this._measureElement.getBoundingClientRect();return h.width!==0&&h.height!==0&&(this._result.width=h.width,this._result.height=Math.ceil(h.height)),this._result},d}()},4269:function(_,r,s){var a,f=this&&this.__extends||(a=function(u,c){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,b){l.__proto__=b}||function(l,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(l[S]=b[S])},a(u,c)},function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function l(){this.constructor=u}a(u,c),u.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}),v=this&&this.__decorate||function(u,c,l,b){var S,A=arguments.length,L=A<3?c:b===null?b=Object.getOwnPropertyDescriptor(c,l):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(u,c,l,b);else for(var T=u.length-1;T>=0;T--)(S=u[T])&&(L=(A<3?S(L):A>3?S(c,l,L):S(c,l))||L);return A>3&&L&&Object.defineProperty(c,l,L),L},g=this&&this.__param||function(u,c){return function(l,b){c(l,b,u)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterJoinerService=r.JoinedCellData=void 0;var w=s(3734),E=s(643),d=s(511),h=s(2585),C=function(u){function c(l,b,S){var A=u.call(this)||this;return A.content=0,A.combinedData="",A.fg=l.fg,A.bg=l.bg,A.combinedData=b,A._width=S,A}return f(c,u),c.prototype.isCombined=function(){return 2097152},c.prototype.getWidth=function(){return this._width},c.prototype.getChars=function(){return this.combinedData},c.prototype.getCode=function(){return 2097151},c.prototype.setFromCharData=function(l){throw new Error("not implemented")},c.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},c}(w.AttributeData);r.JoinedCellData=C;var m=function(){function u(c){this._bufferService=c,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new d.CellData}return u.prototype.register=function(c){var l={id:this._nextCharacterJoinerId++,handler:c};return this._characterJoiners.push(l),l.id},u.prototype.deregister=function(c){for(var l=0;l<this._characterJoiners.length;l++)if(this._characterJoiners[l].id===c)return this._characterJoiners.splice(l,1),!0;return!1},u.prototype.getJoinedCharacters=function(c){if(this._characterJoiners.length===0)return[];var l=this._bufferService.buffer.lines.get(c);if(!l||l.length===0)return[];for(var b=[],S=l.translateToString(!0),A=0,L=0,T=0,B=l.getFg(0),O=l.getBg(0),x=0;x<l.getTrimmedLength();x++)if(l.loadCell(x,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==B||this._workCell.bg!==O){if(x-A>1)for(var I=this._getJoinedRanges(S,T,L,l,A),R=0;R<I.length;R++)b.push(I[R]);A=x,T=L,B=this._workCell.fg,O=this._workCell.bg}L+=this._workCell.getChars().length||E.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-A>1)for(I=this._getJoinedRanges(S,T,L,l,A),R=0;R<I.length;R++)b.push(I[R]);return b},u.prototype._getJoinedRanges=function(c,l,b,S,A){var L=c.substring(l,b),T=[];try{T=this._characterJoiners[0].handler(L)}catch(I){console.error(I)}for(var B=1;B<this._characterJoiners.length;B++)try{for(var O=this._characterJoiners[B].handler(L),x=0;x<O.length;x++)u._mergeRanges(T,O[x])}catch(I){console.error(I)}return this._stringRangesToCellRanges(T,S,A),T},u.prototype._stringRangesToCellRanges=function(c,l,b){var S=0,A=!1,L=0,T=c[S];if(T){for(var B=b;B<this._bufferService.cols;B++){var O=l.getWidth(B),x=l.getString(B).length||E.WHITESPACE_CELL_CHAR.length;if(O!==0){if(!A&&T[0]<=L&&(T[0]=B,A=!0),T[1]<=L){if(T[1]=B,!(T=c[++S]))break;T[0]<=L?(T[0]=B,A=!0):A=!1}L+=x}}T&&(T[1]=this._bufferService.cols)}},u._mergeRanges=function(c,l){for(var b=!1,S=0;S<c.length;S++){var A=c[S];if(b){if(l[1]<=A[0])return c[S-1][1]=l[1],c;if(l[1]<=A[1])return c[S-1][1]=Math.max(l[1],A[1]),c.splice(S,1),c;c.splice(S,1),S--}else{if(l[1]<=A[0])return c.splice(S,0,l),c;if(l[1]<=A[1])return A[0]=Math.min(l[0],A[0]),c;l[0]<A[1]&&(A[0]=Math.min(l[0],A[0]),b=!0)}}return b?c[c.length-1][1]=l[1]:c.push(l),c},u=v([g(0,h.IBufferService)],u)}();r.CharacterJoinerService=m},5114:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CoreBrowserService=void 0;var s=function(){function a(f){this._textarea=f}return Object.defineProperty(a.prototype,"isFocused",{get:function(){return(this._textarea.getRootNode?this._textarea.getRootNode():document).activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),a}();r.CoreBrowserService=s},8934:function(_,r,s){var a=this&&this.__decorate||function(E,d,h,C){var m,u=arguments.length,c=u<3?d:C===null?C=Object.getOwnPropertyDescriptor(d,h):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(E,d,h,C);else for(var l=E.length-1;l>=0;l--)(m=E[l])&&(c=(u<3?m(c):u>3?m(d,h,c):m(d,h))||c);return u>3&&c&&Object.defineProperty(d,h,c),c},f=this&&this.__param||function(E,d){return function(h,C){d(h,C,E)}};Object.defineProperty(r,"__esModule",{value:!0}),r.MouseService=void 0;var v=s(4725),g=s(9806),w=function(){function E(d,h){this._renderService=d,this._charSizeService=h}return E.prototype.getCoords=function(d,h,C,m,u){return(0,g.getCoords)(d,h,C,m,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,u)},E.prototype.getRawByteCoords=function(d,h,C,m){var u=this.getCoords(d,h,C,m);return(0,g.getRawByteCoords)(u)},a([f(0,v.IRenderService),f(1,v.ICharSizeService)],E)}();r.MouseService=w},3230:function(_,r,s){var a,f=this&&this.__extends||(a=function(l,b){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,A){S.__proto__=A}||function(S,A){for(var L in A)Object.prototype.hasOwnProperty.call(A,L)&&(S[L]=A[L])},a(l,b)},function(l,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function S(){this.constructor=l}a(l,b),l.prototype=b===null?Object.create(b):(S.prototype=b.prototype,new S)}),v=this&&this.__decorate||function(l,b,S,A){var L,T=arguments.length,B=T<3?b:A===null?A=Object.getOwnPropertyDescriptor(b,S):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(l,b,S,A);else for(var O=l.length-1;O>=0;O--)(L=l[O])&&(B=(T<3?L(B):T>3?L(b,S,B):L(b,S))||B);return T>3&&B&&Object.defineProperty(b,S,B),B},g=this&&this.__param||function(l,b){return function(S,A){b(S,A,l)}};Object.defineProperty(r,"__esModule",{value:!0}),r.RenderService=void 0;var w=s(6193),E=s(8460),d=s(844),h=s(5596),C=s(3656),m=s(2585),u=s(4725),c=function(l){function b(S,A,L,T,B,O){var x=l.call(this)||this;if(x._renderer=S,x._rowCount=A,x._charSizeService=B,x._isPaused=!1,x._needsFullRefresh=!1,x._isNextRenderRedrawOnly=!0,x._needsSelectionRefresh=!1,x._canvasWidth=0,x._canvasHeight=0,x._selectionState={start:void 0,end:void 0,columnSelectMode:!1},x._onDimensionsChange=new E.EventEmitter,x._onRender=new E.EventEmitter,x._onRefreshRequest=new E.EventEmitter,x.register({dispose:function(){return x._renderer.dispose()}}),x._renderDebouncer=new w.RenderDebouncer(function(R,F){return x._renderRows(R,F)}),x.register(x._renderDebouncer),x._screenDprMonitor=new h.ScreenDprMonitor,x._screenDprMonitor.setListener(function(){return x.onDevicePixelRatioChange()}),x.register(x._screenDprMonitor),x.register(O.onResize(function(R){return x._fullRefresh()})),x.register(T.onOptionChange(function(){return x._renderer.onOptionsChanged()})),x.register(x._charSizeService.onCharSizeChange(function(){return x.onCharSizeChanged()})),x._renderer.onRequestRedraw(function(R){return x.refreshRows(R.start,R.end,!0)}),x.register((0,C.addDisposableDomListener)(window,"resize",function(){return x.onDevicePixelRatioChange()})),"IntersectionObserver"in window){var I=new IntersectionObserver(function(R){return x._onIntersectionChange(R[R.length-1])},{threshold:0});I.observe(L),x.register({dispose:function(){return I.disconnect()}})}return x}return f(b,l),Object.defineProperty(b.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onRenderedBufferChange",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),b.prototype._onIntersectionChange=function(S){this._isPaused=S.isIntersecting===void 0?S.intersectionRatio===0:!S.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},b.prototype.refreshRows=function(S,A,L){L===void 0&&(L=!1),this._isPaused?this._needsFullRefresh=!0:(L||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(S,A,this._rowCount))},b.prototype._renderRows=function(S,A){this._renderer.renderRows(S,A),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRender.fire({start:S,end:A}),this._isNextRenderRedrawOnly=!0},b.prototype.resize=function(S,A){this._rowCount=A,this._fireOnCanvasResize()},b.prototype.changeOptions=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},b.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},b.prototype.dispose=function(){l.prototype.dispose.call(this)},b.prototype.setRenderer=function(S){var A=this;this._renderer.dispose(),this._renderer=S,this._renderer.onRequestRedraw(function(L){return A.refreshRows(L.start,L.end,!0)}),this._needsSelectionRefresh=!0,this._fullRefresh()},b.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},b.prototype.clearTextureAtlas=function(){var S,A;(A=(S=this._renderer)===null||S===void 0?void 0:S.clearTextureAtlas)===null||A===void 0||A.call(S),this._fullRefresh()},b.prototype.setColors=function(S){this._renderer.setColors(S),this._fullRefresh()},b.prototype.onDevicePixelRatioChange=function(){this._charSizeService.measure(),this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},b.prototype.onResize=function(S,A){this._renderer.onResize(S,A),this._fullRefresh()},b.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},b.prototype.onBlur=function(){this._renderer.onBlur()},b.prototype.onFocus=function(){this._renderer.onFocus()},b.prototype.onSelectionChanged=function(S,A,L){this._selectionState.start=S,this._selectionState.end=A,this._selectionState.columnSelectMode=L,this._renderer.onSelectionChanged(S,A,L)},b.prototype.onCursorMove=function(){this._renderer.onCursorMove()},b.prototype.clear=function(){this._renderer.clear()},v([g(3,m.IOptionsService),g(4,u.ICharSizeService),g(5,m.IBufferService)],b)}(d.Disposable);r.RenderService=c},9312:function(_,r,s){var a,f=this&&this.__extends||(a=function(T,B){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,x){O.__proto__=x}||function(O,x){for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&(O[I]=x[I])},a(T,B)},function(T,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function O(){this.constructor=T}a(T,B),T.prototype=B===null?Object.create(B):(O.prototype=B.prototype,new O)}),v=this&&this.__decorate||function(T,B,O,x){var I,R=arguments.length,F=R<3?B:x===null?x=Object.getOwnPropertyDescriptor(B,O):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(T,B,O,x);else for(var D=T.length-1;D>=0;D--)(I=T[D])&&(F=(R<3?I(F):R>3?I(B,O,F):I(B,O))||F);return R>3&&F&&Object.defineProperty(B,O,F),F},g=this&&this.__param||function(T,B){return function(O,x){B(O,x,T)}};Object.defineProperty(r,"__esModule",{value:!0}),r.SelectionService=void 0;var w=s(6114),E=s(456),d=s(511),h=s(8460),C=s(4725),m=s(2585),u=s(9806),c=s(9504),l=s(844),b=s(4841),S=String.fromCharCode(160),A=new RegExp(S,"g"),L=function(T){function B(O,x,I,R,F,D,k,P){var j=T.call(this)||this;return j._element=O,j._screenElement=x,j._linkifier=I,j._bufferService=R,j._coreService=F,j._mouseService=D,j._optionsService=k,j._renderService=P,j._dragScrollAmount=0,j._enabled=!0,j._workCell=new d.CellData,j._mouseDownTimeStamp=0,j._oldHasSelection=!1,j._oldSelectionStart=void 0,j._oldSelectionEnd=void 0,j._onLinuxMouseSelection=j.register(new h.EventEmitter),j._onRedrawRequest=j.register(new h.EventEmitter),j._onSelectionChange=j.register(new h.EventEmitter),j._onRequestScrollLines=j.register(new h.EventEmitter),j._mouseMoveListener=function(V){return j._onMouseMove(V)},j._mouseUpListener=function(V){return j._onMouseUp(V)},j._coreService.onUserInput(function(){j.hasSelection&&j.clearSelection()}),j._trimListener=j._bufferService.buffer.lines.onTrim(function(V){return j._onTrim(V)}),j.register(j._bufferService.buffers.onBufferActivate(function(V){return j._onBufferActivate(V)})),j.enable(),j._model=new E.SelectionModel(j._bufferService),j._activeSelectionMode=0,j}return f(B,T),Object.defineProperty(B.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),B.prototype.dispose=function(){this._removeMouseDownListeners()},B.prototype.reset=function(){this.clearSelection()},B.prototype.disable=function(){this.clearSelection(),this._enabled=!1},B.prototype.enable=function(){this._enabled=!0},Object.defineProperty(B.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"hasSelection",{get:function(){var O=this._model.finalSelectionStart,x=this._model.finalSelectionEnd;return!(!O||!x||O[0]===x[0]&&O[1]===x[1])},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"selectionText",{get:function(){var O=this._model.finalSelectionStart,x=this._model.finalSelectionEnd;if(!O||!x)return"";var I=this._bufferService.buffer,R=[];if(this._activeSelectionMode===3){if(O[0]===x[0])return"";for(var F=O[1];F<=x[1];F++){var D=I.translateBufferLineToString(F,!0,O[0],x[0]);R.push(D)}}else{var k=O[1]===x[1]?x[0]:void 0;for(R.push(I.translateBufferLineToString(O[1],!0,O[0],k)),F=O[1]+1;F<=x[1]-1;F++){var P=I.lines.get(F);D=I.translateBufferLineToString(F,!0),(P==null?void 0:P.isWrapped)?R[R.length-1]+=D:R.push(D)}O[1]!==x[1]&&(P=I.lines.get(x[1]),D=I.translateBufferLineToString(x[1],!0,0,x[0]),P&&P.isWrapped?R[R.length-1]+=D:R.push(D))}return R.map(function(j){return j.replace(A," ")}).join(w.isWindows?`\r
`:`
`)},enumerable:!1,configurable:!0}),B.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},B.prototype.refresh=function(O){var x=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return x._refresh()})),w.isLinux&&O&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},B.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})},B.prototype._isClickInSelection=function(O){var x=this._getMouseBufferCoords(O),I=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;return!!(I&&R&&x)&&this._areCoordsInSelection(x,I,R)},B.prototype._areCoordsInSelection=function(O,x,I){return O[1]>x[1]&&O[1]<I[1]||x[1]===I[1]&&O[1]===x[1]&&O[0]>=x[0]&&O[0]<I[0]||x[1]<I[1]&&O[1]===I[1]&&O[0]<I[0]||x[1]<I[1]&&O[1]===x[1]&&O[0]>=x[0]},B.prototype._selectWordAtCursor=function(O,x){var I,R,F=(R=(I=this._linkifier.currentLink)===null||I===void 0?void 0:I.link)===null||R===void 0?void 0:R.range;if(F)return this._model.selectionStart=[F.start.x-1,F.start.y-1],this._model.selectionStartLength=(0,b.getRangeLength)(F,this._bufferService.cols),this._model.selectionEnd=void 0,!0;var D=this._getMouseBufferCoords(O);return!!D&&(this._selectWordAt(D,x),this._model.selectionEnd=void 0,!0)},B.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},B.prototype.selectLines=function(O,x){this._model.clearSelection(),O=Math.max(O,0),x=Math.min(x,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,O],this._model.selectionEnd=[this._bufferService.cols,x],this.refresh(),this._onSelectionChange.fire()},B.prototype._onTrim=function(O){this._model.onTrim(O)&&this.refresh()},B.prototype._getMouseBufferCoords=function(O){var x=this._mouseService.getCoords(O,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(x)return x[0]--,x[1]--,x[1]+=this._bufferService.buffer.ydisp,x},B.prototype._getMouseEventScrollAmount=function(O){var x=(0,u.getCoordsRelativeToElement)(O,this._screenElement)[1],I=this._renderService.dimensions.canvasHeight;return x>=0&&x<=I?0:(x>I&&(x-=I),x=Math.min(Math.max(x,-50),50),(x/=50)/Math.abs(x)+Math.round(14*x))},B.prototype.shouldForceSelection=function(O){return w.isMac?O.altKey&&this._optionsService.options.macOptionClickForcesSelection:O.shiftKey},B.prototype.onMouseDown=function(O){if(this._mouseDownTimeStamp=O.timeStamp,(O.button!==2||!this.hasSelection)&&O.button===0){if(!this._enabled){if(!this.shouldForceSelection(O))return;O.stopPropagation()}O.preventDefault(),this._dragScrollAmount=0,this._enabled&&O.shiftKey?this._onIncrementalClick(O):O.detail===1?this._onSingleClick(O):O.detail===2?this._onDoubleClick(O):O.detail===3&&this._onTripleClick(O),this._addMouseDownListeners(),this.refresh(!0)}},B.prototype._addMouseDownListeners=function(){var O=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval(function(){return O._dragScroll()},50)},B.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},B.prototype._onIncrementalClick=function(O){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(O))},B.prototype._onSingleClick=function(O){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(O)?3:0,this._model.selectionStart=this._getMouseBufferCoords(O),this._model.selectionStart){this._model.selectionEnd=void 0;var x=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);x&&x.length!==this._model.selectionStart[0]&&x.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}},B.prototype._onDoubleClick=function(O){this._selectWordAtCursor(O,!0)&&(this._activeSelectionMode=1)},B.prototype._onTripleClick=function(O){var x=this._getMouseBufferCoords(O);x&&(this._activeSelectionMode=2,this._selectLineAt(x[1]))},B.prototype.shouldColumnSelect=function(O){return O.altKey&&!(w.isMac&&this._optionsService.options.macOptionClickForcesSelection)},B.prototype._onMouseMove=function(O){if(O.stopImmediatePropagation(),this._model.selectionStart){var x=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(O),this._model.selectionEnd){this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(O),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var I=this._bufferService.buffer;if(this._model.selectionEnd[1]<I.lines.length){var R=I.lines.get(this._model.selectionEnd[1]);R&&R.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}x&&x[0]===this._model.selectionEnd[0]&&x[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},B.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var O=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(O.ydisp+this._bufferService.rows,O.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=O.ydisp),this.refresh()}},B.prototype._onMouseUp=function(O){var x=O.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&x<500&&O.altKey&&this._optionsService.getOption("altClickMovesCursor")){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var I=this._mouseService.getCoords(O,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(I&&I[0]!==void 0&&I[1]!==void 0){var R=(0,c.moveToCellSequence)(I[0]-1,I[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(R,!0)}}}else this._fireEventIfSelectionChanged()},B.prototype._fireEventIfSelectionChanged=function(){var O=this._model.finalSelectionStart,x=this._model.finalSelectionEnd,I=!(!O||!x||O[0]===x[0]&&O[1]===x[1]);I?O&&x&&(this._oldSelectionStart&&this._oldSelectionEnd&&O[0]===this._oldSelectionStart[0]&&O[1]===this._oldSelectionStart[1]&&x[0]===this._oldSelectionEnd[0]&&x[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(O,x,I)):this._oldHasSelection&&this._fireOnSelectionChange(O,x,I)},B.prototype._fireOnSelectionChange=function(O,x,I){this._oldSelectionStart=O,this._oldSelectionEnd=x,this._oldHasSelection=I,this._onSelectionChange.fire()},B.prototype._onBufferActivate=function(O){var x=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=O.activeBuffer.lines.onTrim(function(I){return x._onTrim(I)})},B.prototype._convertViewportColToCharacterIndex=function(O,x){for(var I=x[0],R=0;x[0]>=R;R++){var F=O.loadCell(R,this._workCell).getChars().length;this._workCell.getWidth()===0?I--:F>1&&x[0]!==R&&(I+=F-1)}return I},B.prototype.setSelection=function(O,x,I){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[O,x],this._model.selectionStartLength=I,this.refresh()},B.prototype.rightClickSelect=function(O){this._isClickInSelection(O)||(this._selectWordAtCursor(O,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())},B.prototype._getWordAt=function(O,x,I,R){if(I===void 0&&(I=!0),R===void 0&&(R=!0),!(O[0]>=this._bufferService.cols)){var F=this._bufferService.buffer,D=F.lines.get(O[1]);if(D){var k=F.translateBufferLineToString(O[1],!1),P=this._convertViewportColToCharacterIndex(D,O),j=P,V=O[0]-P,J=0,z=0,Q=0,ee=0;if(k.charAt(P)===" "){for(;P>0&&k.charAt(P-1)===" ";)P--;for(;j<k.length&&k.charAt(j+1)===" ";)j++}else{var re=O[0],M=O[0];D.getWidth(re)===0&&(J++,re--),D.getWidth(M)===2&&(z++,M++);var H=D.getString(M).length;for(H>1&&(ee+=H-1,j+=H-1);re>0&&P>0&&!this._isCharWordSeparator(D.loadCell(re-1,this._workCell));){D.loadCell(re-1,this._workCell);var N=this._workCell.getChars().length;this._workCell.getWidth()===0?(J++,re--):N>1&&(Q+=N-1,P-=N-1),P--,re--}for(;M<D.length&&j+1<k.length&&!this._isCharWordSeparator(D.loadCell(M+1,this._workCell));){D.loadCell(M+1,this._workCell);var U=this._workCell.getChars().length;this._workCell.getWidth()===2?(z++,M++):U>1&&(ee+=U-1,j+=U-1),j++,M++}}j++;var W=P+V-J+Q,Y=Math.min(this._bufferService.cols,j-P+J+z-Q-ee);if(x||k.slice(P,j).trim()!==""){if(I&&W===0&&D.getCodePoint(0)!==32){var Z=F.lines.get(O[1]-1);if(Z&&D.isWrapped&&Z.getCodePoint(this._bufferService.cols-1)!==32){var se=this._getWordAt([this._bufferService.cols-1,O[1]-1],!1,!0,!1);if(se){var X=this._bufferService.cols-se.start;W-=X,Y+=X}}}if(R&&W+Y===this._bufferService.cols&&D.getCodePoint(this._bufferService.cols-1)!==32){var G=F.lines.get(O[1]+1);if((G==null?void 0:G.isWrapped)&&G.getCodePoint(0)!==32){var $=this._getWordAt([0,O[1]+1],!1,!1,!0);$&&(Y+=$.length)}}return{start:W,length:Y}}}}},B.prototype._selectWordAt=function(O,x){var I=this._getWordAt(O,x);if(I){for(;I.start<0;)I.start+=this._bufferService.cols,O[1]--;this._model.selectionStart=[I.start,O[1]],this._model.selectionStartLength=I.length}},B.prototype._selectToWordAt=function(O){var x=this._getWordAt(O,!0);if(x){for(var I=O[1];x.start<0;)x.start+=this._bufferService.cols,I--;if(!this._model.areSelectionValuesReversed())for(;x.start+x.length>this._bufferService.cols;)x.length-=this._bufferService.cols,I++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?x.start:x.start+x.length,I]}},B.prototype._isCharWordSeparator=function(O){return O.getWidth()!==0&&this._optionsService.options.wordSeparator.indexOf(O.getChars())>=0},B.prototype._selectLineAt=function(O){var x=this._bufferService.buffer.getWrappedRangeForLine(O);this._model.selectionStart=[0,x.first],this._model.selectionEnd=[this._bufferService.cols,x.last],this._model.selectionStartLength=0},v([g(3,m.IBufferService),g(4,m.ICoreService),g(5,C.IMouseService),g(6,m.IOptionsService),g(7,C.IRenderService)],B)}(l.Disposable);r.SelectionService=L},4725:(_,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ICharacterJoinerService=r.ISoundService=r.ISelectionService=r.IRenderService=r.IMouseService=r.ICoreBrowserService=r.ICharSizeService=void 0;var a=s(8343);r.ICharSizeService=(0,a.createDecorator)("CharSizeService"),r.ICoreBrowserService=(0,a.createDecorator)("CoreBrowserService"),r.IMouseService=(0,a.createDecorator)("MouseService"),r.IRenderService=(0,a.createDecorator)("RenderService"),r.ISelectionService=(0,a.createDecorator)("SelectionService"),r.ISoundService=(0,a.createDecorator)("SoundService"),r.ICharacterJoinerService=(0,a.createDecorator)("CharacterJoinerService")},357:function(_,r,s){var a=this&&this.__decorate||function(w,E,d,h){var C,m=arguments.length,u=m<3?E:h===null?h=Object.getOwnPropertyDescriptor(E,d):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(w,E,d,h);else for(var c=w.length-1;c>=0;c--)(C=w[c])&&(u=(m<3?C(u):m>3?C(E,d,u):C(E,d))||u);return m>3&&u&&Object.defineProperty(E,d,u),u},f=this&&this.__param||function(w,E){return function(d,h){E(d,h,w)}};Object.defineProperty(r,"__esModule",{value:!0}),r.SoundService=void 0;var v=s(2585),g=function(){function w(E){this._optionsService=E}return Object.defineProperty(w,"audioContext",{get:function(){if(!w._audioContext){var E=window.AudioContext||window.webkitAudioContext;if(!E)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;w._audioContext=new E}return w._audioContext},enumerable:!1,configurable:!0}),w.prototype.playBellSound=function(){var E=w.audioContext;if(E){var d=E.createBufferSource();E.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.options.bellSound)),function(h){d.buffer=h,d.connect(E.destination),d.start(0)})}},w.prototype._base64ToArrayBuffer=function(E){for(var d=window.atob(E),h=d.length,C=new Uint8Array(h),m=0;m<h;m++)C[m]=d.charCodeAt(m);return C.buffer},w.prototype._removeMimeType=function(E){return E.split(",")[1]},w=a([f(0,v.IOptionsService)],w)}();r.SoundService=g},6349:(_,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CircularList=void 0;var a=s(8460),f=function(){function v(g){this._maxLength=g,this.onDeleteEmitter=new a.EventEmitter,this.onInsertEmitter=new a.EventEmitter,this.onTrimEmitter=new a.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(v.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"maxLength",{get:function(){return this._maxLength},set:function(g){if(this._maxLength!==g){for(var w=new Array(g),E=0;E<Math.min(g,this.length);E++)w[E]=this._array[this._getCyclicIndex(E)];this._array=w,this._maxLength=g,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"length",{get:function(){return this._length},set:function(g){if(g>this._length)for(var w=this._length;w<g;w++)this._array[w]=void 0;this._length=g},enumerable:!1,configurable:!0}),v.prototype.get=function(g){return this._array[this._getCyclicIndex(g)]},v.prototype.set=function(g,w){this._array[this._getCyclicIndex(g)]=w},v.prototype.push=function(g){this._array[this._getCyclicIndex(this._length)]=g,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},v.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(v.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),v.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},v.prototype.splice=function(g,w){for(var E=[],d=2;d<arguments.length;d++)E[d-2]=arguments[d];if(w){for(var h=g;h<this._length-w;h++)this._array[this._getCyclicIndex(h)]=this._array[this._getCyclicIndex(h+w)];this._length-=w,this.onDeleteEmitter.fire({index:g,amount:w})}for(h=this._length-1;h>=g;h--)this._array[this._getCyclicIndex(h+E.length)]=this._array[this._getCyclicIndex(h)];for(h=0;h<E.length;h++)this._array[this._getCyclicIndex(g+h)]=E[h];if(E.length&&this.onInsertEmitter.fire({index:g,amount:E.length}),this._length+E.length>this._maxLength){var C=this._length+E.length-this._maxLength;this._startIndex+=C,this._length=this._maxLength,this.onTrimEmitter.fire(C)}else this._length+=E.length},v.prototype.trimStart=function(g){g>this._length&&(g=this._length),this._startIndex+=g,this._length-=g,this.onTrimEmitter.fire(g)},v.prototype.shiftElements=function(g,w,E){if(!(w<=0)){if(g<0||g>=this._length)throw new Error("start argument out of range");if(g+E<0)throw new Error("Cannot shift elements in list beyond index 0");if(E>0){for(var d=w-1;d>=0;d--)this.set(g+d+E,this.get(g+d));var h=g+w+E-this._length;if(h>0)for(this._length+=h;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(d=0;d<w;d++)this.set(g+d+E,this.get(g+d))}},v.prototype._getCyclicIndex=function(g){return(this._startIndex+g)%this._maxLength},v}();r.CircularList=f},1439:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.clone=void 0,r.clone=function s(a,f){if(f===void 0&&(f=5),typeof a!="object")return a;var v=Array.isArray(a)?[]:{};for(var g in a)v[g]=f<=1?a[g]:a[g]&&s(a[g],f-1);return v}},8969:function(_,r,s){var a,f=this&&this.__extends||(a=function(O,x){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,R){I.__proto__=R}||function(I,R){for(var F in R)Object.prototype.hasOwnProperty.call(R,F)&&(I[F]=R[F])},a(O,x)},function(O,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function I(){this.constructor=O}a(O,x),O.prototype=x===null?Object.create(x):(I.prototype=x.prototype,new I)});Object.defineProperty(r,"__esModule",{value:!0}),r.CoreTerminal=void 0;var v=s(844),g=s(2585),w=s(4348),E=s(7866),d=s(744),h=s(7302),C=s(6975),m=s(8460),u=s(1753),c=s(3730),l=s(1480),b=s(7994),S=s(9282),A=s(5435),L=s(5981),T=!1,B=function(O){function x(I){var R=O.call(this)||this;return R._onBinary=new m.EventEmitter,R._onData=new m.EventEmitter,R._onLineFeed=new m.EventEmitter,R._onResize=new m.EventEmitter,R._onScroll=new m.EventEmitter,R._instantiationService=new w.InstantiationService,R.optionsService=new h.OptionsService(I),R._instantiationService.setService(g.IOptionsService,R.optionsService),R._bufferService=R.register(R._instantiationService.createInstance(d.BufferService)),R._instantiationService.setService(g.IBufferService,R._bufferService),R._logService=R._instantiationService.createInstance(E.LogService),R._instantiationService.setService(g.ILogService,R._logService),R.coreService=R.register(R._instantiationService.createInstance(C.CoreService,function(){return R.scrollToBottom()})),R._instantiationService.setService(g.ICoreService,R.coreService),R.coreMouseService=R._instantiationService.createInstance(u.CoreMouseService),R._instantiationService.setService(g.ICoreMouseService,R.coreMouseService),R._dirtyRowService=R._instantiationService.createInstance(c.DirtyRowService),R._instantiationService.setService(g.IDirtyRowService,R._dirtyRowService),R.unicodeService=R._instantiationService.createInstance(l.UnicodeService),R._instantiationService.setService(g.IUnicodeService,R.unicodeService),R._charsetService=R._instantiationService.createInstance(b.CharsetService),R._instantiationService.setService(g.ICharsetService,R._charsetService),R._inputHandler=new A.InputHandler(R._bufferService,R._charsetService,R.coreService,R._dirtyRowService,R._logService,R.optionsService,R.coreMouseService,R.unicodeService),R.register((0,m.forwardEvent)(R._inputHandler.onLineFeed,R._onLineFeed)),R.register(R._inputHandler),R.register((0,m.forwardEvent)(R._bufferService.onResize,R._onResize)),R.register((0,m.forwardEvent)(R.coreService.onData,R._onData)),R.register((0,m.forwardEvent)(R.coreService.onBinary,R._onBinary)),R.register(R.optionsService.onOptionChange(function(F){return R._updateOptions(F)})),R.register(R._bufferService.onScroll(function(F){R._onScroll.fire({position:R._bufferService.buffer.ydisp,source:0}),R._dirtyRowService.markRangeDirty(R._bufferService.buffer.scrollTop,R._bufferService.buffer.scrollBottom)})),R.register(R._inputHandler.onScroll(function(F){R._onScroll.fire({position:R._bufferService.buffer.ydisp,source:0}),R._dirtyRowService.markRangeDirty(R._bufferService.buffer.scrollTop,R._bufferService.buffer.scrollBottom)})),R._writeBuffer=new L.WriteBuffer(function(F,D){return R._inputHandler.parse(F,D)}),R}return f(x,O),Object.defineProperty(x.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"onScroll",{get:function(){var I=this;return this._onScrollApi||(this._onScrollApi=new m.EventEmitter,this.register(this._onScroll.event(function(R){var F;(F=I._onScrollApi)===null||F===void 0||F.fire(R.position)}))),this._onScrollApi.event},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"options",{get:function(){return this.optionsService.options},set:function(I){for(var R in I)this.optionsService.options[R]=I[R]},enumerable:!1,configurable:!0}),x.prototype.dispose=function(){var I;this._isDisposed||(O.prototype.dispose.call(this),(I=this._windowsMode)===null||I===void 0||I.dispose(),this._windowsMode=void 0)},x.prototype.write=function(I,R){this._writeBuffer.write(I,R)},x.prototype.writeSync=function(I,R){this._logService.logLevel<=g.LogLevelEnum.WARN&&!T&&(this._logService.warn("writeSync is unreliable and will be removed soon."),T=!0),this._writeBuffer.writeSync(I,R)},x.prototype.resize=function(I,R){isNaN(I)||isNaN(R)||(I=Math.max(I,d.MINIMUM_COLS),R=Math.max(R,d.MINIMUM_ROWS),this._bufferService.resize(I,R))},x.prototype.scroll=function(I,R){R===void 0&&(R=!1),this._bufferService.scroll(I,R)},x.prototype.scrollLines=function(I,R,F){this._bufferService.scrollLines(I,R,F)},x.prototype.scrollPages=function(I){this._bufferService.scrollPages(I)},x.prototype.scrollToTop=function(){this._bufferService.scrollToTop()},x.prototype.scrollToBottom=function(){this._bufferService.scrollToBottom()},x.prototype.scrollToLine=function(I){this._bufferService.scrollToLine(I)},x.prototype.registerEscHandler=function(I,R){return this._inputHandler.registerEscHandler(I,R)},x.prototype.registerDcsHandler=function(I,R){return this._inputHandler.registerDcsHandler(I,R)},x.prototype.registerCsiHandler=function(I,R){return this._inputHandler.registerCsiHandler(I,R)},x.prototype.registerOscHandler=function(I,R){return this._inputHandler.registerOscHandler(I,R)},x.prototype._setup=function(){this.optionsService.options.windowsMode&&this._enableWindowsMode()},x.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()},x.prototype._updateOptions=function(I){var R;switch(I){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.options.windowsMode?this._enableWindowsMode():((R=this._windowsMode)===null||R===void 0||R.dispose(),this._windowsMode=void 0)}},x.prototype._enableWindowsMode=function(){var I=this;if(!this._windowsMode){var R=[];R.push(this.onLineFeed(S.updateWindowsModeWrappedState.bind(null,this._bufferService))),R.push(this.registerCsiHandler({final:"H"},function(){return(0,S.updateWindowsModeWrappedState)(I._bufferService),!1})),this._windowsMode={dispose:function(){for(var F=0,D=R;F<D.length;F++)D[F].dispose()}}}},x}(v.Disposable);r.CoreTerminal=B},8460:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.forwardEvent=r.EventEmitter=void 0;var s=function(){function a(){this._listeners=[],this._disposed=!1}return Object.defineProperty(a.prototype,"event",{get:function(){var f=this;return this._event||(this._event=function(v){return f._listeners.push(v),{dispose:function(){if(!f._disposed){for(var g=0;g<f._listeners.length;g++)if(f._listeners[g]===v)return void f._listeners.splice(g,1)}}}}),this._event},enumerable:!1,configurable:!0}),a.prototype.fire=function(f,v){for(var g=[],w=0;w<this._listeners.length;w++)g.push(this._listeners[w]);for(w=0;w<g.length;w++)g[w].call(void 0,f,v)},a.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},a}();r.EventEmitter=s,r.forwardEvent=function(a,f){return a(function(v){return f.fire(v)})}},5435:function(_,r,s){var a,f=this&&this.__extends||(a=function(F,D){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,P){k.__proto__=P}||function(k,P){for(var j in P)Object.prototype.hasOwnProperty.call(P,j)&&(k[j]=P[j])},a(F,D)},function(F,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function k(){this.constructor=F}a(F,D),F.prototype=D===null?Object.create(D):(k.prototype=D.prototype,new k)});Object.defineProperty(r,"__esModule",{value:!0}),r.InputHandler=r.WindowsOptionsReportType=void 0;var v,g=s(2584),w=s(7116),E=s(2015),d=s(844),h=s(8273),C=s(482),m=s(8437),u=s(8460),c=s(643),l=s(511),b=s(3734),S=s(2585),A=s(6242),L=s(6351),T=s(5941),B={"(":0,")":1,"*":2,"+":3,"-":1,".":2},O=131072;function x(F,D){if(F>24)return D.setWinLines||!1;switch(F){case 1:return!!D.restoreWin;case 2:return!!D.minimizeWin;case 3:return!!D.setWinPosition;case 4:return!!D.setWinSizePixels;case 5:return!!D.raiseWin;case 6:return!!D.lowerWin;case 7:return!!D.refreshWin;case 8:return!!D.setWinSizeChars;case 9:return!!D.maximizeWin;case 10:return!!D.fullscreenWin;case 11:return!!D.getWinState;case 13:return!!D.getWinPosition;case 14:return!!D.getWinSizePixels;case 15:return!!D.getScreenSizePixels;case 16:return!!D.getCellSizePixels;case 18:return!!D.getWinSizeChars;case 19:return!!D.getScreenSizeChars;case 20:return!!D.getIconTitle;case 21:return!!D.getWinTitle;case 22:return!!D.pushTitle;case 23:return!!D.popTitle;case 24:return!!D.setWinLines}return!1}(function(F){F[F.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",F[F.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(v=r.WindowsOptionsReportType||(r.WindowsOptionsReportType={}));var I=function(){function F(D,k,P,j){this._bufferService=D,this._coreService=k,this._logService=P,this._optionsService=j,this._data=new Uint32Array(0)}return F.prototype.hook=function(D){this._data=new Uint32Array(0)},F.prototype.put=function(D,k,P){this._data=(0,h.concat)(this._data,D.subarray(k,P))},F.prototype.unhook=function(D){if(!D)return this._data=new Uint32Array(0),!0;var k=(0,C.utf32ToString)(this._data);switch(this._data=new Uint32Array(0),k){case'"q':this._coreService.triggerDataEvent(g.C0.ESC+'P1$r0"q'+g.C0.ESC+"\\");break;case'"p':this._coreService.triggerDataEvent(g.C0.ESC+'P1$r61;1"p'+g.C0.ESC+"\\");break;case"r":var P=this._bufferService.buffer.scrollTop+1+";"+(this._bufferService.buffer.scrollBottom+1)+"r";this._coreService.triggerDataEvent(g.C0.ESC+"P1$r"+P+g.C0.ESC+"\\");break;case"m":this._coreService.triggerDataEvent(g.C0.ESC+"P1$r0m"+g.C0.ESC+"\\");break;case" q":var j={block:2,underline:4,bar:6}[this._optionsService.options.cursorStyle];j-=this._optionsService.options.cursorBlink?1:0,this._coreService.triggerDataEvent(g.C0.ESC+"P1$r"+j+" q"+g.C0.ESC+"\\");break;default:this._logService.debug("Unknown DCS $q %s",k),this._coreService.triggerDataEvent(g.C0.ESC+"P0$r"+g.C0.ESC+"\\")}return!0},F}(),R=function(F){function D(k,P,j,V,J,z,Q,ee,re){re===void 0&&(re=new E.EscapeSequenceParser);var M=F.call(this)||this;M._bufferService=k,M._charsetService=P,M._coreService=j,M._dirtyRowService=V,M._logService=J,M._optionsService=z,M._coreMouseService=Q,M._unicodeService=ee,M._parser=re,M._parseBuffer=new Uint32Array(4096),M._stringDecoder=new C.StringToUtf32,M._utf8Decoder=new C.Utf8ToUtf32,M._workCell=new l.CellData,M._windowTitle="",M._iconName="",M._windowTitleStack=[],M._iconNameStack=[],M._curAttrData=m.DEFAULT_ATTR_DATA.clone(),M._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone(),M._onRequestBell=new u.EventEmitter,M._onRequestRefreshRows=new u.EventEmitter,M._onRequestReset=new u.EventEmitter,M._onRequestSendFocus=new u.EventEmitter,M._onRequestSyncScrollBar=new u.EventEmitter,M._onRequestWindowsOptionsReport=new u.EventEmitter,M._onA11yChar=new u.EventEmitter,M._onA11yTab=new u.EventEmitter,M._onCursorMove=new u.EventEmitter,M._onLineFeed=new u.EventEmitter,M._onScroll=new u.EventEmitter,M._onTitleChange=new u.EventEmitter,M._onColor=new u.EventEmitter,M._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},M._specialColors=[256,257,258],M.register(M._parser),M._activeBuffer=M._bufferService.buffer,M.register(M._bufferService.buffers.onBufferActivate(function(W){return M._activeBuffer=W.activeBuffer})),M._parser.setCsiHandlerFallback(function(W,Y){M._logService.debug("Unknown CSI code: ",{identifier:M._parser.identToString(W),params:Y.toArray()})}),M._parser.setEscHandlerFallback(function(W){M._logService.debug("Unknown ESC code: ",{identifier:M._parser.identToString(W)})}),M._parser.setExecuteHandlerFallback(function(W){M._logService.debug("Unknown EXECUTE code: ",{code:W})}),M._parser.setOscHandlerFallback(function(W,Y,Z){M._logService.debug("Unknown OSC code: ",{identifier:W,action:Y,data:Z})}),M._parser.setDcsHandlerFallback(function(W,Y,Z){Y==="HOOK"&&(Z=Z.toArray()),M._logService.debug("Unknown DCS code: ",{identifier:M._parser.identToString(W),action:Y,payload:Z})}),M._parser.setPrintHandler(function(W,Y,Z){return M.print(W,Y,Z)}),M._parser.registerCsiHandler({final:"@"},function(W){return M.insertChars(W)}),M._parser.registerCsiHandler({intermediates:" ",final:"@"},function(W){return M.scrollLeft(W)}),M._parser.registerCsiHandler({final:"A"},function(W){return M.cursorUp(W)}),M._parser.registerCsiHandler({intermediates:" ",final:"A"},function(W){return M.scrollRight(W)}),M._parser.registerCsiHandler({final:"B"},function(W){return M.cursorDown(W)}),M._parser.registerCsiHandler({final:"C"},function(W){return M.cursorForward(W)}),M._parser.registerCsiHandler({final:"D"},function(W){return M.cursorBackward(W)}),M._parser.registerCsiHandler({final:"E"},function(W){return M.cursorNextLine(W)}),M._parser.registerCsiHandler({final:"F"},function(W){return M.cursorPrecedingLine(W)}),M._parser.registerCsiHandler({final:"G"},function(W){return M.cursorCharAbsolute(W)}),M._parser.registerCsiHandler({final:"H"},function(W){return M.cursorPosition(W)}),M._parser.registerCsiHandler({final:"I"},function(W){return M.cursorForwardTab(W)}),M._parser.registerCsiHandler({final:"J"},function(W){return M.eraseInDisplay(W)}),M._parser.registerCsiHandler({prefix:"?",final:"J"},function(W){return M.eraseInDisplay(W)}),M._parser.registerCsiHandler({final:"K"},function(W){return M.eraseInLine(W)}),M._parser.registerCsiHandler({prefix:"?",final:"K"},function(W){return M.eraseInLine(W)}),M._parser.registerCsiHandler({final:"L"},function(W){return M.insertLines(W)}),M._parser.registerCsiHandler({final:"M"},function(W){return M.deleteLines(W)}),M._parser.registerCsiHandler({final:"P"},function(W){return M.deleteChars(W)}),M._parser.registerCsiHandler({final:"S"},function(W){return M.scrollUp(W)}),M._parser.registerCsiHandler({final:"T"},function(W){return M.scrollDown(W)}),M._parser.registerCsiHandler({final:"X"},function(W){return M.eraseChars(W)}),M._parser.registerCsiHandler({final:"Z"},function(W){return M.cursorBackwardTab(W)}),M._parser.registerCsiHandler({final:"`"},function(W){return M.charPosAbsolute(W)}),M._parser.registerCsiHandler({final:"a"},function(W){return M.hPositionRelative(W)}),M._parser.registerCsiHandler({final:"b"},function(W){return M.repeatPrecedingCharacter(W)}),M._parser.registerCsiHandler({final:"c"},function(W){return M.sendDeviceAttributesPrimary(W)}),M._parser.registerCsiHandler({prefix:">",final:"c"},function(W){return M.sendDeviceAttributesSecondary(W)}),M._parser.registerCsiHandler({final:"d"},function(W){return M.linePosAbsolute(W)}),M._parser.registerCsiHandler({final:"e"},function(W){return M.vPositionRelative(W)}),M._parser.registerCsiHandler({final:"f"},function(W){return M.hVPosition(W)}),M._parser.registerCsiHandler({final:"g"},function(W){return M.tabClear(W)}),M._parser.registerCsiHandler({final:"h"},function(W){return M.setMode(W)}),M._parser.registerCsiHandler({prefix:"?",final:"h"},function(W){return M.setModePrivate(W)}),M._parser.registerCsiHandler({final:"l"},function(W){return M.resetMode(W)}),M._parser.registerCsiHandler({prefix:"?",final:"l"},function(W){return M.resetModePrivate(W)}),M._parser.registerCsiHandler({final:"m"},function(W){return M.charAttributes(W)}),M._parser.registerCsiHandler({final:"n"},function(W){return M.deviceStatus(W)}),M._parser.registerCsiHandler({prefix:"?",final:"n"},function(W){return M.deviceStatusPrivate(W)}),M._parser.registerCsiHandler({intermediates:"!",final:"p"},function(W){return M.softReset(W)}),M._parser.registerCsiHandler({intermediates:" ",final:"q"},function(W){return M.setCursorStyle(W)}),M._parser.registerCsiHandler({final:"r"},function(W){return M.setScrollRegion(W)}),M._parser.registerCsiHandler({final:"s"},function(W){return M.saveCursor(W)}),M._parser.registerCsiHandler({final:"t"},function(W){return M.windowOptions(W)}),M._parser.registerCsiHandler({final:"u"},function(W){return M.restoreCursor(W)}),M._parser.registerCsiHandler({intermediates:"'",final:"}"},function(W){return M.insertColumns(W)}),M._parser.registerCsiHandler({intermediates:"'",final:"~"},function(W){return M.deleteColumns(W)}),M._parser.setExecuteHandler(g.C0.BEL,function(){return M.bell()}),M._parser.setExecuteHandler(g.C0.LF,function(){return M.lineFeed()}),M._parser.setExecuteHandler(g.C0.VT,function(){return M.lineFeed()}),M._parser.setExecuteHandler(g.C0.FF,function(){return M.lineFeed()}),M._parser.setExecuteHandler(g.C0.CR,function(){return M.carriageReturn()}),M._parser.setExecuteHandler(g.C0.BS,function(){return M.backspace()}),M._parser.setExecuteHandler(g.C0.HT,function(){return M.tab()}),M._parser.setExecuteHandler(g.C0.SO,function(){return M.shiftOut()}),M._parser.setExecuteHandler(g.C0.SI,function(){return M.shiftIn()}),M._parser.setExecuteHandler(g.C1.IND,function(){return M.index()}),M._parser.setExecuteHandler(g.C1.NEL,function(){return M.nextLine()}),M._parser.setExecuteHandler(g.C1.HTS,function(){return M.tabSet()}),M._parser.registerOscHandler(0,new A.OscHandler(function(W){return M.setTitle(W),M.setIconName(W),!0})),M._parser.registerOscHandler(1,new A.OscHandler(function(W){return M.setIconName(W)})),M._parser.registerOscHandler(2,new A.OscHandler(function(W){return M.setTitle(W)})),M._parser.registerOscHandler(4,new A.OscHandler(function(W){return M.setOrReportIndexedColor(W)})),M._parser.registerOscHandler(10,new A.OscHandler(function(W){return M.setOrReportFgColor(W)})),M._parser.registerOscHandler(11,new A.OscHandler(function(W){return M.setOrReportBgColor(W)})),M._parser.registerOscHandler(12,new A.OscHandler(function(W){return M.setOrReportCursorColor(W)})),M._parser.registerOscHandler(104,new A.OscHandler(function(W){return M.restoreIndexedColor(W)})),M._parser.registerOscHandler(110,new A.OscHandler(function(W){return M.restoreFgColor(W)})),M._parser.registerOscHandler(111,new A.OscHandler(function(W){return M.restoreBgColor(W)})),M._parser.registerOscHandler(112,new A.OscHandler(function(W){return M.restoreCursorColor(W)})),M._parser.registerEscHandler({final:"7"},function(){return M.saveCursor()}),M._parser.registerEscHandler({final:"8"},function(){return M.restoreCursor()}),M._parser.registerEscHandler({final:"D"},function(){return M.index()}),M._parser.registerEscHandler({final:"E"},function(){return M.nextLine()}),M._parser.registerEscHandler({final:"H"},function(){return M.tabSet()}),M._parser.registerEscHandler({final:"M"},function(){return M.reverseIndex()}),M._parser.registerEscHandler({final:"="},function(){return M.keypadApplicationMode()}),M._parser.registerEscHandler({final:">"},function(){return M.keypadNumericMode()}),M._parser.registerEscHandler({final:"c"},function(){return M.fullReset()}),M._parser.registerEscHandler({final:"n"},function(){return M.setgLevel(2)}),M._parser.registerEscHandler({final:"o"},function(){return M.setgLevel(3)}),M._parser.registerEscHandler({final:"|"},function(){return M.setgLevel(3)}),M._parser.registerEscHandler({final:"}"},function(){return M.setgLevel(2)}),M._parser.registerEscHandler({final:"~"},function(){return M.setgLevel(1)}),M._parser.registerEscHandler({intermediates:"%",final:"@"},function(){return M.selectDefaultCharset()}),M._parser.registerEscHandler({intermediates:"%",final:"G"},function(){return M.selectDefaultCharset()});var H=function(W){N._parser.registerEscHandler({intermediates:"(",final:W},function(){return M.selectCharset("("+W)}),N._parser.registerEscHandler({intermediates:")",final:W},function(){return M.selectCharset(")"+W)}),N._parser.registerEscHandler({intermediates:"*",final:W},function(){return M.selectCharset("*"+W)}),N._parser.registerEscHandler({intermediates:"+",final:W},function(){return M.selectCharset("+"+W)}),N._parser.registerEscHandler({intermediates:"-",final:W},function(){return M.selectCharset("-"+W)}),N._parser.registerEscHandler({intermediates:".",final:W},function(){return M.selectCharset("."+W)}),N._parser.registerEscHandler({intermediates:"/",final:W},function(){return M.selectCharset("/"+W)})},N=this;for(var U in w.CHARSETS)H(U);return M._parser.registerEscHandler({intermediates:"#",final:"8"},function(){return M.screenAlignmentPattern()}),M._parser.setErrorHandler(function(W){return M._logService.error("Parsing error: ",W),W}),M._parser.registerDcsHandler({intermediates:"$",final:"q"},new I(M._bufferService,M._coreService,M._logService,M._optionsService)),M}return f(D,F),Object.defineProperty(D.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"onRequestSendFocus",{get:function(){return this._onRequestSendFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"onColor",{get:function(){return this._onColor.event},enumerable:!1,configurable:!0}),D.prototype.dispose=function(){F.prototype.dispose.call(this)},D.prototype._preserveStack=function(k,P,j,V){this._parseStack.paused=!0,this._parseStack.cursorStartX=k,this._parseStack.cursorStartY=P,this._parseStack.decodedLength=j,this._parseStack.position=V},D.prototype._logSlowResolvingAsync=function(k){this._logService.logLevel<=S.LogLevelEnum.WARN&&Promise.race([k,new Promise(function(P,j){return setTimeout(function(){return j("#SLOW_TIMEOUT")},5e3)})]).catch(function(P){if(P!=="#SLOW_TIMEOUT")throw P;console.warn("async parser handler taking longer than 5000 ms")})},D.prototype.parse=function(k,P){var j,V=this._activeBuffer.x,J=this._activeBuffer.y,z=0,Q=this._parseStack.paused;if(Q){if(j=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,P))return this._logSlowResolvingAsync(j),j;V=this._parseStack.cursorStartX,J=this._parseStack.cursorStartY,this._parseStack.paused=!1,k.length>O&&(z=this._parseStack.position+O)}if(this._logService.logLevel<=S.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof k=="string"?' "'+k+'"':""),typeof k=="string"?k.split("").map(function(H){return H.charCodeAt(0)}):k),this._parseBuffer.length<k.length&&this._parseBuffer.length<O&&(this._parseBuffer=new Uint32Array(Math.min(k.length,O))),Q||this._dirtyRowService.clearRange(),k.length>O)for(var ee=z;ee<k.length;ee+=O){var re=ee+O<k.length?ee+O:k.length,M=typeof k=="string"?this._stringDecoder.decode(k.substring(ee,re),this._parseBuffer):this._utf8Decoder.decode(k.subarray(ee,re),this._parseBuffer);if(j=this._parser.parse(this._parseBuffer,M))return this._preserveStack(V,J,M,ee),this._logSlowResolvingAsync(j),j}else if(!Q&&(M=typeof k=="string"?this._stringDecoder.decode(k,this._parseBuffer):this._utf8Decoder.decode(k,this._parseBuffer),j=this._parser.parse(this._parseBuffer,M)))return this._preserveStack(V,J,M,0),this._logSlowResolvingAsync(j),j;this._activeBuffer.x===V&&this._activeBuffer.y===J||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},D.prototype.print=function(k,P,j){var V,J,z=this._charsetService.charset,Q=this._optionsService.options.screenReaderMode,ee=this._bufferService.cols,re=this._coreService.decPrivateModes.wraparound,M=this._coreService.modes.insertMode,H=this._curAttrData,N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowService.markDirty(this._activeBuffer.y),this._activeBuffer.x&&j-P>0&&N.getWidth(this._activeBuffer.x-1)===2&&N.setCellFromCodePoint(this._activeBuffer.x-1,0,1,H.fg,H.bg,H.extended);for(var U=P;U<j;++U){if(V=k[U],J=this._unicodeService.wcwidth(V),V<127&&z){var W=z[String.fromCharCode(V)];W&&(V=W.charCodeAt(0))}if(Q&&this._onA11yChar.fire((0,C.stringFromCodePoint)(V)),J||!this._activeBuffer.x){if(this._activeBuffer.x+J-1>=ee){if(re){for(;this._activeBuffer.x<ee;)N.setCellFromCodePoint(this._activeBuffer.x++,0,1,H.fg,H.bg,H.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=ee-1,J===2)continue}if(M&&(N.insertCells(this._activeBuffer.x,J,this._activeBuffer.getNullCell(H),H),N.getWidth(ee-1)===2&&N.setCellFromCodePoint(ee-1,c.NULL_CELL_CODE,c.NULL_CELL_WIDTH,H.fg,H.bg,H.extended)),N.setCellFromCodePoint(this._activeBuffer.x++,V,J,H.fg,H.bg,H.extended),J>0)for(;--J;)N.setCellFromCodePoint(this._activeBuffer.x++,0,0,H.fg,H.bg,H.extended)}else N.getWidth(this._activeBuffer.x-1)?N.addCodepointToCell(this._activeBuffer.x-1,V):N.addCodepointToCell(this._activeBuffer.x-2,V)}j-P>0&&(N.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<ee&&j-P>0&&N.getWidth(this._activeBuffer.x)===0&&!N.hasContent(this._activeBuffer.x)&&N.setCellFromCodePoint(this._activeBuffer.x,0,1,H.fg,H.bg,H.extended),this._dirtyRowService.markDirty(this._activeBuffer.y)},D.prototype.registerCsiHandler=function(k,P){var j=this;return k.final!=="t"||k.prefix||k.intermediates?this._parser.registerCsiHandler(k,P):this._parser.registerCsiHandler(k,function(V){return!x(V.params[0],j._optionsService.options.windowOptions)||P(V)})},D.prototype.registerDcsHandler=function(k,P){return this._parser.registerDcsHandler(k,new L.DcsHandler(P))},D.prototype.registerEscHandler=function(k,P){return this._parser.registerEscHandler(k,P)},D.prototype.registerOscHandler=function(k,P){return this._parser.registerOscHandler(k,new A.OscHandler(P))},D.prototype.bell=function(){return this._onRequestBell.fire(),!0},D.prototype.lineFeed=function(){return this._dirtyRowService.markDirty(this._activeBuffer.y),this._optionsService.options.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowService.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0},D.prototype.carriageReturn=function(){return this._activeBuffer.x=0,!0},D.prototype.backspace=function(){var k;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||k===void 0?void 0:k.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;var P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);P.hasWidth(this._activeBuffer.x)&&!P.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0},D.prototype.tab=function(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;var k=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.options.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-k),!0},D.prototype.shiftOut=function(){return this._charsetService.setgLevel(1),!0},D.prototype.shiftIn=function(){return this._charsetService.setgLevel(0),!0},D.prototype._restrictCursor=function(k){k===void 0&&(k=this._bufferService.cols-1),this._activeBuffer.x=Math.min(k,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowService.markDirty(this._activeBuffer.y)},D.prototype._setCursor=function(k,P){this._dirtyRowService.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=k,this._activeBuffer.y=this._activeBuffer.scrollTop+P):(this._activeBuffer.x=k,this._activeBuffer.y=P),this._restrictCursor(),this._dirtyRowService.markDirty(this._activeBuffer.y)},D.prototype._moveCursor=function(k,P){this._restrictCursor(),this._setCursor(this._activeBuffer.x+k,this._activeBuffer.y+P)},D.prototype.cursorUp=function(k){var P=this._activeBuffer.y-this._activeBuffer.scrollTop;return P>=0?this._moveCursor(0,-Math.min(P,k.params[0]||1)):this._moveCursor(0,-(k.params[0]||1)),!0},D.prototype.cursorDown=function(k){var P=this._activeBuffer.scrollBottom-this._activeBuffer.y;return P>=0?this._moveCursor(0,Math.min(P,k.params[0]||1)):this._moveCursor(0,k.params[0]||1),!0},D.prototype.cursorForward=function(k){return this._moveCursor(k.params[0]||1,0),!0},D.prototype.cursorBackward=function(k){return this._moveCursor(-(k.params[0]||1),0),!0},D.prototype.cursorNextLine=function(k){return this.cursorDown(k),this._activeBuffer.x=0,!0},D.prototype.cursorPrecedingLine=function(k){return this.cursorUp(k),this._activeBuffer.x=0,!0},D.prototype.cursorCharAbsolute=function(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0},D.prototype.cursorPosition=function(k){return this._setCursor(k.length>=2?(k.params[1]||1)-1:0,(k.params[0]||1)-1),!0},D.prototype.charPosAbsolute=function(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0},D.prototype.hPositionRelative=function(k){return this._moveCursor(k.params[0]||1,0),!0},D.prototype.linePosAbsolute=function(k){return this._setCursor(this._activeBuffer.x,(k.params[0]||1)-1),!0},D.prototype.vPositionRelative=function(k){return this._moveCursor(0,k.params[0]||1),!0},D.prototype.hVPosition=function(k){return this.cursorPosition(k),!0},D.prototype.tabClear=function(k){var P=k.params[0];return P===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:P===3&&(this._activeBuffer.tabs={}),!0},D.prototype.cursorForwardTab=function(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var P=k.params[0]||1;P--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0},D.prototype.cursorBackwardTab=function(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var P=k.params[0]||1;P--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0},D.prototype._eraseInBufferLine=function(k,P,j,V){V===void 0&&(V=!1);var J=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);J.replaceCells(P,j,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V&&(J.isWrapped=!1)},D.prototype._resetBufferLine=function(k){var P=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);P.fill(this._activeBuffer.getNullCell(this._eraseAttrData())),P.isWrapped=!1},D.prototype.eraseInDisplay=function(k){var P;switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:for(P=this._activeBuffer.y,this._dirtyRowService.markDirty(P),this._eraseInBufferLine(P++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0);P<this._bufferService.rows;P++)this._resetBufferLine(P);this._dirtyRowService.markDirty(P);break;case 1:for(P=this._activeBuffer.y,this._dirtyRowService.markDirty(P),this._eraseInBufferLine(P,0,this._activeBuffer.x+1,!0),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(P+1).isWrapped=!1);P--;)this._resetBufferLine(P);this._dirtyRowService.markDirty(0);break;case 2:for(P=this._bufferService.rows,this._dirtyRowService.markDirty(P-1);P--;)this._resetBufferLine(P);this._dirtyRowService.markDirty(0);break;case 3:var j=this._activeBuffer.lines.length-this._bufferService.rows;j>0&&(this._activeBuffer.lines.trimStart(j),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-j,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-j,0),this._onScroll.fire(0))}return!0},D.prototype.eraseInLine=function(k){switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0)}return this._dirtyRowService.markDirty(this._activeBuffer.y),!0},D.prototype.insertLines=function(k){this._restrictCursor();var P=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var j=this._activeBuffer.ybase+this._activeBuffer.y,V=this._bufferService.rows-1-this._activeBuffer.scrollBottom,J=this._bufferService.rows-1+this._activeBuffer.ybase-V+1;P--;)this._activeBuffer.lines.splice(J-1,1),this._activeBuffer.lines.splice(j,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},D.prototype.deleteLines=function(k){this._restrictCursor();var P=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;var j,V=this._activeBuffer.ybase+this._activeBuffer.y;for(j=this._bufferService.rows-1-this._activeBuffer.scrollBottom,j=this._bufferService.rows-1+this._activeBuffer.ybase-j;P--;)this._activeBuffer.lines.splice(V,1),this._activeBuffer.lines.splice(j,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},D.prototype.insertChars=function(k){this._restrictCursor();var P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.insertCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},D.prototype.deleteChars=function(k){this._restrictCursor();var P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.deleteCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},D.prototype.scrollUp=function(k){for(var P=k.params[0]||1;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},D.prototype.scrollDown=function(k){for(var P=k.params[0]||1;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(m.DEFAULT_ATTR_DATA));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},D.prototype.scrollLeft=function(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var P=k.params[0]||1,j=this._activeBuffer.scrollTop;j<=this._activeBuffer.scrollBottom;++j){var V=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);V.deleteCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},D.prototype.scrollRight=function(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var P=k.params[0]||1,j=this._activeBuffer.scrollTop;j<=this._activeBuffer.scrollBottom;++j){var V=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);V.insertCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},D.prototype.insertColumns=function(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var P=k.params[0]||1,j=this._activeBuffer.scrollTop;j<=this._activeBuffer.scrollBottom;++j){var V=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);V.insertCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},D.prototype.deleteColumns=function(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var P=k.params[0]||1,j=this._activeBuffer.scrollTop;j<=this._activeBuffer.scrollBottom;++j){var V=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);V.deleteCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),V.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},D.prototype.eraseChars=function(k){this._restrictCursor();var P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(k.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},D.prototype.repeatPrecedingCharacter=function(k){if(!this._parser.precedingCodepoint)return!0;for(var P=k.params[0]||1,j=new Uint32Array(P),V=0;V<P;++V)j[V]=this._parser.precedingCodepoint;return this.print(j,0,j.length),!0},D.prototype.sendDeviceAttributesPrimary=function(k){return k.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(g.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(g.C0.ESC+"[?6c")),!0},D.prototype.sendDeviceAttributesSecondary=function(k){return k.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(g.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(g.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(k.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(g.C0.ESC+"[>83;40003;0c")),!0},D.prototype._is=function(k){return(this._optionsService.options.termName+"").indexOf(k)===0},D.prototype.setMode=function(k){for(var P=0;P<k.length;P++)k.params[P]===4&&(this._coreService.modes.insertMode=!0);return!0},D.prototype.setModePrivate=function(k){for(var P=0;P<k.length;P++)switch(k.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,w.DEFAULT_CHARSET),this._charsetService.setgCharset(1,w.DEFAULT_CHARSET),this._charsetService.setgCharset(2,w.DEFAULT_CHARSET),this._charsetService.setgCharset(3,w.DEFAULT_CHARSET);break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0},D.prototype.resetMode=function(k){for(var P=0;P<k.length;P++)k.params[P]===4&&(this._coreService.modes.insertMode=!1);return!0},D.prototype.resetModePrivate=function(k){for(var P=0;P<k.length;P++)switch(k.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),k.params[P]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0},D.prototype._updateAttrColor=function(k,P,j,V,J){return P===2?(k|=50331648,k&=-16777216,k|=b.AttributeData.fromColorRGB([j,V,J])):P===5&&(k&=-50331904,k|=33554432|255&j),k},D.prototype._extractColor=function(k,P,j){var V=[0,0,-1,0,0,0],J=0,z=0;do{if(V[z+J]=k.params[P+z],k.hasSubParams(P+z)){var Q=k.getSubParams(P+z),ee=0;do V[1]===5&&(J=1),V[z+ee+1+J]=Q[ee];while(++ee<Q.length&&ee+z+1+J<V.length);break}if(V[1]===5&&z+J>=2||V[1]===2&&z+J>=5)break;V[1]&&(J=1)}while(++z+P<k.length&&z+J<V.length);for(ee=2;ee<V.length;++ee)V[ee]===-1&&(V[ee]=0);switch(V[0]){case 38:j.fg=this._updateAttrColor(j.fg,V[1],V[3],V[4],V[5]);break;case 48:j.bg=this._updateAttrColor(j.bg,V[1],V[3],V[4],V[5]);break;case 58:j.extended=j.extended.clone(),j.extended.underlineColor=this._updateAttrColor(j.extended.underlineColor,V[1],V[3],V[4],V[5])}return z},D.prototype._processUnderline=function(k,P){P.extended=P.extended.clone(),(!~k||k>5)&&(k=1),P.extended.underlineStyle=k,P.fg|=268435456,k===0&&(P.fg&=-268435457),P.updateExtended()},D.prototype.charAttributes=function(k){if(k.length===1&&k.params[0]===0)return this._curAttrData.fg=m.DEFAULT_ATTR_DATA.fg,this._curAttrData.bg=m.DEFAULT_ATTR_DATA.bg,!0;for(var P,j=k.length,V=this._curAttrData,J=0;J<j;J++)(P=k.params[J])>=30&&P<=37?(V.fg&=-50331904,V.fg|=16777216|P-30):P>=40&&P<=47?(V.bg&=-50331904,V.bg|=16777216|P-40):P>=90&&P<=97?(V.fg&=-50331904,V.fg|=16777224|P-90):P>=100&&P<=107?(V.bg&=-50331904,V.bg|=16777224|P-100):P===0?(V.fg=m.DEFAULT_ATTR_DATA.fg,V.bg=m.DEFAULT_ATTR_DATA.bg):P===1?V.fg|=134217728:P===3?V.bg|=67108864:P===4?(V.fg|=268435456,this._processUnderline(k.hasSubParams(J)?k.getSubParams(J)[0]:1,V)):P===5?V.fg|=536870912:P===7?V.fg|=67108864:P===8?V.fg|=1073741824:P===9?V.fg|=2147483648:P===2?V.bg|=134217728:P===21?this._processUnderline(2,V):P===22?(V.fg&=-134217729,V.bg&=-134217729):P===23?V.bg&=-67108865:P===24?V.fg&=-268435457:P===25?V.fg&=-536870913:P===27?V.fg&=-67108865:P===28?V.fg&=-1073741825:P===29?V.fg&=2147483647:P===39?(V.fg&=-67108864,V.fg|=16777215&m.DEFAULT_ATTR_DATA.fg):P===49?(V.bg&=-67108864,V.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):P===38||P===48||P===58?J+=this._extractColor(k,J,V):P===59?(V.extended=V.extended.clone(),V.extended.underlineColor=-1,V.updateExtended()):P===100?(V.fg&=-67108864,V.fg|=16777215&m.DEFAULT_ATTR_DATA.fg,V.bg&=-67108864,V.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",P);return!0},D.prototype.deviceStatus=function(k){switch(k.params[0]){case 5:this._coreService.triggerDataEvent(g.C0.ESC+"[0n");break;case 6:var P=this._activeBuffer.y+1,j=this._activeBuffer.x+1;this._coreService.triggerDataEvent(g.C0.ESC+"["+P+";"+j+"R")}return!0},D.prototype.deviceStatusPrivate=function(k){if(k.params[0]===6){var P=this._activeBuffer.y+1,j=this._activeBuffer.x+1;this._coreService.triggerDataEvent(g.C0.ESC+"[?"+P+";"+j+"R")}return!0},D.prototype.softReset=function(k){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0},D.prototype.setCursorStyle=function(k){var P=k.params[0]||1;switch(P){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}var j=P%2==1;return this._optionsService.options.cursorBlink=j,!0},D.prototype.setScrollRegion=function(k){var P,j=k.params[0]||1;return(k.length<2||(P=k.params[1])>this._bufferService.rows||P===0)&&(P=this._bufferService.rows),P>j&&(this._activeBuffer.scrollTop=j-1,this._activeBuffer.scrollBottom=P-1,this._setCursor(0,0)),!0},D.prototype.windowOptions=function(k){if(!x(k.params[0],this._optionsService.options.windowOptions))return!0;var P=k.length>1?k.params[1]:0;switch(k.params[0]){case 14:P!==2&&this._onRequestWindowsOptionsReport.fire(v.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(v.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(g.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:P!==0&&P!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),P!==0&&P!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:P!==0&&P!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),P!==0&&P!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0},D.prototype.saveCursor=function(k){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0},D.prototype.restoreCursor=function(k){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0},D.prototype.setTitle=function(k){return this._windowTitle=k,this._onTitleChange.fire(k),!0},D.prototype.setIconName=function(k){return this._iconName=k,!0},D.prototype.setOrReportIndexedColor=function(k){for(var P=[],j=k.split(";");j.length>1;){var V=j.shift(),J=j.shift();if(/^\d+$/.exec(V)){var z=parseInt(V);if(0<=z&&z<256)if(J==="?")P.push({type:0,index:z});else{var Q=(0,T.parseColor)(J);Q&&P.push({type:1,index:z,color:Q})}}}return P.length&&this._onColor.fire(P),!0},D.prototype._setOrReportSpecialColor=function(k,P){for(var j=k.split(";"),V=0;V<j.length&&!(P>=this._specialColors.length);++V,++P)if(j[V]==="?")this._onColor.fire([{type:0,index:this._specialColors[P]}]);else{var J=(0,T.parseColor)(j[V]);J&&this._onColor.fire([{type:1,index:this._specialColors[P],color:J}])}return!0},D.prototype.setOrReportFgColor=function(k){return this._setOrReportSpecialColor(k,0)},D.prototype.setOrReportBgColor=function(k){return this._setOrReportSpecialColor(k,1)},D.prototype.setOrReportCursorColor=function(k){return this._setOrReportSpecialColor(k,2)},D.prototype.restoreIndexedColor=function(k){if(!k)return this._onColor.fire([{type:2}]),!0;for(var P=[],j=k.split(";"),V=0;V<j.length;++V)if(/^\d+$/.exec(j[V])){var J=parseInt(j[V]);0<=J&&J<256&&P.push({type:2,index:J})}return P.length&&this._onColor.fire(P),!0},D.prototype.restoreFgColor=function(k){return this._onColor.fire([{type:2,index:256}]),!0},D.prototype.restoreBgColor=function(k){return this._onColor.fire([{type:2,index:257}]),!0},D.prototype.restoreCursorColor=function(k){return this._onColor.fire([{type:2,index:258}]),!0},D.prototype.nextLine=function(){return this._activeBuffer.x=0,this.index(),!0},D.prototype.keypadApplicationMode=function(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0},D.prototype.keypadNumericMode=function(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0},D.prototype.selectDefaultCharset=function(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,w.DEFAULT_CHARSET),!0},D.prototype.selectCharset=function(k){return k.length!==2?(this.selectDefaultCharset(),!0):(k[0]==="/"||this._charsetService.setgCharset(B[k[0]],w.CHARSETS[k[1]]||w.DEFAULT_CHARSET),!0)},D.prototype.index=function(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0},D.prototype.tabSet=function(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0},D.prototype.reverseIndex=function(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){var k=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,k,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0},D.prototype.fullReset=function(){return this._parser.reset(),this._onRequestReset.fire(),!0},D.prototype.reset=function(){this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone()},D.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},D.prototype.setgLevel=function(k){return this._charsetService.setgLevel(k),!0},D.prototype.screenAlignmentPattern=function(){var k=new l.CellData;k.content=1<<22|"E".charCodeAt(0),k.fg=this._curAttrData.fg,k.bg=this._curAttrData.bg,this._setCursor(0,0);for(var P=0;P<this._bufferService.rows;++P){var j=this._activeBuffer.ybase+this._activeBuffer.y+P,V=this._activeBuffer.lines.get(j);V&&(V.fill(k),V.isWrapped=!1)}return this._dirtyRowService.markAllDirty(),this._setCursor(0,0),!0},D}(d.Disposable);r.InputHandler=R},844:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getDisposeArrayDisposable=r.disposeArray=r.Disposable=void 0;var s=function(){function f(){this._disposables=[],this._isDisposed=!1}return f.prototype.dispose=function(){this._isDisposed=!0;for(var v=0,g=this._disposables;v<g.length;v++)g[v].dispose();this._disposables.length=0},f.prototype.register=function(v){return this._disposables.push(v),v},f.prototype.unregister=function(v){var g=this._disposables.indexOf(v);g!==-1&&this._disposables.splice(g,1)},f}();function a(f){for(var v=0,g=f;v<g.length;v++)g[v].dispose();f.length=0}r.Disposable=s,r.disposeArray=a,r.getDisposeArrayDisposable=function(f){return{dispose:function(){return a(f)}}}},6114:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isLinux=r.isWindows=r.isIphone=r.isIpad=r.isMac=r.isSafari=r.isFirefox=void 0;var s=typeof navigator=="undefined",a=s?"node":navigator.userAgent,f=s?"node":navigator.platform;r.isFirefox=a.includes("Firefox"),r.isSafari=/^((?!chrome|android).)*safari/i.test(a),r.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(f),r.isIpad=f==="iPad",r.isIphone=f==="iPhone",r.isWindows=["Windows","Win16","Win32","WinCE"].includes(f),r.isLinux=f.indexOf("Linux")>=0},8273:(_,r)=>{function s(a,f,v,g){if(v===void 0&&(v=0),g===void 0&&(g=a.length),v>=a.length)return a;v=(a.length+v)%a.length,g=g>=a.length?a.length:(a.length+g)%a.length;for(var w=v;w<g;++w)a[w]=f;return a}Object.defineProperty(r,"__esModule",{value:!0}),r.concat=r.fillFallback=r.fill=void 0,r.fill=function(a,f,v,g){return a.fill?a.fill(f,v,g):s(a,f,v,g)},r.fillFallback=s,r.concat=function(a,f){var v=new a.constructor(a.length+f.length);return v.set(a),v.set(f,a.length),v}},9282:(_,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.updateWindowsModeWrappedState=void 0;var a=s(643);r.updateWindowsModeWrappedState=function(f){var v=f.buffer.lines.get(f.buffer.ybase+f.buffer.y-1),g=v==null?void 0:v.get(f.cols-1),w=f.buffer.lines.get(f.buffer.ybase+f.buffer.y);w&&g&&(w.isWrapped=g[a.CHAR_DATA_CODE_INDEX]!==a.NULL_CELL_CODE&&g[a.CHAR_DATA_CODE_INDEX]!==a.WHITESPACE_CELL_CODE)}},3734:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ExtendedAttrs=r.AttributeData=void 0;var s=function(){function f(){this.fg=0,this.bg=0,this.extended=new a}return f.toColorRGB=function(v){return[v>>>16&255,v>>>8&255,255&v]},f.fromColorRGB=function(v){return(255&v[0])<<16|(255&v[1])<<8|255&v[2]},f.prototype.clone=function(){var v=new f;return v.fg=this.fg,v.bg=this.bg,v.extended=this.extended.clone(),v},f.prototype.isInverse=function(){return 67108864&this.fg},f.prototype.isBold=function(){return 134217728&this.fg},f.prototype.isUnderline=function(){return 268435456&this.fg},f.prototype.isBlink=function(){return 536870912&this.fg},f.prototype.isInvisible=function(){return 1073741824&this.fg},f.prototype.isItalic=function(){return 67108864&this.bg},f.prototype.isDim=function(){return 134217728&this.bg},f.prototype.isStrikethrough=function(){return 2147483648&this.fg},f.prototype.getFgColorMode=function(){return 50331648&this.fg},f.prototype.getBgColorMode=function(){return 50331648&this.bg},f.prototype.isFgRGB=function(){return(50331648&this.fg)==50331648},f.prototype.isBgRGB=function(){return(50331648&this.bg)==50331648},f.prototype.isFgPalette=function(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432},f.prototype.isBgPalette=function(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432},f.prototype.isFgDefault=function(){return(50331648&this.fg)==0},f.prototype.isBgDefault=function(){return(50331648&this.bg)==0},f.prototype.isAttributeDefault=function(){return this.fg===0&&this.bg===0},f.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},f.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},f.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},f.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},f.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},f.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},f.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()},f.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()},f.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()},f.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},f}();r.AttributeData=s;var a=function(){function f(v,g){v===void 0&&(v=0),g===void 0&&(g=-1),this.underlineStyle=v,this.underlineColor=g}return f.prototype.clone=function(){return new f(this.underlineStyle,this.underlineColor)},f.prototype.isEmpty=function(){return this.underlineStyle===0},f}();r.ExtendedAttrs=a},9092:(_,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferStringIterator=r.Buffer=r.MAX_BUFFER_SIZE=void 0;var a=s(6349),f=s(8437),v=s(511),g=s(643),w=s(4634),E=s(4863),d=s(7116),h=s(3734);r.MAX_BUFFER_SIZE=4294967295;var C=function(){function u(c,l,b){this._hasScrollback=c,this._optionsService=l,this._bufferService=b,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=f.DEFAULT_ATTR_DATA.clone(),this.savedCharset=d.DEFAULT_CHARSET,this.markers=[],this._nullCell=v.CellData.fromCharData([0,g.NULL_CELL_CHAR,g.NULL_CELL_WIDTH,g.NULL_CELL_CODE]),this._whitespaceCell=v.CellData.fromCharData([0,g.WHITESPACE_CELL_CHAR,g.WHITESPACE_CELL_WIDTH,g.WHITESPACE_CELL_CODE]),this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new a.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return u.prototype.getNullCell=function(c){return c?(this._nullCell.fg=c.fg,this._nullCell.bg=c.bg,this._nullCell.extended=c.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new h.ExtendedAttrs),this._nullCell},u.prototype.getWhitespaceCell=function(c){return c?(this._whitespaceCell.fg=c.fg,this._whitespaceCell.bg=c.bg,this._whitespaceCell.extended=c.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new h.ExtendedAttrs),this._whitespaceCell},u.prototype.getBlankLine=function(c,l){return new f.BufferLine(this._bufferService.cols,this.getNullCell(c),l)},Object.defineProperty(u.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isCursorInViewport",{get:function(){var c=this.ybase+this.y-this.ydisp;return c>=0&&c<this._rows},enumerable:!1,configurable:!0}),u.prototype._getCorrectBufferLength=function(c){if(!this._hasScrollback)return c;var l=c+this._optionsService.options.scrollback;return l>r.MAX_BUFFER_SIZE?r.MAX_BUFFER_SIZE:l},u.prototype.fillViewportRows=function(c){if(this.lines.length===0){c===void 0&&(c=f.DEFAULT_ATTR_DATA);for(var l=this._rows;l--;)this.lines.push(this.getBlankLine(c))}},u.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new a.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},u.prototype.resize=function(c,l){var b=this.getNullCell(f.DEFAULT_ATTR_DATA),S=this._getCorrectBufferLength(l);if(S>this.lines.maxLength&&(this.lines.maxLength=S),this.lines.length>0){if(this._cols<c)for(var A=0;A<this.lines.length;A++)this.lines.get(A).resize(c,b);var L=0;if(this._rows<l)for(var T=this._rows;T<l;T++)this.lines.length<l+this.ybase&&(this._optionsService.options.windowsMode?this.lines.push(new f.BufferLine(c,b)):this.ybase>0&&this.lines.length<=this.ybase+this.y+L+1?(this.ybase--,L++,this.ydisp>0&&this.ydisp--):this.lines.push(new f.BufferLine(c,b)));else for(T=this._rows;T>l;T--)this.lines.length>l+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(S<this.lines.maxLength){var B=this.lines.length-S;B>0&&(this.lines.trimStart(B),this.ybase=Math.max(this.ybase-B,0),this.ydisp=Math.max(this.ydisp-B,0),this.savedY=Math.max(this.savedY-B,0)),this.lines.maxLength=S}this.x=Math.min(this.x,c-1),this.y=Math.min(this.y,l-1),L&&(this.y+=L),this.savedX=Math.min(this.savedX,c-1),this.scrollTop=0}if(this.scrollBottom=l-1,this._isReflowEnabled&&(this._reflow(c,l),this._cols>c))for(A=0;A<this.lines.length;A++)this.lines.get(A).resize(c,b);this._cols=c,this._rows=l},Object.defineProperty(u.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.options.windowsMode},enumerable:!1,configurable:!0}),u.prototype._reflow=function(c,l){this._cols!==c&&(c>this._cols?this._reflowLarger(c,l):this._reflowSmaller(c,l))},u.prototype._reflowLarger=function(c,l){var b=(0,w.reflowLargerGetLinesToRemove)(this.lines,this._cols,c,this.ybase+this.y,this.getNullCell(f.DEFAULT_ATTR_DATA));if(b.length>0){var S=(0,w.reflowLargerCreateNewLayout)(this.lines,b);(0,w.reflowLargerApplyNewLayout)(this.lines,S.layout),this._reflowLargerAdjustViewport(c,l,S.countRemoved)}},u.prototype._reflowLargerAdjustViewport=function(c,l,b){for(var S=this.getNullCell(f.DEFAULT_ATTR_DATA),A=b;A-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<l&&this.lines.push(new f.BufferLine(c,S))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-b,0)},u.prototype._reflowSmaller=function(c,l){for(var b=this.getNullCell(f.DEFAULT_ATTR_DATA),S=[],A=0,L=this.lines.length-1;L>=0;L--){var T=this.lines.get(L);if(!(!T||!T.isWrapped&&T.getTrimmedLength()<=c)){for(var B=[T];T.isWrapped&&L>0;)T=this.lines.get(--L),B.unshift(T);var O=this.ybase+this.y;if(!(O>=L&&O<L+B.length)){var x,I=B[B.length-1].getTrimmedLength(),R=(0,w.reflowSmallerGetNewLineLengths)(B,this._cols,c),F=R.length-B.length;x=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+F):Math.max(0,this.lines.length-this.lines.maxLength+F);for(var D=[],k=0;k<F;k++){var P=this.getBlankLine(f.DEFAULT_ATTR_DATA,!0);D.push(P)}D.length>0&&(S.push({start:L+B.length+A,newLines:D}),A+=D.length),B.push.apply(B,D);var j=R.length-1,V=R[j];V===0&&(V=R[--j]);for(var J=B.length-F-1,z=I;J>=0;){var Q=Math.min(z,V);if(B[j].copyCellsFrom(B[J],z-Q,V-Q,Q,!0),(V-=Q)==0&&(V=R[--j]),(z-=Q)==0){J--;var ee=Math.max(J,0);z=(0,w.getWrappedLineTrimmedLength)(B,ee,this._cols)}}for(k=0;k<B.length;k++)R[k]<c&&B[k].setCell(R[k],b);for(var re=F-x;re-- >0;)this.ybase===0?this.y<l-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+A)-l&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+F,this.ybase+l-1)}}}if(S.length>0){var M=[],H=[];for(k=0;k<this.lines.length;k++)H.push(this.lines.get(k));var N=this.lines.length,U=N-1,W=0,Y=S[W];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+A);var Z=0;for(k=Math.min(this.lines.maxLength-1,N+A-1);k>=0;k--)if(Y&&Y.start>U+Z){for(var se=Y.newLines.length-1;se>=0;se--)this.lines.set(k--,Y.newLines[se]);k++,M.push({index:U+1,amount:Y.newLines.length}),Z+=Y.newLines.length,Y=S[++W]}else this.lines.set(k,H[U--]);var X=0;for(k=M.length-1;k>=0;k--)M[k].index+=X,this.lines.onInsertEmitter.fire(M[k]),X+=M[k].amount;var G=Math.max(0,N+A-this.lines.maxLength);G>0&&this.lines.onTrimEmitter.fire(G)}},u.prototype.stringIndexToBufferIndex=function(c,l,b){for(b===void 0&&(b=!1);l;){var S=this.lines.get(c);if(!S)return[-1,-1];for(var A=b?S.getTrimmedLength():S.length,L=0;L<A;++L)if(S.get(L)[g.CHAR_DATA_WIDTH_INDEX]&&(l-=S.get(L)[g.CHAR_DATA_CHAR_INDEX].length||1),l<0)return[c,L];c++}return[c,0]},u.prototype.translateBufferLineToString=function(c,l,b,S){b===void 0&&(b=0);var A=this.lines.get(c);return A?A.translateToString(l,b,S):""},u.prototype.getWrappedRangeForLine=function(c){for(var l=c,b=c;l>0&&this.lines.get(l).isWrapped;)l--;for(;b+1<this.lines.length&&this.lines.get(b+1).isWrapped;)b++;return{first:l,last:b}},u.prototype.setupTabStops=function(c){for(c!=null?this.tabs[c]||(c=this.prevStop(c)):(this.tabs={},c=0);c<this._cols;c+=this._optionsService.options.tabStopWidth)this.tabs[c]=!0},u.prototype.prevStop=function(c){for(c==null&&(c=this.x);!this.tabs[--c]&&c>0;);return c>=this._cols?this._cols-1:c<0?0:c},u.prototype.nextStop=function(c){for(c==null&&(c=this.x);!this.tabs[++c]&&c<this._cols;);return c>=this._cols?this._cols-1:c<0?0:c},u.prototype.addMarker=function(c){var l=this,b=new E.Marker(c);return this.markers.push(b),b.register(this.lines.onTrim(function(S){b.line-=S,b.line<0&&b.dispose()})),b.register(this.lines.onInsert(function(S){b.line>=S.index&&(b.line+=S.amount)})),b.register(this.lines.onDelete(function(S){b.line>=S.index&&b.line<S.index+S.amount&&b.dispose(),b.line>S.index&&(b.line-=S.amount)})),b.register(b.onDispose(function(){return l._removeMarker(b)})),b},u.prototype._removeMarker=function(c){this.markers.splice(this.markers.indexOf(c),1)},u.prototype.iterator=function(c,l,b,S,A){return new m(this,c,l,b,S,A)},u}();r.Buffer=C;var m=function(){function u(c,l,b,S,A,L){b===void 0&&(b=0),S===void 0&&(S=c.lines.length),A===void 0&&(A=0),L===void 0&&(L=0),this._buffer=c,this._trimRight=l,this._startIndex=b,this._endIndex=S,this._startOverscan=A,this._endOverscan=L,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return u.prototype.hasNext=function(){return this._current<this._endIndex},u.prototype.next=function(){var c=this._buffer.getWrappedRangeForLine(this._current);c.first<this._startIndex-this._startOverscan&&(c.first=this._startIndex-this._startOverscan),c.last>this._endIndex+this._endOverscan&&(c.last=this._endIndex+this._endOverscan),c.first=Math.max(c.first,0),c.last=Math.min(c.last,this._buffer.lines.length);for(var l="",b=c.first;b<=c.last;++b)l+=this._buffer.translateBufferLineToString(b,this._trimRight);return this._current=c.last+1,{range:c,content:l}},u}();r.BufferStringIterator=m},8437:(_,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferLine=r.DEFAULT_ATTR_DATA=void 0;var a=s(482),f=s(643),v=s(511),g=s(3734);r.DEFAULT_ATTR_DATA=Object.freeze(new g.AttributeData);var w=function(){function E(d,h,C){C===void 0&&(C=!1),this.isWrapped=C,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*d);for(var m=h||v.CellData.fromCharData([0,f.NULL_CELL_CHAR,f.NULL_CELL_WIDTH,f.NULL_CELL_CODE]),u=0;u<d;++u)this.setCell(u,m);this.length=d}return E.prototype.get=function(d){var h=this._data[3*d+0],C=2097151&h;return[this._data[3*d+1],2097152&h?this._combined[d]:C?(0,a.stringFromCodePoint)(C):"",h>>22,2097152&h?this._combined[d].charCodeAt(this._combined[d].length-1):C]},E.prototype.set=function(d,h){this._data[3*d+1]=h[f.CHAR_DATA_ATTR_INDEX],h[f.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[d]=h[1],this._data[3*d+0]=2097152|d|h[f.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*d+0]=h[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|h[f.CHAR_DATA_WIDTH_INDEX]<<22},E.prototype.getWidth=function(d){return this._data[3*d+0]>>22},E.prototype.hasWidth=function(d){return 12582912&this._data[3*d+0]},E.prototype.getFg=function(d){return this._data[3*d+1]},E.prototype.getBg=function(d){return this._data[3*d+2]},E.prototype.hasContent=function(d){return 4194303&this._data[3*d+0]},E.prototype.getCodePoint=function(d){var h=this._data[3*d+0];return 2097152&h?this._combined[d].charCodeAt(this._combined[d].length-1):2097151&h},E.prototype.isCombined=function(d){return 2097152&this._data[3*d+0]},E.prototype.getString=function(d){var h=this._data[3*d+0];return 2097152&h?this._combined[d]:2097151&h?(0,a.stringFromCodePoint)(2097151&h):""},E.prototype.loadCell=function(d,h){var C=3*d;return h.content=this._data[C+0],h.fg=this._data[C+1],h.bg=this._data[C+2],2097152&h.content&&(h.combinedData=this._combined[d]),268435456&h.bg&&(h.extended=this._extendedAttrs[d]),h},E.prototype.setCell=function(d,h){2097152&h.content&&(this._combined[d]=h.combinedData),268435456&h.bg&&(this._extendedAttrs[d]=h.extended),this._data[3*d+0]=h.content,this._data[3*d+1]=h.fg,this._data[3*d+2]=h.bg},E.prototype.setCellFromCodePoint=function(d,h,C,m,u,c){268435456&u&&(this._extendedAttrs[d]=c),this._data[3*d+0]=h|C<<22,this._data[3*d+1]=m,this._data[3*d+2]=u},E.prototype.addCodepointToCell=function(d,h){var C=this._data[3*d+0];2097152&C?this._combined[d]+=(0,a.stringFromCodePoint)(h):(2097151&C?(this._combined[d]=(0,a.stringFromCodePoint)(2097151&C)+(0,a.stringFromCodePoint)(h),C&=-2097152,C|=2097152):C=h|1<<22,this._data[3*d+0]=C)},E.prototype.insertCells=function(d,h,C,m){if((d%=this.length)&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d-1,0,1,(m==null?void 0:m.fg)||0,(m==null?void 0:m.bg)||0,(m==null?void 0:m.extended)||new g.ExtendedAttrs),h<this.length-d){for(var u=new v.CellData,c=this.length-d-h-1;c>=0;--c)this.setCell(d+h+c,this.loadCell(d+c,u));for(c=0;c<h;++c)this.setCell(d+c,C)}else for(c=d;c<this.length;++c)this.setCell(c,C);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(m==null?void 0:m.fg)||0,(m==null?void 0:m.bg)||0,(m==null?void 0:m.extended)||new g.ExtendedAttrs)},E.prototype.deleteCells=function(d,h,C,m){if(d%=this.length,h<this.length-d){for(var u=new v.CellData,c=0;c<this.length-d-h;++c)this.setCell(d+c,this.loadCell(d+h+c,u));for(c=this.length-h;c<this.length;++c)this.setCell(c,C)}else for(c=d;c<this.length;++c)this.setCell(c,C);d&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d-1,0,1,(m==null?void 0:m.fg)||0,(m==null?void 0:m.bg)||0,(m==null?void 0:m.extended)||new g.ExtendedAttrs),this.getWidth(d)!==0||this.hasContent(d)||this.setCellFromCodePoint(d,0,1,(m==null?void 0:m.fg)||0,(m==null?void 0:m.bg)||0,(m==null?void 0:m.extended)||new g.ExtendedAttrs)},E.prototype.replaceCells=function(d,h,C,m){for(d&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d-1,0,1,(m==null?void 0:m.fg)||0,(m==null?void 0:m.bg)||0,(m==null?void 0:m.extended)||new g.ExtendedAttrs),h<this.length&&this.getWidth(h-1)===2&&this.setCellFromCodePoint(h,0,1,(m==null?void 0:m.fg)||0,(m==null?void 0:m.bg)||0,(m==null?void 0:m.extended)||new g.ExtendedAttrs);d<h&&d<this.length;)this.setCell(d++,C)},E.prototype.resize=function(d,h){if(d!==this.length){if(d>this.length){var C=new Uint32Array(3*d);this.length&&(3*d<this._data.length?C.set(this._data.subarray(0,3*d)):C.set(this._data)),this._data=C;for(var m=this.length;m<d;++m)this.setCell(m,h)}else if(d){(C=new Uint32Array(3*d)).set(this._data.subarray(0,3*d)),this._data=C;var u=Object.keys(this._combined);for(m=0;m<u.length;m++){var c=parseInt(u[m],10);c>=d&&delete this._combined[c]}}else this._data=new Uint32Array(0),this._combined={};this.length=d}},E.prototype.fill=function(d){this._combined={},this._extendedAttrs={};for(var h=0;h<this.length;++h)this.setCell(h,d)},E.prototype.copyFrom=function(d){for(var h in this.length!==d.length?this._data=new Uint32Array(d._data):this._data.set(d._data),this.length=d.length,this._combined={},d._combined)this._combined[h]=d._combined[h];for(var h in this._extendedAttrs={},d._extendedAttrs)this._extendedAttrs[h]=d._extendedAttrs[h];this.isWrapped=d.isWrapped},E.prototype.clone=function(){var d=new E(0);for(var h in d._data=new Uint32Array(this._data),d.length=this.length,this._combined)d._combined[h]=this._combined[h];for(var h in this._extendedAttrs)d._extendedAttrs[h]=this._extendedAttrs[h];return d.isWrapped=this.isWrapped,d},E.prototype.getTrimmedLength=function(){for(var d=this.length-1;d>=0;--d)if(4194303&this._data[3*d+0])return d+(this._data[3*d+0]>>22);return 0},E.prototype.copyCellsFrom=function(d,h,C,m,u){var c=d._data;if(u)for(var l=m-1;l>=0;l--)for(var b=0;b<3;b++)this._data[3*(C+l)+b]=c[3*(h+l)+b];else for(l=0;l<m;l++)for(b=0;b<3;b++)this._data[3*(C+l)+b]=c[3*(h+l)+b];var S=Object.keys(d._combined);for(b=0;b<S.length;b++){var A=parseInt(S[b],10);A>=h&&(this._combined[A-h+C]=d._combined[A])}},E.prototype.translateToString=function(d,h,C){d===void 0&&(d=!1),h===void 0&&(h=0),C===void 0&&(C=this.length),d&&(C=Math.min(C,this.getTrimmedLength()));for(var m="";h<C;){var u=this._data[3*h+0],c=2097151&u;m+=2097152&u?this._combined[h]:c?(0,a.stringFromCodePoint)(c):f.WHITESPACE_CELL_CHAR,h+=u>>22||1}return m},E}();r.BufferLine=w},4841:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getRangeLength=void 0,r.getRangeLength=function(s,a){if(s.start.y>s.end.y)throw new Error("Buffer range end ("+s.end.x+", "+s.end.y+") cannot be before start ("+s.start.x+", "+s.start.y+")");return a*(s.end.y-s.start.y)+(s.end.x-s.start.x+1)}},4634:(_,r)=>{function s(a,f,v){if(f===a.length-1)return a[f].getTrimmedLength();var g=!a[f].hasContent(v-1)&&a[f].getWidth(v-1)===1,w=a[f+1].getWidth(0)===2;return g&&w?v-1:v}Object.defineProperty(r,"__esModule",{value:!0}),r.getWrappedLineTrimmedLength=r.reflowSmallerGetNewLineLengths=r.reflowLargerApplyNewLayout=r.reflowLargerCreateNewLayout=r.reflowLargerGetLinesToRemove=void 0,r.reflowLargerGetLinesToRemove=function(a,f,v,g,w){for(var E=[],d=0;d<a.length-1;d++){var h=d,C=a.get(++h);if(C.isWrapped){for(var m=[a.get(d)];h<a.length&&C.isWrapped;)m.push(C),C=a.get(++h);if(g>=d&&g<h)d+=m.length-1;else{for(var u=0,c=s(m,u,f),l=1,b=0;l<m.length;){var S=s(m,l,f),A=S-b,L=v-c,T=Math.min(A,L);m[u].copyCellsFrom(m[l],b,c,T,!1),(c+=T)===v&&(u++,c=0),(b+=T)===S&&(l++,b=0),c===0&&u!==0&&m[u-1].getWidth(v-1)===2&&(m[u].copyCellsFrom(m[u-1],v-1,c++,1,!1),m[u-1].setCell(v-1,w))}m[u].replaceCells(c,v,w);for(var B=0,O=m.length-1;O>0&&(O>u||m[O].getTrimmedLength()===0);O--)B++;B>0&&(E.push(d+m.length-B),E.push(B)),d+=m.length-1}}}return E},r.reflowLargerCreateNewLayout=function(a,f){for(var v=[],g=0,w=f[g],E=0,d=0;d<a.length;d++)if(w===d){var h=f[++g];a.onDeleteEmitter.fire({index:d-E,amount:h}),d+=h-1,E+=h,w=f[++g]}else v.push(d);return{layout:v,countRemoved:E}},r.reflowLargerApplyNewLayout=function(a,f){for(var v=[],g=0;g<f.length;g++)v.push(a.get(f[g]));for(g=0;g<v.length;g++)a.set(g,v[g]);a.length=f.length},r.reflowSmallerGetNewLineLengths=function(a,f,v){for(var g=[],w=a.map(function(c,l){return s(a,l,f)}).reduce(function(c,l){return c+l}),E=0,d=0,h=0;h<w;){if(w-h<v){g.push(w-h);break}E+=v;var C=s(a,d,f);E>C&&(E-=C,d++);var m=a[d].getWidth(E-1)===2;m&&E--;var u=m?v-1:v;g.push(u),h+=u}return g},r.getWrappedLineTrimmedLength=s},5295:function(_,r,s){var a,f=this&&this.__extends||(a=function(E,d){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,C){h.__proto__=C}||function(h,C){for(var m in C)Object.prototype.hasOwnProperty.call(C,m)&&(h[m]=C[m])},a(E,d)},function(E,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function h(){this.constructor=E}a(E,d),E.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0}),r.BufferSet=void 0;var v=s(9092),g=s(8460),w=function(E){function d(h,C){var m=E.call(this)||this;return m._optionsService=h,m._bufferService=C,m._onBufferActivate=m.register(new g.EventEmitter),m.reset(),m}return f(d,E),Object.defineProperty(d.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),d.prototype.reset=function(){this._normal=new v.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new v.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()},Object.defineProperty(d.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),d.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},d.prototype.activateAltBuffer=function(h){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(h),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},d.prototype.resize=function(h,C){this._normal.resize(h,C),this._alt.resize(h,C)},d.prototype.setupTabStops=function(h){this._normal.setupTabStops(h),this._alt.setupTabStops(h)},d}(s(844).Disposable);r.BufferSet=w},511:function(_,r,s){var a,f=this&&this.__extends||(a=function(d,h){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,m){C.__proto__=m}||function(C,m){for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(C[u]=m[u])},a(d,h)},function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function C(){this.constructor=d}a(d,h),d.prototype=h===null?Object.create(h):(C.prototype=h.prototype,new C)});Object.defineProperty(r,"__esModule",{value:!0}),r.CellData=void 0;var v=s(482),g=s(643),w=s(3734),E=function(d){function h(){var C=d!==null&&d.apply(this,arguments)||this;return C.content=0,C.fg=0,C.bg=0,C.extended=new w.ExtendedAttrs,C.combinedData="",C}return f(h,d),h.fromCharData=function(C){var m=new h;return m.setFromCharData(C),m},h.prototype.isCombined=function(){return 2097152&this.content},h.prototype.getWidth=function(){return this.content>>22},h.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,v.stringFromCodePoint)(2097151&this.content):""},h.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},h.prototype.setFromCharData=function(C){this.fg=C[g.CHAR_DATA_ATTR_INDEX],this.bg=0;var m=!1;if(C[g.CHAR_DATA_CHAR_INDEX].length>2)m=!0;else if(C[g.CHAR_DATA_CHAR_INDEX].length===2){var u=C[g.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=u&&u<=56319){var c=C[g.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=c&&c<=57343?this.content=1024*(u-55296)+c-56320+65536|C[g.CHAR_DATA_WIDTH_INDEX]<<22:m=!0}else m=!0}else this.content=C[g.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|C[g.CHAR_DATA_WIDTH_INDEX]<<22;m&&(this.combinedData=C[g.CHAR_DATA_CHAR_INDEX],this.content=2097152|C[g.CHAR_DATA_WIDTH_INDEX]<<22)},h.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},h}(w.AttributeData);r.CellData=E},643:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.WHITESPACE_CELL_CODE=r.WHITESPACE_CELL_WIDTH=r.WHITESPACE_CELL_CHAR=r.NULL_CELL_CODE=r.NULL_CELL_WIDTH=r.NULL_CELL_CHAR=r.CHAR_DATA_CODE_INDEX=r.CHAR_DATA_WIDTH_INDEX=r.CHAR_DATA_CHAR_INDEX=r.CHAR_DATA_ATTR_INDEX=r.DEFAULT_ATTR=r.DEFAULT_COLOR=void 0,r.DEFAULT_COLOR=256,r.DEFAULT_ATTR=256|r.DEFAULT_COLOR<<9,r.CHAR_DATA_ATTR_INDEX=0,r.CHAR_DATA_CHAR_INDEX=1,r.CHAR_DATA_WIDTH_INDEX=2,r.CHAR_DATA_CODE_INDEX=3,r.NULL_CELL_CHAR="",r.NULL_CELL_WIDTH=1,r.NULL_CELL_CODE=0,r.WHITESPACE_CELL_CHAR=" ",r.WHITESPACE_CELL_WIDTH=1,r.WHITESPACE_CELL_CODE=32},4863:function(_,r,s){var a,f=this&&this.__extends||(a=function(w,E){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var C in h)Object.prototype.hasOwnProperty.call(h,C)&&(d[C]=h[C])},a(w,E)},function(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function d(){this.constructor=w}a(w,E),w.prototype=E===null?Object.create(E):(d.prototype=E.prototype,new d)});Object.defineProperty(r,"__esModule",{value:!0}),r.Marker=void 0;var v=s(8460),g=function(w){function E(d){var h=w.call(this)||this;return h.line=d,h._id=E._nextId++,h.isDisposed=!1,h._onDispose=new v.EventEmitter,h}return f(E,w),Object.defineProperty(E.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),E.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),w.prototype.dispose.call(this))},E._nextId=1,E}(s(844).Disposable);r.Marker=g},7116:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_CHARSET=r.CHARSETS=void 0,r.CHARSETS={},r.DEFAULT_CHARSET=r.CHARSETS.B,r.CHARSETS[0]={"`":"\u25C6",a:"\u2592",b:"\u2409",c:"\u240C",d:"\u240D",e:"\u240A",f:"\xB0",g:"\xB1",h:"\u2424",i:"\u240B",j:"\u2518",k:"\u2510",l:"\u250C",m:"\u2514",n:"\u253C",o:"\u23BA",p:"\u23BB",q:"\u2500",r:"\u23BC",s:"\u23BD",t:"\u251C",u:"\u2524",v:"\u2534",w:"\u252C",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03C0","|":"\u2260","}":"\xA3","~":"\xB7"},r.CHARSETS.A={"#":"\xA3"},r.CHARSETS.B=void 0,r.CHARSETS[4]={"#":"\xA3","@":"\xBE","[":"ij","\\":"\xBD","]":"|","{":"\xA8","|":"f","}":"\xBC","~":"\xB4"},r.CHARSETS.C=r.CHARSETS[5]={"[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},r.CHARSETS.R={"#":"\xA3","@":"\xE0","[":"\xB0","\\":"\xE7","]":"\xA7","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xA8"},r.CHARSETS.Q={"@":"\xE0","[":"\xE2","\\":"\xE7","]":"\xEA","^":"\xEE","`":"\xF4","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xFB"},r.CHARSETS.K={"@":"\xA7","[":"\xC4","\\":"\xD6","]":"\xDC","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xDF"},r.CHARSETS.Y={"#":"\xA3","@":"\xA7","[":"\xB0","\\":"\xE7","]":"\xE9","`":"\xF9","{":"\xE0","|":"\xF2","}":"\xE8","~":"\xEC"},r.CHARSETS.E=r.CHARSETS[6]={"@":"\xC4","[":"\xC6","\\":"\xD8","]":"\xC5","^":"\xDC","`":"\xE4","{":"\xE6","|":"\xF8","}":"\xE5","~":"\xFC"},r.CHARSETS.Z={"#":"\xA3","@":"\xA7","[":"\xA1","\\":"\xD1","]":"\xBF","{":"\xB0","|":"\xF1","}":"\xE7"},r.CHARSETS.H=r.CHARSETS[7]={"@":"\xC9","[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},r.CHARSETS["="]={"#":"\xF9","@":"\xE0","[":"\xE9","\\":"\xE7","]":"\xEA","^":"\xEE",_:"\xE8","`":"\xF4","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xFB"}},2584:(_,r)=>{var s,a;Object.defineProperty(r,"__esModule",{value:!0}),r.C1=r.C0=void 0,(a=r.C0||(r.C0={})).NUL="\0",a.SOH="",a.STX="",a.ETX="",a.EOT="",a.ENQ="",a.ACK="",a.BEL="\x07",a.BS="\b",a.HT="	",a.LF=`
`,a.VT="\v",a.FF="\f",a.CR="\r",a.SO="",a.SI="",a.DLE="",a.DC1="",a.DC2="",a.DC3="",a.DC4="",a.NAK="",a.SYN="",a.ETB="",a.CAN="",a.EM="",a.SUB="",a.ESC="",a.FS="",a.GS="",a.RS="",a.US="",a.SP=" ",a.DEL="\x7F",(s=r.C1||(r.C1={})).PAD="\x80",s.HOP="\x81",s.BPH="\x82",s.NBH="\x83",s.IND="\x84",s.NEL="\x85",s.SSA="\x86",s.ESA="\x87",s.HTS="\x88",s.HTJ="\x89",s.VTS="\x8A",s.PLD="\x8B",s.PLU="\x8C",s.RI="\x8D",s.SS2="\x8E",s.SS3="\x8F",s.DCS="\x90",s.PU1="\x91",s.PU2="\x92",s.STS="\x93",s.CCH="\x94",s.MW="\x95",s.SPA="\x96",s.EPA="\x97",s.SOS="\x98",s.SGCI="\x99",s.SCI="\x9A",s.CSI="\x9B",s.ST="\x9C",s.OSC="\x9D",s.PM="\x9E",s.APC="\x9F"},7399:(_,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.evaluateKeyboardEvent=void 0;var a=s(2584),f={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};r.evaluateKeyboardEvent=function(v,g,w,E){var d={type:0,cancel:!1,key:void 0},h=(v.shiftKey?1:0)|(v.altKey?2:0)|(v.ctrlKey?4:0)|(v.metaKey?8:0);switch(v.keyCode){case 0:v.key==="UIKeyInputUpArrow"?d.key=g?a.C0.ESC+"OA":a.C0.ESC+"[A":v.key==="UIKeyInputLeftArrow"?d.key=g?a.C0.ESC+"OD":a.C0.ESC+"[D":v.key==="UIKeyInputRightArrow"?d.key=g?a.C0.ESC+"OC":a.C0.ESC+"[C":v.key==="UIKeyInputDownArrow"&&(d.key=g?a.C0.ESC+"OB":a.C0.ESC+"[B");break;case 8:if(v.shiftKey){d.key=a.C0.BS;break}if(v.altKey){d.key=a.C0.ESC+a.C0.DEL;break}d.key=a.C0.DEL;break;case 9:if(v.shiftKey){d.key=a.C0.ESC+"[Z";break}d.key=a.C0.HT,d.cancel=!0;break;case 13:d.key=v.altKey?a.C0.ESC+a.C0.CR:a.C0.CR,d.cancel=!0;break;case 27:d.key=a.C0.ESC,v.altKey&&(d.key=a.C0.ESC+a.C0.ESC),d.cancel=!0;break;case 37:if(v.metaKey)break;h?(d.key=a.C0.ESC+"[1;"+(h+1)+"D",d.key===a.C0.ESC+"[1;3D"&&(d.key=a.C0.ESC+(w?"b":"[1;5D"))):d.key=g?a.C0.ESC+"OD":a.C0.ESC+"[D";break;case 39:if(v.metaKey)break;h?(d.key=a.C0.ESC+"[1;"+(h+1)+"C",d.key===a.C0.ESC+"[1;3C"&&(d.key=a.C0.ESC+(w?"f":"[1;5C"))):d.key=g?a.C0.ESC+"OC":a.C0.ESC+"[C";break;case 38:if(v.metaKey)break;h?(d.key=a.C0.ESC+"[1;"+(h+1)+"A",w||d.key!==a.C0.ESC+"[1;3A"||(d.key=a.C0.ESC+"[1;5A")):d.key=g?a.C0.ESC+"OA":a.C0.ESC+"[A";break;case 40:if(v.metaKey)break;h?(d.key=a.C0.ESC+"[1;"+(h+1)+"B",w||d.key!==a.C0.ESC+"[1;3B"||(d.key=a.C0.ESC+"[1;5B")):d.key=g?a.C0.ESC+"OB":a.C0.ESC+"[B";break;case 45:v.shiftKey||v.ctrlKey||(d.key=a.C0.ESC+"[2~");break;case 46:d.key=h?a.C0.ESC+"[3;"+(h+1)+"~":a.C0.ESC+"[3~";break;case 36:d.key=h?a.C0.ESC+"[1;"+(h+1)+"H":g?a.C0.ESC+"OH":a.C0.ESC+"[H";break;case 35:d.key=h?a.C0.ESC+"[1;"+(h+1)+"F":g?a.C0.ESC+"OF":a.C0.ESC+"[F";break;case 33:v.shiftKey?d.type=2:d.key=a.C0.ESC+"[5~";break;case 34:v.shiftKey?d.type=3:d.key=a.C0.ESC+"[6~";break;case 112:d.key=h?a.C0.ESC+"[1;"+(h+1)+"P":a.C0.ESC+"OP";break;case 113:d.key=h?a.C0.ESC+"[1;"+(h+1)+"Q":a.C0.ESC+"OQ";break;case 114:d.key=h?a.C0.ESC+"[1;"+(h+1)+"R":a.C0.ESC+"OR";break;case 115:d.key=h?a.C0.ESC+"[1;"+(h+1)+"S":a.C0.ESC+"OS";break;case 116:d.key=h?a.C0.ESC+"[15;"+(h+1)+"~":a.C0.ESC+"[15~";break;case 117:d.key=h?a.C0.ESC+"[17;"+(h+1)+"~":a.C0.ESC+"[17~";break;case 118:d.key=h?a.C0.ESC+"[18;"+(h+1)+"~":a.C0.ESC+"[18~";break;case 119:d.key=h?a.C0.ESC+"[19;"+(h+1)+"~":a.C0.ESC+"[19~";break;case 120:d.key=h?a.C0.ESC+"[20;"+(h+1)+"~":a.C0.ESC+"[20~";break;case 121:d.key=h?a.C0.ESC+"[21;"+(h+1)+"~":a.C0.ESC+"[21~";break;case 122:d.key=h?a.C0.ESC+"[23;"+(h+1)+"~":a.C0.ESC+"[23~";break;case 123:d.key=h?a.C0.ESC+"[24;"+(h+1)+"~":a.C0.ESC+"[24~";break;default:if(!v.ctrlKey||v.shiftKey||v.altKey||v.metaKey)if(w&&!E||!v.altKey||v.metaKey)!w||v.altKey||v.ctrlKey||v.shiftKey||!v.metaKey?v.key&&!v.ctrlKey&&!v.altKey&&!v.metaKey&&v.keyCode>=48&&v.key.length===1?d.key=v.key:v.key&&v.ctrlKey&&v.key==="_"&&(d.key=a.C0.US):v.keyCode===65&&(d.type=1);else{var C=f[v.keyCode],m=C==null?void 0:C[v.shiftKey?1:0];if(m)d.key=a.C0.ESC+m;else if(v.keyCode>=65&&v.keyCode<=90){var u=v.ctrlKey?v.keyCode-64:v.keyCode+32;d.key=a.C0.ESC+String.fromCharCode(u)}}else v.keyCode>=65&&v.keyCode<=90?d.key=String.fromCharCode(v.keyCode-64):v.keyCode===32?d.key=a.C0.NUL:v.keyCode>=51&&v.keyCode<=55?d.key=String.fromCharCode(v.keyCode-51+27):v.keyCode===56?d.key=a.C0.DEL:v.keyCode===219?d.key=a.C0.ESC:v.keyCode===220?d.key=a.C0.FS:v.keyCode===221&&(d.key=a.C0.GS)}return d}},482:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Utf8ToUtf32=r.StringToUtf32=r.utf32ToString=r.stringFromCodePoint=void 0,r.stringFromCodePoint=function(f){return f>65535?(f-=65536,String.fromCharCode(55296+(f>>10))+String.fromCharCode(f%1024+56320)):String.fromCharCode(f)},r.utf32ToString=function(f,v,g){v===void 0&&(v=0),g===void 0&&(g=f.length);for(var w="",E=v;E<g;++E){var d=f[E];d>65535?(d-=65536,w+=String.fromCharCode(55296+(d>>10))+String.fromCharCode(d%1024+56320)):w+=String.fromCharCode(d)}return w};var s=function(){function f(){this._interim=0}return f.prototype.clear=function(){this._interim=0},f.prototype.decode=function(v,g){var w=v.length;if(!w)return 0;var E=0,d=0;this._interim&&(56320<=(m=v.charCodeAt(d++))&&m<=57343?g[E++]=1024*(this._interim-55296)+m-56320+65536:(g[E++]=this._interim,g[E++]=m),this._interim=0);for(var h=d;h<w;++h){var C=v.charCodeAt(h);if(55296<=C&&C<=56319){if(++h>=w)return this._interim=C,E;var m;56320<=(m=v.charCodeAt(h))&&m<=57343?g[E++]=1024*(C-55296)+m-56320+65536:(g[E++]=C,g[E++]=m)}else C!==65279&&(g[E++]=C)}return E},f}();r.StringToUtf32=s;var a=function(){function f(){this.interim=new Uint8Array(3)}return f.prototype.clear=function(){this.interim.fill(0)},f.prototype.decode=function(v,g){var w=v.length;if(!w)return 0;var E,d,h,C,m=0,u=0,c=0;if(this.interim[0]){var l=!1,b=this.interim[0];b&=(224&b)==192?31:(240&b)==224?15:7;for(var S=0,A=void 0;(A=63&this.interim[++S])&&S<4;)b<<=6,b|=A;for(var L=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,T=L-S;c<T;){if(c>=w)return 0;if((192&(A=v[c++]))!=128){c--,l=!0;break}this.interim[S++]=A,b<<=6,b|=63&A}l||(L===2?b<128?c--:g[m++]=b:L===3?b<2048||b>=55296&&b<=57343||b===65279||(g[m++]=b):b<65536||b>1114111||(g[m++]=b)),this.interim.fill(0)}for(var B=w-4,O=c;O<w;){for(;!(!(O<B)||128&(E=v[O])||128&(d=v[O+1])||128&(h=v[O+2])||128&(C=v[O+3]));)g[m++]=E,g[m++]=d,g[m++]=h,g[m++]=C,O+=4;if((E=v[O++])<128)g[m++]=E;else if((224&E)==192){if(O>=w)return this.interim[0]=E,m;if((192&(d=v[O++]))!=128){O--;continue}if((u=(31&E)<<6|63&d)<128){O--;continue}g[m++]=u}else if((240&E)==224){if(O>=w)return this.interim[0]=E,m;if((192&(d=v[O++]))!=128){O--;continue}if(O>=w)return this.interim[0]=E,this.interim[1]=d,m;if((192&(h=v[O++]))!=128){O--;continue}if((u=(15&E)<<12|(63&d)<<6|63&h)<2048||u>=55296&&u<=57343||u===65279)continue;g[m++]=u}else if((248&E)==240){if(O>=w)return this.interim[0]=E,m;if((192&(d=v[O++]))!=128){O--;continue}if(O>=w)return this.interim[0]=E,this.interim[1]=d,m;if((192&(h=v[O++]))!=128){O--;continue}if(O>=w)return this.interim[0]=E,this.interim[1]=d,this.interim[2]=h,m;if((192&(C=v[O++]))!=128){O--;continue}if((u=(7&E)<<18|(63&d)<<12|(63&h)<<6|63&C)<65536||u>1114111)continue;g[m++]=u}}return m},f}();r.Utf8ToUtf32=a},225:(_,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.UnicodeV6=void 0;var a,f=s(8273),v=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],g=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],w=function(){function E(){if(this.version="6",!a){a=new Uint8Array(65536),(0,f.fill)(a,1),a[0]=0,(0,f.fill)(a,0,1,32),(0,f.fill)(a,0,127,160),(0,f.fill)(a,2,4352,4448),a[9001]=2,a[9002]=2,(0,f.fill)(a,2,11904,42192),a[12351]=1,(0,f.fill)(a,2,44032,55204),(0,f.fill)(a,2,63744,64256),(0,f.fill)(a,2,65040,65050),(0,f.fill)(a,2,65072,65136),(0,f.fill)(a,2,65280,65377),(0,f.fill)(a,2,65504,65511);for(var d=0;d<v.length;++d)(0,f.fill)(a,0,v[d][0],v[d][1]+1)}}return E.prototype.wcwidth=function(d){return d<32?0:d<127?1:d<65536?a[d]:function(h,C){var m,u=0,c=C.length-1;if(h<C[0][0]||h>C[c][1])return!1;for(;c>=u;)if(h>C[m=u+c>>1][1])u=m+1;else{if(!(h<C[m][0]))return!0;c=m-1}return!1}(d,g)?0:d>=131072&&d<=196605||d>=196608&&d<=262141?2:1},E}();r.UnicodeV6=w},5981:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.WriteBuffer=void 0;var s=typeof queueMicrotask=="undefined"?function(f){Promise.resolve().then(f)}:queueMicrotask,a=function(){function f(v){this._action=v,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0}return f.prototype.writeSync=function(v,g){if(g!==void 0&&this._syncCalls>g)this._syncCalls=0;else if(this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(void 0),this._syncCalls++,!this._isSyncWriting){var w;for(this._isSyncWriting=!0;w=this._writeBuffer.shift();){this._action(w);var E=this._callbacks.shift();E&&E()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}},f.prototype.write=function(v,g){var w=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout(function(){return w._innerWrite()})),this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(g)},f.prototype._innerWrite=function(v,g){var w=this;v===void 0&&(v=0),g===void 0&&(g=!0);for(var E=v||Date.now();this._writeBuffer.length>this._bufferOffset;){var d=this._writeBuffer[this._bufferOffset],h=this._action(d,g);if(h)return void h.catch(function(m){return s(function(){throw m}),Promise.resolve(!1)}).then(function(m){return Date.now()-E>=12?setTimeout(function(){return w._innerWrite(0,m)}):w._innerWrite(E,m)});var C=this._callbacks[this._bufferOffset];if(C&&C(),this._bufferOffset++,this._pendingData-=d.length,Date.now()-E>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(function(){return w._innerWrite()})):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0)},f}();r.WriteBuffer=a},5941:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.toRgbString=r.parseColor=void 0;var s=/^([\da-f]{1})\/([\da-f]{1})\/([\da-f]{1})$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,a=/^[\da-f]+$/;function f(v,g){var w=v.toString(16),E=w.length<2?"0"+w:w;switch(g){case 4:return w[0];case 8:return E;case 12:return(E+E).slice(0,3);default:return E+E}}r.parseColor=function(v){if(v){var g=v.toLowerCase();if(g.indexOf("rgb:")===0){g=g.slice(4);var w=s.exec(g);if(w){var E=w[1]?15:w[4]?255:w[7]?4095:65535;return[Math.round(parseInt(w[1]||w[4]||w[7]||w[10],16)/E*255),Math.round(parseInt(w[2]||w[5]||w[8]||w[11],16)/E*255),Math.round(parseInt(w[3]||w[6]||w[9]||w[12],16)/E*255)]}}else if(g.indexOf("#")===0&&(g=g.slice(1),a.exec(g)&&[3,6,9,12].includes(g.length))){for(var d=g.length/3,h=[0,0,0],C=0;C<3;++C){var m=parseInt(g.slice(d*C,d*C+d),16);h[C]=d===1?m<<4:d===2?m:d===3?m>>4:m>>8}return h}}},r.toRgbString=function(v,g){g===void 0&&(g=16);var w=v[0],E=v[1],d=v[2];return"rgb:"+f(w,g)+"/"+f(E,g)+"/"+f(d,g)}},5770:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PAYLOAD_LIMIT=void 0,r.PAYLOAD_LIMIT=1e7},6351:(_,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DcsHandler=r.DcsParser=void 0;var a=s(482),f=s(8742),v=s(5770),g=[],w=function(){function h(){this._handlers=Object.create(null),this._active=g,this._ident=0,this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return h.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=g},h.prototype.registerHandler=function(C,m){this._handlers[C]===void 0&&(this._handlers[C]=[]);var u=this._handlers[C];return u.push(m),{dispose:function(){var c=u.indexOf(m);c!==-1&&u.splice(c,1)}}},h.prototype.clearHandler=function(C){this._handlers[C]&&delete this._handlers[C]},h.prototype.setHandlerFallback=function(C){this._handlerFb=C},h.prototype.reset=function(){if(this._active.length)for(var C=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;C>=0;--C)this._active[C].unhook(!1);this._stack.paused=!1,this._active=g,this._ident=0},h.prototype.hook=function(C,m){if(this.reset(),this._ident=C,this._active=this._handlers[C]||g,this._active.length)for(var u=this._active.length-1;u>=0;u--)this._active[u].hook(m);else this._handlerFb(this._ident,"HOOK",m)},h.prototype.put=function(C,m,u){if(this._active.length)for(var c=this._active.length-1;c>=0;c--)this._active[c].put(C,m,u);else this._handlerFb(this._ident,"PUT",(0,a.utf32ToString)(C,m,u))},h.prototype.unhook=function(C,m){if(m===void 0&&(m=!0),this._active.length){var u=!1,c=this._active.length-1,l=!1;if(this._stack.paused&&(c=this._stack.loopPosition-1,u=m,l=this._stack.fallThrough,this._stack.paused=!1),!l&&u===!1){for(;c>=0&&(u=this._active[c].unhook(C))!==!0;c--)if(u instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=c,this._stack.fallThrough=!1,u;c--}for(;c>=0;c--)if((u=this._active[c].unhook(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=c,this._stack.fallThrough=!0,u}else this._handlerFb(this._ident,"UNHOOK",C);this._active=g,this._ident=0},h}();r.DcsParser=w;var E=new f.Params;E.addParam(0);var d=function(){function h(C){this._handler=C,this._data="",this._params=E,this._hitLimit=!1}return h.prototype.hook=function(C){this._params=C.length>1||C.params[0]?C.clone():E,this._data="",this._hitLimit=!1},h.prototype.put=function(C,m,u){this._hitLimit||(this._data+=(0,a.utf32ToString)(C,m,u),this._data.length>v.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},h.prototype.unhook=function(C){var m=this,u=!1;if(this._hitLimit)u=!1;else if(C&&(u=this._handler(this._data,this._params))instanceof Promise)return u.then(function(c){return m._params=E,m._data="",m._hitLimit=!1,c});return this._params=E,this._data="",this._hitLimit=!1,u},h}();r.DcsHandler=d},2015:function(_,r,s){var a,f=this&&this.__extends||(a=function(u,c){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,b){l.__proto__=b}||function(l,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(l[S]=b[S])},a(u,c)},function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function l(){this.constructor=u}a(u,c),u.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)});Object.defineProperty(r,"__esModule",{value:!0}),r.EscapeSequenceParser=r.VT500_TRANSITION_TABLE=r.TransitionTable=void 0;var v=s(844),g=s(8273),w=s(8742),E=s(6242),d=s(6351),h=function(){function u(c){this.table=new Uint8Array(c)}return u.prototype.setDefault=function(c,l){(0,g.fill)(this.table,c<<4|l)},u.prototype.add=function(c,l,b,S){this.table[l<<8|c]=b<<4|S},u.prototype.addMany=function(c,l,b,S){for(var A=0;A<c.length;A++)this.table[l<<8|c[A]]=b<<4|S},u}();r.TransitionTable=h;var C=160;r.VT500_TRANSITION_TABLE=function(){var u=new h(4095),c=Array.apply(null,Array(256)).map(function(T,B){return B}),l=function(T,B){return c.slice(T,B)},b=l(32,127),S=l(0,24);S.push(25),S.push.apply(S,l(28,32));var A,L=l(0,14);for(A in u.setDefault(1,0),u.addMany(b,0,2,0),L)u.addMany([24,26,153,154],A,3,0),u.addMany(l(128,144),A,3,0),u.addMany(l(144,152),A,3,0),u.add(156,A,0,0),u.add(27,A,11,1),u.add(157,A,4,8),u.addMany([152,158,159],A,0,7),u.add(155,A,11,3),u.add(144,A,11,9);return u.addMany(S,0,3,0),u.addMany(S,1,3,1),u.add(127,1,0,1),u.addMany(S,8,0,8),u.addMany(S,3,3,3),u.add(127,3,0,3),u.addMany(S,4,3,4),u.add(127,4,0,4),u.addMany(S,6,3,6),u.addMany(S,5,3,5),u.add(127,5,0,5),u.addMany(S,2,3,2),u.add(127,2,0,2),u.add(93,1,4,8),u.addMany(b,8,5,8),u.add(127,8,5,8),u.addMany([156,27,24,26,7],8,6,0),u.addMany(l(28,32),8,0,8),u.addMany([88,94,95],1,0,7),u.addMany(b,7,0,7),u.addMany(S,7,0,7),u.add(156,7,0,0),u.add(127,7,0,7),u.add(91,1,11,3),u.addMany(l(64,127),3,7,0),u.addMany(l(48,60),3,8,4),u.addMany([60,61,62,63],3,9,4),u.addMany(l(48,60),4,8,4),u.addMany(l(64,127),4,7,0),u.addMany([60,61,62,63],4,0,6),u.addMany(l(32,64),6,0,6),u.add(127,6,0,6),u.addMany(l(64,127),6,0,0),u.addMany(l(32,48),3,9,5),u.addMany(l(32,48),5,9,5),u.addMany(l(48,64),5,0,6),u.addMany(l(64,127),5,7,0),u.addMany(l(32,48),4,9,5),u.addMany(l(32,48),1,9,2),u.addMany(l(32,48),2,9,2),u.addMany(l(48,127),2,10,0),u.addMany(l(48,80),1,10,0),u.addMany(l(81,88),1,10,0),u.addMany([89,90,92],1,10,0),u.addMany(l(96,127),1,10,0),u.add(80,1,11,9),u.addMany(S,9,0,9),u.add(127,9,0,9),u.addMany(l(28,32),9,0,9),u.addMany(l(32,48),9,9,12),u.addMany(l(48,60),9,8,10),u.addMany([60,61,62,63],9,9,10),u.addMany(S,11,0,11),u.addMany(l(32,128),11,0,11),u.addMany(l(28,32),11,0,11),u.addMany(S,10,0,10),u.add(127,10,0,10),u.addMany(l(28,32),10,0,10),u.addMany(l(48,60),10,8,10),u.addMany([60,61,62,63],10,0,11),u.addMany(l(32,48),10,9,12),u.addMany(S,12,0,12),u.add(127,12,0,12),u.addMany(l(28,32),12,0,12),u.addMany(l(32,48),12,9,12),u.addMany(l(48,64),12,0,11),u.addMany(l(64,127),12,12,13),u.addMany(l(64,127),10,12,13),u.addMany(l(64,127),9,12,13),u.addMany(S,13,13,13),u.addMany(b,13,13,13),u.add(127,13,0,13),u.addMany([27,156,24,26],13,14,0),u.add(C,0,2,0),u.add(C,8,5,8),u.add(C,6,0,6),u.add(C,11,0,11),u.add(C,13,13,13),u}();var m=function(u){function c(l){l===void 0&&(l=r.VT500_TRANSITION_TABLE);var b=u.call(this)||this;return b._transitions=l,b._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},b.initialState=0,b.currentState=b.initialState,b._params=new w.Params,b._params.addParam(0),b._collect=0,b.precedingCodepoint=0,b._printHandlerFb=function(S,A,L){},b._executeHandlerFb=function(S){},b._csiHandlerFb=function(S,A){},b._escHandlerFb=function(S){},b._errorHandlerFb=function(S){return S},b._printHandler=b._printHandlerFb,b._executeHandlers=Object.create(null),b._csiHandlers=Object.create(null),b._escHandlers=Object.create(null),b._oscParser=new E.OscParser,b._dcsParser=new d.DcsParser,b._errorHandler=b._errorHandlerFb,b.registerEscHandler({final:"\\"},function(){return!0}),b}return f(c,u),c.prototype._identifier=function(l,b){b===void 0&&(b=[64,126]);var S=0;if(l.prefix){if(l.prefix.length>1)throw new Error("only one byte as prefix supported");if((S=l.prefix.charCodeAt(0))&&60>S||S>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(l.intermediates){if(l.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var A=0;A<l.intermediates.length;++A){var L=l.intermediates.charCodeAt(A);if(32>L||L>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");S<<=8,S|=L}}if(l.final.length!==1)throw new Error("final must be a single byte");var T=l.final.charCodeAt(0);if(b[0]>T||T>b[1])throw new Error("final must be in range "+b[0]+" .. "+b[1]);return(S<<=8)|T},c.prototype.identToString=function(l){for(var b=[];l;)b.push(String.fromCharCode(255&l)),l>>=8;return b.reverse().join("")},c.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},c.prototype.setPrintHandler=function(l){this._printHandler=l},c.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},c.prototype.registerEscHandler=function(l,b){var S=this._identifier(l,[48,126]);this._escHandlers[S]===void 0&&(this._escHandlers[S]=[]);var A=this._escHandlers[S];return A.push(b),{dispose:function(){var L=A.indexOf(b);L!==-1&&A.splice(L,1)}}},c.prototype.clearEscHandler=function(l){this._escHandlers[this._identifier(l,[48,126])]&&delete this._escHandlers[this._identifier(l,[48,126])]},c.prototype.setEscHandlerFallback=function(l){this._escHandlerFb=l},c.prototype.setExecuteHandler=function(l,b){this._executeHandlers[l.charCodeAt(0)]=b},c.prototype.clearExecuteHandler=function(l){this._executeHandlers[l.charCodeAt(0)]&&delete this._executeHandlers[l.charCodeAt(0)]},c.prototype.setExecuteHandlerFallback=function(l){this._executeHandlerFb=l},c.prototype.registerCsiHandler=function(l,b){var S=this._identifier(l);this._csiHandlers[S]===void 0&&(this._csiHandlers[S]=[]);var A=this._csiHandlers[S];return A.push(b),{dispose:function(){var L=A.indexOf(b);L!==-1&&A.splice(L,1)}}},c.prototype.clearCsiHandler=function(l){this._csiHandlers[this._identifier(l)]&&delete this._csiHandlers[this._identifier(l)]},c.prototype.setCsiHandlerFallback=function(l){this._csiHandlerFb=l},c.prototype.registerDcsHandler=function(l,b){return this._dcsParser.registerHandler(this._identifier(l),b)},c.prototype.clearDcsHandler=function(l){this._dcsParser.clearHandler(this._identifier(l))},c.prototype.setDcsHandlerFallback=function(l){this._dcsParser.setHandlerFallback(l)},c.prototype.registerOscHandler=function(l,b){return this._oscParser.registerHandler(l,b)},c.prototype.clearOscHandler=function(l){this._oscParser.clearHandler(l)},c.prototype.setOscHandlerFallback=function(l){this._oscParser.setHandlerFallback(l)},c.prototype.setErrorHandler=function(l){this._errorHandler=l},c.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},c.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])},c.prototype._preserveStack=function(l,b,S,A,L){this._parseStack.state=l,this._parseStack.handlers=b,this._parseStack.handlerPos=S,this._parseStack.transition=A,this._parseStack.chunkPos=L},c.prototype.parse=function(l,b,S){var A,L=0,T=0,B=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,B=this._parseStack.chunkPos+1;else{if(S===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");var O=this._parseStack.handlers,x=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(S===!1&&x>-1){for(;x>=0&&(A=O[x](this._params))!==!0;x--)if(A instanceof Promise)return this._parseStack.handlerPos=x,A}this._parseStack.handlers=[];break;case 4:if(S===!1&&x>-1){for(;x>=0&&(A=O[x]())!==!0;x--)if(A instanceof Promise)return this._parseStack.handlerPos=x,A}this._parseStack.handlers=[];break;case 6:if(L=l[this._parseStack.chunkPos],A=this._dcsParser.unhook(L!==24&&L!==26,S))return A;L===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(L=l[this._parseStack.chunkPos],A=this._oscParser.end(L!==24&&L!==26,S))return A;L===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,B=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(var I=B;I<b;++I){switch(L=l[I],(T=this._transitions.table[this.currentState<<8|(L<160?L:C)])>>4){case 2:for(var R=I+1;;++R){if(R>=b||(L=l[R])<32||L>126&&L<C){this._printHandler(l,I,R),I=R-1;break}if(++R>=b||(L=l[R])<32||L>126&&L<C){this._printHandler(l,I,R),I=R-1;break}if(++R>=b||(L=l[R])<32||L>126&&L<C){this._printHandler(l,I,R),I=R-1;break}if(++R>=b||(L=l[R])<32||L>126&&L<C){this._printHandler(l,I,R),I=R-1;break}}break;case 3:this._executeHandlers[L]?this._executeHandlers[L]():this._executeHandlerFb(L),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:I,code:L,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:for(var F=(O=this._csiHandlers[this._collect<<8|L])?O.length-1:-1;F>=0&&(A=O[F](this._params))!==!0;F--)if(A instanceof Promise)return this._preserveStack(3,O,F,T,I),A;F<0&&this._csiHandlerFb(this._collect<<8|L,this._params),this.precedingCodepoint=0;break;case 8:do switch(L){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(L-48)}while(++I<b&&(L=l[I])>47&&L<60);I--;break;case 9:this._collect<<=8,this._collect|=L;break;case 10:for(var D=this._escHandlers[this._collect<<8|L],k=D?D.length-1:-1;k>=0&&(A=D[k]())!==!0;k--)if(A instanceof Promise)return this._preserveStack(4,D,k,T,I),A;k<0&&this._escHandlerFb(this._collect<<8|L),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|L,this._params);break;case 13:for(var P=I+1;;++P)if(P>=b||(L=l[P])===24||L===26||L===27||L>127&&L<C){this._dcsParser.put(l,I,P),I=P-1;break}break;case 14:if(A=this._dcsParser.unhook(L!==24&&L!==26))return this._preserveStack(6,[],0,T,I),A;L===27&&(T|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(var j=I+1;;j++)if(j>=b||(L=l[j])<32||L>127&&L<C){this._oscParser.put(l,I,j),I=j-1;break}break;case 6:if(A=this._oscParser.end(L!==24&&L!==26))return this._preserveStack(5,[],0,T,I),A;L===27&&(T|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&T}},c}(v.Disposable);r.EscapeSequenceParser=m},6242:(_,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.OscHandler=r.OscParser=void 0;var a=s(5770),f=s(482),v=[],g=function(){function E(){this._state=0,this._active=v,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return E.prototype.registerHandler=function(d,h){this._handlers[d]===void 0&&(this._handlers[d]=[]);var C=this._handlers[d];return C.push(h),{dispose:function(){var m=C.indexOf(h);m!==-1&&C.splice(m,1)}}},E.prototype.clearHandler=function(d){this._handlers[d]&&delete this._handlers[d]},E.prototype.setHandlerFallback=function(d){this._handlerFb=d},E.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=v},E.prototype.reset=function(){if(this._state===2)for(var d=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;d>=0;--d)this._active[d].end(!1);this._stack.paused=!1,this._active=v,this._id=-1,this._state=0},E.prototype._start=function(){if(this._active=this._handlers[this._id]||v,this._active.length)for(var d=this._active.length-1;d>=0;d--)this._active[d].start();else this._handlerFb(this._id,"START")},E.prototype._put=function(d,h,C){if(this._active.length)for(var m=this._active.length-1;m>=0;m--)this._active[m].put(d,h,C);else this._handlerFb(this._id,"PUT",(0,f.utf32ToString)(d,h,C))},E.prototype.start=function(){this.reset(),this._state=1},E.prototype.put=function(d,h,C){if(this._state!==3){if(this._state===1)for(;h<C;){var m=d[h++];if(m===59){this._state=2,this._start();break}if(m<48||57<m)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+m-48}this._state===2&&C-h>0&&this._put(d,h,C)}},E.prototype.end=function(d,h){if(h===void 0&&(h=!0),this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){var C=!1,m=this._active.length-1,u=!1;if(this._stack.paused&&(m=this._stack.loopPosition-1,C=h,u=this._stack.fallThrough,this._stack.paused=!1),!u&&C===!1){for(;m>=0&&(C=this._active[m].end(d))!==!0;m--)if(C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=m,this._stack.fallThrough=!1,C;m--}for(;m>=0;m--)if((C=this._active[m].end(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=m,this._stack.fallThrough=!0,C}else this._handlerFb(this._id,"END",d);this._active=v,this._id=-1,this._state=0}},E}();r.OscParser=g;var w=function(){function E(d){this._handler=d,this._data="",this._hitLimit=!1}return E.prototype.start=function(){this._data="",this._hitLimit=!1},E.prototype.put=function(d,h,C){this._hitLimit||(this._data+=(0,f.utf32ToString)(d,h,C),this._data.length>a.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},E.prototype.end=function(d){var h=this,C=!1;if(this._hitLimit)C=!1;else if(d&&(C=this._handler(this._data))instanceof Promise)return C.then(function(m){return h._data="",h._hitLimit=!1,m});return this._data="",this._hitLimit=!1,C},E}();r.OscHandler=w},8742:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Params=void 0;var s=2147483647,a=function(){function f(v,g){if(v===void 0&&(v=32),g===void 0&&(g=32),this.maxLength=v,this.maxSubParamsLength=g,g>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(v),this.length=0,this._subParams=new Int32Array(g),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(v),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return f.fromArray=function(v){var g=new f;if(!v.length)return g;for(var w=Array.isArray(v[0])?1:0;w<v.length;++w){var E=v[w];if(Array.isArray(E))for(var d=0;d<E.length;++d)g.addSubParam(E[d]);else g.addParam(E)}return g},f.prototype.clone=function(){var v=new f(this.maxLength,this.maxSubParamsLength);return v.params.set(this.params),v.length=this.length,v._subParams.set(this._subParams),v._subParamsLength=this._subParamsLength,v._subParamsIdx.set(this._subParamsIdx),v._rejectDigits=this._rejectDigits,v._rejectSubDigits=this._rejectSubDigits,v._digitIsSub=this._digitIsSub,v},f.prototype.toArray=function(){for(var v=[],g=0;g<this.length;++g){v.push(this.params[g]);var w=this._subParamsIdx[g]>>8,E=255&this._subParamsIdx[g];E-w>0&&v.push(Array.prototype.slice.call(this._subParams,w,E))}return v},f.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},f.prototype.addParam=function(v){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(v<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=v>s?s:v}},f.prototype.addSubParam=function(v){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(v<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=v>s?s:v,this._subParamsIdx[this.length-1]++}},f.prototype.hasSubParams=function(v){return(255&this._subParamsIdx[v])-(this._subParamsIdx[v]>>8)>0},f.prototype.getSubParams=function(v){var g=this._subParamsIdx[v]>>8,w=255&this._subParamsIdx[v];return w-g>0?this._subParams.subarray(g,w):null},f.prototype.getSubParamsAll=function(){for(var v={},g=0;g<this.length;++g){var w=this._subParamsIdx[g]>>8,E=255&this._subParamsIdx[g];E-w>0&&(v[g]=this._subParams.slice(w,E))}return v},f.prototype.addDigit=function(v){var g;if(!(this._rejectDigits||!(g=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var w=this._digitIsSub?this._subParams:this.params,E=w[g-1];w[g-1]=~E?Math.min(10*E+v,s):v}},f}();r.Params=a},5741:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.AddonManager=void 0;var s=function(){function a(){this._addons=[]}return a.prototype.dispose=function(){for(var f=this._addons.length-1;f>=0;f--)this._addons[f].instance.dispose()},a.prototype.loadAddon=function(f,v){var g=this,w={instance:v,dispose:v.dispose,isDisposed:!1};this._addons.push(w),v.dispose=function(){return g._wrappedAddonDispose(w)},v.activate(f)},a.prototype._wrappedAddonDispose=function(f){if(!f.isDisposed){for(var v=-1,g=0;g<this._addons.length;g++)if(this._addons[g]===f){v=g;break}if(v===-1)throw new Error("Could not dispose an addon that has not been loaded");f.isDisposed=!0,f.dispose.apply(f.instance),this._addons.splice(v,1)}},a}();r.AddonManager=s},8771:(_,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferApiView=void 0;var a=s(3785),f=s(511),v=function(){function g(w,E){this._buffer=w,this.type=E}return g.prototype.init=function(w){return this._buffer=w,this},Object.defineProperty(g.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),g.prototype.getLine=function(w){var E=this._buffer.lines.get(w);if(E)return new a.BufferLineApiView(E)},g.prototype.getNullCell=function(){return new f.CellData},g}();r.BufferApiView=v},3785:(_,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferLineApiView=void 0;var a=s(511),f=function(){function v(g){this._line=g}return Object.defineProperty(v.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),v.prototype.getCell=function(g,w){if(!(g<0||g>=this._line.length))return w?(this._line.loadCell(g,w),w):this._line.loadCell(g,new a.CellData)},v.prototype.translateToString=function(g,w,E){return this._line.translateToString(g,w,E)},v}();r.BufferLineApiView=f},8285:(_,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BufferNamespaceApi=void 0;var a=s(8771),f=s(8460),v=function(){function g(w){var E=this;this._core=w,this._onBufferChange=new f.EventEmitter,this._normal=new a.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new a.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(function(){return E._onBufferChange.fire(E.active)})}return Object.defineProperty(g.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"active",{get:function(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"normal",{get:function(){return this._normal.init(this._core.buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"alternate",{get:function(){return this._alternate.init(this._core.buffers.alt)},enumerable:!1,configurable:!0}),g}();r.BufferNamespaceApi=v},7975:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ParserApi=void 0;var s=function(){function a(f){this._core=f}return a.prototype.registerCsiHandler=function(f,v){return this._core.registerCsiHandler(f,function(g){return v(g.toArray())})},a.prototype.addCsiHandler=function(f,v){return this.registerCsiHandler(f,v)},a.prototype.registerDcsHandler=function(f,v){return this._core.registerDcsHandler(f,function(g,w){return v(g,w.toArray())})},a.prototype.addDcsHandler=function(f,v){return this.registerDcsHandler(f,v)},a.prototype.registerEscHandler=function(f,v){return this._core.registerEscHandler(f,v)},a.prototype.addEscHandler=function(f,v){return this.registerEscHandler(f,v)},a.prototype.registerOscHandler=function(f,v){return this._core.registerOscHandler(f,v)},a.prototype.addOscHandler=function(f,v){return this.registerOscHandler(f,v)},a}();r.ParserApi=s},7090:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.UnicodeApi=void 0;var s=function(){function a(f){this._core=f}return a.prototype.register=function(f){this._core.unicodeService.register(f)},Object.defineProperty(a.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(f){this._core.unicodeService.activeVersion=f},enumerable:!1,configurable:!0}),a}();r.UnicodeApi=s},744:function(_,r,s){var a,f=this&&this.__extends||(a=function(m,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var b in l)Object.prototype.hasOwnProperty.call(l,b)&&(c[b]=l[b])},a(m,u)},function(m,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function c(){this.constructor=m}a(m,u),m.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}),v=this&&this.__decorate||function(m,u,c,l){var b,S=arguments.length,A=S<3?u:l===null?l=Object.getOwnPropertyDescriptor(u,c):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(m,u,c,l);else for(var L=m.length-1;L>=0;L--)(b=m[L])&&(A=(S<3?b(A):S>3?b(u,c,A):b(u,c))||A);return S>3&&A&&Object.defineProperty(u,c,A),A},g=this&&this.__param||function(m,u){return function(c,l){u(c,l,m)}};Object.defineProperty(r,"__esModule",{value:!0}),r.BufferService=r.MINIMUM_ROWS=r.MINIMUM_COLS=void 0;var w=s(2585),E=s(5295),d=s(8460),h=s(844);r.MINIMUM_COLS=2,r.MINIMUM_ROWS=1;var C=function(m){function u(c){var l=m.call(this)||this;return l._optionsService=c,l.isUserScrolling=!1,l._onResize=new d.EventEmitter,l._onScroll=new d.EventEmitter,l.cols=Math.max(c.options.cols||0,r.MINIMUM_COLS),l.rows=Math.max(c.options.rows||0,r.MINIMUM_ROWS),l.buffers=new E.BufferSet(c,l),l}return f(u,m),Object.defineProperty(u.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),u.prototype.dispose=function(){m.prototype.dispose.call(this),this.buffers.dispose()},u.prototype.resize=function(c,l){this.cols=c,this.rows=l,this.buffers.resize(c,l),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:c,rows:l})},u.prototype.reset=function(){this.buffers.reset(),this.isUserScrolling=!1},u.prototype.scroll=function(c,l){l===void 0&&(l=!1);var b,S=this.buffer;(b=this._cachedBlankLine)&&b.length===this.cols&&b.getFg(0)===c.fg&&b.getBg(0)===c.bg||(b=S.getBlankLine(c,l),this._cachedBlankLine=b),b.isWrapped=l;var A=S.ybase+S.scrollTop,L=S.ybase+S.scrollBottom;if(S.scrollTop===0){var T=S.lines.isFull;L===S.lines.length-1?T?S.lines.recycle().copyFrom(b):S.lines.push(b.clone()):S.lines.splice(L+1,0,b.clone()),T?this.isUserScrolling&&(S.ydisp=Math.max(S.ydisp-1,0)):(S.ybase++,this.isUserScrolling||S.ydisp++)}else{var B=L-A+1;S.lines.shiftElements(A+1,B-1,-1),S.lines.set(L,b.clone())}this.isUserScrolling||(S.ydisp=S.ybase),this._onScroll.fire(S.ydisp)},u.prototype.scrollLines=function(c,l,b){var S=this.buffer;if(c<0){if(S.ydisp===0)return;this.isUserScrolling=!0}else c+S.ydisp>=S.ybase&&(this.isUserScrolling=!1);var A=S.ydisp;S.ydisp=Math.max(Math.min(S.ydisp+c,S.ybase),0),A!==S.ydisp&&(l||this._onScroll.fire(S.ydisp))},u.prototype.scrollPages=function(c){this.scrollLines(c*(this.rows-1))},u.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},u.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},u.prototype.scrollToLine=function(c){var l=c-this.buffer.ydisp;l!==0&&this.scrollLines(l)},v([g(0,w.IOptionsService)],u)}(h.Disposable);r.BufferService=C},7994:(_,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CharsetService=void 0;var s=function(){function a(){this.glevel=0,this._charsets=[]}return a.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},a.prototype.setgLevel=function(f){this.glevel=f,this.charset=this._charsets[f]},a.prototype.setgCharset=function(f,v){this._charsets[f]=v,this.glevel===f&&(this.charset=v)},a}();r.CharsetService=s},1753:function(_,r,s){var a=this&&this.__decorate||function(m,u,c,l){var b,S=arguments.length,A=S<3?u:l===null?l=Object.getOwnPropertyDescriptor(u,c):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(m,u,c,l);else for(var L=m.length-1;L>=0;L--)(b=m[L])&&(A=(S<3?b(A):S>3?b(u,c,A):b(u,c))||A);return S>3&&A&&Object.defineProperty(u,c,A),A},f=this&&this.__param||function(m,u){return function(c,l){u(c,l,m)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CoreMouseService=void 0;var v=s(2585),g=s(8460),w={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(m){return m.button!==4&&m.action===1&&(m.ctrl=!1,m.alt=!1,m.shift=!1,!0)}},VT200:{events:19,restrict:function(m){return m.action!==32}},DRAG:{events:23,restrict:function(m){return m.action!==32||m.button!==3}},ANY:{events:31,restrict:function(m){return!0}}};function E(m,u){var c=(m.ctrl?16:0)|(m.shift?4:0)|(m.alt?8:0);return m.button===4?(c|=64,c|=m.action):(c|=3&m.button,4&m.button&&(c|=64),8&m.button&&(c|=128),m.action===32?c|=32:m.action!==0||u||(c|=3)),c}var d=String.fromCharCode,h={DEFAULT:function(m){var u=[E(m,!1)+32,m.col+32,m.row+32];return u[0]>255||u[1]>255||u[2]>255?"":"[M"+d(u[0])+d(u[1])+d(u[2])},SGR:function(m){var u=m.action===0&&m.button!==4?"m":"M";return"[<"+E(m,!0)+";"+m.col+";"+m.row+u}},C=function(){function m(u,c){this._bufferService=u,this._coreService=c,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new g.EventEmitter,this._lastEvent=null;for(var l=0,b=Object.keys(w);l<b.length;l++){var S=b[l];this.addProtocol(S,w[S])}for(var A=0,L=Object.keys(h);A<L.length;A++){var T=L[A];this.addEncoding(T,h[T])}this.reset()}return m.prototype.addProtocol=function(u,c){this._protocols[u]=c},m.prototype.addEncoding=function(u,c){this._encodings[u]=c},Object.defineProperty(m.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(u){if(!this._protocols[u])throw new Error('unknown protocol "'+u+'"');this._activeProtocol=u,this._onProtocolChange.fire(this._protocols[u].events)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"areMouseEventsActive",{get:function(){return this._protocols[this._activeProtocol].events!==0},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(u){if(!this._encodings[u])throw new Error('unknown encoding "'+u+'"');this._activeEncoding=u},enumerable:!1,configurable:!0}),m.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(m.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),m.prototype.triggerMouseEvent=function(u){if(u.col<0||u.col>=this._bufferService.cols||u.row<0||u.row>=this._bufferService.rows||u.button===4&&u.action===32||u.button===3&&u.action!==32||u.button!==4&&(u.action===2||u.action===3)||(u.col++,u.row++,u.action===32&&this._lastEvent&&this._compareEvents(this._lastEvent,u))||!this._protocols[this._activeProtocol].restrict(u))return!1;var c=this._encodings[this._activeEncoding](u);return c&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(c):this._coreService.triggerDataEvent(c,!0)),this._lastEvent=u,!0},m.prototype.explainEvents=function(u){return{down:!!(1&u),up:!!(2&u),drag:!!(4&u),move:!!(8&u),wheel:!!(16&u)}},m.prototype._compareEvents=function(u,c){return u.col===c.col&&u.row===c.row&&u.button===c.button&&u.action===c.action&&u.ctrl===c.ctrl&&u.alt===c.alt&&u.shift===c.shift},a([f(0,v.IBufferService),f(1,v.ICoreService)],m)}();r.CoreMouseService=C},6975:function(_,r,s){var a,f=this&&this.__extends||(a=function(c,l){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,S){b.__proto__=S}||function(b,S){for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(b[A]=S[A])},a(c,l)},function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function b(){this.constructor=c}a(c,l),c.prototype=l===null?Object.create(l):(b.prototype=l.prototype,new b)}),v=this&&this.__decorate||function(c,l,b,S){var A,L=arguments.length,T=L<3?l:S===null?S=Object.getOwnPropertyDescriptor(l,b):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(c,l,b,S);else for(var B=c.length-1;B>=0;B--)(A=c[B])&&(T=(L<3?A(T):L>3?A(l,b,T):A(l,b))||T);return L>3&&T&&Object.defineProperty(l,b,T),T},g=this&&this.__param||function(c,l){return function(b,S){l(b,S,c)}};Object.defineProperty(r,"__esModule",{value:!0}),r.CoreService=void 0;var w=s(2585),E=s(8460),d=s(1439),h=s(844),C=Object.freeze({insertMode:!1}),m=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),u=function(c){function l(b,S,A,L){var T=c.call(this)||this;return T._bufferService=S,T._logService=A,T._optionsService=L,T.isCursorInitialized=!1,T.isCursorHidden=!1,T._onData=T.register(new E.EventEmitter),T._onUserInput=T.register(new E.EventEmitter),T._onBinary=T.register(new E.EventEmitter),T._scrollToBottom=b,T.register({dispose:function(){return T._scrollToBottom=void 0}}),T.modes=(0,d.clone)(C),T.decPrivateModes=(0,d.clone)(m),T}return f(l,c),Object.defineProperty(l.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),l.prototype.reset=function(){this.modes=(0,d.clone)(C),this.decPrivateModes=(0,d.clone)(m)},l.prototype.triggerDataEvent=function(b,S){if(S===void 0&&(S=!1),!this._optionsService.options.disableStdin){var A=this._bufferService.buffer;A.ybase!==A.ydisp&&this._scrollToBottom(),S&&this._onUserInput.fire(),this._logService.debug('sending data "'+b+'"',function(){return b.split("").map(function(L){return L.charCodeAt(0)})}),this._onData.fire(b)}},l.prototype.triggerBinaryEvent=function(b){this._optionsService.options.disableStdin||(this._logService.debug('sending binary "'+b+'"',function(){return b.split("").map(function(S){return S.charCodeAt(0)})}),this._onBinary.fire(b))},v([g(1,w.IBufferService),g(2,w.ILogService),g(3,w.IOptionsService)],l)}(h.Disposable);r.CoreService=u},3730:function(_,r,s){var a=this&&this.__decorate||function(w,E,d,h){var C,m=arguments.length,u=m<3?E:h===null?h=Object.getOwnPropertyDescriptor(E,d):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(w,E,d,h);else for(var c=w.length-1;c>=0;c--)(C=w[c])&&(u=(m<3?C(u):m>3?C(E,d,u):C(E,d))||u);return m>3&&u&&Object.defineProperty(E,d,u),u},f=this&&this.__param||function(w,E){return function(d,h){E(d,h,w)}};Object.defineProperty(r,"__esModule",{value:!0}),r.DirtyRowService=void 0;var v=s(2585),g=function(){function w(E){this._bufferService=E,this.clearRange()}return Object.defineProperty(w.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),w.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},w.prototype.markDirty=function(E){E<this._start?this._start=E:E>this._end&&(this._end=E)},w.prototype.markRangeDirty=function(E,d){if(E>d){var h=E;E=d,d=h}E<this._start&&(this._start=E),d>this._end&&(this._end=d)},w.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},a([f(0,v.IBufferService)],w)}();r.DirtyRowService=g},4348:function(_,r,s){var a=this&&this.__spreadArray||function(E,d,h){if(h||arguments.length===2)for(var C,m=0,u=d.length;m<u;m++)!C&&m in d||(C||(C=Array.prototype.slice.call(d,0,m)),C[m]=d[m]);return E.concat(C||Array.prototype.slice.call(d))};Object.defineProperty(r,"__esModule",{value:!0}),r.InstantiationService=r.ServiceCollection=void 0;var f=s(2585),v=s(8343),g=function(){function E(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];this._entries=new Map;for(var C=0,m=d;C<m.length;C++){var u=m[C],c=u[0],l=u[1];this.set(c,l)}}return E.prototype.set=function(d,h){var C=this._entries.get(d);return this._entries.set(d,h),C},E.prototype.forEach=function(d){this._entries.forEach(function(h,C){return d(C,h)})},E.prototype.has=function(d){return this._entries.has(d)},E.prototype.get=function(d){return this._entries.get(d)},E}();r.ServiceCollection=g;var w=function(){function E(){this._services=new g,this._services.set(f.IInstantiationService,this)}return E.prototype.setService=function(d,h){this._services.set(d,h)},E.prototype.getService=function(d){return this._services.get(d)},E.prototype.createInstance=function(d){for(var h=[],C=1;C<arguments.length;C++)h[C-1]=arguments[C];for(var m=(0,v.getServiceDependencies)(d).sort(function(L,T){return L.index-T.index}),u=[],c=0,l=m;c<l.length;c++){var b=l[c],S=this._services.get(b.id);if(!S)throw new Error("[createInstance] "+d.name+" depends on UNKNOWN service "+b.id+".");u.push(S)}var A=m.length>0?m[0].index:h.length;if(h.length!==A)throw new Error("[createInstance] First service dependency of "+d.name+" at position "+(A+1)+" conflicts with "+h.length+" static arguments");return new(d.bind.apply(d,a([void 0],a(a([],h,!0),u,!0),!1)))},E}();r.InstantiationService=w},7866:function(_,r,s){var a=this&&this.__decorate||function(d,h,C,m){var u,c=arguments.length,l=c<3?h:m===null?m=Object.getOwnPropertyDescriptor(h,C):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(d,h,C,m);else for(var b=d.length-1;b>=0;b--)(u=d[b])&&(l=(c<3?u(l):c>3?u(h,C,l):u(h,C))||l);return c>3&&l&&Object.defineProperty(h,C,l),l},f=this&&this.__param||function(d,h){return function(C,m){h(C,m,d)}},v=this&&this.__spreadArray||function(d,h,C){if(C||arguments.length===2)for(var m,u=0,c=h.length;u<c;u++)!m&&u in h||(m||(m=Array.prototype.slice.call(h,0,u)),m[u]=h[u]);return d.concat(m||Array.prototype.slice.call(h))};Object.defineProperty(r,"__esModule",{value:!0}),r.LogService=void 0;var g=s(2585),w={debug:g.LogLevelEnum.DEBUG,info:g.LogLevelEnum.INFO,warn:g.LogLevelEnum.WARN,error:g.LogLevelEnum.ERROR,off:g.LogLevelEnum.OFF},E=function(){function d(h){var C=this;this._optionsService=h,this.logLevel=g.LogLevelEnum.OFF,this._updateLogLevel(),this._optionsService.onOptionChange(function(m){m==="logLevel"&&C._updateLogLevel()})}return d.prototype._updateLogLevel=function(){this.logLevel=w[this._optionsService.options.logLevel]},d.prototype._evalLazyOptionalParams=function(h){for(var C=0;C<h.length;C++)typeof h[C]=="function"&&(h[C]=h[C]())},d.prototype._log=function(h,C,m){this._evalLazyOptionalParams(m),h.call.apply(h,v([console,"xterm.js: "+C],m,!1))},d.prototype.debug=function(h){for(var C=[],m=1;m<arguments.length;m++)C[m-1]=arguments[m];this.logLevel<=g.LogLevelEnum.DEBUG&&this._log(console.log,h,C)},d.prototype.info=function(h){for(var C=[],m=1;m<arguments.length;m++)C[m-1]=arguments[m];this.logLevel<=g.LogLevelEnum.INFO&&this._log(console.info,h,C)},d.prototype.warn=function(h){for(var C=[],m=1;m<arguments.length;m++)C[m-1]=arguments[m];this.logLevel<=g.LogLevelEnum.WARN&&this._log(console.warn,h,C)},d.prototype.error=function(h){for(var C=[],m=1;m<arguments.length;m++)C[m-1]=arguments[m];this.logLevel<=g.LogLevelEnum.ERROR&&this._log(console.error,h,C)},a([f(0,g.IOptionsService)],d)}();r.LogService=E},7302:function(_,r,s){var a=this&&this.__assign||function(){return a=Object.assign||function(E){for(var d,h=1,C=arguments.length;h<C;h++)for(var m in d=arguments[h])Object.prototype.hasOwnProperty.call(d,m)&&(E[m]=d[m]);return E},a.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.OptionsService=r.DEFAULT_OPTIONS=r.DEFAULT_BELL_SOUND=void 0;var f=s(8460),v=s(6114);r.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",r.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,bellSound:r.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:v.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1};var g=["normal","bold","100","200","300","400","500","600","700","800","900"],w=function(){function E(d){for(var h in this._onOptionChange=new f.EventEmitter,this._options=a({},r.DEFAULT_OPTIONS),d)if(h in this._options)try{var C=d[h];this._options[h]=this._sanitizeAndValidateOption(h,C)}catch(m){console.error(m)}this.options=this._setupOptions(this._options)}return Object.defineProperty(E.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),E.prototype._setupOptions=function(d){var h=this,C=a({},d),m=function(c){Object.defineProperty(C,c,{get:function(){if(!(c in r.DEFAULT_OPTIONS))throw new Error('No option with key "'+c+'"');return h._options[c]},set:function(l){if(!(c in r.DEFAULT_OPTIONS))throw new Error('No option with key "'+c+'"');l=h._sanitizeAndValidateOption(c,l),h._options[c]!==l&&(h._options[c]=l,h._onOptionChange.fire(c))}})};for(var u in C)m(u);return C},E.prototype.setOption=function(d,h){this.options[d]=h},E.prototype._sanitizeAndValidateOption=function(d,h){switch(d){case"bellStyle":case"cursorStyle":case"rendererType":case"wordSeparator":h||(h=r.DEFAULT_OPTIONS[d]);break;case"fontWeight":case"fontWeightBold":if(typeof h=="number"&&1<=h&&h<=1e3)break;h=g.includes(h)?h:r.DEFAULT_OPTIONS[d];break;case"cursorWidth":h=Math.floor(h);case"lineHeight":case"tabStopWidth":if(h<1)throw new Error(d+" cannot be less than 1, value: "+h);break;case"minimumContrastRatio":h=Math.max(1,Math.min(21,Math.round(10*h)/10));break;case"scrollback":if((h=Math.min(h,4294967295))<0)throw new Error(d+" cannot be less than 0, value: "+h);break;case"fastScrollSensitivity":case"scrollSensitivity":if(h<=0)throw new Error(d+" cannot be less than or equal to 0, value: "+h);case"rows":case"cols":if(!h&&h!==0)throw new Error(d+" must be numeric, value: "+h)}return h},E.prototype.getOption=function(d){return this.options[d]},E}();r.OptionsService=w},8343:(_,r)=>{function s(a,f,v){f.di$target===f?f.di$dependencies.push({id:a,index:v}):(f.di$dependencies=[{id:a,index:v}],f.di$target=f)}Object.defineProperty(r,"__esModule",{value:!0}),r.createDecorator=r.getServiceDependencies=r.serviceRegistry=void 0,r.serviceRegistry=new Map,r.getServiceDependencies=function(a){return a.di$dependencies||[]},r.createDecorator=function(a){if(r.serviceRegistry.has(a))return r.serviceRegistry.get(a);var f=function(v,g,w){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");s(f,v,w)};return f.toString=function(){return a},r.serviceRegistry.set(a,f),f}},2585:(_,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.IUnicodeService=r.IOptionsService=r.ILogService=r.LogLevelEnum=r.IInstantiationService=r.IDirtyRowService=r.ICharsetService=r.ICoreService=r.ICoreMouseService=r.IBufferService=void 0;var a,f=s(8343);r.IBufferService=(0,f.createDecorator)("BufferService"),r.ICoreMouseService=(0,f.createDecorator)("CoreMouseService"),r.ICoreService=(0,f.createDecorator)("CoreService"),r.ICharsetService=(0,f.createDecorator)("CharsetService"),r.IDirtyRowService=(0,f.createDecorator)("DirtyRowService"),r.IInstantiationService=(0,f.createDecorator)("InstantiationService"),(a=r.LogLevelEnum||(r.LogLevelEnum={}))[a.DEBUG=0]="DEBUG",a[a.INFO=1]="INFO",a[a.WARN=2]="WARN",a[a.ERROR=3]="ERROR",a[a.OFF=4]="OFF",r.ILogService=(0,f.createDecorator)("LogService"),r.IOptionsService=(0,f.createDecorator)("OptionsService"),r.IUnicodeService=(0,f.createDecorator)("UnicodeService")},1480:(_,r,s)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.UnicodeService=void 0;var a=s(8460),f=s(225),v=function(){function g(){this._providers=Object.create(null),this._active="",this._onChange=new a.EventEmitter;var w=new f.UnicodeV6;this.register(w),this._active=w.version,this._activeProvider=w}return Object.defineProperty(g.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"activeVersion",{get:function(){return this._active},set:function(w){if(!this._providers[w])throw new Error('unknown Unicode version "'+w+'"');this._active=w,this._activeProvider=this._providers[w],this._onChange.fire(w)},enumerable:!1,configurable:!0}),g.prototype.register=function(w){this._providers[w.version]=w},g.prototype.wcwidth=function(w){return this._activeProvider.wcwidth(w)},g.prototype.getStringCellWidth=function(w){for(var E=0,d=w.length,h=0;h<d;++h){var C=w.charCodeAt(h);if(55296<=C&&C<=56319){if(++h>=d)return E+this.wcwidth(C);var m=w.charCodeAt(h);56320<=m&&m<=57343?C=1024*(C-55296)+m-56320+65536:E+=this.wcwidth(m)}E+=this.wcwidth(C)}return E},g}();r.UnicodeService=v}},o={};function p(_){var r=o[_];if(r!==void 0)return r.exports;var s=o[_]={exports:{}};return n[_].call(s.exports,s,s.exports,p),s.exports}var y={};return(()=>{var _=y;Object.defineProperty(_,"__esModule",{value:!0}),_.Terminal=void 0;var r=p(3236),s=p(9042),a=p(7975),f=p(7090),v=p(5741),g=p(8285),w=["cols","rows"],E=function(){function d(h){var C=this;this._core=new r.Terminal(h),this._addonManager=new v.AddonManager,this._publicOptions={};var m=function(l){Object.defineProperty(u._publicOptions,l,{get:function(){return C._core.options[l]},set:function(b){C._checkReadonlyOptions(l),C._core.options[l]=b}})},u=this;for(var c in this._core.options)m(c)}return d.prototype._checkReadonlyOptions=function(h){if(w.includes(h))throw new Error('Option "'+h+'" can only be set in the constructor')},d.prototype._checkProposedApi=function(){if(!this._core.optionsService.options.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(d.prototype,"onBell",{get:function(){return this._core.onBell},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new a.ParserApi(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"unicode",{get:function(){return this._checkProposedApi(),new f.UnicodeApi(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"buffer",{get:function(){return this._checkProposedApi(),this._buffer||(this._buffer=new g.BufferNamespaceApi(this._core)),this._buffer},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"modes",{get:function(){var h=this._core.coreService.decPrivateModes,C="none";switch(this._core.coreMouseService.activeProtocol){case"X10":C="x10";break;case"VT200":C="vt200";break;case"DRAG":C="drag";break;case"ANY":C="any"}return{applicationCursorKeysMode:h.applicationCursorKeys,applicationKeypadMode:h.applicationKeypad,bracketedPasteMode:h.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:C,originMode:h.origin,reverseWraparoundMode:h.reverseWraparound,sendFocusMode:h.sendFocus,wraparoundMode:h.wraparound}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"options",{get:function(){return this._publicOptions},set:function(h){for(var C in h)this._publicOptions[C]=h[C]},enumerable:!1,configurable:!0}),d.prototype.blur=function(){this._core.blur()},d.prototype.focus=function(){this._core.focus()},d.prototype.resize=function(h,C){this._verifyIntegers(h,C),this._core.resize(h,C)},d.prototype.open=function(h){this._core.open(h)},d.prototype.attachCustomKeyEventHandler=function(h){this._core.attachCustomKeyEventHandler(h)},d.prototype.registerLinkMatcher=function(h,C,m){return this._checkProposedApi(),this._core.registerLinkMatcher(h,C,m)},d.prototype.deregisterLinkMatcher=function(h){this._checkProposedApi(),this._core.deregisterLinkMatcher(h)},d.prototype.registerLinkProvider=function(h){return this._checkProposedApi(),this._core.registerLinkProvider(h)},d.prototype.registerCharacterJoiner=function(h){return this._checkProposedApi(),this._core.registerCharacterJoiner(h)},d.prototype.deregisterCharacterJoiner=function(h){this._checkProposedApi(),this._core.deregisterCharacterJoiner(h)},d.prototype.registerMarker=function(h){return this._checkProposedApi(),this._verifyIntegers(h),this._core.addMarker(h)},d.prototype.addMarker=function(h){return this.registerMarker(h)},d.prototype.hasSelection=function(){return this._core.hasSelection()},d.prototype.select=function(h,C,m){this._verifyIntegers(h,C,m),this._core.select(h,C,m)},d.prototype.getSelection=function(){return this._core.getSelection()},d.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},d.prototype.clearSelection=function(){this._core.clearSelection()},d.prototype.selectAll=function(){this._core.selectAll()},d.prototype.selectLines=function(h,C){this._verifyIntegers(h,C),this._core.selectLines(h,C)},d.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},d.prototype.scrollLines=function(h){this._verifyIntegers(h),this._core.scrollLines(h)},d.prototype.scrollPages=function(h){this._verifyIntegers(h),this._core.scrollPages(h)},d.prototype.scrollToTop=function(){this._core.scrollToTop()},d.prototype.scrollToBottom=function(){this._core.scrollToBottom()},d.prototype.scrollToLine=function(h){this._verifyIntegers(h),this._core.scrollToLine(h)},d.prototype.clear=function(){this._core.clear()},d.prototype.write=function(h,C){this._core.write(h,C)},d.prototype.writeUtf8=function(h,C){this._core.write(h,C)},d.prototype.writeln=function(h,C){this._core.write(h),this._core.write(`\r
`,C)},d.prototype.paste=function(h){this._core.paste(h)},d.prototype.getOption=function(h){return this._core.optionsService.getOption(h)},d.prototype.setOption=function(h,C){this._checkReadonlyOptions(h),this._core.optionsService.setOption(h,C)},d.prototype.refresh=function(h,C){this._verifyIntegers(h,C),this._core.refresh(h,C)},d.prototype.reset=function(){this._core.reset()},d.prototype.clearTextureAtlas=function(){this._core.clearTextureAtlas()},d.prototype.loadAddon=function(h){return this._addonManager.loadAddon(this,h)},Object.defineProperty(d,"strings",{get:function(){return s},enumerable:!1,configurable:!0}),d.prototype._verifyIntegers=function(){for(var h=[],C=0;C<arguments.length;C++)h[C]=arguments[C];for(var m=0,u=h;m<u.length;m++){var c=u[m];if(c===1/0||isNaN(c)||c%1!=0)throw new Error("This API only accepts integers")}},d}();_.Terminal=E})(),y})()})})(xterm);var xtermAddonFit={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(self,function(){return(()=>{var n={775:(p,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.FitAddon=void 0;var _=function(){function r(){}return r.prototype.activate=function(s){this._terminal=s},r.prototype.dispose=function(){},r.prototype.fit=function(){var s=this.proposeDimensions();if(s&&this._terminal){var a=this._terminal._core;this._terminal.rows===s.rows&&this._terminal.cols===s.cols||(a._renderService.clear(),this._terminal.resize(s.cols,s.rows))}},r.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var s=this._terminal._core;if(s._renderService.dimensions.actualCellWidth!==0&&s._renderService.dimensions.actualCellHeight!==0){var a=window.getComputedStyle(this._terminal.element.parentElement),f=parseInt(a.getPropertyValue("height")),v=Math.max(0,parseInt(a.getPropertyValue("width"))),g=window.getComputedStyle(this._terminal.element),w=f-(parseInt(g.getPropertyValue("padding-top"))+parseInt(g.getPropertyValue("padding-bottom"))),E=v-(parseInt(g.getPropertyValue("padding-right"))+parseInt(g.getPropertyValue("padding-left")))-s.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(E/s._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(w/s._renderService.dimensions.actualCellHeight))}}}},r}();y.FitAddon=_}},o={};return function p(y){if(o[y])return o[y].exports;var _=o[y]={exports:{}};return n[y](_,_.exports,p),_.exports}(775)})()})})(xtermAddonFit);var xtermAddonAttach={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function p(y){if(o[y])return o[y].exports;var _=o[y]={i:y,l:!1,exports:{}};return n[y].call(_.exports,_,_.exports,p),_.l=!0,_.exports}return p.m=n,p.c=o,p.d=function(y,_,r){p.o(y,_)||Object.defineProperty(y,_,{enumerable:!0,get:r})},p.r=function(y){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},p.t=function(y,_){if(1&_&&(y=p(y)),8&_||4&_&&typeof y=="object"&&y&&y.__esModule)return y;var r=Object.create(null);if(p.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:y}),2&_&&typeof y!="string")for(var s in y)p.d(r,s,function(a){return y[a]}.bind(null,s));return r},p.n=function(y){var _=y&&y.__esModule?function(){return y.default}:function(){return y};return p.d(_,"a",_),_},p.o=function(y,_){return Object.prototype.hasOwnProperty.call(y,_)},p.p="",p(p.s=0)}([function(n,o,p){Object.defineProperty(o,"__esModule",{value:!0}),o.AttachAddon=void 0;var y=function(){function r(s,a){this._disposables=[],this._socket=s,this._socket.binaryType="arraybuffer",this._bidirectional=!a||a.bidirectional!==!1}return r.prototype.activate=function(s){var a=this;this._disposables.push(_(this._socket,"message",function(f){var v=f.data;s.write(typeof v=="string"?v:new Uint8Array(v))})),this._bidirectional&&(this._disposables.push(s.onData(function(f){return a._sendData(f)})),this._disposables.push(s.onBinary(function(f){return a._sendBinary(f)}))),this._disposables.push(_(this._socket,"close",function(){return a.dispose()})),this._disposables.push(_(this._socket,"error",function(){return a.dispose()}))},r.prototype.dispose=function(){this._disposables.forEach(function(s){return s.dispose()})},r.prototype._sendData=function(s){this._socket.readyState===1&&this._socket.send(s)},r.prototype._sendBinary=function(s){if(this._socket.readyState===1){for(var a=new Uint8Array(s.length),f=0;f<s.length;++f)a[f]=255&s.charCodeAt(f);this._socket.send(a)}},r}();function _(r,s,a){return r.addEventListener(s,a),{dispose:function(){a&&r.removeEventListener(s,a)}}}o.AttachAddon=y}])})})(xtermAddonAttach);var terminal_vue_vue_type_style_index_0_lang="";const _hoisted_1$6=createBaseVNode("div",{id:"xterm-container"},null,-1),_sfc_main$6={props:{item:Object,actionWindowId:String},setup(__props){const props=__props;props.item.events=function(t,e){t=="close"&&(terminalSocket.close(),terminalSocket=null,term.dispose(),term.clear(),term.clearSelection(),term.reset(),clearInterval(listenerWindowSizeEventTimerId))};let windowTitle=ref("\u8FDE\u63A5\u4E2D..."),terminalSocket=null,listenerWindowSizeEventTimerId=null;const fitAddon=new xtermAddonFit.exports.FitAddon,term=new xterm.exports.Terminal({fontSize:17,rightClickSelectsWord:!0,letterSpacing:0,allowTransparency:!0,cursorBlink:!0,cursorStyle:"bar",cols:65,rows:20,theme:{foreground:"#ffffff",background:"#00000000"}});let{proxy}=getCurrentInstance();proxy.eventBus.on("/event/message/terminal",t=>{writeMegToTerm(t.msg)});let terminalWindowSizeData="";term.loadAddon(fitAddon);const PrefixInteger=(t,e)=>(Array(e).join(0)+t).slice(-e);onMounted(()=>{listenerWindowSizeEventTimerId=setInterval(()=>{terminalSocket!=null&&terminalWindowSizeData!=""&&(terminalSocket.send(terminalWindowSizeData),terminalWindowSizeData="")},1e3),elementResizeDetector().listenTo(document.getElementById(props.item.id),n=>{fitAddon.fit();var o="setSize"+PrefixInteger(term.cols,4)+PrefixInteger(term.rows,4)+PrefixInteger(n.offsetWidth,4)+PrefixInteger(n.offsetHeight,4);terminalWindowSizeData=o});let e=document.querySelector("#"+props.item.id+" #xterm-container");term.clear(),term.clearSelection(),term.reset(),term.open(e),connectWebSocket()});const websocketClose=t=>{writeMegToTerm("\u8FDE\u63A5\u5DF2\u65AD\u5F00\uFF01\u3002"+t)},writeMegToTerm=t=>{term.writeln(t)},websocketOpen=t=>{windowTitle.value="\u7EC8\u7AEF",props.item.data.path!=null&&terminalSocket.send("cd "+props.item.data.path+"\r")},connectWebSocket=()=>{let url='"ws:"+"//"+location.host+"/ws/websocket/terminal"';url=eval(url),terminalSocket=new WebSocket(url);const attachAddon=new xtermAddonAttach.exports.AttachAddon(terminalSocket);term.loadAddon(attachAddon),terminalSocket.onclose=websocketClose,terminalSocket.onopen=websocketOpen};return(t,e)=>(openBlock(),createBlock(_sfc_main$g,{item:__props.item,className:"terminal"},{body:withCtx(()=>[_hoisted_1$6]),header:withCtx(()=>[createBaseVNode("header",null,toDisplayString(unref(windowTitle)),1)]),_:1},8,["item"]))}},_hoisted_1$5={class:"icon"},_hoisted_2$5=["src"],_hoisted_3$3={class:"item-info"},_hoisted_4$2=createBaseVNode("span",{class:"name"},"\u6587\u4EF6\u540D\u79F0:",-1),_hoisted_5$2={class:"value"},_hoisted_6$2={class:"item-info"},_hoisted_7$2=createBaseVNode("span",{class:"name"},"\u5927\u5C0F:",-1),_hoisted_8$2={class:"value"},_hoisted_9$2={class:"item-info"},_hoisted_10$2=createBaseVNode("span",{class:"name"},"\u521B\u5EFA\u65F6\u95F4:",-1),_hoisted_11$2={class:"value"},_hoisted_12$2={class:"item-info"},_hoisted_13$2=createBaseVNode("span",{class:"name"},"\u6700\u540E\u4FEE\u6539\u65F6\u95F4:",-1),_hoisted_14$2={class:"value"},_hoisted_15$2={class:"item-info"},_hoisted_16$2=createBaseVNode("span",{class:"name"},"\u6700\u540E\u8BBF\u95EE\u65F6\u95F4:",-1),_hoisted_17$2={class:"value"},_hoisted_18$2={class:"item-info"},_hoisted_19$2=createBaseVNode("span",{class:"name"},"\u6240\u6709\u8005:",-1),_hoisted_20$1={class:"value"},_hoisted_21$1=createBaseVNode("header",null,"\u63D0\u793A",-1),_sfc_main$5={props:{item:Object,actionWindowId:String},setup(t){const e=t;let n=ref("/");const o=_=>_<1024?_+"\u5B57\u8282":_/1024<1024?Math.floor(_/1024)+"KB":Math.round(_/1024/1024)+"MB",p=_=>{var r=new Date(_),s=r.getFullYear()+"-",a=(r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1)+"-",f=(r.getDate()<10?"0"+r.getDate():r.getDate())+" ",v=(r.getHours()<10?"0"+r.getHours():r.getHours())+":",g=(r.getMinutes()<10?"0"+r.getMinutes():r.getMinutes())+":",w=r.getSeconds()<10?"0"+r.getSeconds():r.getSeconds();return s+a+f+v+g+w};let y=reactive({attribute:{}});return apiFileAttribute(e.item.data.path).then(_=>{y.attribute=_.data.data}),(_,r)=>(openBlock(),createBlock(_sfc_main$g,{item:t.item,className:"file-attribute"},{body:withCtx(()=>[createBaseVNode("header",_hoisted_1$5,[createBaseVNode("img",{src:unref(n)+"desktop/api/file/getFileIconByType?type="+unref(y).attribute.type,alt:""},null,8,_hoisted_2$5)]),createBaseVNode("div",_hoisted_3$3,[_hoisted_4$2,createBaseVNode("span",_hoisted_5$2,toDisplayString(unref(y).attribute.name),1)]),createBaseVNode("div",_hoisted_6$2,[_hoisted_7$2,createBaseVNode("span",_hoisted_8$2,toDisplayString(o(unref(y).attribute.fileSize)),1)]),createBaseVNode("div",_hoisted_9$2,[_hoisted_10$2,createBaseVNode("span",_hoisted_11$2,toDisplayString(p(unref(y).attribute.createTimer)),1)]),createBaseVNode("div",_hoisted_12$2,[_hoisted_13$2,createBaseVNode("span",_hoisted_14$2,toDisplayString(p(unref(y).attribute.lastModifiedTime)),1)]),createBaseVNode("div",_hoisted_15$2,[_hoisted_16$2,createBaseVNode("span",_hoisted_17$2,toDisplayString(p(unref(y).attribute.lastAccessTime)),1)]),createBaseVNode("div",_hoisted_18$2,[_hoisted_19$2,createBaseVNode("span",_hoisted_20$1,toDisplayString(unref(y).attribute.owner),1)])]),header:withCtx(()=>[_hoisted_21$1]),_:1},8,["item"]))}};var _imports_0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAmdJREFUaEPtl82rTVEYxn/PzMSMm48JkVtuMTDwBxhJSkQpSpKZSDEw4Y7RlamkmFFu6iYDAwNDFJKB0qXQxV8g9Whpn1rtzsdae+3b3bf2qlOnzvvx/N7n3Z21xSo/WuX66QFW2sHegd6Bwgn0K1Q4wOL0VhywfRs4B8xJulisKqNAMYDth8DRqOduSe8yNBSFFgEMEb8oaWuRoszkxgBDxIfWxyQ9ytRQFN4IoCviA3k2QJfEZwOMEP8iYwd+AK+BD8BHSV8ycoeGJjtge2fVuLRnnB+el8uSFpsWzQFYA/wE1jZtNiYvQFxvUjcZIBS3fQ24Wms0m9F4PRCcnAHC9/g8kXQoo9b/0CyAcRCSAlzysT0HXKglHJD0NLlIE4CWIbYDnyLBf4DpnGci24FBs1Hr1MCJfcDzCGJe0uFUFxoDjHFiStKvVAFVnTvAmSpnSdKG1PwigCEQQfhMA4DTwN1I9A5J8WqN5CkGqCDOAseBBUk3U6cXreMe4FWUd0TS45Q6rQCkNJoUY9tRzGzqs9QJANu7gLcRwEFJC5OgG/0PpBTNjbF9Ergf5W2T9DmlTlcceACcqAR/l7Q5RXwnHLAd3qXDO/XgZF0pVtQB21PAUiT+L7BX0pvOO2D7PHCrJvSSpBup4rNXyPYW4FROg1rsxuomOg2sq/32TNL+3NpZK2T7G7Apt0lCfPYtdFAzGcB2/eaYoGtiSLgDXZH0e2LkiIBkgJBv+17hCn0FXg4+kt43FZ7tQGmj5crPcmC5RJTU7QFKptdGbu9AG1MsqdE7UDK9NnJ7B9qYYkmN3oGS6bWR+w//GbIx3qs8ZgAAAABJRU5ErkJggg==";let progressMap=new Map;const initInstallProgressManager=()=>{let{proxy:t}=getCurrentInstance();t.eventBus.on("/event/install/progress",e=>{let n=getRefProgressValue(e.id),o=parseInt(e.progress);n.value=o}),t.eventBus.on("/event/install/done",e=>{refreshApplication()})},beginInstall=t=>{apiInstallApplication(t).then(e=>{getRefProgressValue(t).value=0})},clearRefProgressValue=t=>{progressMap.delete(t)},getRefProgressValue=t=>(progressMap.has(t)||(getApplicationById(t)!=null?progressMap.set(t,ref(-3)):progressMap.set(t,ref(-2))),progressMap.get(t));var applicationView_vue_vue_type_style_index_0_lang="";const _hoisted_1$4=["onClick"],_hoisted_2$4={class:"flex-1 color-white container"},_hoisted_3$2={key:0,class:"app-install-container"},_hoisted_4$1={class:"header-info"},_hoisted_5$1={class:"flex flex-column color-white logo"},_hoisted_6$1=["src"],_hoisted_7$1={key:0,class:"progress"},_hoisted_8$1={class:"value"},_hoisted_9$1={key:1,class:"progress"},_hoisted_10$1={key:1},_hoisted_11$1={key:2},_hoisted_12$1={class:"introduce"},_hoisted_13$1={class:"introduce-item"},_hoisted_14$1=createBaseVNode("span",{class:"key"},"\u540D\u79F0:",-1),_hoisted_15$1={class:"value"},_hoisted_16$1={class:"introduce-item"},_hoisted_17$1=createBaseVNode("span",{class:"key"},"\u5927\u5C0F:",-1),_hoisted_18$1={class:"value"},_hoisted_19$1={class:"introduce-item"},_hoisted_20=createBaseVNode("span",{class:"key"},"\u4F5C\u8005:",-1),_hoisted_21={class:"value"},_hoisted_22={class:"introduce-item"},_hoisted_23=createBaseVNode("span",{class:"key"},"\u7B80\u4ECB:",-1),_hoisted_24={class:"value"},_hoisted_25={class:"screenshot"},_hoisted_26=["src"],_hoisted_27={key:1,class:"app-list-container"},_hoisted_28={class:"grid-justify-content-center"},_hoisted_29=["onClick"],_hoisted_30={class:"flex flex-all-center color-white flex-column software-item"},_hoisted_31=["src"],_hoisted_32={key:2,class:"app-list-container"},_hoisted_33={class:"flex-col"},_hoisted_34={class:"software-item flex flex-space-between"},_hoisted_35={class:"flex-all-center flex"},_hoisted_36=["src"],_hoisted_37={class:"margin-l-10px"},_hoisted_38=["onClick"],_hoisted_39={class:"fit-parent flex flex-align-items-center"},_sfc_main$4={props:{item:Object,actionWindowId:String},setup(t){const e=t;let n=ref("/");const o=1,p=2,y=3;reactive(We({},e.item.data));let _=ref(o),r=reactive({types:[],list:[],current:{},typeIndex:0,installed:[]}),s="http://www.houxinlin.com:8081/",a=ref(null);const f=()=>{apiListAllApplicationType().then(C=>{r.types=C.data,v(0,r.types[0].typeName)})},v=(C,m)=>{if(_.value=o,r.typeIndex=C,r.list=[],m==="\u5DF2\u5B89\u88C5"){_.value=y,g();return}apiListAllApplicationByType(m).then(u=>{r.list=u.data})},g=()=>{refreshApplication()},w=()=>{beginInstall(r.current.software.softwareId)};function E(C){let m=coolWindow.startNewLoadingView("\u5378\u8F7D\u4E2D");apiUnInstallApplication(C).then(u=>{m.closeWindow(),coolWindow.startNewSuccessMessageDialog(u.data.data),clearRefProgressValue(C),g()})}const d=()=>{_.value=o},h=C=>{_.value=p,r.current=r.list[C],a.value=getRefProgressValue(r.current.software.softwareId)};return f(),(C,m)=>(openBlock(),createBlock(_sfc_main$g,{item:t.item,className:"software"},{body:withCtx(()=>[createBaseVNode("aside",null,[createBaseVNode("ul",null,[createBaseVNode("li",{class:normalizeClass(["cursor-pointer hegiht-50px flex flex-align-items-center",{select:unref(r).typeIndex==-1}]),onClick:m[0]||(m[0]=u=>v(-1,"\u5DF2\u5B89\u88C5"))},"\u5DF2\u5B89\u88C5",2),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(r).types,(u,c)=>(openBlock(),createElementBlock("li",{key:u.id,class:normalizeClass(["cursor-pointer hegiht-50px flex flex-align-items-center",{select:unref(r).typeIndex==c}]),onClick:l=>v(c,u.typeName)},toDisplayString(u.typeName),11,_hoisted_1$4))),128))])]),createBaseVNode("div",_hoisted_2$4,[unref(_)==p?(openBlock(),createElementBlock("div",_hoisted_3$2,[createBaseVNode("div",_hoisted_4$1,[createBaseVNode("div",_hoisted_5$1,[createBaseVNode("img",{src:unref(s)+unref(r).current.software.softwareLogoUrl},null,8,_hoisted_6$1),unref(a).value>=0?(openBlock(),createElementBlock("div",_hoisted_7$1,[createBaseVNode("div",{class:"flex flex-all-center",style:normalizeStyle({width:unref(a).value+"%"})},null,4),createBaseVNode("span",_hoisted_8$1,toDisplayString(unref(a)),1)])):createCommentVNode("",!0),unref(a).value<0?(openBlock(),createElementBlock("div",_hoisted_9$1,[unref(a).value==-2?(openBlock(),createElementBlock("button",{key:0,onClick:w},"\u5B89\u88C5")):createCommentVNode("",!0),unref(a).value==-3?(openBlock(),createElementBlock("span",_hoisted_10$1,"\u5DF2\u5B89\u88C5")):createCommentVNode("",!0),unref(a).value==-4?(openBlock(),createElementBlock("span",_hoisted_11$1,"\u5B89\u88C5\u4E2D")):createCommentVNode("",!0),unref(a).value==-5?(openBlock(),createElementBlock("span",{key:3,onClick:w},"\u5B89\u88C5\u5931\u8D25")):createCommentVNode("",!0)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_12$1,[createBaseVNode("div",_hoisted_13$1,[_hoisted_14$1,createBaseVNode("span",_hoisted_15$1,toDisplayString(unref(r).current.software.softwareName),1)]),createBaseVNode("div",_hoisted_16$1,[_hoisted_17$1,createBaseVNode("span",_hoisted_18$1,toDisplayString(unref(sizeFormate)(unref(r).current.software.softwareSize)),1)]),createBaseVNode("div",_hoisted_19$1,[_hoisted_20,createBaseVNode("span",_hoisted_21,toDisplayString(unref(r).current.software.softwareAuthor),1)]),createBaseVNode("div",_hoisted_22,[_hoisted_23,createBaseVNode("span",_hoisted_24,toDisplayString(unref(r).current.software.softwareDesc),1)])])]),createBaseVNode("div",_hoisted_25,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(r).current.screenshots,u=>(openBlock(),createElementBlock("img",{key:u,src:unref(s)+u.imageUrl,alt:""},null,8,_hoisted_26))),128))])])):createCommentVNode("",!0),unref(_)==o?(openBlock(),createElementBlock("div",_hoisted_27,[createBaseVNode("ul",_hoisted_28,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(r).list,(u,c)=>(openBlock(),createElementBlock("li",{key:c,class:"cursor-pointer flex flex-all-center width-height-90px",onClick:l=>h(c)},[createBaseVNode("div",_hoisted_30,[createBaseVNode("img",{class:"wh-40px cover",src:unref(s)+u.software.softwareLogoUrl},null,8,_hoisted_31),createBaseVNode("span",null,toDisplayString(u.software.softwareName),1)])],8,_hoisted_29))),128))])])):createCommentVNode("",!0),unref(_)==y?(openBlock(),createElementBlock("div",_hoisted_32,[createBaseVNode("ul",_hoisted_33,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(applicationState).applications,(u,c)=>(openBlock(),createElementBlock("li",{key:c,class:"app-item padding-10px"},[createBaseVNode("div",_hoisted_34,[createBaseVNode("div",_hoisted_35,[createBaseVNode("img",{class:"wh-40px cover",src:unref(n)+"desktop/webapplication/"+u.applicationId+"/logo.png",alt:""},null,8,_hoisted_36),createBaseVNode("span",_hoisted_37,toDisplayString(u.applicationName),1)]),createBaseVNode("div",null,[createBaseVNode("button",{onClick:l=>E(u.applicationId),class:"base-button color-white red"},"\u5378\u8F7D",8,_hoisted_38)])])]))),128))])])):createCommentVNode("",!0)])]),header:withCtx(()=>[createBaseVNode("header",null,[createBaseVNode("div",_hoisted_39,[unref(_)==p?(openBlock(),createElementBlock("img",{key:0,onClick:d,src:_imports_0})):createCommentVNode("",!0)])])]),_:1},8,["item"]))}},_hoisted_1$3={class:"flex fit-parent color-white flex-column flex-all-center"},_hoisted_2$3=["src"],_hoisted_3$1=createBaseVNode("header",null,"\u81EA\u5B9A\u4E49\u8F6F\u4EF6",-1),_sfc_main$3={props:{item:Object,actionWindowId:String},setup(t){let e=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAAwCAYAAAD+WvNWAAAAAXNSR0IArs4c6QAAAtFJREFUeF7tnF1u2zAQhLXyJSzCaE6RomjvkD4USK6Ro+QaMdCH9g4NiuYUCQzJl7BYyHFiGbJgipwVSHDy6JCrTzOrH5IrSnHmb7PZ3C4Wix/W2i9FUXw6NHkVkb+73e7narVan+s392/kxCruo6f0EZqmubbWPhRF8fUC2pOI3FdV9Yw9Bbdo5HTTybVViJ4fCbTdbm/atv3letCuXVmW35fL5e8pfULbkjNUwdP+oXruE+iQgf980ETk81x3InL6ODTeB6HnPoHquv7j8NgaI3kyxnzDntr5aOTEqozQU7oXp7IsH0PQ2ra9036xJmeIQ8O+KD2laZpHa+1tCJ6IrKuquguJcakvOS8pNO3/KD2lruuX3lB9GsWx9asx5sq3s0s/crqo5N4GpWeXQNb9sOMtjTEnUwKImP0Y5MQqitKTCYT1pRuQZHVB8hGGT6CsXgn4Eg1OINTLaSqDEg7jwQmEGh6nMi3CiURwAuU2MculDIUEQiwRKGANQiI4uZiq5FToIqUS1iBsKCfLORSdCimTUMQauxN5lfGcnfzzKSya84Tfj0VOrOo+eqrOHmNPj9FiVIAJFKMrCTExgRIyK0ZUJlCMriTExARKyKwYUZlAMbqSEBMTKCGzYkRlAsXoSkJMTKCEzIoRlQkUoysJMTGBEjIrRlQmUIyuJMTExdQZzPJZpJwBa3AIH06Wcyg6lVU5R2hhkaIPJ6HJiVU6VE+WtGL92EdDlIoqYA1CIjhZVK/gFGLXCwWsQUgEJz/rATuV3Wc9uX0Il8oHe6lw8tNm8B0ItetFKrudcHMFfAJlt7lCVifMbWjerhjULiJ8hOHvQNydY6qm3OLuqFhugxIO46deLRfaZzeMPzwPuc0vMJEQE3RAnNFQCE4uZSg4hVgiUMDSW8roIocuqs1xwuTEqxzqO8s58J58RMyqnKOvo09hkaIPo6HJiVXdR8//XLE2/SlpbOoAAAAASUVORK5CYII=",self.location).href,n=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABnlJREFUeF7tW3lonEUUf2+yQVqrQbxtlWy/eZtEY1OUeEQoFsEDVLRgK154Id6IiIIo1j9EUEG87xvPUioKKoqieFQlKhFpu9+bjampWo/6h8Zjc+yTiZuySXd3ZnbjtzFmYNk/5vfe+81vZr6Zb+Z9CA0qzHyEiJyHiIcCgP2tB4AvEPFVrfUbSdHCpAKVxmHmCwHgkUqxEfFBrfUlSXBLXABjzPMicrqrcSJyWyaTuc6Fq7c+UQGMMeeIyFO+pBHxGK31O774WnCJCsDMHwJATwDR9UQUgg9w/Q80MQFEpNkY8xsA7BTAcjifz+/S2dk5HGATBE1MAGY+BAA+C2IHAEqp7iiKekPtfPHBAmzatGlJKpVaJiJLAWBPAPikUChsaGtre7la0Gw2u1AptcWX2AQOEQ/QWg+G2vnigwTIZrOrlFJPAMC8qQEQ8f2mpqaV6XR6a6XgzGwAIPImhzigtU774mvBeQvAzK8DwPGuIM3Nzfu1trZ+Xw7HzPcDgPf6LiK3ZzKZa10x66n3EsAYc40l4xnoXSJaXglrjPlFRHbz8PUtES3ywI1DmPk4EVmilBrUWr/ga+cUoK+vb+f58+dvAgBvMoVC4ea2trbVFUbBEcVtb1WOY2NjXe3t7V/6NISZHwOA80uw3xHRQh9bpwC5XK67UCh86uOsBPMqEZ1cyaa3t7e5paXlTgC4rAxmbSqVOiudTv/lEzObza5WSt1UBruGiFa6fDgFYOYLAOBRl6Mp9V49wMwRIi6xvZ1KpT4dHh7e0NHRMRASyxizTkROKWPzKxG1uHw1VAAXOZ/6OI4fQsSLymBzRKRdPpwC/BtTwEUqpD6O43MR0S7Nk0q151Ap0CnAdD8EQxrnizXGXC4idrncv2hT9RkUJIAFT+cy6NuoUJztqAULFhwoIltDdo7OETBBZDo2QqGNSgLvLYAlU+9WOIkGhcYIEsA6r/VlKJRYUvhgAZIillScOQGSUnqmxpkbAZV6xhgzfmEhImNKqS+HhoY2dHV1/T5Te7JWXjuMgDiOOxDRvqkdN8XpFkS8S2t9R63BZqLdJAGqvFqWcn+DiE6YiY2phdN2AeI4PhwRP/ZxgogrtNbrfLCNxjDzaQBwFQB0Wy4i8pxS6saJ7fJ2AZj5FQA4yZNwLp/PL+3s7BzyxDcExsz2wOXeMsG/VkodHUXRN6UC/Fg85vYii4hHaa0/8gI3ALRx48bdU6nUz1VCP0NE54wLkMvlqFAoxCE8lVKXRFH0YIhNktji0H+pWkwiwlkrQBzHNvfgcS8BLIiZZ9UUyGazhymlPqkiQC8Rdc/qh6AxZq2IrKggwllE9OysXgYHBwfn5fP5Z0Xk1CkiXE1EdrM3+Xqcme35etkLjRIH/7mNEDMfiYidIvJHKpV6u/T+cm4rXOkh8b99GUpyrZ4JsebOA2ZCLzSSw9wIaKT6MyF28Agwxtib2CNFxL5f27u49YhoExke1lrbHKD/VAkSgJltupo9KyxbEPFKrfU9jVCAmRcppdpGR0eHt23b1tvT0/OnDw9vAZj5NQBwHoWNjo6mQ5McfIhWwvT39+89NjZ2NwBMygYRkVsymcwNLt9eAthhLyIPuZyN760Rn9Ran+eDrRfDzLsCwAcAcHAFX48Tkc1wqVi8BGDmrwDgIF/CdihGURR0wOLruxTHzPcBwKUO25VEtKbitHUFHhgY2HdkZOQ7F660Xil1RhRFz4fY1IJlZnHZIeJLWutVNQtQY47v9tdNF8Fa67PZ7B5KqZ9c9ojYq7UePxEuV5xToMYs7+VE9K6LXD31xVQ7nyzyt4jo2JoFsIY15PnvRUTO3ikeXB5eXFrftNnkRGT/vQoz22+Lpt5gTbIVkesymcxtdQkQ+KXH+HGzqwVxHD+AiBeXwXknOMVxvAwR36vYOESOoqgdEQt1CWCNfb/1sUfNrsZ7HMB65fgVR6dd/18sE5OVUie6ViMn2VLHzHw2ADxdoYFrmpqarli8ePEP1QTwXLqsi1uJ6HqXmLZ+8+bNu42MjJwpIh0AMGyv+LTW5UTZwV2QANa6v79/SaFQGP9gQkT2QcQ+Efk8k8ms9SFrjPlaRFo9sFuIaCLvzwNeGyRYgNrC/GNlc4PtbPL1kcSGak4A396YLtz/egoUp4HP/j3oIVhP5yQ6BSaITucyWE/jrW1DBLCBp2MjVG/jGypAcTrY9JWat8LTIcDfu7+nX5N9jpMAAAAASUVORK5CYII=",self.location).href,o=reactive({imageUrl:e,tips:"\u8BF7\u5C06\u8F6F\u4EF6\u6258\u653E\u5230\u8FD9\u91CC",imageClass:""});const p=f=>{f.preventDefault()},y=f=>{},_=f=>{f.preventDefault()},r=f=>{},s=f=>{f.preventDefault();let v=f.dataTransfer.files;if(v.length==0)return;let g=new FormData;g.set("file",v[0]);let w={timeout:1e3*60*15,headers:{},onUploadProgress:function(E){let d=Math.round(E.loaded*100/E.total);o.tips=`\u4E0A\u4F20\u4E2D${d}%`}};o.imageUrl=n,o.imageClass="element-rotate",apiInstallCustomApplication(g,w).then(E=>{coolWindow.startNewSuccessMessageDialog(E.data.data),a()}),a()},a=()=>{o.imageUrl=e,o.tips="\u8BF7\u5C06\u8F6F\u4EF6\u6258\u653E\u5230\u8FD9\u91CC",o.imageClass=""};return(f,v)=>(openBlock(),createBlock(_sfc_main$g,{item:t.item,className:"custom-application"},{body:withCtx(()=>[createBaseVNode("div",{onDragstart:y,onDragover:_,onDragleave:r,onDrop:s,class:"fit-parent"},[createBaseVNode("div",_hoisted_1$3,[createBaseVNode("div",null,toDisplayString(unref(o).tips),1),createBaseVNode("img",{onMousedown:p,class:normalizeClass([[unref(o).imageClass],"margin-t-10px"]),src:unref(o).imageUrl,alt:""},null,42,_hoisted_2$3)])],32)]),header:withCtx(()=>[_hoisted_3$1]),_:1},8,["item"]))}},_hoisted_1$2=createBaseVNode("div",{class:"iframe"},[createBaseVNode("iframe",{class:"",src:"https://houxinlin.com/DeveloperCoolDesktop.html",frameborder:"0"})],-1),_hoisted_2$2=createBaseVNode("header",null,"\u5F00\u53D1\u6587\u6863",-1),_sfc_main$2={props:{item:Object,actionWindowId:String},setup(t){return(e,n)=>(openBlock(),createBlock(_sfc_main$g,{item:t.item,className:"developer-doc web"},{body:withCtx(()=>[_hoisted_1$2]),header:withCtx(()=>[_hoisted_2$2]),_:1},8,["item"]))}};var inputDialog_vue_vue_type_style_index_0_lang="";const _hoisted_1$1={class:"item"},_hoisted_2$1=createBaseVNode("header",null,null,-1),_sfc_main$1={props:{item:Object,actionWindowId:String},setup(t){const e=t,n=ref(e.item.data.targetName),o=()=>{wact.closeWindow(e.item.id),e.item.data.callback({targetName:n.value},e.item)};return(p,y)=>(openBlock(),createBlock(_sfc_main$g,{item:t.item,className:"input-dialog",backgroundClass:"window-body-background-green"},{body:withCtx(()=>[createBaseVNode("div",_hoisted_1$1,[_hoisted_2$1,withDirectives(createBaseVNode("input",{class:"base-input","onUpdate:modelValue":y[0]||(y[0]=_=>n.value=_),type:"text"},null,512),[[vModelText,n.value]])]),createBaseVNode("button",{class:"base-button color-white red-a",onClick:y[1]||(y[1]=_=>o())},"\u786E\u5B9A")]),header:withCtx(()=>[createBaseVNode("header",null,toDisplayString(e.item.data.title),1)]),_:1},8,["item"]))}};var vueNotification_common={exports:{}},vue={exports:{}},vue_cjs_prod={};function defaultOnError(t){throw t}function defaultOnWarn(t){}function createCompilerError(t,e,n,o){const p=t,y=new SyntaxError(String(p));return y.code=t,y.loc=e,y}const FRAGMENT=Symbol(""),TELEPORT=Symbol(""),SUSPENSE=Symbol(""),KEEP_ALIVE=Symbol(""),BASE_TRANSITION=Symbol(""),OPEN_BLOCK=Symbol(""),CREATE_BLOCK=Symbol(""),CREATE_ELEMENT_BLOCK=Symbol(""),CREATE_VNODE=Symbol(""),CREATE_ELEMENT_VNODE=Symbol(""),CREATE_COMMENT=Symbol(""),CREATE_TEXT=Symbol(""),CREATE_STATIC=Symbol(""),RESOLVE_COMPONENT=Symbol(""),RESOLVE_DYNAMIC_COMPONENT=Symbol(""),RESOLVE_DIRECTIVE=Symbol(""),RESOLVE_FILTER=Symbol(""),WITH_DIRECTIVES=Symbol(""),RENDER_LIST=Symbol(""),RENDER_SLOT=Symbol(""),CREATE_SLOTS=Symbol(""),TO_DISPLAY_STRING=Symbol(""),MERGE_PROPS=Symbol(""),NORMALIZE_CLASS=Symbol(""),NORMALIZE_STYLE=Symbol(""),NORMALIZE_PROPS=Symbol(""),GUARD_REACTIVE_PROPS=Symbol(""),TO_HANDLERS=Symbol(""),CAMELIZE=Symbol(""),CAPITALIZE=Symbol(""),TO_HANDLER_KEY=Symbol(""),SET_BLOCK_TRACKING=Symbol(""),PUSH_SCOPE_ID=Symbol(""),POP_SCOPE_ID=Symbol(""),WITH_CTX=Symbol(""),UNREF=Symbol(""),IS_REF=Symbol(""),WITH_MEMO=Symbol(""),IS_MEMO_SAME=Symbol(""),helperNameMap={[FRAGMENT]:"Fragment",[TELEPORT]:"Teleport",[SUSPENSE]:"Suspense",[KEEP_ALIVE]:"KeepAlive",[BASE_TRANSITION]:"BaseTransition",[OPEN_BLOCK]:"openBlock",[CREATE_BLOCK]:"createBlock",[CREATE_ELEMENT_BLOCK]:"createElementBlock",[CREATE_VNODE]:"createVNode",[CREATE_ELEMENT_VNODE]:"createElementVNode",[CREATE_COMMENT]:"createCommentVNode",[CREATE_TEXT]:"createTextVNode",[CREATE_STATIC]:"createStaticVNode",[RESOLVE_COMPONENT]:"resolveComponent",[RESOLVE_DYNAMIC_COMPONENT]:"resolveDynamicComponent",[RESOLVE_DIRECTIVE]:"resolveDirective",[RESOLVE_FILTER]:"resolveFilter",[WITH_DIRECTIVES]:"withDirectives",[RENDER_LIST]:"renderList",[RENDER_SLOT]:"renderSlot",[CREATE_SLOTS]:"createSlots",[TO_DISPLAY_STRING]:"toDisplayString",[MERGE_PROPS]:"mergeProps",[NORMALIZE_CLASS]:"normalizeClass",[NORMALIZE_STYLE]:"normalizeStyle",[NORMALIZE_PROPS]:"normalizeProps",[GUARD_REACTIVE_PROPS]:"guardReactiveProps",[TO_HANDLERS]:"toHandlers",[CAMELIZE]:"camelize",[CAPITALIZE]:"capitalize",[TO_HANDLER_KEY]:"toHandlerKey",[SET_BLOCK_TRACKING]:"setBlockTracking",[PUSH_SCOPE_ID]:"pushScopeId",[POP_SCOPE_ID]:"popScopeId",[WITH_CTX]:"withCtx",[UNREF]:"unref",[IS_REF]:"isRef",[WITH_MEMO]:"withMemo",[IS_MEMO_SAME]:"isMemoSame"};function registerRuntimeHelpers(t){Object.getOwnPropertySymbols(t).forEach(e=>{helperNameMap[e]=t[e]})}const locStub={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function createRoot(t,e=locStub){return{type:0,children:t,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:e}}function createVNodeCall(t,e,n,o,p,y,_,r=!1,s=!1,a=!1,f=locStub){return t&&(r?(t.helper(OPEN_BLOCK),t.helper(getVNodeBlockHelper(t.inSSR,a))):t.helper(getVNodeHelper(t.inSSR,a)),_&&t.helper(WITH_DIRECTIVES)),{type:13,tag:e,props:n,children:o,patchFlag:p,dynamicProps:y,directives:_,isBlock:r,disableTracking:s,isComponent:a,loc:f}}function createArrayExpression(t,e=locStub){return{type:17,loc:e,elements:t}}function createObjectExpression(t,e=locStub){return{type:15,loc:e,properties:t}}function createObjectProperty(t,e){return{type:16,loc:locStub,key:isString$2(t)?createSimpleExpression(t,!0):t,value:e}}function createSimpleExpression(t,e=!1,n=locStub,o=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:o}}function createInterpolation(t,e){return{type:5,loc:e,content:isString$2(t)?createSimpleExpression(t,!1,e):t}}function createCompoundExpression(t,e=locStub){return{type:8,loc:e,children:t}}function createCallExpression(t,e=[],n=locStub){return{type:14,loc:n,callee:t,arguments:e}}function createFunctionExpression(t,e=void 0,n=!1,o=!1,p=locStub){return{type:18,params:t,returns:e,newline:n,isSlot:o,loc:p}}function createConditionalExpression(t,e,n,o=!0){return{type:19,test:t,consequent:e,alternate:n,newline:o,loc:locStub}}function createCacheExpression(t,e,n=!1){return{type:20,index:t,value:e,isVNode:n,loc:locStub}}function createBlockStatement(t){return{type:21,body:t,loc:locStub}}function createTemplateLiteral(t){return{type:22,elements:t,loc:locStub}}function createIfStatement(t,e,n){return{type:23,test:t,consequent:e,alternate:n,loc:locStub}}function createAssignmentExpression(t,e){return{type:24,left:t,right:e,loc:locStub}}function createSequenceExpression(t){return{type:25,expressions:t,loc:locStub}}function createReturnStatement(t){return{type:26,returns:t,loc:locStub}}const isStaticExp=t=>t.type===4&&t.isStatic,isBuiltInType=(t,e)=>t===e||t===hyphenate(e);function isCoreComponent(t){if(isBuiltInType(t,"Teleport"))return TELEPORT;if(isBuiltInType(t,"Suspense"))return SUSPENSE;if(isBuiltInType(t,"KeepAlive"))return KEEP_ALIVE;if(isBuiltInType(t,"BaseTransition"))return BASE_TRANSITION}const nonIdentifierRE=/^\d|[^\$\w]/,isSimpleIdentifier=t=>!nonIdentifierRE.test(t),validFirstIdentCharRE=/[A-Za-z_$\xA0-\uFFFF]/,validIdentCharRE=/[\.\?\w$\xA0-\uFFFF]/,whitespaceRE=/\s+[.[]\s*|\s*[.[]\s+/g,isMemberExpressionBrowser=t=>{t=t.trim().replace(whitespaceRE,_=>_.trim());let e=0,n=[],o=0,p=0,y=null;for(let _=0;_<t.length;_++){const r=t.charAt(_);switch(e){case 0:if(r==="[")n.push(e),e=1,o++;else if(r==="(")n.push(e),e=2,p++;else if(!(_===0?validFirstIdentCharRE:validIdentCharRE).test(r))return!1;break;case 1:r==="'"||r==='"'||r==="`"?(n.push(e),e=3,y=r):r==="["?o++:r==="]"&&(--o||(e=n.pop()));break;case 2:if(r==="'"||r==='"'||r==="`")n.push(e),e=3,y=r;else if(r==="(")p++;else if(r===")"){if(_===t.length-1)return!1;--p||(e=n.pop())}break;case 3:r===y&&(e=n.pop(),y=null);break}}return!o&&!p},isMemberExpressionNode=NOOP,isMemberExpression=isMemberExpressionBrowser;function getInnerRange(t,e,n){const p={source:t.source.slice(e,e+n),start:advancePositionWithClone(t.start,t.source,e),end:t.end};return n!=null&&(p.end=advancePositionWithClone(t.start,t.source,e+n)),p}function advancePositionWithClone(t,e,n=e.length){return advancePositionWithMutation(extend$1({},t),e,n)}function advancePositionWithMutation(t,e,n=e.length){let o=0,p=-1;for(let y=0;y<n;y++)e.charCodeAt(y)===10&&(o++,p=y);return t.offset+=n,t.line+=o,t.column=p===-1?t.column+n:n-p,t}function assert(t,e){if(!t)throw new Error(e||"unexpected compiler condition")}function findDir(t,e,n=!1){for(let o=0;o<t.props.length;o++){const p=t.props[o];if(p.type===7&&(n||p.exp)&&(isString$2(e)?p.name===e:e.test(p.name)))return p}}function findProp(t,e,n=!1,o=!1){for(let p=0;p<t.props.length;p++){const y=t.props[p];if(y.type===6){if(n)continue;if(y.name===e&&(y.value||o))return y}else if(y.name==="bind"&&(y.exp||o)&&isStaticArgOf(y.arg,e))return y}}function isStaticArgOf(t,e){return!!(t&&isStaticExp(t)&&t.content===e)}function hasDynamicKeyVBind(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function isText(t){return t.type===5||t.type===2}function isVSlot(t){return t.type===7&&t.name==="slot"}function isTemplateNode(t){return t.type===1&&t.tagType===3}function isSlotOutlet(t){return t.type===1&&t.tagType===2}function getVNodeHelper(t,e){return t||e?CREATE_VNODE:CREATE_ELEMENT_VNODE}function getVNodeBlockHelper(t,e){return t||e?CREATE_BLOCK:CREATE_ELEMENT_BLOCK}const propsHelperSet=new Set([NORMALIZE_PROPS,GUARD_REACTIVE_PROPS]);function getUnnormalizedProps(t,e=[]){if(t&&!isString$2(t)&&t.type===14){const n=t.callee;if(!isString$2(n)&&propsHelperSet.has(n))return getUnnormalizedProps(t.arguments[0],e.concat(t))}return[t,e]}function injectProp(t,e,n){let o,p=t.type===13?t.props:t.arguments[2],y=[],_;if(p&&!isString$2(p)&&p.type===14){const r=getUnnormalizedProps(p);p=r[0],y=r[1],_=y[y.length-1]}if(p==null||isString$2(p))o=createObjectExpression([e]);else if(p.type===14){const r=p.arguments[0];!isString$2(r)&&r.type===15?r.properties.unshift(e):p.callee===TO_HANDLERS?o=createCallExpression(n.helper(MERGE_PROPS),[createObjectExpression([e]),p]):p.arguments.unshift(createObjectExpression([e])),!o&&(o=p)}else if(p.type===15){let r=!1;if(e.key.type===4){const s=e.key.content;r=p.properties.some(a=>a.key.type===4&&a.key.content===s)}r||p.properties.unshift(e),o=p}else o=createCallExpression(n.helper(MERGE_PROPS),[createObjectExpression([e]),p]),_&&_.callee===GUARD_REACTIVE_PROPS&&(_=y[y.length-2]);t.type===13?_?_.arguments[0]=o:t.props=o:_?_.arguments[0]=o:t.arguments[2]=o}function toValidAssetId(t,e){return`_${e}_${t.replace(/[^\w]/g,(n,o)=>n==="-"?"_":t.charCodeAt(o).toString())}`}function hasScopeRef(t,e){if(!t||Object.keys(e).length===0)return!1;switch(t.type){case 1:for(let n=0;n<t.props.length;n++){const o=t.props[n];if(o.type===7&&(hasScopeRef(o.arg,e)||hasScopeRef(o.exp,e)))return!0}return t.children.some(n=>hasScopeRef(n,e));case 11:return hasScopeRef(t.source,e)?!0:t.children.some(n=>hasScopeRef(n,e));case 9:return t.branches.some(n=>hasScopeRef(n,e));case 10:return hasScopeRef(t.condition,e)?!0:t.children.some(n=>hasScopeRef(n,e));case 4:return!t.isStatic&&isSimpleIdentifier(t.content)&&!!e[t.content];case 8:return t.children.some(n=>isObject$1(n)&&hasScopeRef(n,e));case 5:case 12:return hasScopeRef(t.content,e);case 2:case 3:return!1;default:return!1}}function getMemoedVNodeCall(t){return t.type===14&&t.callee===WITH_MEMO?t.arguments[1].returns:t}function makeBlock(t,{helper:e,removeHelper:n,inSSR:o}){t.isBlock||(t.isBlock=!0,n(getVNodeHelper(o,t.isComponent)),e(OPEN_BLOCK),e(getVNodeBlockHelper(o,t.isComponent)))}const deprecationData={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3.vuejs.org/guide/migration/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:t=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${t}.sync\` should be changed to \`v-model:${t}\`.`,link:"https://v3.vuejs.org/guide/migration/v-model.html"},COMPILER_V_BIND_PROP:{message:".prop modifier for v-bind has been removed and no longer necessary. Vue 3 will automatically set a binding as DOM property when appropriate."},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3.vuejs.org/guide/migration/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3.vuejs.org/guide/migration/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3.vuejs.org/guide/migration/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3.vuejs.org/guide/migration/inline-template-attribute.html"},COMPILER_FILTER:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3.vuejs.org/guide/migration/filters.html"}};function getCompatValue(t,e){const n=e.options?e.options.compatConfig:e.compatConfig,o=n&&n[t];return t==="MODE"?o||3:o}function isCompatEnabled(t,e){const n=getCompatValue("MODE",e),o=getCompatValue(t,e);return n===3?o===!0:o!==!1}function checkCompatEnabled(t,e,n,...o){return isCompatEnabled(t,e)}function warnDeprecation(t,e,n,...o){if(getCompatValue(t,e)==="suppress-warning")return;const{message:y,link:_}=deprecationData[t],r=`(deprecation ${t}) ${typeof y=="function"?y(...o):y}${_?`
  Details: ${_}`:""}`,s=new SyntaxError(r);s.code=t,n&&(s.loc=n),e.onWarn(s)}const decodeRE=/&(gt|lt|amp|apos|quot);/g,decodeMap={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},defaultParserOptions={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:NO,isPreTag:NO,isCustomElement:NO,decodeEntities:t=>t.replace(decodeRE,(e,n)=>decodeMap[n]),onError:defaultOnError,onWarn:defaultOnWarn,comments:!1};function baseParse(t,e={}){const n=createParserContext(t,e),o=getCursor(n);return createRoot(parseChildren(n,0,[]),getSelection(n,o))}function createParserContext(t,e){const n=extend$1({},defaultParserOptions);let o;for(o in e)n[o]=e[o]===void 0?defaultParserOptions[o]:e[o];return{options:n,column:1,line:1,offset:0,originalSource:t,source:t,inPre:!1,inVPre:!1,onWarn:n.onWarn}}function parseChildren(t,e,n){const o=last(n),p=o?o.ns:0,y=[];for(;!isEnd(t,e,n);){const r=t.source;let s;if(e===0||e===1){if(!t.inVPre&&startsWith(r,t.options.delimiters[0]))s=parseInterpolation(t,e);else if(e===0&&r[0]==="<")if(r.length===1)emitError(t,5,1);else if(r[1]==="!")startsWith(r,"<!--")?s=parseComment(t):startsWith(r,"<!DOCTYPE")?s=parseBogusComment(t):startsWith(r,"<![CDATA[")?p!==0?s=parseCDATA(t,n):(emitError(t,1),s=parseBogusComment(t)):(emitError(t,11),s=parseBogusComment(t));else if(r[1]==="/")if(r.length===2)emitError(t,5,2);else if(r[2]===">"){emitError(t,14,2),advanceBy(t,3);continue}else if(/[a-z]/i.test(r[2])){emitError(t,23),parseTag(t,1,o);continue}else emitError(t,12,2),s=parseBogusComment(t);else/[a-z]/i.test(r[1])?(s=parseElement(t,n),isCompatEnabled("COMPILER_NATIVE_TEMPLATE",t)&&s&&s.tag==="template"&&!s.props.some(a=>a.type===7&&isSpecialTemplateDirective(a.name))&&(s=s.children)):r[1]==="?"?(emitError(t,21,1),s=parseBogusComment(t)):emitError(t,12,1)}if(s||(s=parseText(t,e)),isArray$5(s))for(let a=0;a<s.length;a++)pushNode(y,s[a]);else pushNode(y,s)}let _=!1;if(e!==2&&e!==1){const r=t.options.whitespace!=="preserve";for(let s=0;s<y.length;s++){const a=y[s];if(!t.inPre&&a.type===2)if(/[^\t\r\n\f ]/.test(a.content))r&&(a.content=a.content.replace(/[\t\r\n\f ]+/g," "));else{const f=y[s-1],v=y[s+1];!f||!v||r&&(f.type===3||v.type===3||f.type===1&&v.type===1&&/[\r\n]/.test(a.content))?(_=!0,y[s]=null):a.content=" "}else a.type===3&&!t.options.comments&&(_=!0,y[s]=null)}if(t.inPre&&o&&t.options.isPreTag(o.tag)){const s=y[0];s&&s.type===2&&(s.content=s.content.replace(/^\r?\n/,""))}}return _?y.filter(Boolean):y}function pushNode(t,e){if(e.type===2){const n=last(t);if(n&&n.type===2&&n.loc.end.offset===e.loc.start.offset){n.content+=e.content,n.loc.end=e.loc.end,n.loc.source+=e.loc.source;return}}t.push(e)}function parseCDATA(t,e){advanceBy(t,9);const n=parseChildren(t,3,e);return t.source.length===0?emitError(t,6):advanceBy(t,3),n}function parseComment(t){const e=getCursor(t);let n;const o=/--(\!)?>/.exec(t.source);if(!o)n=t.source.slice(4),advanceBy(t,t.source.length),emitError(t,7);else{o.index<=3&&emitError(t,0),o[1]&&emitError(t,10),n=t.source.slice(4,o.index);const p=t.source.slice(0,o.index);let y=1,_=0;for(;(_=p.indexOf("<!--",y))!==-1;)advanceBy(t,_-y+1),_+4<p.length&&emitError(t,16),y=_+1;advanceBy(t,o.index+o[0].length-y+1)}return{type:3,content:n,loc:getSelection(t,e)}}function parseBogusComment(t){const e=getCursor(t),n=t.source[1]==="?"?1:2;let o;const p=t.source.indexOf(">");return p===-1?(o=t.source.slice(n),advanceBy(t,t.source.length)):(o=t.source.slice(n,p),advanceBy(t,p+1)),{type:3,content:o,loc:getSelection(t,e)}}function parseElement(t,e){const n=t.inPre,o=t.inVPre,p=last(e),y=parseTag(t,0,p),_=t.inPre&&!n,r=t.inVPre&&!o;if(y.isSelfClosing||t.options.isVoidTag(y.tag))return _&&(t.inPre=!1),r&&(t.inVPre=!1),y;e.push(y);const s=t.options.getTextMode(y,p),a=parseChildren(t,s,e);e.pop();{const f=y.props.find(v=>v.type===6&&v.name==="inline-template");if(f&&checkCompatEnabled("COMPILER_INLINE_TEMPLATE",t,f.loc)){const v=getSelection(t,y.loc.end);f.value={type:2,content:v.source,loc:v}}}if(y.children=a,startsWithEndTagOpen(t.source,y.tag))parseTag(t,1,p);else if(emitError(t,24,0,y.loc.start),t.source.length===0&&y.tag.toLowerCase()==="script"){const f=a[0];f&&startsWith(f.loc.source,"<!--")&&emitError(t,8)}return y.loc=getSelection(t,y.loc.start),_&&(t.inPre=!1),r&&(t.inVPre=!1),y}const isSpecialTemplateDirective=makeMap("if,else,else-if,for,slot");function parseTag(t,e,n){const o=getCursor(t),p=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(t.source),y=p[1],_=t.options.getNamespace(y,n);advanceBy(t,p[0].length),advanceSpaces(t);const r=getCursor(t),s=t.source;t.options.isPreTag(y)&&(t.inPre=!0);let a=parseAttributes(t,e);e===0&&!t.inVPre&&a.some(g=>g.type===7&&g.name==="pre")&&(t.inVPre=!0,extend$1(t,r),t.source=s,a=parseAttributes(t,e).filter(g=>g.name!=="v-pre"));let f=!1;if(t.source.length===0?emitError(t,9):(f=startsWith(t.source,"/>"),e===1&&f&&emitError(t,4),advanceBy(t,f?2:1)),e===1)return;let v=0;return t.inVPre||(y==="slot"?v=2:y==="template"?a.some(g=>g.type===7&&isSpecialTemplateDirective(g.name))&&(v=3):isComponent(y,a,t)&&(v=1)),{type:1,ns:_,tag:y,tagType:v,props:a,isSelfClosing:f,children:[],loc:getSelection(t,o),codegenNode:void 0}}function isComponent(t,e,n){const o=n.options;if(o.isCustomElement(t))return!1;if(t==="component"||/^[A-Z]/.test(t)||isCoreComponent(t)||o.isBuiltInComponent&&o.isBuiltInComponent(t)||o.isNativeTag&&!o.isNativeTag(t))return!0;for(let p=0;p<e.length;p++){const y=e[p];if(y.type===6){if(y.name==="is"&&y.value){if(y.value.content.startsWith("vue:"))return!0;if(checkCompatEnabled("COMPILER_IS_ON_ELEMENT",n,y.loc))return!0}}else{if(y.name==="is")return!0;if(y.name==="bind"&&isStaticArgOf(y.arg,"is")&&!0&&checkCompatEnabled("COMPILER_IS_ON_ELEMENT",n,y.loc))return!0}}}function parseAttributes(t,e){const n=[],o=new Set;for(;t.source.length>0&&!startsWith(t.source,">")&&!startsWith(t.source,"/>");){if(startsWith(t.source,"/")){emitError(t,22),advanceBy(t,1),advanceSpaces(t);continue}e===1&&emitError(t,3);const p=parseAttribute(t,o);p.type===6&&p.value&&p.name==="class"&&(p.value.content=p.value.content.replace(/\s+/g," ").trim()),e===0&&n.push(p),/^[^\t\r\n\f />]/.test(t.source)&&emitError(t,15),advanceSpaces(t)}return n}function parseAttribute(t,e){const n=getCursor(t),p=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(t.source)[0];e.has(p)&&emitError(t,2),e.add(p),p[0]==="="&&emitError(t,19);{const r=/["'<]/g;let s;for(;s=r.exec(p);)emitError(t,17,s.index)}advanceBy(t,p.length);let y;/^[\t\r\n\f ]*=/.test(t.source)&&(advanceSpaces(t),advanceBy(t,1),advanceSpaces(t),y=parseAttributeValue(t),y||emitError(t,13));const _=getSelection(t,n);if(!t.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(p)){const r=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(p);let s=startsWith(p,"."),a=r[1]||(s||startsWith(p,":")?"bind":startsWith(p,"@")?"on":"slot"),f;if(r[2]){const g=a==="slot",w=p.lastIndexOf(r[2]),E=getSelection(t,getNewPosition(t,n,w),getNewPosition(t,n,w+r[2].length+(g&&r[3]||"").length));let d=r[2],h=!0;d.startsWith("[")?(h=!1,d.endsWith("]")?d=d.slice(1,d.length-1):(emitError(t,27),d=d.slice(1))):g&&(d+=r[3]||""),f={type:4,content:d,isStatic:h,constType:h?3:0,loc:E}}if(y&&y.isQuoted){const g=y.loc;g.start.offset++,g.start.column++,g.end=advancePositionWithClone(g.start,y.content),g.source=g.source.slice(1,-1)}const v=r[3]?r[3].slice(1).split("."):[];return s&&v.push("prop"),a==="bind"&&f&&v.includes("sync")&&checkCompatEnabled("COMPILER_V_BIND_SYNC",t,_,f.loc.source)&&(a="model",v.splice(v.indexOf("sync"),1)),{type:7,name:a,exp:y&&{type:4,content:y.content,isStatic:!1,constType:0,loc:y.loc},arg:f,modifiers:v,loc:_}}return!t.inVPre&&startsWith(p,"v-")&&emitError(t,26),{type:6,name:p,value:y&&{type:2,content:y.content,loc:y.loc},loc:_}}function parseAttributeValue(t){const e=getCursor(t);let n;const o=t.source[0],p=o==='"'||o==="'";if(p){advanceBy(t,1);const y=t.source.indexOf(o);y===-1?n=parseTextData(t,t.source.length,4):(n=parseTextData(t,y,4),advanceBy(t,1))}else{const y=/^[^\t\r\n\f >]+/.exec(t.source);if(!y)return;const _=/["'<=`]/g;let r;for(;r=_.exec(y[0]);)emitError(t,18,r.index);n=parseTextData(t,y[0].length,4)}return{content:n,isQuoted:p,loc:getSelection(t,e)}}function parseInterpolation(t,e){const[n,o]=t.options.delimiters,p=t.source.indexOf(o,n.length);if(p===-1){emitError(t,25);return}const y=getCursor(t);advanceBy(t,n.length);const _=getCursor(t),r=getCursor(t),s=p-n.length,a=t.source.slice(0,s),f=parseTextData(t,s,e),v=f.trim(),g=f.indexOf(v);g>0&&advancePositionWithMutation(_,a,g);const w=s-(f.length-v.length-g);return advancePositionWithMutation(r,a,w),advanceBy(t,o.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:v,loc:getSelection(t,_,r)},loc:getSelection(t,y)}}function parseText(t,e){const n=e===3?["]]>"]:["<",t.options.delimiters[0]];let o=t.source.length;for(let _=0;_<n.length;_++){const r=t.source.indexOf(n[_],1);r!==-1&&o>r&&(o=r)}const p=getCursor(t),y=parseTextData(t,o,e);return{type:2,content:y,loc:getSelection(t,p)}}function parseTextData(t,e,n){const o=t.source.slice(0,e);return advanceBy(t,e),n===2||n===3||!o.includes("&")?o:t.options.decodeEntities(o,n===4)}function getCursor(t){const{column:e,line:n,offset:o}=t;return{column:e,line:n,offset:o}}function getSelection(t,e,n){return n=n||getCursor(t),{start:e,end:n,source:t.originalSource.slice(e.offset,n.offset)}}function last(t){return t[t.length-1]}function startsWith(t,e){return t.startsWith(e)}function advanceBy(t,e){const{source:n}=t;advancePositionWithMutation(t,n,e),t.source=n.slice(e)}function advanceSpaces(t){const e=/^[\t\r\n\f ]+/.exec(t.source);e&&advanceBy(t,e[0].length)}function getNewPosition(t,e,n){return advancePositionWithClone(e,t.originalSource.slice(e.offset,n),n)}function emitError(t,e,n,o=getCursor(t)){n&&(o.offset+=n,o.column+=n),t.options.onError(createCompilerError(e,{start:o,end:o,source:""}))}function isEnd(t,e,n){const o=t.source;switch(e){case 0:if(startsWith(o,"</")){for(let p=n.length-1;p>=0;--p)if(startsWithEndTagOpen(o,n[p].tag))return!0}break;case 1:case 2:{const p=last(n);if(p&&startsWithEndTagOpen(o,p.tag))return!0;break}case 3:if(startsWith(o,"]]>"))return!0;break}return!o}function startsWithEndTagOpen(t,e){return startsWith(t,"</")&&t.slice(2,2+e.length).toLowerCase()===e.toLowerCase()&&/[\t\r\n\f />]/.test(t[2+e.length]||">")}function hoistStatic(t,e){walk(t,e,isSingleElementRoot(t,t.children[0]))}function isSingleElementRoot(t,e){const{children:n}=t;return n.length===1&&e.type===1&&!isSlotOutlet(e)}function walk(t,e,n=!1){const{children:o}=t,p=o.length;let y=0;for(let _=0;_<o.length;_++){const r=o[_];if(r.type===1&&r.tagType===0){const s=n?0:getConstantType(r,e);if(s>0){if(s>=2){r.codegenNode.patchFlag=-1+"",r.codegenNode=e.hoist(r.codegenNode),y++;continue}}else{const a=r.codegenNode;if(a.type===13){const f=getPatchFlag(a);if((!f||f===512||f===1)&&getGeneratedPropsConstantType(r,e)>=2){const v=getNodeProps(r);v&&(a.props=e.hoist(v))}a.dynamicProps&&(a.dynamicProps=e.hoist(a.dynamicProps))}}}else r.type===12&&getConstantType(r.content,e)>=2&&(r.codegenNode=e.hoist(r.codegenNode),y++);if(r.type===1){const s=r.tagType===1;s&&e.scopes.vSlot++,walk(r,e),s&&e.scopes.vSlot--}else if(r.type===11)walk(r,e,r.children.length===1);else if(r.type===9)for(let s=0;s<r.branches.length;s++)walk(r.branches[s],e,r.branches[s].children.length===1)}y&&e.transformHoist&&e.transformHoist(o,e,t),y&&y===p&&t.type===1&&t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&isArray$5(t.codegenNode.children)&&(t.codegenNode.children=e.hoist(createArrayExpression(t.codegenNode.children)))}function getConstantType(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const o=n.get(t);if(o!==void 0)return o;const p=t.codegenNode;if(p.type!==13||p.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject")return 0;if(getPatchFlag(p))return n.set(t,0),0;{let r=3;const s=getGeneratedPropsConstantType(t,e);if(s===0)return n.set(t,0),0;s<r&&(r=s);for(let a=0;a<t.children.length;a++){const f=getConstantType(t.children[a],e);if(f===0)return n.set(t,0),0;f<r&&(r=f)}if(r>1)for(let a=0;a<t.props.length;a++){const f=t.props[a];if(f.type===7&&f.name==="bind"&&f.exp){const v=getConstantType(f.exp,e);if(v===0)return n.set(t,0),0;v<r&&(r=v)}}return p.isBlock&&(e.removeHelper(OPEN_BLOCK),e.removeHelper(getVNodeBlockHelper(e.inSSR,p.isComponent)),p.isBlock=!1,e.helper(getVNodeHelper(e.inSSR,p.isComponent))),n.set(t,r),r}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return getConstantType(t.content,e);case 4:return t.constType;case 8:let _=3;for(let r=0;r<t.children.length;r++){const s=t.children[r];if(isString$2(s)||isSymbol$1(s))continue;const a=getConstantType(s,e);if(a===0)return 0;a<_&&(_=a)}return _;default:return 0}}const allowHoistedHelperSet=new Set([NORMALIZE_CLASS,NORMALIZE_STYLE,NORMALIZE_PROPS,GUARD_REACTIVE_PROPS]);function getConstantTypeOfHelperCall(t,e){if(t.type===14&&!isString$2(t.callee)&&allowHoistedHelperSet.has(t.callee)){const n=t.arguments[0];if(n.type===4)return getConstantType(n,e);if(n.type===14)return getConstantTypeOfHelperCall(n,e)}return 0}function getGeneratedPropsConstantType(t,e){let n=3;const o=getNodeProps(t);if(o&&o.type===15){const{properties:p}=o;for(let y=0;y<p.length;y++){const{key:_,value:r}=p[y],s=getConstantType(_,e);if(s===0)return s;s<n&&(n=s);let a;if(r.type===4?a=getConstantType(r,e):r.type===14?a=getConstantTypeOfHelperCall(r,e):a=0,a===0)return a;a<n&&(n=a)}}return n}function getNodeProps(t){const e=t.codegenNode;if(e.type===13)return e.props}function getPatchFlag(t){const e=t.patchFlag;return e?parseInt(e,10):void 0}function createTransformContext(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:o=!1,cacheHandlers:p=!1,nodeTransforms:y=[],directiveTransforms:_={},transformHoist:r=null,isBuiltInComponent:s=NOOP,isCustomElement:a=NOOP,expressionPlugins:f=[],scopeId:v=null,slotted:g=!0,ssr:w=!1,inSSR:E=!1,ssrCssVars:d="",bindingMetadata:h=EMPTY_OBJ,inline:C=!1,isTS:m=!1,onError:u=defaultOnError,onWarn:c=defaultOnWarn,compatConfig:l}){const b=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),S={selfName:b&&capitalize(camelize$1(b[1])),prefixIdentifiers:n,hoistStatic:o,cacheHandlers:p,nodeTransforms:y,directiveTransforms:_,transformHoist:r,isBuiltInComponent:s,isCustomElement:a,expressionPlugins:f,scopeId:v,slotted:g,ssr:w,inSSR:E,ssrCssVars:d,bindingMetadata:h,inline:C,isTS:m,onError:u,onWarn:c,compatConfig:l,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(A){const L=S.helpers.get(A)||0;return S.helpers.set(A,L+1),A},removeHelper(A){const L=S.helpers.get(A);if(L){const T=L-1;T?S.helpers.set(A,T):S.helpers.delete(A)}},helperString(A){return`_${helperNameMap[S.helper(A)]}`},replaceNode(A){S.parent.children[S.childIndex]=S.currentNode=A},removeNode(A){const L=S.parent.children,T=A?L.indexOf(A):S.currentNode?S.childIndex:-1;!A||A===S.currentNode?(S.currentNode=null,S.onNodeRemoved()):S.childIndex>T&&(S.childIndex--,S.onNodeRemoved()),S.parent.children.splice(T,1)},onNodeRemoved:()=>{},addIdentifiers(A){},removeIdentifiers(A){},hoist(A){isString$2(A)&&(A=createSimpleExpression(A)),S.hoists.push(A);const L=createSimpleExpression(`_hoisted_${S.hoists.length}`,!1,A.loc,2);return L.hoisted=A,L},cache(A,L=!1){return createCacheExpression(S.cached++,A,L)}};return S.filters=new Set,S}function transform(t,e){const n=createTransformContext(t,e);traverseNode(t,n),e.hoistStatic&&hoistStatic(t,n),e.ssr||createRootCodegen(t,n),t.helpers=[...n.helpers.keys()],t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.filters=[...n.filters]}function createRootCodegen(t,e){const{helper:n}=e,{children:o}=t;if(o.length===1){const p=o[0];if(isSingleElementRoot(t,p)&&p.codegenNode){const y=p.codegenNode;y.type===13&&makeBlock(y,e),t.codegenNode=y}else t.codegenNode=p}else if(o.length>1){let p=64;PatchFlagNames[64],t.codegenNode=createVNodeCall(e,n(FRAGMENT),void 0,t.children,p+"",void 0,void 0,!0,void 0,!1)}}function traverseChildren(t,e){let n=0;const o=()=>{n--};for(;n<t.children.length;n++){const p=t.children[n];isString$2(p)||(e.parent=t,e.childIndex=n,e.onNodeRemoved=o,traverseNode(p,e))}}function traverseNode(t,e){e.currentNode=t;const{nodeTransforms:n}=e,o=[];for(let y=0;y<n.length;y++){const _=n[y](t,e);if(_&&(isArray$5(_)?o.push(..._):o.push(_)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(CREATE_COMMENT);break;case 5:e.ssr||e.helper(TO_DISPLAY_STRING);break;case 9:for(let y=0;y<t.branches.length;y++)traverseNode(t.branches[y],e);break;case 10:case 11:case 1:case 0:traverseChildren(t,e);break}e.currentNode=t;let p=o.length;for(;p--;)o[p]()}function createStructuralDirectiveTransform(t,e){const n=isString$2(t)?o=>o===t:o=>t.test(o);return(o,p)=>{if(o.type===1){const{props:y}=o;if(o.tagType===3&&y.some(isVSlot))return;const _=[];for(let r=0;r<y.length;r++){const s=y[r];if(s.type===7&&n(s.name)){y.splice(r,1),r--;const a=e(o,s,p);a&&_.push(a)}}return _}}}const PURE_ANNOTATION="/*#__PURE__*/";function createCodegenContext(t,{mode:e="function",prefixIdentifiers:n=e==="module",sourceMap:o=!1,filename:p="template.vue.html",scopeId:y=null,optimizeImports:_=!1,runtimeGlobalName:r="Vue",runtimeModuleName:s="vue",ssrRuntimeModuleName:a="vue/server-renderer",ssr:f=!1,isTS:v=!1,inSSR:g=!1}){const w={mode:e,prefixIdentifiers:n,sourceMap:o,filename:p,scopeId:y,optimizeImports:_,runtimeGlobalName:r,runtimeModuleName:s,ssrRuntimeModuleName:a,ssr:f,isTS:v,inSSR:g,source:t.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(d){return`_${helperNameMap[d]}`},push(d,h){w.code+=d},indent(){E(++w.indentLevel)},deindent(d=!1){d?--w.indentLevel:E(--w.indentLevel)},newline(){E(w.indentLevel)}};function E(d){w.push(`
`+"  ".repeat(d))}return w}function generate(t,e={}){const n=createCodegenContext(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:o,push:p,prefixIdentifiers:y,indent:_,deindent:r,newline:s,scopeId:a,ssr:f}=n,v=t.helpers.length>0,g=!y&&o!=="module";genFunctionPreamble(t,n);const E=f?"ssrRender":"render",h=(f?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(p(`function ${E}(${h}) {`),_(),g&&(p("with (_ctx) {"),_(),v&&(p(`const { ${t.helpers.map(C=>`${helperNameMap[C]}: _${helperNameMap[C]}`).join(", ")} } = _Vue`),p(`
`),s())),t.components.length&&(genAssets(t.components,"component",n),(t.directives.length||t.temps>0)&&s()),t.directives.length&&(genAssets(t.directives,"directive",n),t.temps>0&&s()),t.filters&&t.filters.length&&(s(),genAssets(t.filters,"filter",n),s()),t.temps>0){p("let ");for(let C=0;C<t.temps;C++)p(`${C>0?", ":""}_temp${C}`)}return(t.components.length||t.directives.length||t.temps)&&(p(`
`),s()),f||p("return "),t.codegenNode?genNode(t.codegenNode,n):p("null"),g&&(r(),p("}")),r(),p("}"),{ast:t,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function genFunctionPreamble(t,e){const{ssr:n,prefixIdentifiers:o,push:p,newline:y,runtimeModuleName:_,runtimeGlobalName:r,ssrRuntimeModuleName:s}=e,a=r,f=v=>`${helperNameMap[v]}: _${helperNameMap[v]}`;if(t.helpers.length>0&&(p(`const _Vue = ${a}
`),t.hoists.length)){const v=[CREATE_VNODE,CREATE_ELEMENT_VNODE,CREATE_COMMENT,CREATE_TEXT,CREATE_STATIC].filter(g=>t.helpers.includes(g)).map(f).join(", ");p(`const { ${v} } = _Vue
`)}genHoists(t.hoists,e),y(),p("return ")}function genAssets(t,e,{helper:n,push:o,newline:p,isTS:y}){const _=n(e==="filter"?RESOLVE_FILTER:e==="component"?RESOLVE_COMPONENT:RESOLVE_DIRECTIVE);for(let r=0;r<t.length;r++){let s=t[r];const a=s.endsWith("__self");a&&(s=s.slice(0,-6)),o(`const ${toValidAssetId(s,e)} = ${_}(${JSON.stringify(s)}${a?", true":""})${y?"!":""}`),r<t.length-1&&p()}}function genHoists(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:o,helper:p,scopeId:y,mode:_}=e;o();for(let r=0;r<t.length;r++){const s=t[r];s&&(n(`const _hoisted_${r+1} = `),genNode(s,e),o())}e.pure=!1}function genNodeListAsArray(t,e){const n=t.length>3||!1;e.push("["),n&&e.indent(),genNodeList(t,e,n),n&&e.deindent(),e.push("]")}function genNodeList(t,e,n=!1,o=!0){const{push:p,newline:y}=e;for(let _=0;_<t.length;_++){const r=t[_];isString$2(r)?p(r):isArray$5(r)?genNodeListAsArray(r,e):genNode(r,e),_<t.length-1&&(n?(o&&p(","),y()):o&&p(", "))}}function genNode(t,e){if(isString$2(t)){e.push(t);return}if(isSymbol$1(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:genNode(t.codegenNode,e);break;case 2:genText(t,e);break;case 4:genExpression(t,e);break;case 5:genInterpolation(t,e);break;case 12:genNode(t.codegenNode,e);break;case 8:genCompoundExpression(t,e);break;case 3:genComment(t,e);break;case 13:genVNodeCall(t,e);break;case 14:genCallExpression(t,e);break;case 15:genObjectExpression(t,e);break;case 17:genArrayExpression(t,e);break;case 18:genFunctionExpression(t,e);break;case 19:genConditionalExpression(t,e);break;case 20:genCacheExpression(t,e);break;case 21:genNodeList(t.body,e,!0,!1);break}}function genText(t,e){e.push(JSON.stringify(t.content),t)}function genExpression(t,e){const{content:n,isStatic:o}=t;e.push(o?JSON.stringify(n):n,t)}function genInterpolation(t,e){const{push:n,helper:o,pure:p}=e;p&&n(PURE_ANNOTATION),n(`${o(TO_DISPLAY_STRING)}(`),genNode(t.content,e),n(")")}function genCompoundExpression(t,e){for(let n=0;n<t.children.length;n++){const o=t.children[n];isString$2(o)?e.push(o):genNode(o,e)}}function genExpressionAsPropertyKey(t,e){const{push:n}=e;if(t.type===8)n("["),genCompoundExpression(t,e),n("]");else if(t.isStatic){const o=isSimpleIdentifier(t.content)?t.content:JSON.stringify(t.content);n(o,t)}else n(`[${t.content}]`,t)}function genComment(t,e){const{push:n,helper:o,pure:p}=e;p&&n(PURE_ANNOTATION),n(`${o(CREATE_COMMENT)}(${JSON.stringify(t.content)})`,t)}function genVNodeCall(t,e){const{push:n,helper:o,pure:p}=e,{tag:y,props:_,children:r,patchFlag:s,dynamicProps:a,directives:f,isBlock:v,disableTracking:g,isComponent:w}=t;f&&n(o(WITH_DIRECTIVES)+"("),v&&n(`(${o(OPEN_BLOCK)}(${g?"true":""}), `),p&&n(PURE_ANNOTATION);const E=v?getVNodeBlockHelper(e.inSSR,w):getVNodeHelper(e.inSSR,w);n(o(E)+"(",t),genNodeList(genNullableArgs([y,_,r,s,a]),e),n(")"),v&&n(")"),f&&(n(", "),genNode(f,e),n(")"))}function genNullableArgs(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(n=>n||"null")}function genCallExpression(t,e){const{push:n,helper:o,pure:p}=e,y=isString$2(t.callee)?t.callee:o(t.callee);p&&n(PURE_ANNOTATION),n(y+"(",t),genNodeList(t.arguments,e),n(")")}function genObjectExpression(t,e){const{push:n,indent:o,deindent:p,newline:y}=e,{properties:_}=t;if(!_.length){n("{}",t);return}const r=_.length>1||!1;n(r?"{":"{ "),r&&o();for(let s=0;s<_.length;s++){const{key:a,value:f}=_[s];genExpressionAsPropertyKey(a,e),n(": "),genNode(f,e),s<_.length-1&&(n(","),y())}r&&p(),n(r?"}":" }")}function genArrayExpression(t,e){genNodeListAsArray(t.elements,e)}function genFunctionExpression(t,e){const{push:n,indent:o,deindent:p}=e,{params:y,returns:_,body:r,newline:s,isSlot:a}=t;a&&n(`_${helperNameMap[WITH_CTX]}(`),n("(",t),isArray$5(y)?genNodeList(y,e):y&&genNode(y,e),n(") => "),(s||r)&&(n("{"),o()),_?(s&&n("return "),isArray$5(_)?genNodeListAsArray(_,e):genNode(_,e)):r&&genNode(r,e),(s||r)&&(p(),n("}")),a&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}function genConditionalExpression(t,e){const{test:n,consequent:o,alternate:p,newline:y}=t,{push:_,indent:r,deindent:s,newline:a}=e;if(n.type===4){const v=!isSimpleIdentifier(n.content);v&&_("("),genExpression(n,e),v&&_(")")}else _("("),genNode(n,e),_(")");y&&r(),e.indentLevel++,y||_(" "),_("? "),genNode(o,e),e.indentLevel--,y&&a(),y||_(" "),_(": ");const f=p.type===19;f||e.indentLevel++,genNode(p,e),f||e.indentLevel--,y&&s(!0)}function genCacheExpression(t,e){const{push:n,helper:o,indent:p,deindent:y,newline:_}=e;n(`_cache[${t.index}] || (`),t.isVNode&&(p(),n(`${o(SET_BLOCK_TRACKING)}(-1),`),_()),n(`_cache[${t.index}] = `),genNode(t.value,e),t.isVNode&&(n(","),_(),n(`${o(SET_BLOCK_TRACKING)}(1),`),_(),n(`_cache[${t.index}]`),y()),n(")")}function walkIdentifiers(t,e,n=!1,o=[],p=Object.create(null)){}function isReferencedIdentifier(t,e,n){return!1}function isInDestructureAssignment(t,e){if(t&&(t.type==="ObjectProperty"||t.type==="ArrayPattern")){let n=e.length;for(;n--;){const o=e[n];if(o.type==="AssignmentExpression")return!0;if(o.type!=="ObjectProperty"&&!o.type.endsWith("Pattern"))break}}return!1}function walkFunctionParams(t,e){for(const n of t.params)for(const o of extractIdentifiers(n))e(o)}function walkBlockDeclarations(t,e){for(const n of t.body)if(n.type==="VariableDeclaration"){if(n.declare)continue;for(const o of n.declarations)for(const p of extractIdentifiers(o.id))e(p)}else if(n.type==="FunctionDeclaration"||n.type==="ClassDeclaration"){if(n.declare||!n.id)continue;e(n.id)}}function extractIdentifiers(t,e=[]){switch(t.type){case"Identifier":e.push(t);break;case"MemberExpression":let n=t;for(;n.type==="MemberExpression";)n=n.object;e.push(n);break;case"ObjectPattern":for(const o of t.properties)o.type==="RestElement"?extractIdentifiers(o.argument,e):extractIdentifiers(o.value,e);break;case"ArrayPattern":t.elements.forEach(o=>{o&&extractIdentifiers(o,e)});break;case"RestElement":extractIdentifiers(t.argument,e);break;case"AssignmentPattern":extractIdentifiers(t.left,e);break}return e}const isFunctionType=t=>/Function(?:Expression|Declaration)$|Method$/.test(t.type),isStaticProperty=t=>t&&(t.type==="ObjectProperty"||t.type==="ObjectMethod")&&!t.computed,isStaticPropertyKey=(t,e)=>isStaticProperty(e)&&e.key===t;new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const transformExpression=(t,e)=>{if(t.type===5)t.content=processExpression(t.content,e);else if(t.type===1)for(let n=0;n<t.props.length;n++){const o=t.props[n];if(o.type===7&&o.name!=="for"){const p=o.exp,y=o.arg;p&&p.type===4&&!(o.name==="on"&&y)&&(o.exp=processExpression(p,e,o.name==="slot")),y&&y.type===4&&!y.isStatic&&(o.arg=processExpression(y,e))}}};function processExpression(t,e,n=!1,o=!1,p=Object.create(e.identifiers)){return t}const transformIf=createStructuralDirectiveTransform(/^(if|else|else-if)$/,(t,e,n)=>processIf(t,e,n,(o,p,y)=>{const _=n.parent.children;let r=_.indexOf(o),s=0;for(;r-->=0;){const a=_[r];a&&a.type===9&&(s+=a.branches.length)}return()=>{if(y)o.codegenNode=createCodegenNodeForBranch(p,s,n);else{const a=getParentCondition(o.codegenNode);a.alternate=createCodegenNodeForBranch(p,s+o.branches.length-1,n)}}}));function processIf(t,e,n,o){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const p=e.exp?e.exp.loc:t.loc;n.onError(createCompilerError(28,e.loc)),e.exp=createSimpleExpression("true",!1,p)}if(e.name==="if"){const p=createIfBranch(t,e),y={type:9,loc:t.loc,branches:[p]};if(n.replaceNode(y),o)return o(y,p,!0)}else{const p=n.parent.children;let y=p.indexOf(t);for(;y-->=-1;){const _=p[y];if(_&&_.type===2&&!_.content.trim().length){n.removeNode(_);continue}if(_&&_.type===9){e.name==="else-if"&&_.branches[_.branches.length-1].condition===void 0&&n.onError(createCompilerError(30,t.loc)),n.removeNode();const r=createIfBranch(t,e);_.branches.push(r);const s=o&&o(_,r,!1);traverseNode(r,n),s&&s(),n.currentNode=null}else n.onError(createCompilerError(30,t.loc));break}}}function createIfBranch(t,e){return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:t.tagType===3&&!findDir(t,"for")?t.children:[t],userKey:findProp(t,"key")}}function createCodegenNodeForBranch(t,e,n){return t.condition?createConditionalExpression(t.condition,createChildrenCodegenNode(t,e,n),createCallExpression(n.helper(CREATE_COMMENT),['""',"true"])):createChildrenCodegenNode(t,e,n)}function createChildrenCodegenNode(t,e,n){const{helper:o}=n,p=createObjectProperty("key",createSimpleExpression(`${e}`,!1,locStub,2)),{children:y}=t,_=y[0];if(y.length!==1||_.type!==1)if(y.length===1&&_.type===11){const s=_.codegenNode;return injectProp(s,p,n),s}else{let s=64;return PatchFlagNames[64],createVNodeCall(n,o(FRAGMENT),createObjectExpression([p]),y,s+"",void 0,void 0,!0,!1,!1,t.loc)}else{const s=_.codegenNode,a=getMemoedVNodeCall(s);return a.type===13&&makeBlock(a,n),injectProp(a,p,n),s}}function getParentCondition(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const transformFor=createStructuralDirectiveTransform("for",(t,e,n)=>{const{helper:o,removeHelper:p}=n;return processFor(t,e,n,y=>{const _=createCallExpression(o(RENDER_LIST),[y.source]),r=isTemplateNode(t),s=findDir(t,"memo"),a=findProp(t,"key"),f=a&&(a.type===6?createSimpleExpression(a.value.content,!0):a.exp),v=a?createObjectProperty("key",f):null,g=y.source.type===4&&y.source.constType>0,w=g?64:a?128:256;return y.codegenNode=createVNodeCall(n,o(FRAGMENT),void 0,_,w+"",void 0,void 0,!0,!g,!1,t.loc),()=>{let E;const{children:d}=y,h=d.length!==1||d[0].type!==1,C=isSlotOutlet(t)?t:r&&t.children.length===1&&isSlotOutlet(t.children[0])?t.children[0]:null;if(C?(E=C.codegenNode,r&&v&&injectProp(E,v,n)):h?E=createVNodeCall(n,o(FRAGMENT),v?createObjectExpression([v]):void 0,t.children,64+"",void 0,void 0,!0,void 0,!1):(E=d[0].codegenNode,r&&v&&injectProp(E,v,n),E.isBlock!==!g&&(E.isBlock?(p(OPEN_BLOCK),p(getVNodeBlockHelper(n.inSSR,E.isComponent))):p(getVNodeHelper(n.inSSR,E.isComponent))),E.isBlock=!g,E.isBlock?(o(OPEN_BLOCK),o(getVNodeBlockHelper(n.inSSR,E.isComponent))):o(getVNodeHelper(n.inSSR,E.isComponent))),s){const m=createFunctionExpression(createForLoopParams(y.parseResult,[createSimpleExpression("_cached")]));m.body=createBlockStatement([createCompoundExpression(["const _memo = (",s.exp,")"]),createCompoundExpression(["if (_cached",...f?[" && _cached.key === ",f]:[],` && ${n.helperString(IS_MEMO_SAME)}(_cached, _memo)) return _cached`]),createCompoundExpression(["const _item = ",E]),createSimpleExpression("_item.memo = _memo"),createSimpleExpression("return _item")]),_.arguments.push(m,createSimpleExpression("_cache"),createSimpleExpression(String(n.cached++)))}else _.arguments.push(createFunctionExpression(createForLoopParams(y.parseResult),E,!0))}})});function processFor(t,e,n,o){if(!e.exp){n.onError(createCompilerError(31,e.loc));return}const p=parseForExpression(e.exp);if(!p){n.onError(createCompilerError(32,e.loc));return}const{addIdentifiers:y,removeIdentifiers:_,scopes:r}=n,{source:s,value:a,key:f,index:v}=p,g={type:11,loc:e.loc,source:s,valueAlias:a,keyAlias:f,objectIndexAlias:v,parseResult:p,children:isTemplateNode(t)?t.children:[t]};n.replaceNode(g),r.vFor++;const w=o&&o(g);return()=>{r.vFor--,w&&w()}}const forAliasRE=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,forIteratorRE=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,stripParensRE=/^\(|\)$/g;function parseForExpression(t,e){const n=t.loc,o=t.content,p=o.match(forAliasRE);if(!p)return;const[,y,_]=p,r={source:createAliasExpression(n,_.trim(),o.indexOf(_,y.length)),value:void 0,key:void 0,index:void 0};let s=y.trim().replace(stripParensRE,"").trim();const a=y.indexOf(s),f=s.match(forIteratorRE);if(f){s=s.replace(forIteratorRE,"").trim();const v=f[1].trim();let g;if(v&&(g=o.indexOf(v,a+s.length),r.key=createAliasExpression(n,v,g)),f[2]){const w=f[2].trim();w&&(r.index=createAliasExpression(n,w,o.indexOf(w,r.key?g+v.length:a+s.length)))}}return s&&(r.value=createAliasExpression(n,s,a)),r}function createAliasExpression(t,e,n){return createSimpleExpression(e,!1,getInnerRange(t,n,e.length))}function createForLoopParams({value:t,key:e,index:n},o=[]){return createParamsList([t,e,n,...o])}function createParamsList(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((n,o)=>n||createSimpleExpression("_".repeat(o+1),!1))}const defaultFallback=createSimpleExpression("undefined",!1),trackSlotScopes=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const n=findDir(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},trackVForSlotScopes=(t,e)=>{let n;if(isTemplateNode(t)&&t.props.some(isVSlot)&&(n=findDir(t,"for"))){const o=n.parseResult=parseForExpression(n.exp);if(o){const{value:p,key:y,index:_}=o,{addIdentifiers:r,removeIdentifiers:s}=e;return p&&r(p),y&&r(y),_&&r(_),()=>{p&&s(p),y&&s(y),_&&s(_)}}}},buildClientSlotFn=(t,e,n)=>createFunctionExpression(t,e,!1,!0,e.length?e[0].loc:n);function buildSlots(t,e,n=buildClientSlotFn){e.helper(WITH_CTX);const{children:o,loc:p}=t,y=[],_=[];let r=e.scopes.vSlot>0||e.scopes.vFor>0;const s=findDir(t,"slot",!0);if(s){const{arg:d,exp:h}=s;d&&!isStaticExp(d)&&(r=!0),y.push(createObjectProperty(d||createSimpleExpression("default",!0),n(h,o,p)))}let a=!1,f=!1;const v=[],g=new Set;for(let d=0;d<o.length;d++){const h=o[d];let C;if(!isTemplateNode(h)||!(C=findDir(h,"slot",!0))){h.type!==3&&v.push(h);continue}if(s){e.onError(createCompilerError(37,C.loc));break}a=!0;const{children:m,loc:u}=h,{arg:c=createSimpleExpression("default",!0),exp:l,loc:b}=C;let S;isStaticExp(c)?S=c?c.content:"default":r=!0;const A=n(l,m,u);let L,T,B;if(L=findDir(h,"if"))r=!0,_.push(createConditionalExpression(L.exp,buildDynamicSlot(c,A),defaultFallback));else if(T=findDir(h,/^else(-if)?$/,!0)){let O=d,x;for(;O--&&(x=o[O],x.type===3););if(x&&isTemplateNode(x)&&findDir(x,"if")){o.splice(d,1),d--;let I=_[_.length-1];for(;I.alternate.type===19;)I=I.alternate;I.alternate=T.exp?createConditionalExpression(T.exp,buildDynamicSlot(c,A),defaultFallback):buildDynamicSlot(c,A)}else e.onError(createCompilerError(30,T.loc))}else if(B=findDir(h,"for")){r=!0;const O=B.parseResult||parseForExpression(B.exp);O?_.push(createCallExpression(e.helper(RENDER_LIST),[O.source,createFunctionExpression(createForLoopParams(O),buildDynamicSlot(c,A),!0)])):e.onError(createCompilerError(32,B.loc))}else{if(S){if(g.has(S)){e.onError(createCompilerError(38,b));continue}g.add(S),S==="default"&&(f=!0)}y.push(createObjectProperty(c,A))}}if(!s){const d=(h,C)=>{const m=n(h,C,p);return e.compatConfig&&(m.isNonScopedSlot=!0),createObjectProperty("default",m)};a?v.length&&v.some(h=>isNonWhitespaceContent(h))&&(f?e.onError(createCompilerError(39,v[0].loc)):y.push(d(void 0,v))):y.push(d(void 0,o))}const w=r?2:hasForwardedSlots(t.children)?3:1;let E=createObjectExpression(y.concat(createObjectProperty("_",createSimpleExpression(w+"",!1))),p);return _.length&&(E=createCallExpression(e.helper(CREATE_SLOTS),[E,createArrayExpression(_)])),{slots:E,hasDynamicSlots:r}}function buildDynamicSlot(t,e){return createObjectExpression([createObjectProperty("name",t),createObjectProperty("fn",e)])}function hasForwardedSlots(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(n.tagType===2||hasForwardedSlots(n.children))return!0;break;case 9:if(hasForwardedSlots(n.branches))return!0;break;case 10:case 11:if(hasForwardedSlots(n.children))return!0;break}}return!1}function isNonWhitespaceContent(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():isNonWhitespaceContent(t.content)}const directiveImportMap=new WeakMap,transformElement=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:o,props:p}=t,y=t.tagType===1;let _=y?resolveComponentType(t,e):`"${o}"`;const r=isObject$1(_)&&_.callee===RESOLVE_DYNAMIC_COMPONENT;let s,a,f,v=0,g,w,E,d=r||_===TELEPORT||_===SUSPENSE||!y&&(o==="svg"||o==="foreignObject");if(p.length>0){const h=buildProps(t,e);s=h.props,v=h.patchFlag,w=h.dynamicPropNames;const C=h.directives;E=C&&C.length?createArrayExpression(C.map(m=>buildDirectiveArgs(m,e))):void 0,h.shouldUseBlock&&(d=!0)}if(t.children.length>0)if(_===KEEP_ALIVE&&(d=!0,v|=1024),y&&_!==TELEPORT&&_!==KEEP_ALIVE){const{slots:C,hasDynamicSlots:m}=buildSlots(t,e);a=C,m&&(v|=1024)}else if(t.children.length===1&&_!==TELEPORT){const C=t.children[0],m=C.type,u=m===5||m===8;u&&getConstantType(C,e)===0&&(v|=1),u||m===2?a=C:a=t.children}else a=t.children;v!==0&&(f=String(v),w&&w.length&&(g=stringifyDynamicPropNames(w))),t.codegenNode=createVNodeCall(e,_,s,a,f,g,E,!!d,!1,y,t.loc)};function resolveComponentType(t,e,n=!1){let{tag:o}=t;const p=isComponentTag(o),y=findProp(t,"is");if(y)if(p||isCompatEnabled("COMPILER_IS_ON_ELEMENT",e)){const s=y.type===6?y.value&&createSimpleExpression(y.value.content,!0):y.exp;if(s)return createCallExpression(e.helper(RESOLVE_DYNAMIC_COMPONENT),[s])}else y.type===6&&y.value.content.startsWith("vue:")&&(o=y.value.content.slice(4));const _=!p&&findDir(t,"is");if(_&&_.exp)return createCallExpression(e.helper(RESOLVE_DYNAMIC_COMPONENT),[_.exp]);const r=isCoreComponent(o)||e.isBuiltInComponent(o);return r?(n||e.helper(r),r):(e.helper(RESOLVE_COMPONENT),e.components.add(o),toValidAssetId(o,"component"))}function buildProps(t,e,n=t.props,o=!1){const{tag:p,loc:y,children:_}=t,r=t.tagType===1;let s=[];const a=[],f=[],v=_.length>0;let g=!1,w=0,E=!1,d=!1,h=!1,C=!1,m=!1,u=!1;const c=[],l=({key:S,value:A})=>{if(isStaticExp(S)){const L=S.content,T=isOn(L);if(!r&&T&&L.toLowerCase()!=="onclick"&&L!=="onUpdate:modelValue"&&!isReservedProp(L)&&(C=!0),T&&isReservedProp(L)&&(u=!0),A.type===20||(A.type===4||A.type===8)&&getConstantType(A,e)>0)return;L==="ref"?E=!0:L==="class"?d=!0:L==="style"?h=!0:L!=="key"&&!c.includes(L)&&c.push(L),r&&(L==="class"||L==="style")&&!c.includes(L)&&c.push(L)}else m=!0};for(let S=0;S<n.length;S++){const A=n[S];if(A.type===6){const{loc:L,name:T,value:B}=A;let O=!0;if(T==="ref"&&(E=!0,e.scopes.vFor>0&&s.push(createObjectProperty(createSimpleExpression("ref_for",!0),createSimpleExpression("true")))),T==="is"&&(isComponentTag(p)||B&&B.content.startsWith("vue:")||isCompatEnabled("COMPILER_IS_ON_ELEMENT",e)))continue;s.push(createObjectProperty(createSimpleExpression(T,!0,getInnerRange(L,0,T.length)),createSimpleExpression(B?B.content:"",O,B?B.loc:L)))}else{const{name:L,arg:T,exp:B,loc:O}=A,x=L==="bind",I=L==="on";if(L==="slot"){r||e.onError(createCompilerError(40,O));continue}if(L==="once"||L==="memo"||L==="is"||x&&isStaticArgOf(T,"is")&&(isComponentTag(p)||isCompatEnabled("COMPILER_IS_ON_ELEMENT",e))||I&&o)continue;if((x&&isStaticArgOf(T,"key")||I&&v&&isStaticArgOf(T,"vue:before-update"))&&(g=!0),x&&isStaticArgOf(T,"ref")&&e.scopes.vFor>0&&s.push(createObjectProperty(createSimpleExpression("ref_for",!0),createSimpleExpression("true"))),!T&&(x||I)){if(m=!0,B)if(s.length&&(a.push(createObjectExpression(dedupeProperties(s),y)),s=[]),x){if(isCompatEnabled("COMPILER_V_BIND_OBJECT_ORDER",e)){a.unshift(B);continue}a.push(B)}else a.push({type:14,loc:O,callee:e.helper(TO_HANDLERS),arguments:[B]});else e.onError(createCompilerError(x?34:35,O));continue}const R=e.directiveTransforms[L];if(R){const{props:F,needRuntime:D}=R(A,t,e);!o&&F.forEach(l),s.push(...F),D&&(f.push(A),isSymbol$1(D)&&directiveImportMap.set(A,D))}else f.push(A),v&&(g=!0)}}let b;if(a.length?(s.length&&a.push(createObjectExpression(dedupeProperties(s),y)),a.length>1?b=createCallExpression(e.helper(MERGE_PROPS),a,y):b=a[0]):s.length&&(b=createObjectExpression(dedupeProperties(s),y)),m?w|=16:(d&&!r&&(w|=2),h&&!r&&(w|=4),c.length&&(w|=8),C&&(w|=32)),!g&&(w===0||w===32)&&(E||u||f.length>0)&&(w|=512),!e.inSSR&&b)switch(b.type){case 15:let S=-1,A=-1,L=!1;for(let O=0;O<b.properties.length;O++){const x=b.properties[O].key;isStaticExp(x)?x.content==="class"?S=O:x.content==="style"&&(A=O):x.isHandlerKey||(L=!0)}const T=b.properties[S],B=b.properties[A];L?b=createCallExpression(e.helper(NORMALIZE_PROPS),[b]):(T&&!isStaticExp(T.value)&&(T.value=createCallExpression(e.helper(NORMALIZE_CLASS),[T.value])),B&&!isStaticExp(B.value)&&(h||B.value.type===17)&&(B.value=createCallExpression(e.helper(NORMALIZE_STYLE),[B.value])));break;case 14:break;default:b=createCallExpression(e.helper(NORMALIZE_PROPS),[createCallExpression(e.helper(GUARD_REACTIVE_PROPS),[b])]);break}return{props:b,directives:f,patchFlag:w,dynamicPropNames:c,shouldUseBlock:g}}function dedupeProperties(t){const e=new Map,n=[];for(let o=0;o<t.length;o++){const p=t[o];if(p.key.type===8||!p.key.isStatic){n.push(p);continue}const y=p.key.content,_=e.get(y);_?(y==="style"||y==="class"||isOn(y))&&mergeAsArray(_,p):(e.set(y,p),n.push(p))}return n}function mergeAsArray(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=createArrayExpression([t.value,e.value],t.loc)}function buildDirectiveArgs(t,e){const n=[],o=directiveImportMap.get(t);o?n.push(e.helperString(o)):(e.helper(RESOLVE_DIRECTIVE),e.directives.add(t.name),n.push(toValidAssetId(t.name,"directive")));const{loc:p}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const y=createSimpleExpression("true",!1,p);n.push(createObjectExpression(t.modifiers.map(_=>createObjectProperty(_,y)),p))}return createArrayExpression(n,t.loc)}function stringifyDynamicPropNames(t){let e="[";for(let n=0,o=t.length;n<o;n++)e+=JSON.stringify(t[n]),n<o-1&&(e+=", ");return e+"]"}function isComponentTag(t){return t==="component"||t==="Component"}const cacheStringFunction=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(e,n)=>n?n.toUpperCase():"")),transformSlotOutlet=(t,e)=>{if(isSlotOutlet(t)){const{children:n,loc:o}=t,{slotName:p,slotProps:y}=processSlotOutlet(t,e),_=[e.prefixIdentifiers?"_ctx.$slots":"$slots",p,"{}","undefined","true"];let r=2;y&&(_[2]=y,r=3),n.length&&(_[3]=createFunctionExpression([],n,!1,!1,o),r=4),e.scopeId&&!e.slotted&&(r=5),_.splice(r),t.codegenNode=createCallExpression(e.helper(RENDER_SLOT),_,o)}};function processSlotOutlet(t,e){let n='"default"',o;const p=[];for(let y=0;y<t.props.length;y++){const _=t.props[y];_.type===6?_.value&&(_.name==="name"?n=JSON.stringify(_.value.content):(_.name=camelize(_.name),p.push(_))):_.name==="bind"&&isStaticArgOf(_.arg,"name")?_.exp&&(n=_.exp):(_.name==="bind"&&_.arg&&isStaticExp(_.arg)&&(_.arg.content=camelize(_.arg.content)),p.push(_))}if(p.length>0){const{props:y,directives:_}=buildProps(t,e,p);o=y,_.length&&e.onError(createCompilerError(36,_[0].loc))}return{slotName:n,slotProps:o}}const fnExpRE=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,transformOn$1=(t,e,n,o)=>{const{loc:p,modifiers:y,arg:_}=t;!t.exp&&!y.length&&n.onError(createCompilerError(35,p));let r;if(_.type===4)if(_.isStatic){let v=_.content;v.startsWith("vue:")&&(v=`vnode-${v.slice(4)}`),r=createSimpleExpression(toHandlerKey(camelize$1(v)),!0,_.loc)}else r=createCompoundExpression([`${n.helperString(TO_HANDLER_KEY)}(`,_,")"]);else r=_,r.children.unshift(`${n.helperString(TO_HANDLER_KEY)}(`),r.children.push(")");let s=t.exp;s&&!s.content.trim()&&(s=void 0);let a=n.cacheHandlers&&!s&&!n.inVOnce;if(s){const v=isMemberExpression(s.content),g=!(v||fnExpRE.test(s.content)),w=s.content.includes(";");(g||a&&v)&&(s=createCompoundExpression([`${g?"$event":"(...args)"} => ${w?"{":"("}`,s,w?"}":")"]))}let f={props:[createObjectProperty(r,s||createSimpleExpression("() => {}",!1,p))]};return o&&(f=o(f)),a&&(f.props[0].value=n.cache(f.props[0].value)),f.props.forEach(v=>v.key.isHandlerKey=!0),f},transformBind=(t,e,n)=>{const{exp:o,modifiers:p,loc:y}=t,_=t.arg;return _.type!==4?(_.children.unshift("("),_.children.push(') || ""')):_.isStatic||(_.content=`${_.content} || ""`),p.includes("camel")&&(_.type===4?_.isStatic?_.content=camelize$1(_.content):_.content=`${n.helperString(CAMELIZE)}(${_.content})`:(_.children.unshift(`${n.helperString(CAMELIZE)}(`),_.children.push(")"))),n.inSSR||(p.includes("prop")&&injectPrefix(_,"."),p.includes("attr")&&injectPrefix(_,"^")),!o||o.type===4&&!o.content.trim()?(n.onError(createCompilerError(34,y)),{props:[createObjectProperty(_,createSimpleExpression("",!0,y))]}):{props:[createObjectProperty(_,o)]}},injectPrefix=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},transformText=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const n=t.children;let o,p=!1;for(let y=0;y<n.length;y++){const _=n[y];if(isText(_)){p=!0;for(let r=y+1;r<n.length;r++){const s=n[r];if(isText(s))o||(o=n[y]={type:8,loc:_.loc,children:[_]}),o.children.push(" + ",s),n.splice(r,1),r--;else{o=void 0;break}}}}if(!(!p||n.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(y=>y.type===7&&!e.directiveTransforms[y.name])&&t.tag!=="template")))for(let y=0;y<n.length;y++){const _=n[y];if(isText(_)||_.type===8){const r=[];(_.type!==2||_.content!==" ")&&r.push(_),!e.ssr&&getConstantType(_,e)===0&&r.push(1+""),n[y]={type:12,content:_,loc:_.loc,codegenNode:createCallExpression(e.helper(CREATE_TEXT),r)}}}}},seen=new WeakSet,transformOnce=(t,e)=>{if(t.type===1&&findDir(t,"once",!0))return seen.has(t)||e.inVOnce?void 0:(seen.add(t),e.inVOnce=!0,e.helper(SET_BLOCK_TRACKING),()=>{e.inVOnce=!1;const n=e.currentNode;n.codegenNode&&(n.codegenNode=e.cache(n.codegenNode,!0))})},transformModel$1=(t,e,n)=>{const{exp:o,arg:p}=t;if(!o)return n.onError(createCompilerError(41,t.loc)),createTransformProps();const y=o.loc.source,_=o.type===4?o.content:y;n.bindingMetadata[y];const r=!1;if(!_.trim()||!isMemberExpression(_)&&!r)return n.onError(createCompilerError(42,o.loc)),createTransformProps();const s=p||createSimpleExpression("modelValue",!0),a=p?isStaticExp(p)?`onUpdate:${p.content}`:createCompoundExpression(['"onUpdate:" + ',p]):"onUpdate:modelValue";let f;const v=n.isTS?"($event: any)":"$event";f=createCompoundExpression([`${v} => ((`,o,") = $event)"]);const g=[createObjectProperty(s,t.exp),createObjectProperty(a,f)];if(t.modifiers.length&&e.tagType===1){const w=t.modifiers.map(d=>(isSimpleIdentifier(d)?d:JSON.stringify(d))+": true").join(", "),E=p?isStaticExp(p)?`${p.content}Modifiers`:createCompoundExpression([p,' + "Modifiers"']):"modelModifiers";g.push(createObjectProperty(E,createSimpleExpression(`{ ${w} }`,!1,t.loc,2)))}return createTransformProps(g)};function createTransformProps(t=[]){return{props:t}}const validDivisionCharRE=/[\w).+\-_$\]]/,transformFilter=(t,e)=>{!isCompatEnabled("COMPILER_FILTER",e)||(t.type===5&&rewriteFilter(t.content,e),t.type===1&&t.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&rewriteFilter(n.exp,e)}))};function rewriteFilter(t,e){if(t.type===4)parseFilter(t,e);else for(let n=0;n<t.children.length;n++){const o=t.children[n];typeof o=="object"&&(o.type===4?parseFilter(o,e):o.type===8?rewriteFilter(t,e):o.type===5&&rewriteFilter(o.content,e))}}function parseFilter(t,e){const n=t.content;let o=!1,p=!1,y=!1,_=!1,r=0,s=0,a=0,f=0,v,g,w,E,d=[];for(w=0;w<n.length;w++)if(g=v,v=n.charCodeAt(w),o)v===39&&g!==92&&(o=!1);else if(p)v===34&&g!==92&&(p=!1);else if(y)v===96&&g!==92&&(y=!1);else if(_)v===47&&g!==92&&(_=!1);else if(v===124&&n.charCodeAt(w+1)!==124&&n.charCodeAt(w-1)!==124&&!r&&!s&&!a)E===void 0?(f=w+1,E=n.slice(0,w).trim()):h();else{switch(v){case 34:p=!0;break;case 39:o=!0;break;case 96:y=!0;break;case 40:a++;break;case 41:a--;break;case 91:s++;break;case 93:s--;break;case 123:r++;break;case 125:r--;break}if(v===47){let C=w-1,m;for(;C>=0&&(m=n.charAt(C),m===" ");C--);(!m||!validDivisionCharRE.test(m))&&(_=!0)}}E===void 0?E=n.slice(0,w).trim():f!==0&&h();function h(){d.push(n.slice(f,w).trim()),f=w+1}if(d.length){for(w=0;w<d.length;w++)E=wrapFilter(E,d[w],e);t.content=E}}function wrapFilter(t,e,n){n.helper(RESOLVE_FILTER);const o=e.indexOf("(");if(o<0)return n.filters.add(e),`${toValidAssetId(e,"filter")}(${t})`;{const p=e.slice(0,o),y=e.slice(o+1);return n.filters.add(p),`${toValidAssetId(p,"filter")}(${t}${y!==")"?","+y:y}`}}const seen$1=new WeakSet,transformMemo=(t,e)=>{if(t.type===1){const n=findDir(t,"memo");return!n||seen$1.has(t)?void 0:(seen$1.add(t),()=>{const o=t.codegenNode||e.currentNode.codegenNode;o&&o.type===13&&(t.tagType!==1&&makeBlock(o,e),t.codegenNode=createCallExpression(e.helper(WITH_MEMO),[n.exp,createFunctionExpression(void 0,o),"_cache",String(e.cached++)]))})}};function getBaseTransformPreset(t){return[[transformOnce,transformIf,transformMemo,transformFor,transformFilter,transformSlotOutlet,transformElement,trackSlotScopes,transformText],{on:transformOn$1,bind:transformBind,model:transformModel$1}]}function baseCompile(t,e={}){const n=e.onError||defaultOnError,o=e.mode==="module";e.prefixIdentifiers===!0?n(createCompilerError(46)):o&&n(createCompilerError(47));const p=!1;e.cacheHandlers&&n(createCompilerError(48)),e.scopeId&&!o&&n(createCompilerError(49));const y=isString$2(t)?baseParse(t,e):t,[_,r]=getBaseTransformPreset();return transform(y,extend$1({},e,{prefixIdentifiers:p,nodeTransforms:[..._,...e.nodeTransforms||[]],directiveTransforms:extend$1({},r,e.directiveTransforms||{})})),generate(y,extend$1({},e,{prefixIdentifiers:p}))}const noopDirectiveTransform=()=>({props:[]}),V_MODEL_RADIO=Symbol(""),V_MODEL_CHECKBOX=Symbol(""),V_MODEL_TEXT=Symbol(""),V_MODEL_SELECT=Symbol(""),V_MODEL_DYNAMIC=Symbol(""),V_ON_WITH_MODIFIERS=Symbol(""),V_ON_WITH_KEYS=Symbol(""),V_SHOW=Symbol(""),TRANSITION=Symbol(""),TRANSITION_GROUP=Symbol("");registerRuntimeHelpers({[V_MODEL_RADIO]:"vModelRadio",[V_MODEL_CHECKBOX]:"vModelCheckbox",[V_MODEL_TEXT]:"vModelText",[V_MODEL_SELECT]:"vModelSelect",[V_MODEL_DYNAMIC]:"vModelDynamic",[V_ON_WITH_MODIFIERS]:"withModifiers",[V_ON_WITH_KEYS]:"withKeys",[V_SHOW]:"vShow",[TRANSITION]:"Transition",[TRANSITION_GROUP]:"TransitionGroup"});let decoder;function decodeHtmlBrowser(t,e=!1){return decoder||(decoder=document.createElement("div")),e?(decoder.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,decoder.children[0].getAttribute("foo")):(decoder.innerHTML=t,decoder.textContent)}const isRawTextContainer=makeMap("style,iframe,script,noscript",!0),parserOptions={isVoidTag,isNativeTag:t=>isHTMLTag(t)||isSVGTag(t),isPreTag:t=>t==="pre",decodeEntities:decodeHtmlBrowser,isBuiltInComponent:t=>{if(isBuiltInType(t,"Transition"))return TRANSITION;if(isBuiltInType(t,"TransitionGroup"))return TRANSITION_GROUP},getNamespace(t,e){let n=e?e.ns:0;if(e&&n===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(o=>o.type===6&&o.name==="encoding"&&o.value!=null&&(o.value.content==="text/html"||o.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(n=0);else e&&n===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(n=0);if(n===0){if(t==="svg")return 1;if(t==="math")return 2}return n},getTextMode({tag:t,ns:e}){if(e===0){if(t==="textarea"||t==="title")return 1;if(isRawTextContainer(t))return 2}return 0}},transformStyle=t=>{t.type===1&&t.props.forEach((e,n)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[n]={type:7,name:"bind",arg:createSimpleExpression("style",!0,e.loc),exp:parseInlineCSS(e.value.content,e.loc),modifiers:[],loc:e.loc})})},parseInlineCSS=(t,e)=>{const n=parseStringStyle(t);return createSimpleExpression(JSON.stringify(n),!1,e,3)};function createDOMCompilerError(t,e){return createCompilerError(t,e)}const transformVHtml=(t,e,n)=>{const{exp:o,loc:p}=t;return o||n.onError(createDOMCompilerError(50,p)),e.children.length&&(n.onError(createDOMCompilerError(51,p)),e.children.length=0),{props:[createObjectProperty(createSimpleExpression("innerHTML",!0,p),o||createSimpleExpression("",!0))]}},transformVText=(t,e,n)=>{const{exp:o,loc:p}=t;return o||n.onError(createDOMCompilerError(52,p)),e.children.length&&(n.onError(createDOMCompilerError(53,p)),e.children.length=0),{props:[createObjectProperty(createSimpleExpression("textContent",!0),o?createCallExpression(n.helperString(TO_DISPLAY_STRING),[o],p):createSimpleExpression("",!0))]}},transformModel=(t,e,n)=>{const o=transformModel$1(t,e,n);if(!o.props.length||e.tagType===1)return o;t.arg&&n.onError(createDOMCompilerError(55,t.arg.loc));const{tag:p}=e,y=n.isCustomElement(p);if(p==="input"||p==="textarea"||p==="select"||y){let _=V_MODEL_TEXT,r=!1;if(p==="input"||y){const s=findProp(e,"type");if(s){if(s.type===7)_=V_MODEL_DYNAMIC;else if(s.value)switch(s.value.content){case"radio":_=V_MODEL_RADIO;break;case"checkbox":_=V_MODEL_CHECKBOX;break;case"file":r=!0,n.onError(createDOMCompilerError(56,t.loc));break}}else hasDynamicKeyVBind(e)&&(_=V_MODEL_DYNAMIC)}else p==="select"&&(_=V_MODEL_SELECT);r||(o.needRuntime=n.helper(_))}else n.onError(createDOMCompilerError(54,t.loc));return o.props=o.props.filter(_=>!(_.key.type===4&&_.key.content==="modelValue")),o},isEventOptionModifier=makeMap("passive,once,capture"),isNonKeyModifier=makeMap("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),maybeKeyModifier=makeMap("left,right"),isKeyboardEvent=makeMap("onkeyup,onkeydown,onkeypress",!0),resolveModifiers=(t,e,n,o)=>{const p=[],y=[],_=[];for(let r=0;r<e.length;r++){const s=e[r];s==="native"&&checkCompatEnabled("COMPILER_V_ON_NATIVE",n)||isEventOptionModifier(s)?_.push(s):maybeKeyModifier(s)?isStaticExp(t)?isKeyboardEvent(t.content)?p.push(s):y.push(s):(p.push(s),y.push(s)):isNonKeyModifier(s)?y.push(s):p.push(s)}return{keyModifiers:p,nonKeyModifiers:y,eventOptionModifiers:_}},transformClick=(t,e)=>isStaticExp(t)&&t.content.toLowerCase()==="onclick"?createSimpleExpression(e,!0):t.type!==4?createCompoundExpression(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,transformOn=(t,e,n)=>transformOn$1(t,e,n,o=>{const{modifiers:p}=t;if(!p.length)return o;let{key:y,value:_}=o.props[0];const{keyModifiers:r,nonKeyModifiers:s,eventOptionModifiers:a}=resolveModifiers(y,p,n,t.loc);if(s.includes("right")&&(y=transformClick(y,"onContextmenu")),s.includes("middle")&&(y=transformClick(y,"onMouseup")),s.length&&(_=createCallExpression(n.helper(V_ON_WITH_MODIFIERS),[_,JSON.stringify(s)])),r.length&&(!isStaticExp(y)||isKeyboardEvent(y.content))&&(_=createCallExpression(n.helper(V_ON_WITH_KEYS),[_,JSON.stringify(r)])),a.length){const f=a.map(capitalize).join("");y=isStaticExp(y)?createSimpleExpression(`${y.content}${f}`,!0):createCompoundExpression(["(",y,`) + "${f}"`])}return{props:[createObjectProperty(y,_)]}}),transformShow=(t,e,n)=>{const{exp:o,loc:p}=t;return o||n.onError(createDOMCompilerError(58,p)),{props:[],needRuntime:n.helper(V_SHOW)}},ignoreSideEffectTags=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&(e.onError(createDOMCompilerError(60,t.loc)),e.removeNode())},DOMNodeTransforms=[transformStyle],DOMDirectiveTransforms={cloak:noopDirectiveTransform,html:transformVHtml,text:transformVText,model:transformModel,on:transformOn,show:transformShow};function compile(t,e={}){return baseCompile(t,extend$1({},parserOptions,e,{nodeTransforms:[ignoreSideEffectTags,...DOMNodeTransforms,...e.nodeTransforms||[]],directiveTransforms:extend$1({},DOMDirectiveTransforms,e.directiveTransforms||{}),transformHoist:null}))}function parse(t,e={}){return baseParse(t,extend$1({},parserOptions,e))}var compilerDom_esmBundler=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",DOMDirectiveTransforms,DOMNodeTransforms,TRANSITION,TRANSITION_GROUP,V_MODEL_CHECKBOX,V_MODEL_DYNAMIC,V_MODEL_RADIO,V_MODEL_SELECT,V_MODEL_TEXT,V_ON_WITH_KEYS,V_ON_WITH_MODIFIERS,V_SHOW,compile,createDOMCompilerError,parse,parserOptions,transformStyle,generateCodeFrame,BASE_TRANSITION,CAMELIZE,CAPITALIZE,CREATE_BLOCK,CREATE_COMMENT,CREATE_ELEMENT_BLOCK,CREATE_ELEMENT_VNODE,CREATE_SLOTS,CREATE_STATIC,CREATE_TEXT,CREATE_VNODE,FRAGMENT,GUARD_REACTIVE_PROPS,IS_MEMO_SAME,IS_REF,KEEP_ALIVE,MERGE_PROPS,NORMALIZE_CLASS,NORMALIZE_PROPS,NORMALIZE_STYLE,OPEN_BLOCK,POP_SCOPE_ID,PUSH_SCOPE_ID,RENDER_LIST,RENDER_SLOT,RESOLVE_COMPONENT,RESOLVE_DIRECTIVE,RESOLVE_DYNAMIC_COMPONENT,RESOLVE_FILTER,SET_BLOCK_TRACKING,SUSPENSE,TELEPORT,TO_DISPLAY_STRING,TO_HANDLERS,TO_HANDLER_KEY,UNREF,WITH_CTX,WITH_DIRECTIVES,WITH_MEMO,advancePositionWithClone,advancePositionWithMutation,assert,baseCompile,baseParse,buildProps,buildSlots,checkCompatEnabled,createArrayExpression,createAssignmentExpression,createBlockStatement,createCacheExpression,createCallExpression,createCompilerError,createCompoundExpression,createConditionalExpression,createForLoopParams,createFunctionExpression,createIfStatement,createInterpolation,createObjectExpression,createObjectProperty,createReturnStatement,createRoot,createSequenceExpression,createSimpleExpression,createStructuralDirectiveTransform,createTemplateLiteral,createTransformContext,createVNodeCall,extractIdentifiers,findDir,findProp,generate,getBaseTransformPreset,getInnerRange,getMemoedVNodeCall,getVNodeBlockHelper,getVNodeHelper,hasDynamicKeyVBind,hasScopeRef,helperNameMap,injectProp,isBuiltInType,isCoreComponent,isFunctionType,isInDestructureAssignment,isMemberExpression,isMemberExpressionBrowser,isMemberExpressionNode,isReferencedIdentifier,isSimpleIdentifier,isSlotOutlet,isStaticArgOf,isStaticExp,isStaticProperty,isStaticPropertyKey,isTemplateNode,isText,isVSlot,locStub,makeBlock,noopDirectiveTransform,processExpression,processFor,processIf,processSlotOutlet,registerRuntimeHelpers,resolveComponentType,toValidAssetId,trackSlotScopes,trackVForSlotScopes,transform,transformBind,transformElement,transformExpression,transformModel:transformModel$1,transformOn:transformOn$1,traverseNode,walkBlockDeclarations,walkFunctionParams,walkIdentifiers,warnDeprecation}),require$$0=getAugmentedNamespace(compilerDom_esmBundler),require$$1=getAugmentedNamespace(runtimeDom_esmBundler),require$$2=getAugmentedNamespace(shared_esmBundler);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=require$$0,n=require$$1,o=require$$2;function p(s){if(s&&s.__esModule)return s;var a=Object.create(null);return s&&Object.keys(s).forEach(function(f){a[f]=s[f]}),a.default=s,Object.freeze(a)}var y=p(n);const _=Object.create(null);function r(s,a){if(!o.isString(s))if(s.nodeType)s=s.innerHTML;else return o.NOOP;const f=s,v=_[f];if(v)return v;if(s[0]==="#"){const E=document.querySelector(s);s=E?E.innerHTML:""}const{code:g}=e.compile(s,o.extend({hoistStatic:!0,onError:void 0,onWarn:o.NOOP},a)),w=new Function("Vue",g)(y);return w._rc=!0,_[f]=w}n.registerRuntimeCompiler(r),Object.keys(n).forEach(function(s){s!=="default"&&(t[s]=n[s])}),t.compile=r})(vue_cjs_prod);vue.exports=vue_cjs_prod;(function(t){t.exports=function(e){var n={};function o(p){if(n[p])return n[p].exports;var y=n[p]={i:p,l:!1,exports:{}};return e[p].call(y.exports,y,y.exports,o),y.l=!0,y.exports}return o.m=e,o.c=n,o.d=function(p,y,_){o.o(p,y)||Object.defineProperty(p,y,{enumerable:!0,get:_})},o.r=function(p){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},o.t=function(p,y){if(y&1&&(p=o(p)),y&8||y&4&&typeof p=="object"&&p&&p.__esModule)return p;var _=Object.create(null);if(o.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:p}),y&2&&typeof p!="string")for(var r in p)o.d(_,r,function(s){return p[s]}.bind(null,r));return _},o.n=function(p){var y=p&&p.__esModule?function(){return p.default}:function(){return p};return o.d(y,"a",y),y},o.o=function(p,y){return Object.prototype.hasOwnProperty.call(p,y)},o.p="",o(o.s="fb15")}({"0366":function(e,n,o){var p=o("1c0b");e.exports=function(y,_,r){if(p(y),_===void 0)return y;switch(r){case 0:return function(){return y.call(_)};case 1:return function(s){return y.call(_,s)};case 2:return function(s,a){return y.call(_,s,a)};case 3:return function(s,a,f){return y.call(_,s,a,f)}}return function(){return y.apply(_,arguments)}}},"057f":function(e,n,o){var p=o("fc6a"),y=o("241c").f,_={}.toString,r=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return y(a)}catch{return r.slice()}};e.exports.f=function(f){return r&&_.call(f)=="[object Window]"?s(f):y(p(f))}},"06cf":function(e,n,o){var p=o("83ab"),y=o("d1e7"),_=o("5c6c"),r=o("fc6a"),s=o("c04e"),a=o("5135"),f=o("0cfb"),v=Object.getOwnPropertyDescriptor;n.f=p?v:function(w,E){if(w=r(w),E=s(E,!0),f)try{return v(w,E)}catch{}if(a(w,E))return _(!y.f.call(w,E),w[E])}},"07ac":function(e,n,o){var p=o("23e7"),y=o("6f53").values;p({target:"Object",stat:!0},{values:function(r){return y(r)}})},"0a2a":function(e,n,o){},"0aa8":function(e,n,o){},"0cfb":function(e,n,o){var p=o("83ab"),y=o("d039"),_=o("cc12");e.exports=!p&&!y(function(){return Object.defineProperty(_("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(e,n,o){var p=o("23e7"),y=o("d58f").left,_=o("a640"),r=o("2d00"),s=o("605d"),a=_("reduce"),f=!s&&r>79&&r<83;p({target:"Array",proto:!0,forced:!a||f},{reduce:function(g){return y(this,g,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"159b":function(e,n,o){var p=o("da84"),y=o("fdbc"),_=o("17c2"),r=o("9112");for(var s in y){var a=p[s],f=a&&a.prototype;if(f&&f.forEach!==_)try{r(f,"forEach",_)}catch{f.forEach=_}}},"17c2":function(e,n,o){var p=o("b727").forEach,y=o("a640"),_=y("forEach");e.exports=_?[].forEach:function(s){return p(this,s,arguments.length>1?arguments[1]:void 0)}},"1be4":function(e,n,o){var p=o("d066");e.exports=p("document","documentElement")},"1c0b":function(e,n){e.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1d80":function(e,n){e.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dba":function(e,n,o){o("0a2a")},"1dde":function(e,n,o){var p=o("d039"),y=o("b622"),_=o("2d00"),r=y("species");e.exports=function(s){return _>=51||!p(function(){var a=[],f=a.constructor={};return f[r]=function(){return{foo:1}},a[s](Boolean).foo!==1})}},"23cb":function(e,n,o){var p=o("a691"),y=Math.max,_=Math.min;e.exports=function(r,s){var a=p(r);return a<0?y(a+s,0):_(a,s)}},"23e7":function(e,n,o){var p=o("da84"),y=o("06cf").f,_=o("9112"),r=o("6eeb"),s=o("ce4e"),a=o("e893"),f=o("94ca");e.exports=function(v,g){var w=v.target,E=v.global,d=v.stat,h,C,m,u,c,l;if(E?C=p:d?C=p[w]||s(w,{}):C=(p[w]||{}).prototype,C)for(m in g){if(c=g[m],v.noTargetGet?(l=y(C,m),u=l&&l.value):u=C[m],h=f(E?m:w+(d?".":"#")+m,v.forced),!h&&u!==void 0){if(typeof c==typeof u)continue;a(c,u)}(v.sham||u&&u.sham)&&_(c,"sham",!0),r(C,m,c,v)}}},"241c":function(e,n,o){var p=o("ca84"),y=o("7839"),_=y.concat("length","prototype");n.f=Object.getOwnPropertyNames||function(s){return p(s,_)}},"2532":function(e,n,o){var p=o("23e7"),y=o("5a34"),_=o("1d80"),r=o("ab13");p({target:"String",proto:!0,forced:!r("includes")},{includes:function(a){return!!~String(_(this)).indexOf(y(a),arguments.length>1?arguments[1]:void 0)}})},"2d00":function(e,n,o){var p=o("da84"),y=o("342f"),_=p.process,r=_&&_.versions,s=r&&r.v8,a,f;s?(a=s.split("."),f=a[0]+a[1]):y&&(a=y.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=y.match(/Chrome\/(\d+)/),a&&(f=a[1]))),e.exports=f&&+f},"342f":function(e,n,o){var p=o("d066");e.exports=p("navigator","userAgent")||""},"37e8":function(e,n,o){var p=o("83ab"),y=o("9bf2"),_=o("825a"),r=o("df75");e.exports=p?Object.defineProperties:function(a,f){_(a);for(var v=r(f),g=v.length,w=0,E;g>w;)y.f(a,E=v[w++],f[E]);return a}},"428f":function(e,n,o){var p=o("da84");e.exports=p},"44ad":function(e,n,o){var p=o("d039"),y=o("c6b6"),_="".split;e.exports=p(function(){return!Object("z").propertyIsEnumerable(0)})?function(r){return y(r)=="String"?_.call(r,""):Object(r)}:Object},"44d2":function(e,n,o){var p=o("b622"),y=o("7c73"),_=o("9bf2"),r=p("unscopables"),s=Array.prototype;s[r]==null&&_.f(s,r,{configurable:!0,value:y(null)}),e.exports=function(a){s[r][a]=!0}},"44e1":function(e,n,o){o("0aa8")},"44e7":function(e,n,o){var p=o("861d"),y=o("c6b6"),_=o("b622"),r=_("match");e.exports=function(s){var a;return p(s)&&((a=s[r])!==void 0?!!a:y(s)=="RegExp")}},"4930":function(e,n,o){var p=o("605d"),y=o("2d00"),_=o("d039");e.exports=!!Object.getOwnPropertySymbols&&!_(function(){return!Symbol.sham&&(p?y===38:y>37&&y<41)})},"4d64":function(e,n,o){var p=o("fc6a"),y=o("50c4"),_=o("23cb"),r=function(s){return function(a,f,v){var g=p(a),w=y(g.length),E=_(v,w),d;if(s&&f!=f){for(;w>E;)if(d=g[E++],d!=d)return!0}else for(;w>E;E++)if((s||E in g)&&g[E]===f)return s||E||0;return!s&&-1}};e.exports={includes:r(!0),indexOf:r(!1)}},"4de4":function(e,n,o){var p=o("23e7"),y=o("b727").filter,_=o("1dde"),r=_("filter");p({target:"Array",proto:!0,forced:!r},{filter:function(a){return y(this,a,arguments.length>1?arguments[1]:void 0)}})},"50c4":function(e,n,o){var p=o("a691"),y=Math.min;e.exports=function(_){return _>0?y(p(_),9007199254740991):0}},"5135":function(e,n){var o={}.hasOwnProperty;e.exports=function(p,y){return o.call(p,y)}},"5692":function(e,n,o){var p=o("c430"),y=o("c6cd");(e.exports=function(_,r){return y[_]||(y[_]=r!==void 0?r:{})})("versions",[]).push({version:"3.9.1",mode:p?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,n,o){var p=o("d066"),y=o("241c"),_=o("7418"),r=o("825a");e.exports=p("Reflect","ownKeys")||function(a){var f=y.f(r(a)),v=_.f;return v?f.concat(v(a)):f}},"5a34":function(e,n,o){var p=o("44e7");e.exports=function(y){if(p(y))throw TypeError("The method doesn't accept regular expressions");return y}},"5c6c":function(e,n){e.exports=function(o,p){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:p}}},"605d":function(e,n,o){var p=o("c6b6"),y=o("da84");e.exports=p(y.process)=="process"},"65f0":function(e,n,o){var p=o("861d"),y=o("e8b5"),_=o("b622"),r=_("species");e.exports=function(s,a){var f;return y(s)&&(f=s.constructor,typeof f=="function"&&(f===Array||y(f.prototype))?f=void 0:p(f)&&(f=f[r],f===null&&(f=void 0))),new(f===void 0?Array:f)(a===0?0:a)}},"69f3":function(e,n,o){var p=o("7f9a"),y=o("da84"),_=o("861d"),r=o("9112"),s=o("5135"),a=o("c6cd"),f=o("f772"),v=o("d012"),g=y.WeakMap,w,E,d,h=function(S){return d(S)?E(S):w(S,{})},C=function(S){return function(A){var L;if(!_(A)||(L=E(A)).type!==S)throw TypeError("Incompatible receiver, "+S+" required");return L}};if(p){var m=a.state||(a.state=new g),u=m.get,c=m.has,l=m.set;w=function(S,A){return A.facade=S,l.call(m,S,A),A},E=function(S){return u.call(m,S)||{}},d=function(S){return c.call(m,S)}}else{var b=f("state");v[b]=!0,w=function(S,A){return A.facade=S,r(S,b,A),A},E=function(S){return s(S,b)?S[b]:{}},d=function(S){return s(S,b)}}e.exports={set:w,get:E,has:d,enforce:h,getterFor:C}},"6eeb":function(e,n,o){var p=o("da84"),y=o("9112"),_=o("5135"),r=o("ce4e"),s=o("8925"),a=o("69f3"),f=a.get,v=a.enforce,g=String(String).split("String");(e.exports=function(w,E,d,h){var C=h?!!h.unsafe:!1,m=h?!!h.enumerable:!1,u=h?!!h.noTargetGet:!1,c;if(typeof d=="function"&&(typeof E=="string"&&!_(d,"name")&&y(d,"name",E),c=v(d),c.source||(c.source=g.join(typeof E=="string"?E:""))),w===p){m?w[E]=d:r(E,d);return}else C?!u&&w[E]&&(m=!0):delete w[E];m?w[E]=d:y(w,E,d)})(Function.prototype,"toString",function(){return typeof this=="function"&&f(this).source||s(this)})},"6f53":function(e,n,o){var p=o("83ab"),y=o("df75"),_=o("fc6a"),r=o("d1e7").f,s=function(a){return function(f){for(var v=_(f),g=y(v),w=g.length,E=0,d=[],h;w>E;)h=g[E++],(!p||r.call(v,h))&&d.push(a?[h,v[h]]:v[h]);return d}};e.exports={entries:s(!0),values:s(!1)}},"7418":function(e,n){n.f=Object.getOwnPropertySymbols},"746f":function(e,n,o){var p=o("428f"),y=o("5135"),_=o("e538"),r=o("9bf2").f;e.exports=function(s){var a=p.Symbol||(p.Symbol={});y(a,s)||r(a,s,{value:_.f(s)})}},"7839":function(e,n){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,n,o){var p=o("1d80");e.exports=function(y){return Object(p(y))}},"7c73":function(e,n,o){var p=o("825a"),y=o("37e8"),_=o("7839"),r=o("d012"),s=o("1be4"),a=o("cc12"),f=o("f772"),v=">",g="<",w="prototype",E="script",d=f("IE_PROTO"),h=function(){},C=function(b){return g+E+v+b+g+"/"+E+v},m=function(b){b.write(C("")),b.close();var S=b.parentWindow.Object;return b=null,S},u=function(){var b=a("iframe"),S="java"+E+":",A;return b.style.display="none",s.appendChild(b),b.src=String(S),A=b.contentWindow.document,A.open(),A.write(C("document.F=Object")),A.close(),A.F},c,l=function(){try{c=document.domain&&new ActiveXObject("htmlfile")}catch{}l=c?m(c):u();for(var b=_.length;b--;)delete l[w][_[b]];return l()};r[d]=!0,e.exports=Object.create||function(S,A){var L;return S!==null?(h[w]=p(S),L=new h,h[w]=null,L[d]=S):L=l(),A===void 0?L:y(L,A)}},"7f9a":function(e,n,o){var p=o("da84"),y=o("8925"),_=p.WeakMap;e.exports=typeof _=="function"&&/native code/.test(y(_))},"825a":function(e,n,o){var p=o("861d");e.exports=function(y){if(!p(y))throw TypeError(String(y)+" is not an object");return y}},"83ab":function(e,n,o){var p=o("d039");e.exports=!p(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"8418":function(e,n,o){var p=o("c04e"),y=o("9bf2"),_=o("5c6c");e.exports=function(r,s,a){var f=p(s);f in r?y.f(r,f,_(0,a)):r[f]=a}},"861d":function(e,n){e.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},"8875":function(e,n,o){var p,y,_;(function(r,s){y=[],p=s,_=typeof p=="function"?p.apply(n,y):p,_!==void 0&&(e.exports=_)})(typeof self!="undefined"?self:this,function(){function r(){var s=Object.getOwnPropertyDescriptor(document,"currentScript");if(!s&&"currentScript"in document&&document.currentScript||s&&s.get!==r&&document.currentScript)return document.currentScript;try{throw new Error}catch(c){var a=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,f=/@([^@]*):(\d+):(\d+)\s*$/ig,v=a.exec(c.stack)||f.exec(c.stack),g=v&&v[1]||!1,w=v&&v[2]||!1,E=document.location.href.replace(document.location.hash,""),d,h,C,m=document.getElementsByTagName("script");g===E&&(d=document.documentElement.outerHTML,h=new RegExp("(?:[^\\n]+?\\n){0,"+(w-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),C=d.replace(h,"$1").trim());for(var u=0;u<m.length;u++)if(m[u].readyState==="interactive"||m[u].src===g||g===E&&m[u].innerHTML&&m[u].innerHTML.trim()===C)return m[u];return null}}return r})},"8925":function(e,n,o){var p=o("c6cd"),y=Function.toString;typeof p.inspectSource!="function"&&(p.inspectSource=function(_){return y.call(_)}),e.exports=p.inspectSource},"8bbf":function(e,n){e.exports=vue.exports},"8dad":function(e,n,o){},"90e3":function(e,n){var o=0,p=Math.random();e.exports=function(y){return"Symbol("+String(y===void 0?"":y)+")_"+(++o+p).toString(36)}},"9112":function(e,n,o){var p=o("83ab"),y=o("9bf2"),_=o("5c6c");e.exports=p?function(r,s,a){return y.f(r,s,_(1,a))}:function(r,s,a){return r[s]=a,r}},"94ca":function(e,n,o){var p=o("d039"),y=/#|\.prototype\./,_=function(v,g){var w=s[r(v)];return w==f?!0:w==a?!1:typeof g=="function"?p(g):!!g},r=_.normalize=function(v){return String(v).replace(y,".").toLowerCase()},s=_.data={},a=_.NATIVE="N",f=_.POLYFILL="P";e.exports=_},"9bf2":function(e,n,o){var p=o("83ab"),y=o("0cfb"),_=o("825a"),r=o("c04e"),s=Object.defineProperty;n.f=p?s:function(f,v,g){if(_(f),v=r(v,!0),_(g),y)try{return s(f,v,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(f[v]=g.value),f}},a4d3:function(e,n,o){var p=o("23e7"),y=o("da84"),_=o("d066"),r=o("c430"),s=o("83ab"),a=o("4930"),f=o("fdbf"),v=o("d039"),g=o("5135"),w=o("e8b5"),E=o("861d"),d=o("825a"),h=o("7b0b"),C=o("fc6a"),m=o("c04e"),u=o("5c6c"),c=o("7c73"),l=o("df75"),b=o("241c"),S=o("057f"),A=o("7418"),L=o("06cf"),T=o("9bf2"),B=o("d1e7"),O=o("9112"),x=o("6eeb"),I=o("5692"),R=o("f772"),F=o("d012"),D=o("90e3"),k=o("b622"),P=o("e538"),j=o("746f"),V=o("d44e"),J=o("69f3"),z=o("b727").forEach,Q=R("hidden"),ee="Symbol",re="prototype",M=k("toPrimitive"),H=J.set,N=J.getterFor(ee),U=Object[re],W=y.Symbol,Y=_("JSON","stringify"),Z=L.f,se=T.f,X=S.f,G=B.f,$=I("symbols"),ie=I("op-symbols"),ce=I("string-to-symbol-registry"),fe=I("symbol-to-string-registry"),pe=I("wks"),me=y.QObject,xe=!me||!me[re]||!me[re].findChild,we=s&&v(function(){return c(se({},"a",{get:function(){return se(this,"a",{value:7}).a}})).a!=7})?function(oe,te,ne){var ae=Z(U,te);ae&&delete U[te],se(oe,te,ne),ae&&oe!==U&&se(U,te,ae)}:se,Te=function(oe,te){var ne=$[oe]=c(W[re]);return H(ne,{type:ee,tag:oe,description:te}),s||(ne.description=te),ne},Be=f?function(oe){return typeof oe=="symbol"}:function(oe){return Object(oe)instanceof W},Le=function(te,ne,ae){te===U&&Le(ie,ne,ae),d(te);var le=m(ne,!0);return d(ae),g($,le)?(ae.enumerable?(g(te,Q)&&te[Q][le]&&(te[Q][le]=!1),ae=c(ae,{enumerable:u(0,!1)})):(g(te,Q)||se(te,Q,u(1,{})),te[Q][le]=!0),we(te,le,ae)):se(te,le,ae)},de=function(te,ne){d(te);var ae=C(ne),le=l(ae).concat(Ee(ae));return z(le,function(ve){(!s||ye.call(ae,ve))&&Le(te,ve,ae[ve])}),te},ge=function(te,ne){return ne===void 0?c(te):de(c(te),ne)},ye=function(te){var ne=m(te,!0),ae=G.call(this,ne);return this===U&&g($,ne)&&!g(ie,ne)?!1:ae||!g(this,ne)||!g($,ne)||g(this,Q)&&this[Q][ne]?ae:!0},Se=function(te,ne){var ae=C(te),le=m(ne,!0);if(!(ae===U&&g($,le)&&!g(ie,le))){var ve=Z(ae,le);return ve&&g($,le)&&!(g(ae,Q)&&ae[Q][le])&&(ve.enumerable=!0),ve}},Ne=function(te){var ne=X(C(te)),ae=[];return z(ne,function(le){!g($,le)&&!g(F,le)&&ae.push(le)}),ae},Ee=function(te){var ne=te===U,ae=X(ne?ie:C(te)),le=[];return z(ae,function(ve){g($,ve)&&(!ne||g(U,ve))&&le.push($[ve])}),le};if(a||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var te=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),ne=D(te),ae=function(le){this===U&&ae.call(ie,le),g(this,Q)&&g(this[Q],ne)&&(this[Q][ne]=!1),we(this,ne,u(1,le))};return s&&xe&&we(U,ne,{configurable:!0,set:ae}),Te(ne,te)},x(W[re],"toString",function(){return N(this).tag}),x(W,"withoutSetter",function(oe){return Te(D(oe),oe)}),B.f=ye,T.f=Le,L.f=Se,b.f=S.f=Ne,A.f=Ee,P.f=function(oe){return Te(k(oe),oe)},s&&(se(W[re],"description",{configurable:!0,get:function(){return N(this).description}}),r||x(U,"propertyIsEnumerable",ye,{unsafe:!0}))),p({global:!0,wrap:!0,forced:!a,sham:!a},{Symbol:W}),z(l(pe),function(oe){j(oe)}),p({target:ee,stat:!0,forced:!a},{for:function(oe){var te=String(oe);if(g(ce,te))return ce[te];var ne=W(te);return ce[te]=ne,fe[ne]=te,ne},keyFor:function(te){if(!Be(te))throw TypeError(te+" is not a symbol");if(g(fe,te))return fe[te]},useSetter:function(){xe=!0},useSimple:function(){xe=!1}}),p({target:"Object",stat:!0,forced:!a,sham:!s},{create:ge,defineProperty:Le,defineProperties:de,getOwnPropertyDescriptor:Se}),p({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:Ne,getOwnPropertySymbols:Ee}),p({target:"Object",stat:!0,forced:v(function(){A.f(1)})},{getOwnPropertySymbols:function(te){return A.f(h(te))}}),Y){var je=!a||v(function(){var oe=W();return Y([oe])!="[null]"||Y({a:oe})!="{}"||Y(Object(oe))!="{}"});p({target:"JSON",stat:!0,forced:je},{stringify:function(te,ne,ae){for(var le=[te],ve=1,Fe;arguments.length>ve;)le.push(arguments[ve++]);if(Fe=ne,!(!E(ne)&&te===void 0||Be(te)))return w(ne)||(ne=function(Ge,Pe){if(typeof Fe=="function"&&(Pe=Fe.call(this,Ge,Pe)),!Be(Pe))return Pe}),le[1]=ne,Y.apply(null,le)}})}W[re][M]||O(W[re],M,W[re].valueOf),V(W,ee),F[Q]=!0},a640:function(e,n,o){var p=o("d039");e.exports=function(y,_){var r=[][y];return!!r&&p(function(){r.call(null,_||function(){throw 1},1)})}},a691:function(e,n){var o=Math.ceil,p=Math.floor;e.exports=function(y){return isNaN(y=+y)?0:(y>0?p:o)(y)}},ab13:function(e,n,o){var p=o("b622"),y=p("match");e.exports=function(_){var r=/./;try{"/./"[_](r)}catch{try{return r[y]=!1,"/./"[_](r)}catch{}}return!1}},b622:function(e,n,o){var p=o("da84"),y=o("5692"),_=o("5135"),r=o("90e3"),s=o("4930"),a=o("fdbf"),f=y("wks"),v=p.Symbol,g=a?v:v&&v.withoutSetter||r;e.exports=function(w){return(!_(f,w)||!(s||typeof f[w]=="string"))&&(s&&_(v,w)?f[w]=v[w]:f[w]=g("Symbol."+w)),f[w]}},b64b:function(e,n,o){var p=o("23e7"),y=o("7b0b"),_=o("df75"),r=o("d039"),s=r(function(){_(1)});p({target:"Object",stat:!0,forced:s},{keys:function(f){return _(y(f))}})},b727:function(e,n,o){var p=o("0366"),y=o("44ad"),_=o("7b0b"),r=o("50c4"),s=o("65f0"),a=[].push,f=function(v){var g=v==1,w=v==2,E=v==3,d=v==4,h=v==6,C=v==7,m=v==5||h;return function(u,c,l,b){for(var S=_(u),A=y(S),L=p(c,l,3),T=r(A.length),B=0,O=b||s,x=g?O(u,T):w||C?O(u,0):void 0,I,R;T>B;B++)if((m||B in A)&&(I=A[B],R=L(I,B,S),v))if(g)x[B]=R;else if(R)switch(v){case 3:return!0;case 5:return I;case 6:return B;case 2:a.call(x,I)}else switch(v){case 4:return!1;case 7:a.call(x,I)}return h?-1:E||d?d:x}};e.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterOut:f(7)}},c04e:function(e,n,o){var p=o("861d");e.exports=function(y,_){if(!p(y))return y;var r,s;if(_&&typeof(r=y.toString)=="function"&&!p(s=r.call(y))||typeof(r=y.valueOf)=="function"&&!p(s=r.call(y))||!_&&typeof(r=y.toString)=="function"&&!p(s=r.call(y)))return s;throw TypeError("Can't convert object to primitive value")}},c430:function(e,n){e.exports=!1},c6b6:function(e,n){var o={}.toString;e.exports=function(p){return o.call(p).slice(8,-1)}},c6cd:function(e,n,o){var p=o("da84"),y=o("ce4e"),_="__core-js_shared__",r=p[_]||y(_,{});e.exports=r},c8ba:function(e,n){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}e.exports=o},ca84:function(e,n,o){var p=o("5135"),y=o("fc6a"),_=o("4d64").indexOf,r=o("d012");e.exports=function(s,a){var f=y(s),v=0,g=[],w;for(w in f)!p(r,w)&&p(f,w)&&g.push(w);for(;a.length>v;)p(f,w=a[v++])&&(~_(g,w)||g.push(w));return g}},caad:function(e,n,o){var p=o("23e7"),y=o("4d64").includes,_=o("44d2");p({target:"Array",proto:!0},{includes:function(s){return y(this,s,arguments.length>1?arguments[1]:void 0)}}),_("includes")},cc12:function(e,n,o){var p=o("da84"),y=o("861d"),_=p.document,r=y(_)&&y(_.createElement);e.exports=function(s){return r?_.createElement(s):{}}},ce4e:function(e,n,o){var p=o("da84"),y=o("9112");e.exports=function(_,r){try{y(p,_,r)}catch{p[_]=r}return r}},d012:function(e,n){e.exports={}},d039:function(e,n){e.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(e,n,o){var p=o("428f"),y=o("da84"),_=function(r){return typeof r=="function"?r:void 0};e.exports=function(r,s){return arguments.length<2?_(p[r])||_(y[r]):p[r]&&p[r][s]||y[r]&&y[r][s]}},d1e7:function(e,n,o){var p={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,_=y&&!p.call({1:2},1);n.f=_?function(s){var a=y(this,s);return!!a&&a.enumerable}:p},d44e:function(e,n,o){var p=o("9bf2").f,y=o("5135"),_=o("b622"),r=_("toStringTag");e.exports=function(s,a,f){s&&!y(s=f?s:s.prototype,r)&&p(s,r,{configurable:!0,value:a})}},d58f:function(e,n,o){var p=o("1c0b"),y=o("7b0b"),_=o("44ad"),r=o("50c4"),s=function(a){return function(f,v,g,w){p(v);var E=y(f),d=_(E),h=r(E.length),C=a?h-1:0,m=a?-1:1;if(g<2)for(;;){if(C in d){w=d[C],C+=m;break}if(C+=m,a?C<0:h<=C)throw TypeError("Reduce of empty array with no initial value")}for(;a?C>=0:h>C;C+=m)C in d&&(w=v(w,d[C],C,E));return w}};e.exports={left:s(!1),right:s(!0)}},d6d0:function(e,n,o){o("8dad")},da84:function(e,n,o){(function(p){var y=function(_){return _&&_.Math==Math&&_};e.exports=y(typeof globalThis=="object"&&globalThis)||y(typeof window=="object"&&window)||y(typeof self=="object"&&self)||y(typeof p=="object"&&p)||function(){return this}()||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(e,n,o){var p=o("23e7"),y=o("83ab"),_=o("56ef"),r=o("fc6a"),s=o("06cf"),a=o("8418");p({target:"Object",stat:!0,sham:!y},{getOwnPropertyDescriptors:function(v){for(var g=r(v),w=s.f,E=_(g),d={},h=0,C,m;E.length>h;)m=w(g,C=E[h++]),m!==void 0&&a(d,C,m);return d}})},df75:function(e,n,o){var p=o("ca84"),y=o("7839");e.exports=Object.keys||function(r){return p(r,y)}},e439:function(e,n,o){var p=o("23e7"),y=o("d039"),_=o("fc6a"),r=o("06cf").f,s=o("83ab"),a=y(function(){r(1)}),f=!s||a;p({target:"Object",stat:!0,forced:f,sham:!s},{getOwnPropertyDescriptor:function(g,w){return r(_(g),w)}})},e538:function(e,n,o){var p=o("b622");n.f=p},e893:function(e,n,o){var p=o("5135"),y=o("56ef"),_=o("06cf"),r=o("9bf2");e.exports=function(s,a){for(var f=y(a),v=r.f,g=_.f,w=0;w<f.length;w++){var E=f[w];p(s,E)||v(s,E,g(a,E))}}},e8b5:function(e,n,o){var p=o("c6b6");e.exports=Array.isArray||function(_){return p(_)=="Array"}},f772:function(e,n,o){var p=o("5692"),y=o("90e3"),_=p("keys");e.exports=function(r){return _[r]||(_[r]=y(r))}},fb15:function(e,n,o){if(o.r(n),o.d(n,"VueNotificationList",function(){return x}),o.d(n,"VueNotificationListItem",function(){return B}),o.d(n,"useNotificationStore",function(){return l}),typeof window!="undefined"){var p=window.document.currentScript;{var y=o("8875");p=y(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:y})}var _=p&&p.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);_&&(o.p=_[1])}var r=o("8bbf"),s=Object(r.withScopeId)("data-v-e1ef80b2"),a=s(function(F,D,k,P,j,V){var J=Object(r.resolveComponent)("vue-notification-list-item");return Object(r.openBlock)(),Object(r.createBlock)(r.TransitionGroup,{class:[F.classList,"notification-list fixed z-40"],name:"notification-list",tag:"ul",appear:""},{default:s(function(){return[(Object(r.openBlock)(!0),Object(r.createBlock)(r.Fragment,null,Object(r.renderList)(F.notificationList,function(z){return Object(r.openBlock)(),Object(r.createBlock)(J,{key:z.id,notification:z,layout:F.notificationListItemLayout},null,8,["notification","layout"])}),128))]}),_:1},8,["class"])});function f(F,D,k){return D in F?Object.defineProperty(F,D,{value:k,enumerable:!0,configurable:!0,writable:!0}):F[D]=k,F}o("b64b"),o("a4d3"),o("4de4"),o("e439"),o("159b"),o("dbb4");function v(F,D){var k=Object.keys(F);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(F);D&&(P=P.filter(function(j){return Object.getOwnPropertyDescriptor(F,j).enumerable})),k.push.apply(k,P)}return k}function g(F){for(var D=1;D<arguments.length;D++){var k=arguments[D]!=null?arguments[D]:{};D%2?v(Object(k),!0).forEach(function(P){f(F,P,k[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(k)):v(Object(k)).forEach(function(P){Object.defineProperty(F,P,Object.getOwnPropertyDescriptor(k,P))})}return F}o("caad"),o("2532"),o("13d5"),o("07ac");var w;(function(F){F.TopLeft="top-left",F.TopRight="top-right",F.BottomRight="bottom-right",F.BottomLeft="bottom-left"})(w||(w={}));var E;(function(F){F.Left="left",F.Right="right",F.Top="top",F.Bottom="bottom"})(E||(E={}));var d;(function(F){F.Success="success",F.Alert="alert",F.Warning="warning",F.Info="info"})(d||(d={}));var h;(function(F){F.Light="light",F.Dark="dark",F.Glass="glass"})(h||(h={}));var C=3e3,m={success:`
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.755 511.755" xml:space="preserve" fill="currentColor">
        <path d="M436.891,74.867c-99.819-99.819-262.208-99.819-362.027,0c-99.819,99.797-99.819,262.229,0,362.027 c49.899,49.92,115.456,74.859,181.013,74.859s131.093-24.939,181.013-74.859C536.709,337.096,536.709,174.664,436.891,74.867z M398.96,185.629L249.627,334.963c-4.16,4.16-9.621,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251l-85.333-85.333 c-8.341-8.341-8.341-21.824,0-30.165c8.341-8.341,21.824-8.341,30.165,0l70.251,70.251l134.251-134.251 c8.341-8.341,21.824-8.341,30.165,0C407.301,163.805,407.301,177.288,398.96,185.629z"/>
    </svg>
  `,alert:`
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.76 511.76" xml:space="preserve" fill="currentColor">
        <path d="M436.896,74.869c-99.84-99.819-262.208-99.819-362.048,0c-99.797,99.819-99.797,262.229,0,362.048 c49.92,49.899,115.477,74.837,181.035,74.837s131.093-24.939,181.013-74.837C536.715,337.099,536.715,174.688,436.896,74.869z M361.461,331.317c8.341,8.341,8.341,21.824,0,30.165c-4.16,4.16-9.621,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251 l-75.413-75.435l-75.392,75.413c-4.181,4.16-9.643,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251 c-8.341-8.341-8.341-21.845,0-30.165l75.392-75.413l-75.413-75.413c-8.341-8.341-8.341-21.845,0-30.165 c8.32-8.341,21.824-8.341,30.165,0l75.413,75.413l75.413-75.413c8.341-8.341,21.824-8.341,30.165,0 c8.341,8.32,8.341,21.824,0,30.165l-75.413,75.413L361.461,331.317z"/>
    </svg>
  `,warning:`
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.755 511.755" xml:space="preserve" fill="currentColor">
        <path d="M436.891,74.867c-99.819-99.819-262.208-99.819-362.027,0c-99.819,99.797-99.819,262.229,0,362.027 c49.899,49.92,115.456,74.859,181.013,74.859s131.115-24.939,181.013-74.859C536.709,337.096,536.709,174.664,436.891,74.867z M255.877,426.547c-11.776,0-21.333-9.557-21.333-21.333s9.557-21.333,21.333-21.333c11.776,0,21.333,9.557,21.333,21.333 S267.653,426.547,255.877,426.547z M277.211,319.88c0,11.776-9.536,21.333-21.333,21.333c-11.797,0-21.333-9.557-21.333-21.333 V106.547c0-11.776,9.536-21.333,21.333-21.333c11.797,0,21.333,9.557,21.333,21.333V319.88z"/>
    </svg>
  `,info:`
    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 460 460" xml:space="preserve" fill="currentColor">
        <path d="M230,0C102.975,0,0,102.975,0,230s102.975,230,230,230s230-102.974,230-230S357.025,0,230,0z M268.333,377.36 c0,8.676-7.034,15.71-15.71,15.71h-43.101c-8.676,0-15.71-7.034-15.71-15.71V202.477c0-8.676,7.033-15.71,15.71-15.71h43.101 c8.676,0,15.71,7.033,15.71,15.71V377.36z M230,157c-21.539,0-39-17.461-39-39s17.461-39,39-39s39,17.461,39,39 S251.539,157,230,157z"/>
    </svg>
  `},u=function(){return{id:"".concat(Date.now()),message:"",type:d.Info,showIcon:!0,dismiss:{automatically:!0,manually:!0},duration:C,showDurationProgress:!0,appearance:h.Light}},c=Object(r.reactive)({notifications:{}}),l=function(){var D=Object(r.computed)(function(){return c.notifications}),k=function(J){return Object(r.computed)(function(){return c.notifications[J]})},P=function(J){var z=JSON.parse(JSON.stringify(g(g({},u()),J)));c.notifications[z.id]=z},j=function(J){delete c.notifications[J]};return{notifications:D,notification:k,setNotification:P,unsetNotification:j}},b=Object(r.withScopeId)("data-v-0730d53e");Object(r.pushScopeId)("data-v-0730d53e");var S={class:"notification-list-item__message"},A={class:"notification-list-item__icon"};Object(r.popScopeId)();var L=b(function(F,D,k,P,j,V){return Object(r.openBlock)(),Object(r.createBlock)("li",{class:[F.classList,"notification-list-item"],onClick:D[1]||(D[1]=function(){return F.dismissManually&&F.dismissManually.apply(F,arguments)})},[Object(r.createVNode)("div",{ref:"tagRef",style:F.animationDurationStyle,class:"notification-list-item__tag"},null,4),Object(r.createVNode)("div",S,[Object(r.createVNode)("span",{innerHTML:F.notification.message},null,8,["innerHTML"])]),Object(r.createVNode)("div",A,[F.notification.showIcon?(Object(r.openBlock)(),Object(r.createBlock)("span",{key:0,innerHTML:F.icons[F.notification.type]},null,8,["innerHTML"])):Object(r.createCommentVNode)("",!0)])],2)}),T=Object(r.defineComponent)({name:"NotificationListItem",props:{notification:{type:Object,required:!0},layout:{type:String,default:E.Left}},setup:function(D){var k=Object(r.ref)(),P=l(),j=P.unsetNotification,V=Object(r.computed)(function(){return Object.values(d).includes(D.notification.type)?D.notification.type:d.Info}),J=Object(r.computed)(function(){return Object.values(E).includes(D.layout)?D.layout:E.Left}),z=Object(r.computed)(function(){return Object.values(h).includes(D.notification.appearance)?D.notification.appearance:h.Light}),Q=Object(r.computed)(function(){var H;return H={"notification-list-item--dismissible-manual":D.notification.dismiss.manually,"notification-list-item--dismissible-automatic":D.notification.dismiss.automatically&&D.notification.showDurationProgress},f(H,"notification-list-item--".concat(V.value),!0),f(H,"notification-list-item--".concat(J.value),!0),f(H,"notification-list-item--".concat(z.value),!0),H}),ee=Object(r.ref)({animationDuration:"".concat(D.notification.duration-500-100,"ms")}),re=function(){!D.notification.dismiss.manually||j(D.notification.id)},M=function(){!D.notification.dismiss.automatically||setTimeout(function(){j(D.notification.id)},D.notification.duration)};return Object(r.onMounted)(function(){M()}),{tagRef:k,classList:Q,animationDurationStyle:ee,icons:m,dismissManually:re}}});o("1dba"),o("44e1"),T.render=L,T.__scopeId="data-v-0730d53e";var B=T,O=Object(r.defineComponent)({name:"VueNotificationList",components:{VueNotificationListItem:B},props:{position:{type:String,default:w.BottomRight}},setup:function(D){var k=l(),P=k.notifications,j=Object(r.computed)(function(){return V.value.includes(E.Bottom)?P.value:Object.keys(P.value).reverse().reduce(function(Q,ee){return g(g({},Q),{},f({},ee,P.value[ee]))},{})}),V=Object(r.computed)(function(){return Object.values(w).includes(D.position)?D.position:w.BottomRight}),J=Object(r.computed)(function(){return"notification-list--".concat(V.value)}),z=Object(r.computed)(function(){return V.value.includes(E.Left)?E.Left:E.Right});return{notificationList:j,classList:J,notificationListItemLayout:z}}});o("d6d0"),O.render=a,O.__scopeId="data-v-e1ef80b2";var x=O,I=function(D){D.component("vue-notification-list",x),D.component("vue-notification-list-item",B)},R=I;typeof window!="undefined"&&window.Vue&&window.Vue.use(I),n.default=R},fc6a:function(e,n,o){var p=o("44ad"),y=o("1d80");e.exports=function(_){return p(y(_))}},fdbc:function(e,n){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,n,o){var p=o("4930");e.exports=p&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}})})(vueNotification_common);var vueNotification="",getSocketConnection=(t,e,n)=>{let o="/desktop-socket-endpoint",p=Stomp$1.over(new SockJS(o));p.connect({},()=>{p.subscribe(t,y=>{e(y)})},n),p.debug=null};const{setNotification}=vueNotification_common.exports.useNotificationStore(),notification=t=>{setNotification(t)},createFileSelectCallback=t=>e=>{t.source.postMessage(JSON.stringify(e),"*")};window.addEventListener("message",t=>{if(t.data.action=="notification"){notification(t.data.param);return}t.data.action=="selectFile"&&coolWindow.startNewFileSelect(t.data.param.type||"file",createFileSelectCallback(t))});var index_vue_vue_type_style_index_0_lang="";const _hoisted_1={class:"app-list"},_hoisted_2=["onDblclick"],_hoisted_3={class:"app-item"},_hoisted_4={class:"app-icon"},_hoisted_5=["src"],_hoisted_6={class:"app-name"},_hoisted_7=["onDblclick"],_hoisted_8={class:"app-item"},_hoisted_9={class:"app-icon"},_hoisted_10=["src"],_hoisted_11={class:"app-name"},_hoisted_12={class:"task-bar"},_hoisted_13=createBaseVNode("div",{class:"task-bar-mask"},null,-1),_hoisted_14={class:"task-bar-content"},_hoisted_15=createBaseVNode("div",{class:"task-item"},[createBaseVNode("img",{src:_imports_0$3})],-1),_hoisted_16=[_hoisted_15],_hoisted_17=["onClick"],_hoisted_18={class:"task-item"},_hoisted_19=["src"],_sfc_main={setup(t){let e=ref(`url('${new URL("/assets/desktop.117a6063.jpg",self.location).href}')`);onMounted(()=>{setTimeout(()=>{state.desktopScale=!1},10),initInstallProgressManager()});let n=ref("/"),{proxy:o}=getCurrentInstance();const p=_=>{coolWindow.startNewWebView(_)};getSocketConnection("/topic/events",_=>{let r=JSON.parse(_.body);o.eventBus.emit(r.subject,r)},_=>{}),o.eventBus.on("/event/refresh/application",_=>{refreshApplication()}),o.eventBus.on("/event/refresh/wallpaper",_=>{y()}),o.eventBus.on("/event/open/directory",_=>{coolWindow.startNewFolder(_.data)}),o.eventBus.on("/event/notify/message/error",_=>{coolWindow.startNewErrorMessageDialog(_.data)}),o.eventBus.on("/event/notify/message/success",_=>{coolWindow.startNewSuccessMessageDialog(_.data)}),o.eventBus.on("/event/file",_=>{_.hasOwnProperty("result")&&_.result.code!=0&&coolWindow.startNewErrorMessageDialog(_.result.msg)});const y=()=>{apiGetSystemProperty().then(_=>{let r=_.data.data.wallpaper;r!=null&&r!=""&&(r=r.substr(1),e.value=`url('${n.value}${r}')`)})};return y(),refreshApplication(),(_,r)=>(openBlock(),createElementBlock("div",{class:normalizeClass([{"desktop-none":unref(state).desktopScale},"desktop"]),style:normalizeStyle({"background-image":unref(e)})},[createBaseVNode("div",{class:normalizeClass(["app-starter",{"app-starter-visible":unref(state).appStarterVisible}])},[createBaseVNode("div",_hoisted_1,[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(defaultAppList),s=>(openBlock(),createElementBlock("li",{key:s.name,onDblclick:s.action},[createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[createBaseVNode("img",{src:s.icon,alt:""},null,8,_hoisted_5)]),createBaseVNode("div",_hoisted_6,toDisplayString(s.name),1)])],40,_hoisted_2))),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(applicationState).applications,s=>(openBlock(),createElementBlock(Fragment,{key:s.applicationId},[s.visibilityIsDesktop?(openBlock(),createElementBlock("li",{key:0,onDblclick:a=>p(s)},[createBaseVNode("div",_hoisted_8,[createBaseVNode("div",_hoisted_9,[createBaseVNode("img",{src:unref(n)+"desktop/webapplication/"+s.applicationId+"/logo.png",alt:""},null,8,_hoisted_10)]),createBaseVNode("div",_hoisted_11,toDisplayString(s.applicationName),1)])],40,_hoisted_7)):createCommentVNode("",!0)],64))),128))])])],2),createBaseVNode("div",{class:normalizeClass(["work-region",{"work-region-low-z-index":unref(state).appStarterVisible}])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(state).windowsCollection,s=>(openBlock(),createElementBlock(Fragment,{key:s},[s.windowType=="dialog-create-file"?(openBlock(),createBlock(_sfc_main$e,{key:0,actionWindowId:unref(state).actionWindowId,item:s},null,8,["actionWindowId","item"])):createCommentVNode("",!0),s.windowType=="upload-manager"?(openBlock(),createBlock(_sfc_main$7,{key:1,actionWindowId:unref(state).actionWindowId,item:s},null,8,["actionWindowId","item"])):createCommentVNode("",!0),s.windowType=="folder"?(openBlock(),createBlock(_sfc_main$c,{key:2,actionWindowId:unref(state).actionWindowId,item:s},null,8,["actionWindowId","item"])):createCommentVNode("",!0),s.windowType=="web"?(openBlock(),createBlock(_sfc_main$b,{key:3,actionWindowId:unref(state).actionWindowId,item:s},null,8,["actionWindowId","item"])):createCommentVNode("",!0),s.windowType=="error-message"?(openBlock(),createBlock(_sfc_main$a,{key:4,actionWindowId:unref(state).actionWindowId,item:s},null,8,["actionWindowId","item"])):createCommentVNode("",!0),s.windowType=="success-message"?(openBlock(),createBlock(_sfc_main$9,{key:5,actionWindowId:unref(state).actionWindowId,item:s},null,8,["actionWindowId","item"])):createCommentVNode("",!0),s.windowType=="dialog-compress-select"?(openBlock(),createBlock(_sfc_main$f,{key:6,actionWindowId:unref(state).actionWindowId,item:s},null,8,["actionWindowId","item"])):createCommentVNode("",!0),s.windowType=="file-attribute"?(openBlock(),createBlock(_sfc_main$5,{key:7,actionWindowId:unref(state).actionWindowId,item:s},null,8,["actionWindowId","item"])):createCommentVNode("",!0),s.windowType=="terminal"?(openBlock(),createBlock(_sfc_main$6,{key:8,actionWindowId:unref(state).actionWindowId,item:s},null,8,["actionWindowId","item"])):createCommentVNode("",!0),s.windowType=="loading-view"?(openBlock(),createBlock(_sfc_main$d,{key:9,actionWindowId:unref(state).actionWindowId,item:s},null,8,["actionWindowId","item"])):createCommentVNode("",!0),s.windowType=="software"?(openBlock(),createBlock(_sfc_main$4,{key:10,actionWindowId:unref(state).actionWindowId,item:s},null,8,["actionWindowId","item"])):createCommentVNode("",!0),s.windowType=="setting"?(openBlock(),createBlock(_sfc_main$8,{key:11,actionWindowId:unref(state).actionWindowId,item:s},null,8,["actionWindowId","item"])):createCommentVNode("",!0),s.windowType=="custom-application"?(openBlock(),createBlock(_sfc_main$3,{key:12,actionWindowId:unref(state).actionWindowId,item:s},null,8,["actionWindowId","item"])):createCommentVNode("",!0),s.windowType=="developer-doc"?(openBlock(),createBlock(_sfc_main$2,{key:13,actionWindowId:unref(state).actionWindowId,item:s},null,8,["actionWindowId","item"])):createCommentVNode("",!0),s.windowType=="input-dialog"?(openBlock(),createBlock(_sfc_main$1,{key:14,actionWindowId:unref(state).actionWindowId,item:s},null,8,["actionWindowId","item"])):createCommentVNode("",!0)],64))),128))],2),createBaseVNode("div",_hoisted_12,[_hoisted_13,createBaseVNode("div",_hoisted_14,[createBaseVNode("ul",null,[createBaseVNode("li",{onClick:r[0]||(r[0]=s=>unref(coolWindow).openStarter())},_hoisted_16),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(state).windowsCollection,s=>(openBlock(),createElementBlock(Fragment,{key:s},[s.showWindowInTaskBar?(openBlock(),createElementBlock("li",{key:0,onClick:a=>unref(wact).showWindow(s.id)},[createBaseVNode("div",_hoisted_18,[createBaseVNode("img",{class:normalizeClass({select:s.id==unref(state).actionWindowId}),src:s.icon,alt:""},null,10,_hoisted_19),createBaseVNode("span",{class:normalizeClass({select:s.id==unref(state).actionWindowId})},null,2)])],8,_hoisted_17)):createCommentVNode("",!0)],64))),128))])])]),createVNode(unref(vueNotification_common.exports.VueNotificationList),{position:"top-right"})],6))}};export{_sfc_main as default};
